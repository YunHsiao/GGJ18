{"version":3,"file":"engine.js","sources":["../lib/gfx/enums.js","../lib/gfx/vertex-format.js","../lib/gfx/index-buffer.js","../lib/gfx/vertex-buffer.js","../lib/gfx/program.js","../lib/gfx/texture.js","../lib/gfx/misc.js","../lib/gfx/texture-2d.js","../lib/gfx/texture-cube.js","../lib/gfx/render-buffer.js","../lib/gfx/frame-buffer.js","../lib/gfx/state.js","../lib/gfx/device.js","../lib/gfx/index.js","../lib/renderer/enums.js","../lib/renderer/core/input-assembler.js","../lib/renderer/core/pass.js","../lib/renderer/config.js","../lib/renderer/core/technique.js","../lib/renderer/core/effect.js","../lib/renderer/utils.js","../lib/vmath/utils.js","../lib/vmath/bits.js","../lib/vmath/vec2.js","../lib/vmath/vec3.js","../lib/vmath/vec4.js","../lib/vmath/mat3.js","../lib/vmath/quat.js","../lib/vmath/mat2.js","../lib/vmath/mat23.js","../lib/vmath/mat4.js","../lib/vmath/color3.js","../lib/vmath/color4.js","../lib/vmath/index.js","../lib/geom-utils/distance.js","../lib/geom-utils/intersect.js","../lib/geom-utils/line.js","../lib/geom-utils/plane.js","../lib/geom-utils/ray.js","../lib/geom-utils/triangle.js","../lib/geom-utils/sphere.js","../lib/geom-utils/box.js","../lib/geom-utils/curve.js","../lib/renderer/core/view.js","../lib/renderer/scene/light.js","../lib/renderer/scene/camera.js","../lib/renderer/scene/model.js","../lib/memop/circular-pool.js","../lib/memop/timsort.js","../lib/memop/fixed-array.js","../lib/memop/pool.js","../lib/memop/linked-array.js","../lib/memop/recycle-pool.js","../lib/memop/typed-array-pool.js","../lib/scene-graph/uuid.js","../lib/scene-graph/layers.js","../lib/scene-graph/node.js","../lib/scene-graph/utils.js","../lib/renderer/scene/scene.js","../lib/renderer/models/line-batch-model.js","../lib/renderer/models/sprite-batch-model.js","../lib/renderer/models/particle-batch-model.js","../lib/renderer/models/skinning-model.js","../lib/renderer/shaders/chunks/index.js","../lib/renderer/shaders/templates/index.js","../lib/renderer/core/program-lib.js","../lib/renderer/core/base-renderer.js","../lib/renderer/core/array-buffer-helper.js","../lib/renderer/core/buffer-pool.js","../lib/renderer/core/dynamic-ia-pool.js","../lib/renderer/renderers/forward-renderer.js","../lib/renderer/index.js","../lib/input/index.js","../lib/event-sys/event.js","../lib/event-sys/event-emitter.js","../lib/ecs/event.js","../lib/ecs/component.js","../lib/ecs/entity.js","../lib/ecs/level.js","../lib/ecs/system.js","../lib/ecs/schema.js","../lib/ecs/app.js","../lib/misc/registry.js","../lib/misc/resl.js","../lib/assets/asset.js","../lib/assets/mesh.js","../lib/assets/texture.js","../lib/misc/mappings.js","../lib/assets/texture-2d.js","../lib/misc/async.js","../lib/loaders/utils/ecs-utils.js","../lib/loaders/utils/level-parser.js","../lib/misc/utils.js","../lib/assets/asset-mng.js","../lib/debugger/orbit-camera.js","../lib/primitives/utils.js","../lib/primitives/box.js","../lib/primitives/cylinder.js","../lib/primitives/cone.js","../lib/primitives/plane.js","../lib/primitives/quad.js","../lib/primitives/sphere.js","../lib/primitives/torus.js","../lib/primitives/capsule.js","../lib/debugger/draw-mng.js","../lib/debugger/utils.js","../lib/debugger/index.js","../lib/assets/material.js","../lib/assets/texture-cube.js","../lib/assets/effect.js","../lib/assets/sprite.js","../lib/builtin/effects/index.js","../lib/builtin/init.js","../lib/builtin/types.js","../lib/assets/animation-clip.js","../lib/framework/skeleton.js","../lib/assets/joints.js","../lib/loaders/utils/gltf-utils.js","../lib/loaders/mesh-loader.js","../lib/loaders/material-loader.js","../lib/assets/texture-sprite.js","../lib/loaders/texture-loader.js","../lib/assets/prefab.js","../lib/loaders/prefab-loader.js","../lib/assets/gltf.js","../lib/loaders/gltf-loader.js","../lib/loaders/animation-loader.js","../lib/assets/audio-clip.js","../lib/loaders/audio-loader.js","../lib/assets/font.js","../lib/assets/bmfont.js","../lib/loaders/bmfont-loader.js","../node_modules/tiny-inflate/index.js","../node_modules/opentype.js/src/bbox.js","../node_modules/opentype.js/src/path.js","../node_modules/opentype.js/src/check.js","../node_modules/opentype.js/src/types.js","../node_modules/opentype.js/src/table.js","../node_modules/opentype.js/src/parse.js","../node_modules/opentype.js/src/tables/cmap.js","../node_modules/opentype.js/src/encoding.js","../node_modules/opentype.js/src/draw.js","../node_modules/opentype.js/src/tables/glyf.js","../node_modules/opentype.js/src/glyph.js","../node_modules/opentype.js/src/glyphset.js","../node_modules/opentype.js/src/tables/cff.js","../node_modules/opentype.js/src/tables/head.js","../node_modules/opentype.js/src/tables/hhea.js","../node_modules/opentype.js/src/tables/hmtx.js","../node_modules/opentype.js/src/tables/ltag.js","../node_modules/opentype.js/src/tables/maxp.js","../node_modules/opentype.js/src/tables/name.js","../node_modules/opentype.js/src/tables/os2.js","../node_modules/opentype.js/src/tables/post.js","../node_modules/opentype.js/src/tables/gsub.js","../node_modules/opentype.js/src/tables/meta.js","../node_modules/opentype.js/src/tables/sfnt.js","../node_modules/opentype.js/src/layout.js","../node_modules/opentype.js/src/substitution.js","../node_modules/opentype.js/src/util.js","../node_modules/opentype.js/src/hintingtt.js","../node_modules/opentype.js/src/font.js","../node_modules/opentype.js/src/tables/fvar.js","../node_modules/opentype.js/src/tables/gpos.js","../node_modules/opentype.js/src/tables/kern.js","../node_modules/opentype.js/src/tables/loca.js","../node_modules/opentype.js/src/opentype.js","../lib/assets/utils/shelf-pack.js","../lib/assets/otfont.js","../lib/loaders/otfont-loader.js","../lib/loaders/effect-loader.js","../lib/loaders/program-loader.js","../lib/framework/script-component.js","../lib/framework/camera-component.js","../lib/framework/light-component.js","../lib/framework/model-component.js","../lib/framework/skinning-model-component.js","../lib/framework/animation-component.js","../lib/framework/audio-source-component.js","../lib/framework/physics/built-in-world.js","../node_modules/cannon/build/cannon.js","../lib/framework/physics/cannon-world.js","../lib/framework/physics/physics-system.js","../lib/framework/physics/built-in-collider.js","../lib/framework/physics/cannon-collider.js","../lib/framework/physics/collider-component.js","../lib/framework/skybox-component.js","../lib/framework/particle/particle.js","../lib/framework/particle/animator/gradient.js","../lib/framework/particle/animator/curve-range.js","../lib/framework/particle/animator/gradient-range.js","../lib/framework/particle/renderer/particle-system-renderer.js","../lib/framework/particle/animator/size-overtime.js","../lib/framework/particle/animator/color-overtime.js","../lib/framework/particle/particle-general-function.js","../lib/framework/particle/animator/velocity-overtime.js","../lib/framework/particle/animator/force-overtime.js","../lib/framework/particle/animator/limit-velocity-overtime.js","../lib/framework/particle/animator/rotation-overtime.js","../lib/framework/particle/animator/texture-animation.js","../lib/framework/particle/emitter/shape-module.js","../lib/framework/particle/burst.js","../lib/framework/particle/particle-system-component.js","../lib/framework/ui/widget-component.js","../lib/framework/ui/screen-component.js","../lib/framework/ui/ui-element-component.js","../lib/framework/ui/screen-scaler-component.js","../lib/framework/ui/image-component.js","../lib/framework/ui/text-component.js","../lib/framework/ui/mask-component.js","../lib/framework/ui/ui-element-system.js","../lib/framework/ui/button-component.js","../lib/framework/ui/toggle-component.js","../lib/framework/ui/toggle-group-component.js","../lib/framework/ui/slider-component.js","../lib/framework/ui/edit-box-component.js","../lib/framework/ui/scroll-bar-component.js","../lib/framework/ui/bound-component.js","../lib/framework/ui/scroll-view-component.js","../lib/framework/ui/grid-layout-component.js","../lib/framework/script-system.js","../lib/framework/skinning-model-system.js","../lib/framework/animation-system.js","../lib/framework/audio-system.js","../lib/events/mouse-event.js","../lib/events/keyboard-event.js","../lib/events/touch-event.js","../lib/events/focus-event.js","../lib/framework/ui/screen-render-helper.js","../lib/framework/ui/widget-system.js","../lib/framework/particle/particle-system-manager.js","../lib/misc/path.js","../lib/app.js","../index.js"],"sourcesContent":["const GL_NEAREST = 9728;                // gl.NEAREST\r\nconst GL_LINEAR = 9729;                 // gl.LINEAR\r\nconst GL_NEAREST_MIPMAP_NEAREST = 9984; // gl.NEAREST_MIPMAP_NEAREST\r\nconst GL_LINEAR_MIPMAP_NEAREST = 9985;  // gl.LINEAR_MIPMAP_NEAREST\r\nconst GL_NEAREST_MIPMAP_LINEAR = 9986;  // gl.NEAREST_MIPMAP_LINEAR\r\nconst GL_LINEAR_MIPMAP_LINEAR = 9987;   // gl.LINEAR_MIPMAP_LINEAR\r\n\r\n// const GL_BYTE = 5120;                  // gl.BYTE\r\nconst GL_UNSIGNED_BYTE = 5121;            // gl.UNSIGNED_BYTE\r\n// const GL_SHORT = 5122;                 // gl.SHORT\r\nconst GL_UNSIGNED_SHORT = 5123;           // gl.UNSIGNED_SHORT\r\nconst GL_UNSIGNED_INT = 5125;             // gl.UNSIGNED_INT\r\nconst GL_FLOAT = 5126;                    // gl.FLOAT\r\nconst GL_UNSIGNED_SHORT_5_6_5 = 33635;    // gl.UNSIGNED_SHORT_5_6_5\r\nconst GL_UNSIGNED_SHORT_4_4_4_4 = 32819;  // gl.UNSIGNED_SHORT_4_4_4_4\r\nconst GL_UNSIGNED_SHORT_5_5_5_1 = 32820;  // gl.UNSIGNED_SHORT_5_5_5_1\r\nconst GL_HALF_FLOAT_OES = 36193;          // gl.HALF_FLOAT_OES\r\n\r\nconst GL_DEPTH_COMPONENT = 6402; // gl.DEPTH_COMPONENT\r\n\r\nconst GL_ALPHA = 6406;            // gl.ALPHA\r\nconst GL_RGB = 6407;              // gl.RGB\r\nconst GL_RGBA = 6408;             // gl.RGBA\r\nconst GL_LUMINANCE = 6409;        // gl.LUMINANCE\r\nconst GL_LUMINANCE_ALPHA = 6410;  // gl.LUMINANCE_ALPHA\r\n\r\nconst GL_COMPRESSED_RGB_S3TC_DXT1_EXT = 0x83F0;   // ext.COMPRESSED_RGB_S3TC_DXT1_EXT\r\nconst GL_COMPRESSED_RGBA_S3TC_DXT1_EXT = 0x83F1;  // ext.COMPRESSED_RGBA_S3TC_DXT1_EXT\r\nconst GL_COMPRESSED_RGBA_S3TC_DXT3_EXT = 0x83F2;  // ext.COMPRESSED_RGBA_S3TC_DXT3_EXT\r\nconst GL_COMPRESSED_RGBA_S3TC_DXT5_EXT = 0x83F3;  // ext.COMPRESSED_RGBA_S3TC_DXT5_EXT\r\n\r\nconst GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 0x8C00;  // ext.COMPRESSED_RGB_PVRTC_4BPPV1_IMG\r\nconst GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 0x8C01;  // ext.COMPRESSED_RGB_PVRTC_2BPPV1_IMG\r\nconst GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 0x8C02; // ext.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\r\nconst GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 0x8C03; // ext.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\r\n\r\nconst GL_COMPRESSED_RGB_ETC1_WEBGL = 0x8D64; // ext.COMPRESSED_RGB_ETC1_WEBGL\r\n\r\nconst _filterGL = [\r\n  [ GL_NEAREST,  GL_NEAREST_MIPMAP_NEAREST, GL_NEAREST_MIPMAP_LINEAR ],\r\n  [ GL_LINEAR,  GL_LINEAR_MIPMAP_NEAREST, GL_LINEAR_MIPMAP_LINEAR ],\r\n];\r\n\r\nconst _textureFmtGL = [\r\n  // TEXTURE_FMT_RGB_DXT1: 0\r\n  { format: GL_RGB, internalFormat: GL_COMPRESSED_RGB_S3TC_DXT1_EXT, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGBA_DXT1: 1\r\n  { format: GL_RGBA, internalFormat: GL_COMPRESSED_RGBA_S3TC_DXT1_EXT, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGBA_DXT3: 2\r\n  { format: GL_RGBA, internalFormat: GL_COMPRESSED_RGBA_S3TC_DXT3_EXT, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGBA_DXT5: 3\r\n  { format: GL_RGBA, internalFormat: GL_COMPRESSED_RGBA_S3TC_DXT5_EXT, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGB_ETC1: 4\r\n  { format: GL_RGB, internalFormat: GL_COMPRESSED_RGB_ETC1_WEBGL, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGB_PVRTC_2BPPV1: 5\r\n  { format: GL_RGB, internalFormat: GL_COMPRESSED_RGB_PVRTC_2BPPV1_IMG, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGBA_PVRTC_2BPPV1: 6\r\n  { format: GL_RGBA, internalFormat: GL_COMPRESSED_RGBA_PVRTC_2BPPV1_IMG, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGB_PVRTC_4BPPV1: 7\r\n  { format: GL_RGB, internalFormat: GL_COMPRESSED_RGB_PVRTC_4BPPV1_IMG, pixelType: null },\r\n\r\n  // TEXTURE_FMT_RGBA_PVRTC_4BPPV1: 8\r\n  { format: GL_RGBA, internalFormat: GL_COMPRESSED_RGBA_PVRTC_4BPPV1_IMG, pixelType: null },\r\n\r\n  // TEXTURE_FMT_A8: 9\r\n  { format: GL_ALPHA, internalFormat: GL_ALPHA, pixelType: GL_UNSIGNED_BYTE },\r\n\r\n  // TEXTURE_FMT_L8: 10\r\n  { format: GL_LUMINANCE, internalFormat: GL_LUMINANCE, pixelType: GL_UNSIGNED_BYTE },\r\n\r\n  // TEXTURE_FMT_L8_A8: 11\r\n  { format: GL_LUMINANCE_ALPHA, internalFormat: GL_LUMINANCE_ALPHA, pixelType: GL_UNSIGNED_BYTE },\r\n\r\n  // TEXTURE_FMT_R5_G6_B5: 12\r\n  { format: GL_RGB, internalFormat: GL_RGB, pixelType: GL_UNSIGNED_SHORT_5_6_5 },\r\n\r\n  // TEXTURE_FMT_R5_G5_B5_A1: 13\r\n  { format: GL_RGBA, internalFormat: GL_RGBA, pixelType: GL_UNSIGNED_SHORT_5_5_5_1 },\r\n\r\n  // TEXTURE_FMT_R4_G4_B4_A4: 14\r\n  { format: GL_RGBA, internalFormat: GL_RGBA, pixelType: GL_UNSIGNED_SHORT_4_4_4_4 },\r\n\r\n  // TEXTURE_FMT_RGB8: 15\r\n  { format: GL_RGB, internalFormat: GL_RGB, pixelType: GL_UNSIGNED_BYTE },\r\n\r\n  // TEXTURE_FMT_RGBA8: 16\r\n  { format: GL_RGBA, internalFormat: GL_RGBA, pixelType: GL_UNSIGNED_BYTE },\r\n\r\n  // TEXTURE_FMT_RGB16F: 17\r\n  { format: GL_RGB, internalFormat: GL_RGB, pixelType: GL_HALF_FLOAT_OES },\r\n\r\n  // TEXTURE_FMT_RGBA16F: 18\r\n  { format: GL_RGBA, internalFormat: GL_RGBA, pixelType: GL_HALF_FLOAT_OES },\r\n\r\n  // TEXTURE_FMT_RGB32F: 19\r\n  { format: GL_RGB, internalFormat: GL_RGB, pixelType: GL_FLOAT },\r\n\r\n  // TEXTURE_FMT_RGBA32F: 20\r\n  { format: GL_RGBA, internalFormat: GL_RGBA, pixelType: GL_FLOAT },\r\n\r\n  // TEXTURE_FMT_R32F: 21\r\n  { format: null, internalFormat: null, pixelType: null },\r\n\r\n  // TEXTURE_FMT_111110F: 22\r\n  { format: null, internalFormat: null, pixelType: null },\r\n\r\n  // TEXTURE_FMT_SRGB: 23\r\n  { format: null, internalFormat: null, pixelType: null },\r\n\r\n  // TEXTURE_FMT_SRGBA: 24\r\n  { format: null, internalFormat: null, pixelType: null },\r\n\r\n  // TEXTURE_FMT_D16: 25\r\n  { format: GL_DEPTH_COMPONENT, internalFormat: GL_DEPTH_COMPONENT, pixelType: GL_UNSIGNED_SHORT },\r\n\r\n  // TEXTURE_FMT_D32: 26\r\n  { format: GL_DEPTH_COMPONENT, internalFormat: GL_DEPTH_COMPONENT, pixelType: GL_UNSIGNED_INT },\r\n\r\n  // TEXTURE_FMT_D24S8: 27\r\n  { format: null, internalFormat: null, pixelType: null },\r\n];\r\n\r\n/**\r\n * enums\r\n */\r\nexport const enums = {\r\n  // buffer usage\r\n  USAGE_STATIC: 35044,  // gl.STATIC_DRAW\r\n  USAGE_DYNAMIC: 35048, // gl.DYNAMIC_DRAW\r\n  USAGE_STREAM: 35040,  // gl.STREAM_DRAW\r\n\r\n  // index buffer format\r\n  INDEX_FMT_UINT8: 5121,  // gl.UNSIGNED_BYTE\r\n  INDEX_FMT_UINT16: 5123, // gl.UNSIGNED_SHORT\r\n  INDEX_FMT_UINT32: 5125, // gl.UNSIGNED_INT (OES_element_index_uint)\r\n\r\n  // vertex attribute semantic\r\n  ATTR_POSITION: 'a_position',\r\n  ATTR_NORMAL: 'a_normal',\r\n  ATTR_TANGENT: 'a_tangent',\r\n  ATTR_BITANGENT: 'a_bitangent',\r\n  ATTR_WEIGHTS: 'a_weights',\r\n  ATTR_JOINTS: 'a_joints',\r\n  ATTR_COLOR: 'a_color',\r\n  ATTR_COLOR0: 'a_color0',\r\n  ATTR_COLOR1: 'a_color1',\r\n  ATTR_UV: 'a_uv',\r\n  ATTR_UV0: 'a_uv0',\r\n  ATTR_UV1: 'a_uv1',\r\n  ATTR_UV2: 'a_uv2',\r\n  ATTR_UV3: 'a_uv3',\r\n  ATTR_UV4: 'a_uv4',\r\n  ATTR_UV5: 'a_uv5',\r\n  ATTR_UV6: 'a_uv6',\r\n  ATTR_UV7: 'a_uv7',\r\n\r\n  // vertex attribute type\r\n  ATTR_TYPE_INT8: 5120,    // gl.BYTE\r\n  ATTR_TYPE_UINT8: 5121,   // gl.UNSIGNED_BYTE\r\n  ATTR_TYPE_INT16: 5122,   // gl.SHORT\r\n  ATTR_TYPE_UINT16: 5123,  // gl.UNSIGNED_SHORT\r\n  ATTR_TYPE_INT32: 5124,   // gl.INT\r\n  ATTR_TYPE_UINT32: 5125,  // gl.UNSIGNED_INT\r\n  ATTR_TYPE_FLOAT32: 5126, // gl.FLOAT\r\n\r\n  // texture filter\r\n  FILTER_NEAREST: 0,\r\n  FILTER_LINEAR: 1,\r\n\r\n  // texture wrap mode\r\n  WRAP_REPEAT: 10497, // gl.REPEAT\r\n  WRAP_CLAMP: 33071,  // gl.CLAMP_TO_EDGE\r\n  WRAP_MIRROR: 33648, // gl.MIRRORED_REPEAT\r\n\r\n  // texture format\r\n  // compress formats\r\n  TEXTURE_FMT_RGB_DXT1: 0,\r\n  TEXTURE_FMT_RGBA_DXT1: 1,\r\n  TEXTURE_FMT_RGBA_DXT3: 2,\r\n  TEXTURE_FMT_RGBA_DXT5: 3,\r\n  TEXTURE_FMT_RGB_ETC1: 4,\r\n  TEXTURE_FMT_RGB_PVRTC_2BPPV1: 5,\r\n  TEXTURE_FMT_RGBA_PVRTC_2BPPV1: 6,\r\n  TEXTURE_FMT_RGB_PVRTC_4BPPV1: 7,\r\n  TEXTURE_FMT_RGBA_PVRTC_4BPPV1: 8,\r\n\r\n  // normal formats\r\n  TEXTURE_FMT_A8: 9,\r\n  TEXTURE_FMT_L8: 10,\r\n  TEXTURE_FMT_L8_A8: 11,\r\n  TEXTURE_FMT_R5_G6_B5: 12,\r\n  TEXTURE_FMT_R5_G5_B5_A1: 13,\r\n  TEXTURE_FMT_R4_G4_B4_A4: 14,\r\n  TEXTURE_FMT_RGB8: 15,\r\n  TEXTURE_FMT_RGBA8: 16,\r\n  TEXTURE_FMT_RGB16F: 17,\r\n  TEXTURE_FMT_RGBA16F: 18,\r\n  TEXTURE_FMT_RGB32F: 19,\r\n  TEXTURE_FMT_RGBA32F: 20,\r\n  TEXTURE_FMT_R32F: 21,\r\n  TEXTURE_FMT_111110F: 22,\r\n  TEXTURE_FMT_SRGB: 23,\r\n  TEXTURE_FMT_SRGBA: 24,\r\n\r\n  // depth formats\r\n  TEXTURE_FMT_D16: 25,\r\n  TEXTURE_FMT_D32: 26,\r\n  TEXTURE_FMT_D24S8: 27,\r\n\r\n  // depth and stencil function\r\n  DS_FUNC_NEVER: 512,    // gl.NEVER\r\n  DS_FUNC_LESS: 513,     // gl.LESS\r\n  DS_FUNC_EQUAL: 514,    // gl.EQUAL\r\n  DS_FUNC_LEQUAL: 515,   // gl.LEQUAL\r\n  DS_FUNC_GREATER: 516,  // gl.GREATER\r\n  DS_FUNC_NOTEQUAL: 517, // gl.NOTEQUAL\r\n  DS_FUNC_GEQUAL: 518,   // gl.GEQUAL\r\n  DS_FUNC_ALWAYS: 519,   // gl.ALWAYS\r\n\r\n  // render-buffer format\r\n  RB_FMT_RGBA4: 32854,    // gl.RGBA4\r\n  RB_FMT_RGB5_A1: 32855,  // gl.RGB5_A1\r\n  RB_FMT_RGB565: 36194,   // gl.RGB565\r\n  RB_FMT_D16: 33189,      // gl.DEPTH_COMPONENT16\r\n  RB_FMT_S8: 36168,       // gl.STENCIL_INDEX8\r\n  RB_FMT_D24S8: 34041,    // gl.DEPTH_STENCIL\r\n\r\n  // blend-equation\r\n  BLEND_FUNC_ADD: 32774,              // gl.FUNC_ADD\r\n  BLEND_FUNC_SUBTRACT: 32778,         // gl.FUNC_SUBTRACT\r\n  BLEND_FUNC_REVERSE_SUBTRACT: 32779, // gl.FUNC_REVERSE_SUBTRACT\r\n\r\n  // blend\r\n  BLEND_ZERO: 0,                          // gl.ZERO\r\n  BLEND_ONE: 1,                           // gl.ONE\r\n  BLEND_SRC_COLOR: 768,                   // gl.SRC_COLOR\r\n  BLEND_ONE_MINUS_SRC_COLOR: 769,         // gl.ONE_MINUS_SRC_COLOR\r\n  BLEND_DST_COLOR: 774,                   // gl.DST_COLOR\r\n  BLEND_ONE_MINUS_DST_COLOR: 775,         // gl.ONE_MINUS_DST_COLOR\r\n  BLEND_SRC_ALPHA: 770,                   // gl.SRC_ALPHA\r\n  BLEND_ONE_MINUS_SRC_ALPHA: 771,         // gl.ONE_MINUS_SRC_ALPHA\r\n  BLEND_DST_ALPHA: 772,                   // gl.DST_ALPHA\r\n  BLEND_ONE_MINUS_DST_ALPHA: 773,         // gl.ONE_MINUS_DST_ALPHA\r\n  BLEND_CONSTANT_COLOR: 32769,            // gl.CONSTANT_COLOR\r\n  BLEND_ONE_MINUS_CONSTANT_COLOR: 32770,  // gl.ONE_MINUS_CONSTANT_COLOR\r\n  BLEND_CONSTANT_ALPHA: 32771,            // gl.CONSTANT_ALPHA\r\n  BLEND_ONE_MINUS_CONSTANT_ALPHA: 32772,  // gl.ONE_MINUS_CONSTANT_ALPHA\r\n  BLEND_SRC_ALPHA_SATURATE: 776,          // gl.SRC_ALPHA_SATURATE\r\n\r\n  // stencil operation\r\n  STENCIL_OP_KEEP: 7680,          // gl.KEEP\r\n  STENCIL_OP_ZERO: 0,             // gl.ZERO\r\n  STENCIL_OP_REPLACE: 7681,       // gl.REPLACE\r\n  STENCIL_OP_INCR: 7682,          // gl.INCR\r\n  STENCIL_OP_INCR_WRAP: 34055,    // gl.INCR_WRAP\r\n  STENCIL_OP_DECR: 7683,          // gl.DECR\r\n  STENCIL_OP_DECR_WRAP: 34056,    // gl.DECR_WRAP\r\n  STENCIL_OP_INVERT: 5386,        // gl.INVERT\r\n\r\n  // cull\r\n  CULL_NONE: 0,\r\n  CULL_FRONT: 1028,\r\n  CULL_BACK: 1029,\r\n  CULL_FRONT_AND_BACK: 1032,\r\n\r\n  // primitive type\r\n  PT_POINTS: 0,         // gl.POINTS\r\n  PT_LINES: 1,          // gl.LINES\r\n  PT_LINE_LOOP: 2,      // gl.LINE_LOOP\r\n  PT_LINE_STRIP: 3,     // gl.LINE_STRIP\r\n  PT_TRIANGLES: 4,      // gl.TRIANGLES\r\n  PT_TRIANGLE_STRIP: 5, // gl.TRIANGLE_STRIP\r\n  PT_TRIANGLE_FAN: 6,   // gl.TRIANGLE_FAN\r\n};\r\n\r\n/**\r\n * @method attrTypeBytes\r\n * @param {ATTR_TYPE_*} attrType\r\n */\r\nexport function attrTypeBytes(attrType) {\r\n  if (attrType === enums.ATTR_TYPE_INT8) {\r\n    return 1;\r\n  } else if (attrType === enums.ATTR_TYPE_UINT8) {\r\n    return 1;\r\n  } else if (attrType === enums.ATTR_TYPE_INT16) {\r\n    return 2;\r\n  } else if (attrType === enums.ATTR_TYPE_UINT16) {\r\n    return 2;\r\n  } else if (attrType === enums.ATTR_TYPE_INT32) {\r\n    return 4;\r\n  } else if (attrType === enums.ATTR_TYPE_UINT32) {\r\n    return 4;\r\n  } else if (attrType === enums.ATTR_TYPE_FLOAT32) {\r\n    return 4;\r\n  }\r\n\r\n  console.warn(`Unknown ATTR_TYPE: ${attrType}`);\r\n  return 0;\r\n}\r\n\r\n/**\r\n * @method glFilter\r\n * @param {WebGLContext} gl\r\n * @param {FILTER_*} filter\r\n * @param {FILTER_*} mipFilter\r\n */\r\nexport function glFilter(gl, filter, mipFilter = -1) {\r\n  let result = _filterGL[filter][mipFilter+1];\r\n  if (result === undefined) {\r\n    console.warn(`Unknown FILTER: ${filter}`);\r\n    return mipFilter === -1 ? gl.LINEAR : gl.LINEAR_MIPMAP_LINEAR;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * @method glTextureFmt\r\n * @param {TEXTURE_FMT_*} fmt\r\n */\r\nexport function glTextureFmt(fmt) {\r\n  let result = _textureFmtGL[fmt];\r\n  if (result === undefined) {\r\n    console.warn(`Unknown TEXTURE_FMT: ${fmt}`);\r\n    return _textureFmtGL[enums.TEXTURE_FMT_RGBA8];\r\n  }\r\n\r\n  return result;\r\n}","import { attrTypeBytes } from './enums';\r\n\r\n// ====================\r\n// exports\r\n// ====================\r\n\r\nexport default class VertexFormat {\r\n  /**\r\n   * @constructor\r\n   * @param {Array} infos\r\n   *\r\n   * @example\r\n   * let vertexFmt = new VertexFormat([\r\n   *   { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n   *   { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\r\n   *   { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_FLOAT32, num: 4, normalize: true },\r\n   * ])\r\n   */\r\n  constructor(infos) {\r\n    this._attr2el = {};\r\n    this._elements = [];\r\n    this._bytes = 0;\r\n\r\n    let offset = 0;\r\n    for (let i = 0, len = infos.length; i < len; ++i) {\r\n      let info = infos[i];\r\n      let el = {\r\n        name: info.name,\r\n        offset: offset,\r\n        stride: 0,\r\n        stream: -1,\r\n        type: info.type,\r\n        num: info.num,\r\n        normalize: (info.normalize === undefined) ? false : info.normalize,\r\n        bytes: info.num * attrTypeBytes(info.type),\r\n      };\r\n\r\n      this._attr2el[el.name] = el;\r\n      this._elements.push(el);\r\n\r\n      this._bytes += el.bytes;\r\n      offset += el.bytes;\r\n    }\r\n\r\n    for (let i = 0, len = this._elements.length; i < len; ++i) {\r\n      let el = this._elements[i];\r\n      el.stride = this._bytes;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method element\r\n   * @param {string} attrName\r\n   */\r\n  element(attrName) {\r\n    return this._attr2el[attrName];\r\n  }\r\n}","import { enums } from './enums';\r\n\r\nexport default class IndexBuffer {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {INDEX_FMT_*} format\r\n   * @param {USAGE_*} usage\r\n   * @param {ArrayBuffer} data\r\n   * @param {Number} numIndices\r\n   */\r\n  constructor(device, format, usage, data, numIndices) {\r\n    this._device = device;\r\n    this._format = format;\r\n    this._usage = usage;\r\n    this._numIndices = numIndices;\r\n    this._bytesPerIndex = 0;\r\n\r\n    // calculate bytes\r\n    if (format === enums.INDEX_FMT_UINT8) {\r\n      this._bytesPerIndex = 1;\r\n    } else if (format === enums.INDEX_FMT_UINT16) {\r\n      this._bytesPerIndex = 2;\r\n    } else if (format === enums.INDEX_FMT_UINT32) {\r\n      this._bytesPerIndex = 4;\r\n    }\r\n    this._bytes = this._bytesPerIndex * numIndices;\r\n\r\n    // update\r\n    this._glID = device._gl.createBuffer();\r\n    this.update(0, data);\r\n\r\n    // stats\r\n    device._stats.ib += this._bytes;\r\n  }\r\n\r\n  /**\r\n   * @method destroy\r\n   */\r\n  destroy() {\r\n    if (this._glID === -1) {\r\n      console.error('The buffer already destroyed');\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n    gl.deleteBuffer(this._glID);\r\n    this._device._stats.ib -= this.bytes;\r\n\r\n    this._glID = -1;\r\n  }\r\n\r\n  /**\r\n   * @method update\r\n   * @param {Number} offset\r\n   * @param {ArrayBuffer} data\r\n   */\r\n  update(offset, data) {\r\n    if (this._glID === -1) {\r\n      console.error('The buffer is destroyed');\r\n      return;\r\n    }\r\n\r\n    if (data && data.byteLength + offset > this._bytes) {\r\n      console.error('Failed to update data, bytes exceed.');\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n    let glUsage = this._usage;\r\n\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this._glID);\r\n    if (!data) {\r\n      if (this._bytes) {\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this._bytes, glUsage);\r\n      } else {\r\n        console.warn('bufferData should not submit 0 bytes data');\r\n      }\r\n    } else {\r\n      if (offset) {\r\n        gl.bufferSubData(gl.ELEMENT_ARRAY_BUFFER, offset, data);\r\n      } else {\r\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, data, glUsage);\r\n      }\r\n    }\r\n    this._device._restoreIndexBuffer();\r\n  }\r\n\r\n  get count () {\r\n    return this._numIndices;\r\n  }\r\n}","export default class VertexBuffer {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {VertexFormat} format\r\n   * @param {USAGE_*} usage\r\n   * @param {ArrayBuffer} data\r\n   * @param {Number} numVertices\r\n   */\r\n  constructor(device, format, usage, data, numVertices) {\r\n    this._device = device;\r\n    this._format = format;\r\n    this._usage = usage;\r\n    this._numVertices = numVertices;\r\n\r\n    // calculate bytes\r\n    this._bytes = this._format._bytes * numVertices;\r\n\r\n    // update\r\n    this._glID = device._gl.createBuffer();\r\n    this.update(0, data);\r\n\r\n    // stats\r\n    device._stats.vb += this._bytes;\r\n  }\r\n\r\n  /**\r\n   * @method destroy\r\n   */\r\n  destroy() {\r\n    if (this._glID === -1) {\r\n      console.error('The buffer already destroyed');\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n    gl.deleteBuffer(this._glID);\r\n    this._device._stats.vb -= this.bytes;\r\n\r\n    this._glID = -1;\r\n  }\r\n\r\n  /**\r\n   * @method update\r\n   * @param {Number} offset\r\n   * @param {ArrayBuffer} data\r\n   */\r\n  update(offset, data) {\r\n    if (this._glID === -1) {\r\n      console.error('The buffer is destroyed');\r\n      return;\r\n    }\r\n\r\n    if (data && data.byteLength + offset > this._bytes) {\r\n      console.error('Failed to update data, bytes exceed.');\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n    let glUsage = this._usage;\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, this._glID);\r\n    if (!data) {\r\n      if (this._bytes) {\r\n        gl.bufferData(gl.ARRAY_BUFFER, this._bytes, glUsage);\r\n      } else {\r\n        console.warn('bufferData should not submit 0 bytes data');\r\n      }\r\n    } else {\r\n      if (offset) {\r\n        gl.bufferSubData(gl.ARRAY_BUFFER, offset, data);\r\n      } else {\r\n        gl.bufferData(gl.ARRAY_BUFFER, data, glUsage);\r\n      }\r\n    }\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, null);\r\n  }\r\n\r\n  get count () {\r\n    return this._numVertices;\r\n  }\r\n}","let _genID = 0;\r\n\r\nfunction _parseError(out, type, errorLog) {\r\n  errorLog.split('\\n').forEach(msg => {\r\n    if (msg.length < 5) {\r\n      return;\r\n    }\r\n\r\n    let parts = /^ERROR\\:\\s+(\\d+)\\:(\\d+)\\:\\s*(.*)$/.exec(msg);\r\n    if (parts) {\r\n      out.push({\r\n        type: type,\r\n        fileID: parts[1] | 0,\r\n        line: parts[2] | 0,\r\n        message: parts[3].trim()\r\n      });\r\n    } else if (msg.length > 0) {\r\n      out.push({\r\n        type: type,\r\n        fileID: -1,\r\n        line: 0,\r\n        message: msg\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport default class Program {\r\n  /**\r\n   * @param {ef.GraphicsDevice} device - graphic device\r\n   * @param {object} options - shader definition\r\n   * @param {string} options.vert - vertex shader source code\r\n   * @param {string} options.frag - fragment shader shader source code\r\n   * @example\r\n   * let prog = new Program(device, {\r\n   *   vert: `\r\n   *     attribute vec3 a_position;\r\n   *     void main() {\r\n   *       gl_Position = vec4( a_position, 1.0 );\r\n   *     }\r\n   *   `,\r\n   *   frag: `\r\n   *     precision mediump float;\r\n   *     void main() {\r\n   *       gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 );\r\n   *     }\r\n   *   `\r\n   * });\r\n   */\r\n  constructor(device, options) {\r\n    this._device = device;\r\n\r\n    // stores gl information: { location, type }\r\n    this._attributes = [];\r\n    this._uniforms = [];\r\n    this._samplers = [];\r\n    this._errors = [];\r\n    this._linked = false;\r\n    this._vertSource = options.vert;\r\n    this._fragSource = options.frag;\r\n    this._glID = null;\r\n    this._id = _genID++;\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  link() {\r\n    if (this._linked) {\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n\r\n    let vertShader = _createShader(gl, gl.VERTEX_SHADER, this._vertSource);\r\n    let fragShader = _createShader(gl, gl.FRAGMENT_SHADER, this._fragSource);\r\n\r\n    let program = gl.createProgram();\r\n    gl.attachShader(program, vertShader);\r\n    gl.attachShader(program, fragShader);\r\n    gl.linkProgram(program);\r\n\r\n    let failed = false;\r\n    let errors = this._errors;\r\n\r\n    if (!gl.getShaderParameter(vertShader, gl.COMPILE_STATUS)) {\r\n      _parseError(errors, 'vs', gl.getShaderInfoLog(vertShader));\r\n      failed = true;\r\n    }\r\n\r\n    if (!gl.getShaderParameter(fragShader, gl.COMPILE_STATUS)) {\r\n      _parseError(errors, 'fs', gl.getShaderInfoLog(fragShader));\r\n      failed = true;\r\n    }\r\n\r\n    gl.deleteShader(vertShader);\r\n    gl.deleteShader(fragShader);\r\n\r\n    if (failed) {\r\n      errors.forEach(err => {\r\n        console.error(`Failed to compile ${err.type} ${err.fileID} (ln ${err.line}): ${err.message}`);\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\r\n      console.error(`Failed to link shader program: ${gl.getProgramInfoLog(program)}`);\r\n      failed = true;\r\n    }\r\n\r\n    if (failed) {\r\n      return;\r\n    }\r\n\r\n    this._glID = program;\r\n\r\n    // parse attribute\r\n    let numAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\r\n    for (let i = 0; i < numAttributes; ++i) {\r\n      let info = gl.getActiveAttrib(program, i);\r\n      let location = gl.getAttribLocation(program, info.name);\r\n\r\n      this._attributes.push({\r\n        name: info.name,\r\n        location: location,\r\n        type: info.type,\r\n      });\r\n    }\r\n\r\n    // parse uniform\r\n    let numUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\r\n    for (let i = 0; i < numUniforms; ++i) {\r\n      let info = gl.getActiveUniform(program, i);\r\n      let name = info.name;\r\n      let location = gl.getUniformLocation(program, name);\r\n      let isArray = name.substr(name.length - 3) === '[0]';\r\n      if (isArray) {\r\n        name = name.substr(0, name.length - 3);\r\n      }\r\n\r\n      this._uniforms.push({\r\n        name: name,\r\n        location: location,\r\n        type: info.type,\r\n        size: isArray ? info.size : undefined, // used when uniform is an array\r\n      });\r\n    }\r\n\r\n    this._linked = true;\r\n  }\r\n\r\n  destroy() {\r\n    let gl = this._device._gl;\r\n    gl.deleteProgram(this._glID);\r\n\r\n    this._linked = false;\r\n    this._glID = null;\r\n    this._attributes = [];\r\n    this._uniforms = [];\r\n    this._samplers = [];\r\n  }\r\n}\r\n\r\n// ====================\r\n// internal\r\n// ====================\r\n\r\nfunction _createShader(gl, type, src) {\r\n  let shader = gl.createShader(type);\r\n  gl.shaderSource(shader, src);\r\n  gl.compileShader(shader);\r\n\r\n  return shader;\r\n}","import { enums } from './enums';\r\n\r\nexport default class Texture {\r\n  /**\r\n   * @constructor\r\n   */\r\n  constructor(device) {\r\n    this._device = device;\r\n\r\n    this._width = 4;\r\n    this._height = 4;\r\n    this._hasMipmap = false;\r\n    this._compressed = false;\r\n\r\n    this._anisotropy = 1;\r\n    this._minFilter = enums.FILTER_LINEAR;\r\n    this._magFilter = enums.FILTER_LINEAR;\r\n    this._mipFilter = enums.FILTER_LINEAR;\r\n    this._wrapS = enums.WRAP_REPEAT;\r\n    this._wrapT = enums.WRAP_REPEAT;\r\n    // wrapR available in webgl2\r\n    // this._wrapR = enums.WRAP_REPEAT;\r\n    this._format = enums.TEXTURE_FMT_RGBA8;\r\n\r\n    this._target = -1;\r\n  }\r\n\r\n  /**\r\n   * @method destroy\r\n   */\r\n  destroy() {\r\n    if (this._glID === -1) {\r\n      console.error('The texture already destroyed');\r\n      return;\r\n    }\r\n\r\n    let gl = this._device._gl;\r\n    gl.deleteTexture(this._glID);\r\n\r\n    this._device._stats.tex -= this.bytes;\r\n    this._glID = -1;\r\n  }\r\n}","export function isPow2(v) {\r\n  return !(v & (v - 1)) && (!!v);\r\n}","import Texture from './texture';\r\nimport { enums, glFilter, glTextureFmt } from './enums';\r\nimport { isPow2 } from './misc';\r\n\r\nexport default class Texture2D extends Texture {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {Object} options\r\n   * @param {Array} options.images\r\n   * @param {Boolean} options.mipmap\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {TEXTURE_FMT_*} options.format\r\n   * @param {Number} options.anisotropy\r\n   * @param {FILTER_*} options.minFilter\r\n   * @param {FILTER_*} options.magFilter\r\n   * @param {FILTER_*} options.mipFilter\r\n   * @param {WRAP_*} options.wrapS\r\n   * @param {WRAP_*} options.wrapT\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  constructor(device, options) {\r\n    super(device);\r\n\r\n    let gl = this._device._gl;\r\n    this._target = gl.TEXTURE_2D;\r\n    this._glID = gl.createTexture();\r\n\r\n    // always alloc texture in GPU when we create it.\r\n    options.images = options.images || [null];\r\n    this.update(options);\r\n  }\r\n\r\n  /**\r\n   * @method update\r\n   * @param {Object} options\r\n   * @param {Array} options.images\r\n   * @param {Boolean} options.mipmap\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {TEXTURE_FMT_*} options.format\r\n   * @param {Number} options.anisotropy\r\n   * @param {FILTER_*} options.minFilter\r\n   * @param {FILTER_*} options.magFilter\r\n   * @param {FILTER_*} options.mipFilter\r\n   * @param {WRAP_*} options.wrapS\r\n   * @param {WRAP_*} options.wrapT\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  update(options) {\r\n    let gl = this._device._gl;\r\n    let genMipmap = this._hasMipmap;\r\n\r\n    if (options) {\r\n      if (options.width !== undefined) {\r\n        this._width = options.width;\r\n      }\r\n      if (options.height !== undefined) {\r\n        this._height = options.height;\r\n      }\r\n      if (options.anisotropy !== undefined) {\r\n        this._anisotropy = options.anisotropy;\r\n      }\r\n      if (options.minFilter !== undefined) {\r\n        this._minFilter = options.minFilter;\r\n      }\r\n      if (options.magFilter !== undefined) {\r\n        this._magFilter = options.magFilter;\r\n      }\r\n      if (options.mipFilter !== undefined) {\r\n        this._mipFilter = options.mipFilter;\r\n      }\r\n      if (options.wrapS !== undefined) {\r\n        this._wrapS = options.wrapS;\r\n      }\r\n      if (options.wrapT !== undefined) {\r\n        this._wrapT = options.wrapT;\r\n      }\r\n      if (options.format !== undefined) {\r\n        this._format = options.format;\r\n        this._compressed = (\r\n          this._format >= enums.TEXTURE_FMT_RGB_DXT1 &&\r\n          this._format <= enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1\r\n        );\r\n      }\r\n\r\n      // check if generate mipmap\r\n      if (options.mipmap !== undefined) {\r\n        this._hasMipmap = options.mipmap;\r\n        genMipmap = options.mipmap;\r\n      }\r\n\r\n      if (options.images !== undefined) {\r\n        if (options.images.length > 1) {\r\n          genMipmap = false;\r\n          let maxLength = options.width > options.height ? options.width : options.height;\r\n          if (maxLength >> (options.images.length - 1) !== 1) {\r\n            console.error('texture-2d mipmap is invalid, should have a 1x1 mipmap.');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // NOTE: get pot after this._width, this._height has been assigned.\r\n    let pot = isPow2(this._width) && isPow2(this._height);\r\n    if (!pot) {\r\n      genMipmap = false;\r\n    }\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, this._glID);\r\n    if (options.images !== undefined && options.images.length > 0) {\r\n      this._setMipmap(options.images, options.flipY, options.premultiplyAlpha);\r\n      if (options.images.length > 1) this._hasMipmap = true;\r\n    }\r\n    if (genMipmap) {\r\n      gl.hint(gl.GENERATE_MIPMAP_HINT, gl.NICEST);\r\n      gl.generateMipmap(gl.TEXTURE_2D);\r\n      this._hasMipmap = true;\r\n    }\r\n\r\n    this._setTexInfo();\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  /**\r\n   * @method updateSubImage\r\n   * @param {Object} options\r\n   * @param {Number} options.x\r\n   * @param {Number} options.y\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {Number} options.level\r\n   * @param {HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | ArrayBufferView} options.image\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  updateSubImage(options) {\r\n    let gl = this._device._gl;\r\n    let glFmt = glTextureFmt(this._format);\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, this._glID);\r\n    this._setSubImage(glFmt, options);\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  /**\r\n   * @method updateImage\r\n   * @param {Object} options\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {Number} options.level\r\n   * @param {HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | ArrayBufferView} options.image\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  updateImage(options) {\r\n    let gl = this._device._gl;\r\n    let glFmt = glTextureFmt(this._format);\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, this._glID);\r\n    this._setImage(glFmt, options);\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  _setSubImage(glFmt, options) {\r\n    let gl = this._device._gl;\r\n    let flipY = options.flipY;\r\n    let premultiplyAlpha = options.premultiplyAlpha;\r\n    let img = options.image;\r\n\r\n    if (\r\n      img instanceof HTMLCanvasElement ||\r\n      img instanceof HTMLImageElement ||\r\n      img instanceof HTMLVideoElement\r\n    ) {\r\n      if (flipY === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n      }\r\n\r\n      if (premultiplyAlpha === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n      }\r\n\r\n      gl.texSubImage2D(gl.TEXTURE_2D, options.level, options.x, options.y, glFmt.format, glFmt.pixelType, img);\r\n    } else {\r\n      if (flipY === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n      }\r\n\r\n      if (premultiplyAlpha === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n      }\r\n\r\n      if (this._compressed) {\r\n        gl.compressedTexSubImage2D(gl.TEXTURE_2D,\r\n          options.level,\r\n          options.x,\r\n          options.y,\r\n          options.width,\r\n          options.height,\r\n          glFmt.format,\r\n          img\r\n        );\r\n      } else {\r\n        gl.texSubImage2D(\r\n          gl.TEXTURE_2D,\r\n          options.level,\r\n          options.x,\r\n          options.y,\r\n          options.width,\r\n          options.height,\r\n          glFmt.format,\r\n          glFmt.pixelType,\r\n          img\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  _setImage(glFmt, options) {\r\n    let gl = this._device._gl;\r\n    let flipY = options.flipY;\r\n    let premultiplyAlpha = options.premultiplyAlpha;\r\n    let img = options.image;\r\n\r\n    if (\r\n      img instanceof HTMLCanvasElement ||\r\n      img instanceof HTMLImageElement ||\r\n      img instanceof HTMLVideoElement\r\n    ) {\r\n      if (flipY === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n      }\r\n\r\n      if (premultiplyAlpha === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n      }\r\n\r\n      gl.texImage2D(\r\n        gl.TEXTURE_2D,\r\n        options.level,\r\n        glFmt.internalFormat,\r\n        glFmt.format,\r\n        glFmt.pixelType,\r\n        img\r\n      );\r\n    } else {\r\n      if (flipY === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n      }\r\n\r\n      if (premultiplyAlpha === undefined) {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n      } else {\r\n        gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n      }\r\n\r\n      if (this._compressed) {\r\n        gl.compressedTexImage2D(\r\n          gl.TEXTURE_2D,\r\n          options.level,\r\n          glFmt.internalFormat,\r\n          options.width,\r\n          options.height,\r\n          0,\r\n          img\r\n        );\r\n      } else {\r\n        gl.texImage2D(\r\n          gl.TEXTURE_2D,\r\n          options.level,\r\n          glFmt.internalFormat,\r\n          options.width,\r\n          options.height,\r\n          0,\r\n          glFmt.format,\r\n          glFmt.pixelType,\r\n          img\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  _setMipmap(images, flipY, premultiplyAlpha) {\r\n    let glFmt = glTextureFmt(this._format);\r\n    let options = {\r\n      width: this._width,\r\n      height: this._height,\r\n      flipY: flipY,\r\n      premultiplyAlpha: premultiplyAlpha,\r\n      level: 0,\r\n      image: null\r\n    };\r\n\r\n    for (let i = 0; i < images.length; ++i) {\r\n      options.level = i;\r\n      options.width = this._width >> i;\r\n      options.height = this._height >> i;\r\n      options.image = images[i];\r\n      this._setImage(glFmt, options);\r\n    }\r\n  }\r\n\r\n  _setTexInfo() {\r\n    let gl = this._device._gl;\r\n    let pot = isPow2(this._width) && isPow2(this._height);\r\n\r\n    // WebGL1 doesn't support all wrap modes with NPOT textures\r\n    if (!pot && (this._wrapS !== enums.WRAP_CLAMP || this._wrapT !== enums.WRAP_CLAMP)) {\r\n      console.warn('WebGL1 doesn\\'t support all wrap modes with NPOT textures');\r\n      this._wrapS = enums.WRAP_CLAMP;\r\n      this._wrapT = enums.WRAP_CLAMP;\r\n    }\r\n\r\n    let mipFilter = this._hasMipmap ? this._mipFilter : -1;\r\n    if (!pot && mipFilter !== -1) {\r\n      console.warn('NPOT textures do not support mipmap filter');\r\n      mipFilter = -1;\r\n    }\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, glFilter(gl, this._minFilter, mipFilter));\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, glFilter(gl, this._magFilter, -1));\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, this._wrapS);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, this._wrapT);\r\n\r\n    let ext = this._device.ext('EXT_texture_filter_anisotropic');\r\n    if (ext) {\r\n      gl.texParameteri(gl.TEXTURE_2D, ext.TEXTURE_MAX_ANISOTROPY_EXT, this._anisotropy);\r\n    }\r\n  }\r\n}","import Texture from './texture';\r\nimport { enums, glFilter, glTextureFmt } from './enums';\r\nimport { isPow2 } from './misc';\r\n\r\nexport default class TextureCube extends Texture {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {Object} options\r\n   * @param {Array} options.images\r\n   * @param {Boolean} options.mipmap\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {TEXTURE_FMT_*} options.format\r\n   * @param {Number} options.anisotropy\r\n   * @param {FILTER_*} options.minFilter\r\n   * @param {FILTER_*} options.magFilter\r\n   * @param {FILTER_*} options.mipFilter\r\n   * @param {WRAP_*} options.wrapS\r\n   * @param {WRAP_*} options.wrapT\r\n   * @param {WRAP_*} options.wrapR\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  constructor(device, options) {\r\n    super(device);\r\n    let gl = this._device._gl;\r\n    this._target = gl.TEXTURE_CUBE_MAP;\r\n    this._glID = gl.createTexture();\r\n    this.update(options);\r\n  }\r\n\r\n  /**\r\n   * @method update\r\n   * @param {Object} options\r\n   * @param {Array} options.images\r\n   * @param {Boolean} options.mipmap\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {TEXTURE_FMT_*} options.format\r\n   * @param {Number} options.anisotropy\r\n   * @param {FILTER_*} options.minFilter\r\n   * @param {FILTER_*} options.magFilter\r\n   * @param {FILTER_*} options.mipFilter\r\n   * @param {WRAP_*} options.wrapS\r\n   * @param {WRAP_*} options.wrapT\r\n   * @param {WRAP_*} options.wrapR\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  update(options) {\r\n    let gl = this._device._gl;\r\n    let genMipmap = this._hasMipmap;\r\n\r\n    if (options) {\r\n      if (options.width !== undefined) {\r\n        this._width = options.width;\r\n      }\r\n      if (options.height !== undefined) {\r\n        this._height = options.height;\r\n      }\r\n      if (options.anisotropy !== undefined) {\r\n        this._anisotropy = options.anisotropy;\r\n      }\r\n      if (options.minFilter !== undefined) {\r\n        this._minFilter = options.minFilter;\r\n      }\r\n      if (options.magFilter !== undefined) {\r\n        this._magFilter = options.magFilter;\r\n      }\r\n      if (options.mipFilter !== undefined) {\r\n        this._mipFilter = options.mipFilter;\r\n      }\r\n      if (options.wrapS !== undefined) {\r\n        this._wrapS = options.wrapS;\r\n      }\r\n      if (options.wrapT !== undefined) {\r\n        this._wrapT = options.wrapT;\r\n      }\r\n      // wrapR available in webgl2\r\n      // if (options.wrapR !== undefined) {\r\n      //   this._wrapR = options.wrapR;\r\n      // }\r\n      if (options.format !== undefined) {\r\n        this._format = options.format;\r\n        this._compressed = (\r\n          this._format >= enums.TEXTURE_FMT_RGB_DXT1 &&\r\n          this._format <= enums.TEXTURE_FMT_RGBA_PVRTC_4BPPV1\r\n        );\r\n      }\r\n\r\n      // check if generate mipmap\r\n      if (options.mipmap !== undefined) {\r\n        this._hasMipmap = options.mipmap;\r\n        genMipmap = options.mipmap;\r\n      }\r\n\r\n      if (options.images !== undefined) {\r\n        if (options.images.length > 1) {\r\n          genMipmap = false;\r\n          if (options.width !== options.height) {\r\n            console.warn('texture-cube width and height should be identical.');\r\n          }\r\n          if (options.width >> (options.images.length - 1) !== 1) {\r\n            console.error('texture-cube mipmap is invalid. please set mipmap as 1x1, 2x2, 4x4 ... nxn');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // NOTE: get pot after this._width, this._height has been assigned.\r\n    let pot = isPow2(this._width) && isPow2(this._height);\r\n    if (!pot) {\r\n      genMipmap = false;\r\n    }\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this._glID);\r\n    if (options.images !== undefined && options.images.length > 0) {\r\n      this._setMipmap(options.images, options.flipY, options.premultiplyAlpha);\r\n      if (options.images.length > 1) this._hasMipmap = true;\r\n    }\r\n    if (genMipmap) {\r\n      gl.hint(gl.GENERATE_MIPMAP_HINT, gl.NICEST);\r\n      gl.generateMipmap(gl.TEXTURE_CUBE_MAP);\r\n      this._hasMipmap = true;\r\n    }\r\n\r\n    this._setTexInfo();\r\n\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  /**\r\n   * @method updateSubImage\r\n   * @param {Object} options\r\n   * @param {Number} options.x\r\n   * @param {Number} options.y\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {Number} options.level\r\n   * @param {Number} options.faceIndex\r\n   * @param {HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | ArrayBufferView} options.image\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  updateSubImage(options) {\r\n    let gl = this._device._gl;\r\n    let glFmt = glTextureFmt(this._format);\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this._glID);\r\n    this._setSubImage(glFmt, options);\r\n\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  /**\r\n   * @method updateImage\r\n   * @param {Object} options\r\n   * @param {Number} options.width\r\n   * @param {Number} options.height\r\n   * @param {Number} options.level\r\n   * @param {Number} options.faceIndex\r\n   * @param {HTMLCanvasElement | HTMLImageElement | HTMLVideoElement | ArrayBufferView} options.image\r\n   * @param {Boolean} options.flipY\r\n   * @param {Boolean} options.premultiplyAlpha\r\n   */\r\n  updateImage(options) {\r\n    let gl = this._device._gl;\r\n    let glFmt = glTextureFmt(this._format);\r\n\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this._glID);\r\n    this._setImage(glFmt, options);\r\n    this._device._restoreTexture(0);\r\n  }\r\n\r\n  _setSubImage(glFmt, options) {\r\n    let gl = this._device._gl;\r\n    let flipY = options.flipY;\r\n    let premultiplyAlpha = options.premultiplyAlpha;\r\n    let faceIndex = options.faceIndex;\r\n    let img = options.image;\r\n\r\n    if (flipY === undefined) {\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\r\n    } else {\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n    }\r\n\r\n    if (premultiplyAlpha === undefined) {\r\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n    } else {\r\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n    }\r\n\r\n    if (\r\n      img instanceof HTMLCanvasElement ||\r\n      img instanceof HTMLImageElement ||\r\n      img instanceof HTMLVideoElement\r\n    ) {\r\n      gl.texSubImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex, options.level, options.x, options.y, glFmt.format, glFmt.pixelType, img);\r\n    } else {\r\n      if (this._compressed) {\r\n        gl.compressedTexSubImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex,\r\n          options.level,\r\n          options.x,\r\n          options.y,\r\n          options.width,\r\n          options.height,\r\n          glFmt.format,\r\n          img\r\n        );\r\n      } else {\r\n        gl.texSubImage2D(\r\n          gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex,\r\n          options.level,\r\n          options.x,\r\n          options.y,\r\n          options.width,\r\n          options.height,\r\n          glFmt.format,\r\n          glFmt.pixelType,\r\n          img\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  _setImage(glFmt, options) {\r\n    let gl = this._device._gl;\r\n    let flipY = options.flipY;\r\n    let premultiplyAlpha = options.premultiplyAlpha;\r\n    let faceIndex = options.faceIndex;\r\n    let img = options.image;\r\n\r\n    if (flipY === undefined) {\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, false);\r\n    } else {\r\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, flipY);\r\n    }\r\n\r\n    if (premultiplyAlpha === undefined) {\r\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false);\r\n    } else {\r\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultiplyAlpha);\r\n    }\r\n    if (\r\n      img instanceof HTMLCanvasElement ||\r\n      img instanceof HTMLImageElement ||\r\n      img instanceof HTMLVideoElement\r\n    ) {\r\n      gl.texImage2D(\r\n        gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex,\r\n        options.level,\r\n        glFmt.internalFormat,\r\n        glFmt.format,\r\n        glFmt.pixelType,\r\n        img\r\n      );\r\n    } else {\r\n      if (this._compressed) {\r\n        gl.compressedTexImage2D(\r\n          gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex,\r\n          options.level,\r\n          glFmt.internalFormat,\r\n          options.width,\r\n          options.height,\r\n          0,\r\n          img\r\n        );\r\n      } else {\r\n        gl.texImage2D(\r\n          gl.TEXTURE_CUBE_MAP_POSITIVE_X + faceIndex,\r\n          options.level,\r\n          glFmt.internalFormat,\r\n          options.width,\r\n          options.height,\r\n          0,\r\n          glFmt.format,\r\n          glFmt.pixelType,\r\n          img\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // levelImages = [imagePosX, imageNegX, imagePosY, imageNegY, imagePosZ, imageNegz]\r\n  // images = [levelImages0, levelImages1, ...]\r\n  _setMipmap(images, flipY, premultiplyAlpha) {\r\n    let glFmt = glTextureFmt(this._format);\r\n    let options = {\r\n      width: this._width,\r\n      height: this._height,\r\n      faceIndex: 0,\r\n      flipY: flipY,\r\n      premultiplyAlpha: premultiplyAlpha,\r\n      level: 0,\r\n      image: null\r\n    };\r\n\r\n    for (let i = 0; i < images.length; ++i) {\r\n      let levelImages = images[i];\r\n      options.level = i;\r\n      options.width = this._width >> i;\r\n      options.height = this._height >> i;\r\n\r\n      for (let face = 0; face < 6; ++face) {\r\n        options.faceIndex = face;\r\n        options.image = levelImages[face];\r\n        this._setImage(glFmt, options);\r\n      }\r\n    }\r\n  }\r\n\r\n  _setTexInfo() {\r\n    let gl = this._device._gl;\r\n    let pot = isPow2(this._width) && isPow2(this._height);\r\n\r\n    // WebGL1 doesn't support all wrap modes with NPOT textures\r\n    if (!pot && (this._wrapS !== enums.WRAP_CLAMP || this._wrapT !== enums.WRAP_CLAMP)) {\r\n      console.warn('WebGL1 doesn\\'t support all wrap modes with NPOT textures');\r\n      this._wrapS = enums.WRAP_CLAMP;\r\n      this._wrapT = enums.WRAP_CLAMP;\r\n    }\r\n\r\n    let mipFilter = this._hasMipmap ? this._mipFilter : -1;\r\n    if (!pot && mipFilter !== -1) {\r\n      console.warn('NPOT textures do not support mipmap filter');\r\n      mipFilter = -1;\r\n    }\r\n\r\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, glFilter(gl, this._minFilter, mipFilter));\r\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, glFilter(gl, this._magFilter, -1));\r\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_S, this._wrapS);\r\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_T, this._wrapT);\r\n    // wrapR available in webgl2\r\n    // gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_WRAP_R, this._wrapR);\r\n\r\n    let ext = this._device.ext('EXT_texture_filter_anisotropic');\r\n    if (ext) {\r\n      gl.texParameteri(gl.TEXTURE_CUBE_MAP, ext.TEXTURE_MAX_ANISOTROPY_EXT, this._anisotropy);\r\n    }\r\n  }\r\n}\r\n","export default class RenderBuffer {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {RB_FMT_*} format\r\n   * @param {Number} width\r\n   * @param {Number} height\r\n   */\r\n  constructor(device, format, width, height) {\r\n    this._device = device;\r\n    this._format = format;\r\n    this._width = width;\r\n    this._height = height;\r\n\r\n    const gl = device._gl;\r\n    this._glID = gl.createRenderbuffer();\r\n\r\n    gl.bindRenderbuffer(gl.RENDERBUFFER, this._glID);\r\n    gl.renderbufferStorage(gl.RENDERBUFFER, format, width, height);\r\n    gl.bindRenderbuffer(gl.RENDERBUFFER, null);\r\n  }\r\n\r\n  /**\r\n   * @method destroy\r\n   */\r\n  destroy() {\r\n    if (this._glID === null) {\r\n      console.error('The render-buffer already destroyed');\r\n      return;\r\n    }\r\n\r\n    const gl = this._device._gl;\r\n\r\n    gl.bindRenderbuffer(gl.RENDERBUFFER, null);\r\n    gl.deleteRenderbuffer(this._glID);\r\n\r\n    this._glID = null;\r\n  }\r\n}","export default class FrameBuffer {\r\n  /**\r\n   * @constructor\r\n   * @param {Device} device\r\n   * @param {Number} width\r\n   * @param {Number} height\r\n   * @param {Object} options\r\n   * @param {Array} options.colors\r\n   * @param {RenderBuffer|Texture2D|TextureCube} options.depth\r\n   * @param {RenderBuffer|Texture2D|TextureCube} options.stencil\r\n   * @param {RenderBuffer|Texture2D|TextureCube} options.depthStencil\r\n   */\r\n  constructor(device, width, height, options) {\r\n    this._device = device;\r\n    this._width = width;\r\n    this._height = height;\r\n\r\n    this._colors = options.colors || [];\r\n    this._depth = options.depth || null;\r\n    this._stencil = options.stencil || null;\r\n    this._depthStencil = options.depthStencil || null;\r\n\r\n    this._glID = device._gl.createFramebuffer();\r\n  }\r\n\r\n  /**\r\n   * @method destroy\r\n   */\r\n  destroy() {\r\n    if (this._glID === null) {\r\n      console.error('The frame-buffer already destroyed');\r\n      return;\r\n    }\r\n\r\n    const gl = this._device._gl;\r\n\r\n    gl.deleteFramebuffer(this._glID);\r\n\r\n    this._glID = null;\r\n  }\r\n}","import { enums } from './enums';\r\n\r\nconst _default = {\r\n  // blend\r\n  blend: false,\r\n  blendSep: false,\r\n  blendColor: 0xffffffff,\r\n  blendEq: enums.BLEND_FUNC_ADD,\r\n  blendAlphaEq: enums.BLEND_FUNC_ADD,\r\n  blendSrc: enums.BLEND_ONE,\r\n  blendDst: enums.BLEND_ZERO,\r\n  blendSrcAlpha: enums.BLEND_ONE,\r\n  blendDstAlpha: enums.BLEND_ZERO,\r\n\r\n  // depth\r\n  depthTest: false,\r\n  depthWrite: false,\r\n  depthFunc: enums.DS_FUNC_LESS,\r\n\r\n  // stencil\r\n  stencilTest: false,\r\n  stencilSep: false,\r\n  stencilFuncFront: enums.DS_FUNC_ALWAYS,\r\n  stencilRefFront: 0,\r\n  stencilMaskFront: 0xff,\r\n  stencilFailOpFront: enums.STENCIL_OP_KEEP,\r\n  stencilZFailOpFront: enums.STENCIL_OP_KEEP,\r\n  stencilZPassOpFront: enums.STENCIL_OP_KEEP,\r\n  stencilWriteMaskFront: 0xff,\r\n  stencilFuncBack: enums.DS_FUNC_ALWAYS,\r\n  stencilRefBack: 0,\r\n  stencilMaskBack: 0xff,\r\n  stencilFailOpBack: enums.STENCIL_OP_KEEP,\r\n  stencilZFailOpBack: enums.STENCIL_OP_KEEP,\r\n  stencilZPassOpBack: enums.STENCIL_OP_KEEP,\r\n  stencilWriteMaskBack: 0xff,\r\n\r\n  // cull-mode\r\n  cullMode: enums.CULL_BACK,\r\n\r\n  // primitive-type\r\n  primitiveType: enums.PT_TRIANGLES,\r\n\r\n  // bindings\r\n  maxStream: -1,\r\n  vertexBuffers: [],\r\n  vertexBufferOffsets: [],\r\n  indexBuffer: null,\r\n  maxTextureSlot: -1,\r\n  textureUnits: [],\r\n  program: null,\r\n};\r\n\r\nexport default class State {\r\n  constructor(device) {\r\n    // bindings\r\n    this.vertexBuffers = new Array(device._caps.maxVertexStreams);\r\n    this.vertexBufferOffsets = new Array(device._caps.maxVertexStreams);\r\n    this.textureUnits = new Array(device._caps.maxTextureUnits);\r\n\r\n    this.set(_default);\r\n  }\r\n\r\n  static initDefault(device) {\r\n    _default.vertexBuffers = new Array(device._caps.maxVertexStreams);\r\n    _default.vertexBufferOffsets = new Array(device._caps.maxVertexStreams);\r\n    _default.textureUnits = new Array(device._caps.maxTextureUnits);\r\n  }\r\n\r\n  reset () {\r\n    this.set(_default);\r\n  }\r\n\r\n  set (cpy) {\r\n    // blending\r\n    this.blend = cpy.blend;\r\n    this.blendSep = cpy.blendSep;\r\n    this.blendColor = cpy.blendColor;\r\n    this.blendEq = cpy.blendEq;\r\n    this.blendAlphaEq = cpy.blendAlphaEq;\r\n    this.blendSrc = cpy.blendSrc;\r\n    this.blendDst = cpy.blendDst;\r\n    this.blendSrcAlpha = cpy.blendSrcAlpha;\r\n    this.blendDstAlpha = cpy.blendDstAlpha;\r\n\r\n    // depth\r\n    this.depthTest = cpy.depthTest;\r\n    this.depthWrite = cpy.depthWrite;\r\n    this.depthFunc = cpy.depthFunc;\r\n\r\n    // stencil\r\n    this.stencilTest = cpy.stencilTest;\r\n    this.stencilSep = cpy.stencilSep;\r\n    this.stencilFuncFront = cpy.stencilFuncFront;\r\n    this.stencilRefFront = cpy.stencilRefFront;\r\n    this.stencilMaskFront = cpy.stencilMaskFront;\r\n    this.stencilFailOpFront = cpy.stencilFailOpFront;\r\n    this.stencilZFailOpFront = cpy.stencilZFailOpFront;\r\n    this.stencilZPassOpFront = cpy.stencilZPassOpFront;\r\n    this.stencilWriteMaskFront = cpy.stencilWriteMaskFront;\r\n    this.stencilFuncBack = cpy.stencilFuncBack;\r\n    this.stencilRefBack = cpy.stencilRefBack;\r\n    this.stencilMaskBack = cpy.stencilMaskBack;\r\n    this.stencilFailOpBack = cpy.stencilFailOpBack;\r\n    this.stencilZFailOpBack = cpy.stencilZFailOpBack;\r\n    this.stencilZPassOpBack = cpy.stencilZPassOpBack;\r\n    this.stencilWriteMaskBack = cpy.stencilWriteMaskBack;\r\n\r\n    // cull-mode\r\n    this.cullMode = cpy.cullMode;\r\n\r\n    // primitive-type\r\n    this.primitiveType = cpy.primitiveType;\r\n\r\n    // buffer bindings\r\n    this.maxStream = cpy.maxStream;\r\n    for (let i = 0; i < cpy.vertexBuffers.length; ++i) {\r\n      this.vertexBuffers[i] = cpy.vertexBuffers[i];\r\n    }\r\n    for (let i = 0; i < cpy.vertexBufferOffsets.length; ++i) {\r\n      this.vertexBufferOffsets[i] = cpy.vertexBufferOffsets[i];\r\n    }\r\n    this.indexBuffer = cpy.indexBuffer;\r\n\r\n    // texture bindings\r\n    this.maxTextureSlot = cpy.maxTextureSlot;\r\n    for (let i = 0; i < cpy.textureUnits.length; ++i) {\r\n      this.textureUnits[i] = cpy.textureUnits[i];\r\n    }\r\n\r\n    this.program = cpy.program;\r\n  }\r\n}","import State from './state';\r\nimport { enums } from './enums';\r\n\r\nimport Texture2D from './texture-2d';\r\nimport TextureCube from './texture-cube';\r\n\r\nconst GL_INT = 5124;\r\nconst GL_FLOAT = 5126;\r\nconst GL_FLOAT_VEC2 = 35664;\r\nconst GL_FLOAT_VEC3 = 35665;\r\nconst GL_FLOAT_VEC4 = 35666;\r\nconst GL_INT_VEC2 = 35667;\r\nconst GL_INT_VEC3 = 35668;\r\nconst GL_INT_VEC4 = 35669;\r\nconst GL_BOOL = 35670;\r\nconst GL_BOOL_VEC2 = 35671;\r\nconst GL_BOOL_VEC3 = 35672;\r\nconst GL_BOOL_VEC4 = 35673;\r\nconst GL_FLOAT_MAT2 = 35674;\r\nconst GL_FLOAT_MAT3 = 35675;\r\nconst GL_FLOAT_MAT4 = 35676;\r\nconst GL_SAMPLER_2D = 35678;\r\nconst GL_SAMPLER_CUBE = 35680;\r\n\r\n/**\r\n * _type2uniformCommit\r\n */\r\nlet _type2uniformCommit = {\r\n  [GL_INT]: function (gl, id, value) {\r\n    gl.uniform1i(id, value);\r\n  },\r\n\r\n  [GL_FLOAT]: function (gl, id, value) {\r\n    gl.uniform1f(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC2]: function (gl, id, value) {\r\n    gl.uniform2fv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC3]: function (gl, id, value) {\r\n    gl.uniform3fv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC4]: function (gl, id, value) {\r\n    gl.uniform4fv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC2]: function (gl, id, value) {\r\n    gl.uniform2iv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC3]: function (gl, id, value) {\r\n    gl.uniform3iv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC4]: function (gl, id, value) {\r\n    gl.uniform4iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL]: function (gl, id, value) {\r\n    gl.uniform1i(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC2]: function (gl, id, value) {\r\n    gl.uniform2iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC3]: function (gl, id, value) {\r\n    gl.uniform3iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC4]: function (gl, id, value) {\r\n    gl.uniform4iv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT2]: function (gl, id, value) {\r\n    gl.uniformMatrix2fv(id, false, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT3]: function (gl, id, value) {\r\n    gl.uniformMatrix3fv(id, false, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT4]: function (gl, id, value) {\r\n    gl.uniformMatrix4fv(id, false, value);\r\n  },\r\n\r\n  [GL_SAMPLER_2D]: function (gl, id, value) {\r\n    gl.uniform1i(id, value);\r\n  },\r\n\r\n  [GL_SAMPLER_CUBE]: function (gl, id, value) {\r\n    gl.uniform1i(id, value);\r\n  },\r\n};\r\n\r\n/**\r\n * _type2uniformArrayCommit\r\n */\r\nlet _type2uniformArrayCommit = {\r\n  [GL_INT]: function (gl, id, value) {\r\n    gl.uniform1iv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT]: function (gl, id, value) {\r\n    gl.uniform1fv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC2]: function (gl, id, value) {\r\n    gl.uniform2fv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC3]: function (gl, id, value) {\r\n    gl.uniform3fv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_VEC4]: function (gl, id, value) {\r\n    gl.uniform4fv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC2]: function (gl, id, value) {\r\n    gl.uniform2iv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC3]: function (gl, id, value) {\r\n    gl.uniform3iv(id, value);\r\n  },\r\n\r\n  [GL_INT_VEC4]: function (gl, id, value) {\r\n    gl.uniform4iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL]: function (gl, id, value) {\r\n    gl.uniform1iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC2]: function (gl, id, value) {\r\n    gl.uniform2iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC3]: function (gl, id, value) {\r\n    gl.uniform3iv(id, value);\r\n  },\r\n\r\n  [GL_BOOL_VEC4]: function (gl, id, value) {\r\n    gl.uniform4iv(id, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT2]: function (gl, id, value) {\r\n    gl.uniformMatrix2fv(id, false, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT3]: function (gl, id, value) {\r\n    gl.uniformMatrix3fv(id, false, value);\r\n  },\r\n\r\n  [GL_FLOAT_MAT4]: function (gl, id, value) {\r\n    gl.uniformMatrix4fv(id, false, value);\r\n  },\r\n\r\n  [GL_SAMPLER_2D]: function (gl, id, value) {\r\n    gl.uniform1iv(id, value);\r\n  },\r\n\r\n  [GL_SAMPLER_CUBE]: function (gl, id, value) {\r\n    gl.uniform1iv(id, value);\r\n  },\r\n};\r\n\r\n/**\r\n * _commitBlendStates\r\n */\r\nfunction _commitBlendStates(gl, cur, next) {\r\n  // enable/disable blend\r\n  if (cur.blend !== next.blend) {\r\n    if (!next.blend) {\r\n      gl.disable(gl.BLEND);\r\n      return;\r\n    }\r\n\r\n    gl.enable(gl.BLEND);\r\n\r\n    if (\r\n      next.blendSrc === enums.BLEND_CONSTANT_COLOR ||\r\n      next.blendSrc === enums.BLEND_ONE_MINUS_CONSTANT_COLOR ||\r\n      next.blendDst === enums.BLEND_CONSTANT_COLOR ||\r\n      next.blendDst === enums.BLEND_ONE_MINUS_CONSTANT_COLOR\r\n    ) {\r\n      gl.blendColor(\r\n        (next.blendColor >> 24) / 255,\r\n        (next.blendColor >> 16 & 0xff) / 255,\r\n        (next.blendColor >> 8 & 0xff) / 255,\r\n        (next.blendColor & 0xff) / 255\r\n      );\r\n    }\r\n\r\n    if (next.blendSep) {\r\n      gl.blendFuncSeparate(next.blendSrc, next.blendDst, next.blendSrcAlpha, next.blendDstAlpha);\r\n      gl.blendEquationSeparate(next.blendEq, next.blendAlphaEq);\r\n    } else {\r\n      gl.blendFunc(next.blendSrc, next.blendDst);\r\n      gl.blendEquation(next.blendEq);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  // nothing to update\r\n  if (next.blend === false) {\r\n    return;\r\n  }\r\n\r\n  // blend-color\r\n  if (cur.blendColor !== next.blendColor) {\r\n    gl.blendColor(\r\n      (next.blendColor >> 24) / 255,\r\n      (next.blendColor >> 16 & 0xff) / 255,\r\n      (next.blendColor >> 8 & 0xff) / 255,\r\n      (next.blendColor & 0xff) / 255\r\n    );\r\n  }\r\n\r\n  // separate diff, reset all\r\n  if (cur.blendSep !== next.blendSep) {\r\n    if (next.blendSep) {\r\n      gl.blendFuncSeparate(next.blendSrc, next.blendDst, next.blendSrcAlpha, next.blendDstAlpha);\r\n      gl.blendEquationSeparate(next.blendEq, next.blendAlphaEq);\r\n    } else {\r\n      gl.blendFunc(next.blendSrc, next.blendDst);\r\n      gl.blendEquation(next.blendEq);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  if (next.blendSep) {\r\n    // blend-func-separate\r\n    if (\r\n      cur.blendSrc !== next.blendSrc ||\r\n      cur.blendDst !== next.blendDst ||\r\n      cur.blendSrcAlpha !== next.blendSrcAlpha ||\r\n      cur.blendDstAlpha !== next.blendDstAlpha\r\n    ) {\r\n      gl.blendFuncSeparate(next.blendSrc, next.blendDst, next.blendSrcAlpha, next.blendDstAlpha);\r\n    }\r\n\r\n    // blend-equation-separate\r\n    if (\r\n      cur.blendEq !== next.blendEq ||\r\n      cur.blendAlphaEq !== next.blendAlphaEq\r\n    ) {\r\n      gl.blendEquationSeparate(next.blendEq, next.blendAlphaEq);\r\n    }\r\n  } else {\r\n    // blend-func\r\n    if (\r\n      cur.blendSrc !== next.blendSrc ||\r\n      cur.blendDst !== next.blendDst\r\n    ) {\r\n      gl.blendFunc(next.blendSrc, next.blendDst);\r\n    }\r\n\r\n    // blend-equation\r\n    if (cur.blendEq !== next.blendEq) {\r\n      gl.blendEquation(next.blendEq);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * _commitDepthStates\r\n */\r\nfunction _commitDepthStates(gl, cur, next) {\r\n  // enable/disable depth-test\r\n  if (cur.depthTest !== next.depthTest) {\r\n    if (!next.depthTest) {\r\n      gl.disable(gl.DEPTH_TEST);\r\n      return;\r\n    }\r\n\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.depthFunc(next.depthFunc);\r\n    gl.depthMask(next.depthWrite);\r\n\r\n    return;\r\n  }\r\n\r\n  // commit depth-write\r\n  if (cur.depthWrite !== next.depthWrite) {\r\n    gl.depthMask(next.depthWrite);\r\n  }\r\n\r\n  // check if depth-write enabled\r\n  if (next.depthTest === false) {\r\n    if (next.depthWrite) {\r\n      next.depthTest = true;\r\n      next.depthFunc = enums.DS_FUNC_ALWAYS;\r\n\r\n      gl.enable(gl.DEPTH_TEST);\r\n      gl.depthFunc(next.depthFunc);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  // depth-func\r\n  if (cur.depthFunc !== next.depthFunc) {\r\n    gl.depthFunc(next.depthFunc);\r\n  }\r\n}\r\n\r\n/**\r\n * _commitStencilStates\r\n */\r\nfunction _commitStencilStates(gl, cur, next) {\r\n  if (next.stencilTest !== cur.stencilTest) {\r\n    if (!next.stencilTest) {\r\n      gl.disable(gl.STENCIL_TEST);\r\n      return;\r\n    }\r\n\r\n    gl.enable(gl.STENCIL_TEST);\r\n\r\n    if (next.stencilSep) {\r\n      gl.stencilFuncSeparate(gl.FRONT, next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n      gl.stencilMaskSeparate(gl.FRONT, next.stencilWriteMaskFront);\r\n      gl.stencilOpSeparate(gl.FRONT, next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n      gl.stencilFuncSeparate(gl.BACK, next.stencilFuncBack, next.stencilRefBack, next.stencilMaskBack);\r\n      gl.stencilMaskSeparate(gl.BACK, next.stencilWriteMaskBack);\r\n      gl.stencilOpSeparate(gl.BACK, next.stencilFailOpBack, next.stencilZFailOpBack, next.stencilZPassOpBack);\r\n    } else {\r\n      gl.stencilFunc(next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n      gl.stencilMask(next.stencilWriteMaskFront);\r\n      gl.stencilOp(next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  // fast return\r\n  if (!next.stencilTest) {\r\n    return;\r\n  }\r\n\r\n  if (cur.stencilSep !== next.stencilSep) {\r\n    if (next.stencilSep) {\r\n      gl.stencilFuncSeparate(gl.FRONT, next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n      gl.stencilMaskSeparate(gl.FRONT, next.stencilWriteMaskFront);\r\n      gl.stencilOpSeparate(gl.FRONT, next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n      gl.stencilFuncSeparate(gl.BACK, next.stencilFuncBack, next.stencilRefBack, next.stencilMaskBack);\r\n      gl.stencilMaskSeparate(gl.BACK, next.stencilWriteMaskBack);\r\n      gl.stencilOpSeparate(gl.BACK, next.stencilFailOpBack, next.stencilZFailOpBack, next.stencilZPassOpBack);\r\n    } else {\r\n      gl.stencilFunc(next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n      gl.stencilMask(next.stencilWriteMaskFront);\r\n      gl.stencilOp(next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (next.stencilSep) {\r\n    // front\r\n    if (\r\n      cur.stencilFuncFront !== next.stencilFuncFront ||\r\n      cur.stencilRefFront !== next.stencilRefFront ||\r\n      cur.stencilMaskFront !== next.stencilMaskFront\r\n    ) {\r\n      gl.stencilFuncSeparate(gl.FRONT, next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n    }\r\n    if (cur.stencilWriteMaskFront !== next.stencilWriteMaskFront) {\r\n      gl.stencilMaskSeparate(gl.FRONT, next.stencilWriteMaskFront);\r\n    }\r\n    if (\r\n      cur.stencilFailOpFront !== next.stencilFailOpFront ||\r\n      cur.stencilZFailOpFront !== next.stencilZFailOpFront ||\r\n      cur.stencilZPassOpFront !== next.stencilZPassOpFront\r\n    ) {\r\n      gl.stencilOpSeparate(gl.FRONT, next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n    }\r\n\r\n    // back\r\n    if (\r\n      cur.stencilFuncBack !== next.stencilFuncBack ||\r\n      cur.stencilRefBack !== next.stencilRefBack ||\r\n      cur.stencilMaskBack !== next.stencilMaskBack\r\n    ) {\r\n      gl.stencilFuncSeparate(gl.BACK, next.stencilFuncBack, next.stencilRefBack, next.stencilMaskBack);\r\n    }\r\n    if (cur.stencilWriteMaskBack !== next.stencilWriteMaskBack) {\r\n      gl.stencilMaskSeparate(gl.BACK, next.stencilWriteMaskBack);\r\n    }\r\n    if (\r\n      cur.stencilFailOpBack !== next.stencilFailOpBack ||\r\n      cur.stencilZFailOpBack !== next.stencilZFailOpBack ||\r\n      cur.stencilZPassOpBack !== next.stencilZPassOpBack\r\n    ) {\r\n      gl.stencilOpSeparate(gl.BACK, next.stencilFailOpBack, next.stencilZFailOpBack, next.stencilZPassOpBack);\r\n    }\r\n  } else {\r\n    if (\r\n      cur.stencilFuncFront !== next.stencilFuncFront ||\r\n      cur.stencilRefFront !== next.stencilRefFront ||\r\n      cur.stencilMaskFront !== next.stencilMaskFront\r\n    ) {\r\n      gl.stencilFunc(next.stencilFuncFront, next.stencilRefFront, next.stencilMaskFront);\r\n    }\r\n    if (cur.stencilWriteMaskFront !== next.stencilWriteMaskFront) {\r\n      gl.stencilMask(next.stencilWriteMaskFront);\r\n    }\r\n    if (\r\n      cur.stencilFailOpFront !== next.stencilFailOpFront ||\r\n      cur.stencilZFailOpFront !== next.stencilZFailOpFront ||\r\n      cur.stencilZPassOpFront !== next.stencilZPassOpFront\r\n    ) {\r\n      gl.stencilOp(next.stencilFailOpFront, next.stencilZFailOpFront, next.stencilZPassOpFront);\r\n    }\r\n  }\r\n\r\n}\r\n\r\n/**\r\n * _commitCullMode\r\n */\r\nfunction _commitCullMode(gl, cur, next) {\r\n  if (cur.cullMode === next.cullMode) {\r\n    return;\r\n  }\r\n\r\n  if (next.cullMode === enums.CULL_NONE) {\r\n    gl.disable(gl.CULL_FACE);\r\n    return;\r\n  }\r\n\r\n  gl.enable(gl.CULL_FACE);\r\n  gl.cullFace(next.cullMode);\r\n}\r\n\r\n/**\r\n * _commitVertexBuffers\r\n */\r\nfunction _commitVertexBuffers(device, gl, cur, next) {\r\n  let attrsDirty = false;\r\n\r\n  // nothing changed for vertex buffer\r\n  if (next.maxStream === -1) {\r\n    console.warn('VertexBuffer not assigned, please call setVertexBuffer before every draw.');\r\n    return;\r\n  }\r\n\r\n  if (cur.maxStream !== next.maxStream) {\r\n    attrsDirty = true;\r\n  } else if (cur.program !== next.program) {\r\n    attrsDirty = true;\r\n  } else {\r\n    for (let i = 0; i < next.maxStream + 1; ++i) {\r\n      if (\r\n        cur.vertexBuffers[i] !== next.vertexBuffers[i] ||\r\n        cur.vertexBufferOffsets[i] !== next.vertexBufferOffsets[i]\r\n      ) {\r\n        attrsDirty = true;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (attrsDirty) {\r\n    for (let i = 0; i < device._caps.maxVertexAttribs; ++i) {\r\n      device._newAttributes[i] = 0;\r\n    }\r\n\r\n    for (let i = 0; i < next.maxStream + 1; ++i) {\r\n      let vb = next.vertexBuffers[i];\r\n      let vbOffset = next.vertexBufferOffsets[i];\r\n      if (!vb) {\r\n        continue;\r\n      }\r\n\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, vb._glID);\r\n\r\n      for (let j = 0; j < next.program._attributes.length; ++j) {\r\n        let attr = next.program._attributes[j];\r\n\r\n        let el = vb._format.element(attr.name);\r\n        if (!el) {\r\n          console.warn(`Can not find vertex attribute: ${attr.name}`);\r\n          continue;\r\n        }\r\n\r\n        if (device._enabledAttributes[attr.location] === 0) {\r\n          gl.enableVertexAttribArray(attr.location);\r\n          device._enabledAttributes[attr.location] = 1;\r\n        }\r\n        device._newAttributes[attr.location] = 1;\r\n\r\n        gl.vertexAttribPointer(\r\n          attr.location,\r\n          el.num,\r\n          el.type,\r\n          el.normalize,\r\n          el.stride,\r\n          el.offset + vbOffset * el.stride\r\n        );\r\n      }\r\n    }\r\n\r\n    // disable unused attributes\r\n    for (let i = 0; i < device._caps.maxVertexAttribs; ++i) {\r\n      if (device._enabledAttributes[i] !== device._newAttributes[i]) {\r\n        gl.disableVertexAttribArray(i);\r\n        device._enabledAttributes[i] = 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * _commitTextures\r\n */\r\nfunction _commitTextures(gl, cur, next) {\r\n  for (let i = 0; i < next.maxTextureSlot + 1; ++i) {\r\n    if (cur.textureUnits[i] !== next.textureUnits[i]) {\r\n      let texture = next.textureUnits[i];\r\n      if (texture !== undefined && texture._glID !== -1) {\r\n        gl.activeTexture(gl.TEXTURE0 + i);\r\n        gl.bindTexture(texture._target, texture._glID);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * _attach\r\n */\r\nfunction _attach(gl, location, attachment, face = 0) {\r\n  if (attachment instanceof Texture2D) {\r\n    gl.framebufferTexture2D(\r\n      gl.FRAMEBUFFER,\r\n      location,\r\n      gl.TEXTURE_2D,\r\n      attachment._glID,\r\n      0\r\n    );\r\n  } else if (attachment instanceof TextureCube) {\r\n    gl.framebufferTexture2D(\r\n      gl.FRAMEBUFFER,\r\n      location,\r\n      gl.TEXTURE_CUBE_MAP_POSITIVE_X + face,\r\n      attachment._glID,\r\n      0\r\n    );\r\n  } else {\r\n    gl.framebufferRenderbuffer(\r\n      gl.FRAMEBUFFER,\r\n      location,\r\n      gl.RENDERBUFFER,\r\n      attachment._glID\r\n    );\r\n  }\r\n}\r\n\r\nexport default class Device {\r\n  /**\r\n   * @param {HTMLElement} canvasEL\r\n   * @param {object} opts\r\n   */\r\n  constructor(canvasEL, opts) {\r\n    let gl;\r\n\r\n    // default options\r\n    opts = opts || {};\r\n    if (opts.alpha === undefined) {\r\n      opts.alpha = false;\r\n    }\r\n    if (opts.stencil === undefined) {\r\n      opts.stencil = true;\r\n    }\r\n    if (opts.depth === undefined) {\r\n      opts.depth = true;\r\n    }\r\n    if (opts.antialias === undefined) {\r\n      opts.antialias = false;\r\n    }\r\n    // NOTE: it is said the performance improved in mobile device with this flag off.\r\n    if (opts.preserveDrawingBuffer === undefined) {\r\n      opts.preserveDrawingBuffer = false;\r\n    }\r\n\r\n    try {\r\n      gl = canvasEL.getContext('webgl', opts);\r\n    } catch (err) {\r\n      console.error(err);\r\n      return;\r\n    }\r\n\r\n    // statics\r\n    this._gl = gl;\r\n    this._extensions = {};\r\n    this._caps = {}; // capability\r\n    this._stats = {\r\n      texture: 0,\r\n      vb: 0,\r\n      ib: 0,\r\n      drawcalls: 0,\r\n    };\r\n\r\n    this._initExtensions([\r\n      'EXT_texture_filter_anisotropic',\r\n      'EXT_shader_texture_lod',\r\n      'OES_standard_derivatives',\r\n      'OES_texture_float',\r\n      'OES_texture_float_linear',\r\n      'OES_texture_half_float',\r\n      'OES_texture_half_float_linear',\r\n      'OES_vertex_array_object',\r\n      'WEBGL_compressed_texture_atc',\r\n      'WEBGL_compressed_texture_etc1',\r\n      'WEBGL_compressed_texture_pvrtc',\r\n      'WEBGL_compressed_texture_s3tc',\r\n      'WEBGL_depth_texture',\r\n      'WEBGL_draw_buffers',\r\n    ]);\r\n    this._initCaps();\r\n    this._initStates();\r\n\r\n    // runtime\r\n    State.initDefault(this);\r\n    this._current = new State(this);\r\n    this._next = new State(this);\r\n    this._uniforms = {}; // name: { value, num, dirty }\r\n    this._vx = this._vy = this._vw = this._vh = 0;\r\n    this._sx = this._sy = this._sw = this._sh = 0;\r\n    this._framebuffer = null;\r\n\r\n    //\r\n    this._enabledAttributes = new Array(this._caps.maxVertexAttribs);\r\n    this._newAttributes = new Array(this._caps.maxVertexAttribs);\r\n\r\n    for (let i = 0; i < this._caps.maxVertexAttribs; ++i) {\r\n      this._enabledAttributes[i] = 0;\r\n      this._newAttributes[i] = 0;\r\n    }\r\n  }\r\n\r\n  _initExtensions(extensions) {\r\n    const gl = this._gl;\r\n\r\n    for (let i = 0; i < extensions.length; ++i) {\r\n      let name = extensions[i];\r\n\r\n      try {\r\n        let ext = gl.getExtension(name);\r\n        if (ext) {\r\n          this._extensions[name] = ext;\r\n        }\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  _initCaps() {\r\n    const gl = this._gl;\r\n    const extDrawBuffers = this.ext('WEBGL_draw_buffers');\r\n\r\n    this._caps.maxVertexStreams = 4;\r\n    this._caps.maxVertexTextures = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);\r\n    this._caps.maxFragUniforms = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);\r\n    this._caps.maxTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\r\n    this._caps.maxVertexAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\r\n\r\n    this._caps.maxDrawBuffers = extDrawBuffers ? gl.getParameter(extDrawBuffers.MAX_DRAW_BUFFERS_WEBGL) : 1;\r\n    this._caps.maxColorAttachments = extDrawBuffers ? gl.getParameter(extDrawBuffers.MAX_COLOR_ATTACHMENTS_WEBGL) : 1;\r\n  }\r\n\r\n  _initStates() {\r\n    const gl = this._gl;\r\n\r\n    // gl.frontFace(gl.CCW);\r\n    gl.disable(gl.BLEND);\r\n    gl.blendFunc(gl.ONE, gl.ZERO);\r\n    gl.blendEquation(gl.FUNC_ADD);\r\n    gl.blendColor(1,1,1,1);\r\n\r\n    gl.colorMask(true, true, true, true);\r\n\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.cullFace(gl.BACK);\r\n\r\n    gl.disable(gl.DEPTH_TEST);\r\n    gl.depthFunc(gl.LESS);\r\n    gl.depthMask(false);\r\n    gl.disable(gl.POLYGON_OFFSET_FILL);\r\n    gl.depthRange(0,1);\r\n\r\n    gl.disable(gl.STENCIL_TEST);\r\n    gl.stencilFunc(gl.ALWAYS, 0, 0xFF);\r\n    gl.stencilMask(0xFF);\r\n    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\r\n\r\n    // TODO:\r\n    // this.setAlphaToCoverage(false);\r\n    // this.setTransformFeedbackBuffer(null);\r\n    // this.setRaster(true);\r\n    // this.setDepthBias(false);\r\n\r\n    gl.clearDepth(1);\r\n    gl.clearColor(0, 0, 0, 0);\r\n    gl.clearStencil(0);\r\n\r\n    gl.disable(gl.SCISSOR_TEST);\r\n  }\r\n\r\n  _restoreTexture(unit) {\r\n    const gl = this._gl;\r\n\r\n    let texture = this._current.textureUnits[unit];\r\n    if (texture && texture._glID !== -1) {\r\n      gl.bindTexture(texture._target, texture._glID);\r\n    } else {\r\n      gl.bindTexture(gl.TEXTURE_2D, null);\r\n    }\r\n  }\r\n\r\n  _restoreIndexBuffer () {\r\n    const gl = this._gl;\r\n\r\n    let ib = this._current.indexBuffer;\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ib ? ib._glID : null);\r\n  }\r\n\r\n  /**\r\n   * @method ext\r\n   * @param {string} name\r\n   */\r\n  ext(name) {\r\n    return this._extensions[name];\r\n  }\r\n\r\n  // ===============================\r\n  // Immediate Settings\r\n  // ===============================\r\n\r\n  /**\r\n   * @method setFrameBuffer\r\n   * @param {FrameBuffer} fb - null means use the backbuffer\r\n   */\r\n  setFrameBuffer(fb) {\r\n    if (this._framebuffer === fb) {\r\n      return;\r\n    }\r\n\r\n    this._framebuffer = fb;\r\n    const gl = this._gl;\r\n\r\n    if (fb === null) {\r\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n      return;\r\n    }\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fb._glID);\r\n\r\n    let numColors = this._framebuffer._colors.length;\r\n    for (let i = 0; i < numColors; ++i) {\r\n      let colorBuffer = this._framebuffer._colors[i];\r\n      _attach(gl, gl.COLOR_ATTACHMENT0 + i, colorBuffer);\r\n\r\n      // TODO: what about cubemap face??? should be the target parameter for colorBuffer\r\n    }\r\n    for (let i = numColors; i < this._caps.maxColorAttachments; ++i) {\r\n      gl.framebufferTexture2D(\r\n        gl.FRAMEBUFFER,\r\n        gl.COLOR_ATTACHMENT0 + i,\r\n        gl.TEXTURE_2D,\r\n        null,\r\n        0\r\n      );\r\n    }\r\n\r\n    if (this._framebuffer._depth) {\r\n      _attach(gl, gl.DEPTH_ATTACHMENT, this._framebuffer._depth);\r\n    }\r\n\r\n    if (this._framebuffer._stencil) {\r\n      _attach(gl, gl.STENCIL_ATTACHMENT, fb._stencil);\r\n    }\r\n\r\n    if (this._framebuffer._depthStencil) {\r\n      _attach(gl, gl.DEPTH_STENCIL_ATTACHMENT, fb._depthStencil);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method setViewport\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   * @param {Number} w\r\n   * @param {Number} h\r\n   */\r\n  setViewport(x, y, w, h) {\r\n    if (\r\n      this._vx !== x ||\r\n      this._vy !== y ||\r\n      this._vw !== w ||\r\n      this._vh !== h\r\n    ) {\r\n      this._gl.viewport(x, y, w, h);\r\n      this._vx = x;\r\n      this._vy = y;\r\n      this._vw = w;\r\n      this._vh = h;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method setScissor\r\n   * @param {Number} x\r\n   * @param {Number} y\r\n   * @param {Number} w\r\n   * @param {Number} h\r\n   */\r\n  setScissor(x, y, w, h) {\r\n    if (\r\n      this._sx !== x ||\r\n      this._sy !== y ||\r\n      this._sw !== w ||\r\n      this._sh !== h\r\n    ) {\r\n      this._gl.scissor(x, y, w, h);\r\n      this._sx = x;\r\n      this._sy = y;\r\n      this._sw = w;\r\n      this._sh = h;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method clear\r\n   * @param {Object} opts\r\n   * @param {Array} opts.color\r\n   * @param {Number} opts.depth\r\n   * @param {Number} opts.stencil\r\n   */\r\n  clear(opts) {\r\n    const gl = this._gl;\r\n    let flags = 0;\r\n\r\n    if (opts.color !== undefined) {\r\n      flags |= gl.COLOR_BUFFER_BIT;\r\n      gl.clearColor(opts.color[0], opts.color[1], opts.color[2], opts.color[3]);\r\n    }\r\n\r\n    if (opts.depth !== undefined) {\r\n      flags |= gl.DEPTH_BUFFER_BIT;\r\n      gl.clearDepth(opts.depth);\r\n\r\n      gl.enable(gl.DEPTH_TEST);\r\n      gl.depthMask(true);\r\n      gl.depthFunc(gl.ALWAYS);\r\n    }\r\n\r\n    if (opts.stencil !== undefined) {\r\n      flags |= gl.STENCIL_BUFFER_BIT;\r\n      gl.clearStencil(opts.stencil);\r\n    }\r\n\r\n    gl.clear(flags);\r\n\r\n    // restore depth-write\r\n    if (opts.depth !== undefined) {\r\n      if (this._current.depthTest === false) {\r\n        gl.disable(gl.DEPTH_TEST);\r\n      } else {\r\n        if (this._current.depthWrite === false) {\r\n          gl.depthMask(false);\r\n        }\r\n        if (this._current.depthFunc !== enums.DS_FUNC_ALWAYS) {\r\n          gl.depthFunc(this._current.depthFunc);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // ===============================\r\n  // Deferred States\r\n  // ===============================\r\n\r\n  /**\r\n   * @method enableBlend\r\n   */\r\n  enableBlend() {\r\n    this._next.blend = true;\r\n  }\r\n\r\n  /**\r\n   * @method enableDepthTest\r\n   */\r\n  enableDepthTest() {\r\n    this._next.depthTest = true;\r\n  }\r\n\r\n  /**\r\n   * @method enableDepthWrite\r\n   */\r\n  enableDepthWrite() {\r\n    this._next.depthWrite = true;\r\n  }\r\n\r\n  /**\r\n   * @method enableStencilTest\r\n   */\r\n  enableStencilTest() {\r\n    this._next.stencilTest = true;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilFunc\r\n   * @param {DS_FUNC_*} func\r\n   * @param {Number} ref\r\n   * @param {Number} mask\r\n   */\r\n  setStencilFunc(func, ref, mask) {\r\n    this._next.stencilSep = false;\r\n    this._next.stencilFuncFront = this._next.stencilFuncBack = func;\r\n    this._next.stencilRefFront = this._next.stencilRefBack = ref;\r\n    this._next.stencilMaskFront = this._next.stencilMaskBack = mask;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilFuncFront\r\n   * @param {DS_FUNC_*} func\r\n   * @param {Number} ref\r\n   * @param {Number} mask\r\n   */\r\n  setStencilFuncFront(func, ref, mask) {\r\n    this._next.stencilSep = true;\r\n    this._next.stencilFuncFront = func;\r\n    this._next.stencilRefFront = ref;\r\n    this._next.stencilMaskFront = mask;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilFuncBack\r\n   * @param {DS_FUNC_*} func\r\n   * @param {Number} ref\r\n   * @param {Number} mask\r\n   */\r\n  setStencilFuncBack(func, ref, mask) {\r\n    this._next.stencilSep = true;\r\n    this._next.stencilFuncBack = func;\r\n    this._next.stencilRefBack = ref;\r\n    this._next.stencilMaskBack = mask;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilOp\r\n   * @param {STENCIL_OP_*} failOp\r\n   * @param {STENCIL_OP_*} zFailOp\r\n   * @param {STENCIL_OP_*} zPassOp\r\n   * @param {Number} writeMask\r\n   */\r\n  setStencilOp(failOp, zFailOp, zPassOp, writeMask) {\r\n    this._next.stencilFailOpFront = this._next.stencilFailOpBack = failOp;\r\n    this._next.stencilZFailOpFront = this._next.stencilZFailOpBack = zFailOp;\r\n    this._next.stencilZPassOpFront = this._next.stencilZPassOpBack = zPassOp;\r\n    this._next.stencilWriteMaskFront = this._next.stencilWriteMaskBack = writeMask;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilOpFront\r\n   * @param {STENCIL_OP_*} failOp\r\n   * @param {STENCIL_OP_*} zFailOp\r\n   * @param {STENCIL_OP_*} zPassOp\r\n   * @param {Number} writeMask\r\n   */\r\n  setStencilOpFront(failOp, zFailOp, zPassOp, writeMask) {\r\n    this._next.stencilSep = true;\r\n    this._next.stencilFailOpFront = failOp;\r\n    this._next.stencilZFailOpFront = zFailOp;\r\n    this._next.stencilZPassOpFront = zPassOp;\r\n    this._next.stencilWriteMaskFront = writeMask;\r\n  }\r\n\r\n  /**\r\n   * @method setStencilOpBack\r\n   * @param {STENCIL_OP_*} failOp\r\n   * @param {STENCIL_OP_*} zFailOp\r\n   * @param {STENCIL_OP_*} zPassOp\r\n   * @param {Number} writeMask\r\n   */\r\n  setStencilOpBack(failOp, zFailOp, zPassOp, writeMask) {\r\n    this._next.stencilSep = true;\r\n    this._next.stencilFailOpBack = failOp;\r\n    this._next.stencilZFailOpBack = zFailOp;\r\n    this._next.stencilZPassOpBack = zPassOp;\r\n    this._next.stencilWriteMaskBack = writeMask;\r\n  }\r\n\r\n  /**\r\n   * @method setDepthFunc\r\n   * @param {DS_FUNC_*} depthFunc\r\n   */\r\n  setDepthFunc(depthFunc) {\r\n    this._next.depthFunc = depthFunc;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendColor32\r\n   * @param {Number} rgba\r\n   */\r\n  setBlendColor32(rgba) {\r\n    this._next.blendColor = rgba;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendColor\r\n   * @param {Number} r\r\n   * @param {Number} g\r\n   * @param {Number} b\r\n   * @param {Number} a\r\n   */\r\n  setBlendColor(r, g, b, a) {\r\n    this._next.blendColor = ((r * 255) << 24 | (g * 255) << 16 | (b * 255) << 8 | a * 255) >>> 0;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendFunc\r\n   * @param {BELND_*} src\r\n   * @param {BELND_*} dst\r\n   */\r\n  setBlendFunc(src, dst) {\r\n    this._next.blendSep = false;\r\n    this._next.blendSrc = src;\r\n    this._next.blendDst = dst;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendFuncSep\r\n   * @param {BELND_*} src\r\n   * @param {BELND_*} dst\r\n   * @param {BELND_*} srcAlpha\r\n   * @param {BELND_*} dstAlpha\r\n   */\r\n  setBlendFuncSep(src, dst, srcAlpha, dstAlpha) {\r\n    this._next.blendSep = true;\r\n    this._next.blendSrc = src;\r\n    this._next.blendDst = dst;\r\n    this._next.blendSrcAlpha = srcAlpha;\r\n    this._next.blendDstAlpha = dstAlpha;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendEq\r\n   * @param {BELND_FUNC_*} eq\r\n   */\r\n  setBlendEq(eq) {\r\n    this._next.blendSep = false;\r\n    this._next.blendEq = eq;\r\n  }\r\n\r\n  /**\r\n   * @method setBlendEqSep\r\n   * @param {BELND_FUNC_*} eq\r\n   * @param {BELND_FUNC_*} alphaEq\r\n   */\r\n  setBlendEqSep(eq, alphaEq) {\r\n    this._next.blendSep = true;\r\n    this._next.blendEq = eq;\r\n    this._next.blendAlphaEq = alphaEq;\r\n  }\r\n\r\n  /**\r\n   * @method setCullMode\r\n   * @param {CULL_*} mode\r\n   */\r\n  setCullMode(mode) {\r\n    this._next.cullMode = mode;\r\n  }\r\n\r\n  /**\r\n   * @method setVertexBuffer\r\n   * @param {Number} stream\r\n   * @param {VertexBuffer} buffer\r\n   * @param {Number} start - start vertex\r\n   */\r\n  setVertexBuffer(stream, buffer, start = 0) {\r\n    this._next.vertexBuffers[stream] = buffer;\r\n    this._next.vertexBufferOffsets[stream] = start;\r\n    if (this._next.maxStream < stream) {\r\n      this._next.maxStream = stream;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method setIndexBuffer\r\n   * @param {IndexBuffer} buffer\r\n   */\r\n  setIndexBuffer(buffer) {\r\n    this._next.indexBuffer = buffer;\r\n  }\r\n\r\n  /**\r\n   * @method setProgram\r\n   * @param {Program} program\r\n   */\r\n  setProgram(program) {\r\n    this._next.program = program;\r\n  }\r\n\r\n  /**\r\n   * @method setTexture\r\n   * @param {String} name\r\n   * @param {Texture} texture\r\n   * @param {Number} slot\r\n   */\r\n  setTexture(name, texture, slot) {\r\n    if (slot >= this._caps.maxTextureUnits) {\r\n      console.warn(`Can not set texture ${name} at stage ${slot}, max texture exceed: ${this._caps.maxTextureUnits}`);\r\n      return;\r\n    }\r\n\r\n    this._next.textureUnits[slot] = texture;\r\n    this.setUniform(name, slot);\r\n\r\n    if (this._next.maxTextureSlot < slot) {\r\n      this._next.maxTextureSlot = slot;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method setTextureArray\r\n   * @param {String} name\r\n   * @param {Array} textures\r\n   * @param {Int32Array} slots\r\n   */\r\n  setTextureArray(name, textures, slots) {\r\n    let len = textures.length;\r\n    if (len >= this._caps.maxTextureUnits) {\r\n      console.warn(`Can not set ${len} textures for ${name}, max texture exceed: ${this._caps.maxTextureUnits}`);\r\n      return;\r\n    }\r\n    for (let i = 0; i < len; ++i) {\r\n      let slot = slots[i];\r\n      this._next.textureUnits[slot] = textures[i];\r\n    }\r\n    this.setUniform(name, slots);\r\n  }\r\n\r\n  /**\r\n   * @method setUniform\r\n   * @param {String} name\r\n   * @param {*} value\r\n   */\r\n  setUniform(name, value) {\r\n    let uniform = this._uniforms[name];\r\n    if (!uniform) {\r\n      uniform = {\r\n        dirty: true,\r\n        value: value,\r\n      };\r\n    } else {\r\n      uniform.dirty = true;\r\n      uniform.value = value;\r\n    }\r\n    this._uniforms[name] = uniform;\r\n  }\r\n\r\n  /**\r\n   * @method setPrimitiveType\r\n   * @param {PT_*} type\r\n   */\r\n  setPrimitiveType(type) {\r\n    this._next.primitiveType = type;\r\n  }\r\n\r\n  /**\r\n   * @method draw\r\n   * @param {Number} base\r\n   * @param {Number} count\r\n   */\r\n  draw(base, count) {\r\n    const gl = this._gl;\r\n    let cur = this._current;\r\n    let next = this._next;\r\n\r\n    // commit blend\r\n    _commitBlendStates(gl, cur, next);\r\n\r\n    // commit depth\r\n    _commitDepthStates(gl, cur, next);\r\n\r\n    // commit stencil\r\n    _commitStencilStates(gl, cur, next);\r\n\r\n    // commit cull\r\n    _commitCullMode(gl, cur, next);\r\n\r\n    // commit vertex-buffer\r\n    _commitVertexBuffers(this, gl, cur, next);\r\n\r\n    // commit index-buffer\r\n    if (cur.indexBuffer !== next.indexBuffer) {\r\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, next.indexBuffer ? next.indexBuffer._glID : null);\r\n    }\r\n\r\n    // commit program\r\n    let programDirty = false;\r\n    if (cur.program !== next.program) {\r\n      if (next.program._linked) {\r\n        gl.useProgram(next.program._glID);\r\n      } else {\r\n        console.warn('Failed to use program: has not linked yet.');\r\n      }\r\n      programDirty = true;\r\n    }\r\n\r\n    // commit texture/sampler\r\n    _commitTextures(gl, cur, next);\r\n\r\n    // commit uniforms\r\n    for (let i = 0; i < next.program._uniforms.length; ++i) {\r\n      let uniformInfo = next.program._uniforms[i];\r\n      let uniform = this._uniforms[uniformInfo.name];\r\n      if (!uniform) {\r\n        // console.warn(`Can not find uniform ${uniformInfo.name}`);\r\n        continue;\r\n      }\r\n\r\n      if (!programDirty && !uniform.dirty) {\r\n        continue;\r\n      }\r\n\r\n      uniform.dirty = false;\r\n\r\n      // TODO: please consider array uniform: uniformInfo.size > 0\r\n\r\n      let commitFunc = (uniformInfo.size === undefined) ? _type2uniformCommit[uniformInfo.type] : _type2uniformArrayCommit[uniformInfo.type];\r\n      if (!commitFunc) {\r\n        console.warn(`Can not find commit function for uniform ${uniformInfo.name}`);\r\n        continue;\r\n      }\r\n\r\n      commitFunc(gl, uniformInfo.location, uniform.value);\r\n    }\r\n\r\n    // drawPrimitives\r\n    if (next.indexBuffer) {\r\n      gl.drawElements(\r\n        this._next.primitiveType,\r\n        count,\r\n        next.indexBuffer._format,\r\n        base * next.indexBuffer._bytesPerIndex\r\n      );\r\n    } else {\r\n      gl.drawArrays(\r\n        this._next.primitiveType,\r\n        base,\r\n        count\r\n      );\r\n    }\r\n\r\n    // TODO: autogen mipmap for color buffer\r\n    // if (this._framebuffer && this._framebuffer.colors[0].mipmap) {\r\n    //   gl.bindTexture(this._framebuffer.colors[i]._target, colors[i]._glID);\r\n    //   gl.generateMipmap(this._framebuffer.colors[i]._target);\r\n    // }\r\n\r\n    // update stats\r\n    this._stats.drawcalls += 1;\r\n\r\n    // reset states\r\n    cur.set(next);\r\n    next.reset();\r\n  }\r\n}","import {\r\n  enums,\r\n  attrTypeBytes,\r\n  glFilter,\r\n  glTextureFmt,\r\n} from './enums';\r\n\r\nimport VertexFormat from './vertex-format';\r\nimport IndexBuffer from './index-buffer';\r\nimport VertexBuffer from './vertex-buffer';\r\nimport Program from './program';\r\nimport Texture from './texture';\r\nimport Texture2D from './texture-2d';\r\nimport TextureCube from './texture-cube';\r\nimport RenderBuffer from './render-buffer';\r\nimport FrameBuffer from './frame-buffer';\r\nimport Device from './device';\r\n\r\nlet gfx = {\r\n  // classes\r\n  VertexFormat,\r\n  IndexBuffer,\r\n  VertexBuffer,\r\n  Program,\r\n  Texture,\r\n  Texture2D,\r\n  TextureCube,\r\n  RenderBuffer,\r\n  FrameBuffer,\r\n  Device,\r\n\r\n  // functions\r\n  attrTypeBytes,\r\n  glFilter,\r\n  glTextureFmt,\r\n};\r\nObject.assign(gfx, enums);\r\n\r\nexport default gfx;","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nexport default {\r\n  // projection\r\n  PROJ_PERSPECTIVE: 0,\r\n  PROJ_ORTHO: 1,\r\n\r\n  // lights\r\n  LIGHT_DIRECTIONAL: 0,\r\n  LIGHT_POINT: 1,\r\n  LIGHT_SPOT: 2,\r\n\r\n  // shadows\r\n  SHADOW_NONE: 0,\r\n  SHADOW_HARD: 1,\r\n  SHADOW_SOFT: 2,\r\n\r\n  // parameter type\r\n  PARAM_INT:             0,\r\n  PARAM_INT2:            1,\r\n  PARAM_INT3:            2,\r\n  PARAM_INT4:            3,\r\n  PARAM_FLOAT:           4,\r\n  PARAM_FLOAT2:          5,\r\n  PARAM_FLOAT3:          6,\r\n  PARAM_FLOAT4:          7,\r\n  PARAM_COLOR3:          8,\r\n  PARAM_COLOR4:          9,\r\n  PARAM_MAT2:           10,\r\n  PARAM_MAT3:           11,\r\n  PARAM_MAT4:           12,\r\n  PARAM_TEXTURE_2D:     13,\r\n  PARAM_TEXTURE_CUBE:   14,\r\n\r\n  // clear flags\r\n  CLEAR_COLOR: 1,\r\n  CLEAR_DEPTH: 2,\r\n  CLEAR_STENCIL: 4,\r\n  CLEAR_SKYBOX: 8,\r\n\r\n  //\r\n  BUFFER_VIEW_INT8: 0,\r\n  BUFFER_VIEW_UINT8: 1,\r\n  BUFFER_VIEW_INT16: 2,\r\n  BUFFER_VIEW_UINT16: 3,\r\n  BUFFER_VIEW_INT32: 4,\r\n  BUFFER_VIEW_UINT32: 5,\r\n  BUFFER_VIEW_FLOAT32: 6,\r\n};\r\n","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\n\r\nexport default class InputAssembler {\r\n  constructor(vb, ib, pt = gfx.PT_TRIANGLES) {\r\n    this._vertexBuffer = vb;\r\n    this._indexBuffer = ib;\r\n    this._primitiveType = pt;\r\n    this._start = 0;\r\n    this._count = -1;\r\n\r\n    // TODO: instancing data\r\n    // this._stream = 0;\r\n  }\r\n\r\n  /**\r\n   * @property {Number} count The number of indices or vertices to dispatch in the draw call.\r\n   */\r\n  get count() {\r\n    if (this._count !== -1) {\r\n      return this._count;\r\n    }\r\n\r\n    if (this._indexBuffer) {\r\n      return this._indexBuffer.count;\r\n    }\r\n\r\n    return this._vertexBuffer.count;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\n\r\nexport default class Pass {\r\n  constructor(name) {\r\n    this._programName = name;\r\n\r\n    // cullmode\r\n    this._cullMode = gfx.CULL_BACK;\r\n\r\n    // blending\r\n    this._blend = false;\r\n    this._blendEq = gfx.BLEND_FUNC_ADD;\r\n    this._blendAlphaEq = gfx.BLEND_FUNC_ADD;\r\n    this._blendSrc = gfx.BLEND_ONE;\r\n    this._blendDst = gfx.BLEND_ZERO;\r\n    this._blendSrcAlpha = gfx.BLEND_ONE;\r\n    this._blendDstAlpha = gfx.BLEND_ZERO;\r\n    this._blendColor = 0xffffffff;\r\n\r\n    // depth\r\n    this._depthTest = false;\r\n    this._depthWrite = false;\r\n    this._depthFunc = gfx.DS_FUNC_LESS,\r\n\r\n      // stencil\r\n      this._stencilTest = false;\r\n    // front\r\n    this._stencilFuncFront = gfx.DS_FUNC_ALWAYS;\r\n    this._stencilRefFront = 0;\r\n    this._stencilMaskFront = 0xff;\r\n    this._stencilFailOpFront = gfx.STENCIL_OP_KEEP;\r\n    this._stencilZFailOpFront = gfx.STENCIL_OP_KEEP;\r\n    this._stencilZPassOpFront = gfx.STENCIL_OP_KEEP;\r\n    this._stencilWriteMaskFront = 0xff;\r\n    // back\r\n    this._stencilFuncBack = gfx.DS_FUNC_ALWAYS;\r\n    this._stencilRefBack = 0;\r\n    this._stencilMaskBack = 0xff;\r\n    this._stencilFailOpBack = gfx.STENCIL_OP_KEEP;\r\n    this._stencilZFailOpBack = gfx.STENCIL_OP_KEEP;\r\n    this._stencilZPassOpBack = gfx.STENCIL_OP_KEEP;\r\n    this._stencilWriteMaskBack = 0xff;\r\n  }\r\n\r\n  setCullMode(cullMode) {\r\n    this._cullMode = cullMode;\r\n  }\r\n\r\n  setBlend(\r\n    blendEq = gfx.BLEND_FUNC_ADD,\r\n    blendSrc = gfx.BLEND_ONE,\r\n    blendDst = gfx.BLEND_ZERO,\r\n    blendAlphaEq = gfx.BLEND_FUNC_ADD,\r\n    blendSrcAlpha = gfx.BLEND_ONE,\r\n    blendDstAlpha = gfx.BLEND_ZERO,\r\n    blendColor = 0xffffffff\r\n  ) {\r\n    this._blend = true;\r\n    this._blendEq = blendEq;\r\n    this._blendSrc = blendSrc;\r\n    this._blendDst = blendDst;\r\n    this._blendAlphaEq = blendAlphaEq;\r\n    this._blendSrcAlpha = blendSrcAlpha;\r\n    this._blendDstAlpha = blendDstAlpha;\r\n    this._blendColor = blendColor;\r\n  }\r\n\r\n  setDepth(\r\n    depthTest = false,\r\n    depthWrite = false,\r\n    depthFunc = gfx.DS_FUNC_LESS\r\n  ) {\r\n    this._depthTest = depthTest;\r\n    this._depthWrite = depthWrite;\r\n    this._depthFunc = depthFunc;\r\n  }\r\n\r\n  setStencilFront(\r\n    enabled = false,\r\n    stencilFunc = gfx.DS_FUNC_ALWAYS,\r\n    stencilRef = 0,\r\n    stencilMask = 0xff,\r\n    stencilFailOp = gfx.STENCIL_OP_KEEP,\r\n    stencilZFailOp = gfx.STENCIL_OP_KEEP,\r\n    stencilZPassOp = gfx.STENCIL_OP_KEEP,\r\n    stencilWriteMask = 0xff\r\n  ) {\r\n    this._stencilTest = enabled;\r\n    this._stencilFuncFront = stencilFunc;\r\n    this._stencilRefFront = stencilRef;\r\n    this._stencilMaskFront = stencilMask;\r\n    this._stencilFailOpFront = stencilFailOp;\r\n    this._stencilZFailOpFront = stencilZFailOp;\r\n    this._stencilZPassOpFront = stencilZPassOp;\r\n    this._stencilWriteMaskFront = stencilWriteMask;\r\n  }\r\n\r\n  setStencilBack(\r\n    enabled = false,\r\n    stencilFunc = gfx.DS_FUNC_ALWAYS,\r\n    stencilRef = 0,\r\n    stencilMask = 0xff,\r\n    stencilFailOp = gfx.STENCIL_OP_KEEP,\r\n    stencilZFailOp = gfx.STENCIL_OP_KEEP,\r\n    stencilZPassOp = gfx.STENCIL_OP_KEEP,\r\n    stencilWriteMask = 0xff\r\n  ) {\r\n    this._stencilTest = enabled;\r\n    this._stencilFuncBack = stencilFunc;\r\n    this._stencilRefBack = stencilRef;\r\n    this._stencilMaskBack = stencilMask;\r\n    this._stencilFailOpBack = stencilFailOp;\r\n    this._stencilZFailOpBack = stencilZFailOp;\r\n    this._stencilZPassOpBack = stencilZPassOp;\r\n    this._stencilWriteMaskBack = stencilWriteMask;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nlet _stageOffset = 0;\r\nlet _name2stageID = {};\r\n\r\nexport default {\r\n  addStage: function (name) {\r\n    // already added\r\n    if (_name2stageID[name] !== undefined) {\r\n      return;\r\n    }\r\n\r\n    let stageID = 1 << _stageOffset;\r\n    _name2stageID[name] = stageID;\r\n\r\n    _stageOffset += 1;\r\n  },\r\n\r\n  stageID: function (name) {\r\n    let id = _name2stageID[name];\r\n    if (id === undefined) {\r\n      return -1;\r\n    }\r\n    return id;\r\n  },\r\n\r\n  stageIDs: function (nameList) {\r\n    let key = 0;\r\n    for (let i = 0; i < nameList.length; ++i) {\r\n      let id = _name2stageID[nameList[i]];\r\n      if (id !== undefined) {\r\n        key |= id;\r\n      }\r\n    }\r\n    return key;\r\n  }\r\n};","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport config from '../config';\r\n\r\nlet _genID = 0;\r\n\r\nexport default class Technique {\r\n  /**\r\n   * @param {Array} stages\r\n   * @param {Array} parameters\r\n   * @param {Array} passes\r\n   * @param {Number} layer\r\n   */\r\n  constructor(stages, parameters, passes, layer = 0) {\r\n    this._id = _genID++;\r\n    this._stageIDs = config.stageIDs(stages);\r\n    this._parameters = parameters; // {name, type, size, val}\r\n    this._passes = passes;\r\n    this._layer = layer;\r\n    // TODO: this._version = 'webgl' or 'webgl2' // ????\r\n  }\r\n\r\n  setStages(stages) {\r\n    this._stageIDs = config.stageIDs(stages);\r\n  }\r\n\r\n  get passes() {\r\n    return this._passes;\r\n  }\r\n\r\n  get stageIDs() {\r\n    return this._stageIDs;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport config from '../config';\r\n\r\nexport default class Effect {\r\n  /**\r\n   * @param {Array} techniques\r\n   */\r\n  constructor(techniques, properties = {}, defines = [], dependencies = []) {\r\n    this._techniques = techniques;\r\n    this._properties = properties;\r\n    this._defines = defines;\r\n    this._dependencies = dependencies;\r\n\r\n    // TODO: check if params is valid for current technique???\r\n  }\r\n\r\n  clear() {\r\n    this._techniques.length = 0;\r\n    this._properties = null;\r\n    this._defines.length = 0;\r\n  }\r\n\r\n  getTechnique(stage) {\r\n    let stageID = config.stageID(stage);\r\n    if (stageID === -1) {\r\n      return null;\r\n    }\r\n\r\n    for (let i = 0; i < this._techniques.length; ++i) {\r\n      let tech = this._techniques[i];\r\n      if (tech.stageIDs & stageID) {\r\n        return tech;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getProperty(name) {\r\n    return this._properties[name];\r\n  }\r\n\r\n  setProperty(name, value) {\r\n    // TODO: check if params is valid for current technique???\r\n    this._properties[name] = value;\r\n  }\r\n\r\n  getDefine(name) {\r\n    for (let i = 0; i < this._defines.length; ++i) {\r\n      let def = this._defines[i];\r\n      if ( def.name === name ) {\r\n        return def.value;\r\n      }\r\n    }\r\n\r\n    console.warn(`Failed to get define ${name}, define not found.`);\r\n    return null;\r\n  }\r\n\r\n  define(name, value) {\r\n    for (let i = 0; i < this._defines.length; ++i) {\r\n      let def = this._defines[i];\r\n      if ( def.name === name ) {\r\n        def.value = value;\r\n        return;\r\n      }\r\n    }\r\n\r\n    console.warn(`Failed to set define ${name}, define not found.`);\r\n  }\r\n\r\n  extractDefines(out = {}) {\r\n    for (let i = 0; i < this._defines.length; ++i) {\r\n      let def = this._defines[i];\r\n      out[def.name] = def.value;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  extractDependencies(out = {}) {\r\n    for (let i = 0; i < this._dependencies.length; ++i) {\r\n      let dep = this._dependencies[i];\r\n      out[dep.define] = dep.extension;\r\n    }\r\n\r\n    return out;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../gfx';\r\nimport enums from './enums';\r\nimport InputAssembler from './core/input-assembler';\r\nimport Pass from './core/pass';\r\nimport Technique from './core/technique';\r\nimport Effect from './core/effect';\r\n\r\nconst _stageMap = {\r\n  opaque: enums.STAGE_OPAQUE,\r\n  transparent: enums.STAGE_TRANSPARENT,\r\n  shadowcast: enums.STAGE_SHADOWCAST\r\n};\r\n\r\nconst _paramTypeMap = {\r\n  int: enums.PARAM_INT,\r\n  int2: enums.PARAM_INT2,\r\n  int3: enums.PARAM_INT3,\r\n  int4: enums.PARAM_INT4,\r\n  float: enums.PARAM_FLOAT,\r\n  float2: enums.PARAM_FLOAT2,\r\n  float3: enums.PARAM_FLOAT3,\r\n  float4: enums.PARAM_FLOAT4,\r\n  color3: enums.PARAM_COLOR3,\r\n  color4: enums.PARAM_COLOR4,\r\n  mat2: enums.PARAM_MAT2,\r\n  mat3: enums.PARAM_MAT3,\r\n  mat4: enums.PARAM_MAT4,\r\n  tex2d: enums.PARAM_TEXTURE_2D,\r\n  texcube: enums.PARAM_TEXTURE_CUBE\r\n};\r\n\r\nconst _cullMap = {\r\n  none: gfx.CULL_NONE,\r\n  front: gfx.CULL_FRONT,\r\n  back: gfx.CULL_BACK,\r\n  front_and_back: gfx.CULL_FRONT_AND_BACK\r\n};\r\n\r\nconst _blendFuncMap = {\r\n  add: gfx.BLEND_FUNC_ADD,\r\n  sub: gfx.BLEND_FUNC_SUBTRACT,\r\n  reverse_sub: gfx.BLEND_FUNC_REVERSE_SUBTRACT\r\n};\r\n\r\nconst _blendFactorMap = {\r\n  zero: gfx.BLEND_ZERO,\r\n  one: gfx.BLEND_ONE,\r\n  src_color: gfx.BLEND_SRC_COLOR,\r\n  one_minus_src_color: gfx.BLEND_ONE_MINUS_SRC_COLOR,\r\n  dst_color: gfx.BLEND_DST_COLOR,\r\n  one_minus_dst_color: gfx.BLEND_ONE_MINUS_DST_COLOR,\r\n  src_alpha: gfx.BLEND_SRC_ALPHA,\r\n  one_minus_src_alpha: gfx.BLEND_ONE_MINUS_SRC_ALPHA,\r\n  dst_alpha: gfx.BLEND_DST_ALPHA,\r\n  one_minus_dst_alpha: gfx.BLEND_ONE_MINUS_DST_ALPHA,\r\n  constant_color: gfx.BLEND_CONSTANT_COLOR,\r\n  one_minus_constant_color: gfx.BLEND_ONE_MINUS_CONSTANT_COLOR,\r\n  constant_alpha: gfx.BLEND_CONSTANT_ALPHA,\r\n  one_minus_constant_alpha: gfx.BLEND_ONE_MINUS_CONSTANT_ALPHA,\r\n  src_alpha_saturate: gfx.BLEND_SRC_ALPHA_SATURATE\r\n};\r\n\r\nconst _dsFuncMap = {\r\n  never: gfx.DS_FUNC_NEVER,\r\n  less: gfx.DS_FUNC_LESS,\r\n  equal: gfx.DS_FUNC_EQUAL,\r\n  lequal: gfx.DS_FUNC_LEQUAL,\r\n  greater: gfx.DS_FUNC_GREATER,\r\n  notequal: gfx.DS_FUNC_NOTEQUAL,\r\n  gequal: gfx.DS_FUNC_GEQUAL,\r\n  always: gfx.DS_FUNC_ALWAYS\r\n};\r\n\r\nconst _stencilOpMap = {\r\n  keep: gfx.STENCIL_OP_KEEP,\r\n  zero: gfx.STENCIL_OP_ZERO,\r\n  replace: gfx.STENCIL_OP_REPLACE,\r\n  incr: gfx.STENCIL_OP_INCR,\r\n  incr_wrap: gfx.STENCIL_OP_INCR_WRAP,\r\n  decr: gfx.STENCIL_OP_DECR,\r\n  decr_wrap: gfx.STENCIL_OP_DECR_WRAP,\r\n  inver: gfx.STENCIL_OP_INVERT\r\n};\r\n\r\n// blend packing 'func src dst'\r\nfunction _parseBlend(data, callback) {\r\n  let words = data.split(' ');\r\n  callback(\r\n    _blendFuncMap[words[0]],\r\n    _blendFactorMap[words[1]],\r\n    _blendFactorMap[words[2]]\r\n  );\r\n}\r\n\r\n// stencil packing 'func ref mask failOP zfailOp passOp writeMask'\r\nfunction _parseStencil(data, callback) {\r\n  let words = data.split(' ');\r\n  callback(\r\n    _dsFuncMap[words[0]],\r\n    parseInt(words[1]),\r\n    parseInt(words[2]),\r\n    _stencilOpMap[words[3]],\r\n    _stencilOpMap[words[4]],\r\n    _stencilOpMap[words[5]],\r\n    parseInt(words[6])\r\n  );\r\n}\r\n\r\n/**\r\n * @param {object} json\r\n */\r\nexport function parseEffect(json) {\r\n  let techniques = [];\r\n\r\n  json.techniques.forEach(techInfo => {\r\n    // construct passes\r\n    let passes = [];\r\n    techInfo.passes.forEach(passInfo => {\r\n      let pass = new Pass(passInfo.program);\r\n\r\n      // blend\r\n      if (passInfo.blend) {\r\n        pass._blend = true;\r\n\r\n        _parseBlend(passInfo.blend, (func, src, dst) => {\r\n          pass._blendEq = func;\r\n          pass._blendSrc = src;\r\n          pass._blendDst = dst;\r\n        });\r\n\r\n        if (passInfo.blendAlpha) {\r\n          _parseBlend(passInfo.blendAlpha, (func, src, dst) => {\r\n            pass._blendAlphaEq = func;\r\n            pass._blendSrcAlpha = src;\r\n            pass._blendDstAlpha = dst;\r\n          });\r\n        } else {\r\n          pass._blendAlphaEq = pass._blendEq;\r\n          pass._blendSrcAlpha = pass._blendSrc;\r\n          pass._blendDstAlpha = pass._blendDst;\r\n        }\r\n\r\n        if (passInfo.blendColor) {\r\n          pass._blendColor = (\r\n            (passInfo.blendColor[0] * 255) << 24 |\r\n            (passInfo.blendColor[1] * 255) << 16 |\r\n            (passInfo.blendColor[2] * 255) << 8 |\r\n            passInfo.blendColor[3] * 255\r\n          ) >>> 0;\r\n        }\r\n      }\r\n\r\n      // cull\r\n      if (passInfo.cull) {\r\n        pass._cullMode = _cullMap[passInfo.cull];\r\n      }\r\n\r\n      // depth-test\r\n      if (passInfo.depthTest) {\r\n        pass._depthTest = true,\r\n        pass._depthFunc = _dsFuncMap[passInfo.depthTest];\r\n      }\r\n\r\n      // depth-write\r\n      if (passInfo.depthWrite) {\r\n        pass._depthWrite = passInfo.depthWrite;\r\n      }\r\n\r\n      // stencil\r\n      if (passInfo.stencil) {\r\n        pass._stencilTest = true;\r\n\r\n        // \"func ref mask failOp zFailOp zPassOp writeMask\"\r\n        _parseStencil(passInfo.stencil, (func, ref, mask, failOp, zFailOp, zPassOp, writeMask) => {\r\n          pass._stencilFuncFront = func;\r\n          pass._stencilRefFront = func;\r\n          pass._stencilMaskFront = mask;\r\n          pass._stencilFailOpFront = failOp;\r\n          pass._stencilZFailOpFront = zFailOp;\r\n          pass._stencilZPassOpFront = zPassOp;\r\n          pass._stencilWriteMaskFront = writeMask;\r\n        });\r\n\r\n        if (passInfo.stencilBack) {\r\n          _parseStencil(passInfo.stencilBack, (func, ref, mask, failOp, zFailOp, zPassOp, writeMask) => {\r\n            pass._stencilFuncBack = func;\r\n            pass._stencilRefBack = func;\r\n            pass._stencilMaskBack = mask;\r\n            pass._stencilFailOpBack = failOp;\r\n            pass._stencilZFailOpBack = zFailOp;\r\n            pass._stencilZPassOpBack = zPassOp;\r\n            pass._stencilWriteMaskBack = writeMask;\r\n          });\r\n        } else {\r\n          pass._stencilFuncBack = pass._stencilFuncFront;\r\n          pass._stencilRefBack = pass._stencilRefFront;\r\n          pass._stencilMaskBack = pass._stencilMaskFront;\r\n          pass._stencilFailOpBack = pass._stencilFailOpFront;\r\n          pass._stencilZFailOpBack = pass._stencilZFailOpFront;\r\n          pass._stencilZPassOpBack = pass._stencilZPassOpFront;\r\n          pass._stencilWriteMaskBack = pass._stencilWriteMaskFront;\r\n        }\r\n      }\r\n      passes.push(pass);\r\n    });\r\n\r\n    let stage = 0;\r\n    techInfo.stages.split(' ').forEach(stageInfo => {\r\n      stage = stage | _stageMap[stageInfo];\r\n    });\r\n\r\n    let params = [];\r\n    for (let paramKey in techInfo.parameters) {\r\n      params.push({\r\n        name: paramKey,\r\n        type: _paramTypeMap[techInfo.parameters[paramKey].type],\r\n        size: techInfo.parameters.size\r\n      });\r\n    }\r\n\r\n    let tech = new Technique(\r\n      stage,\r\n      params,\r\n      passes\r\n    );\r\n    techniques.push(tech);\r\n  });\r\n\r\n  return new Effect(techniques);\r\n}\r\n\r\n/**\r\n * @param {gfx.Device} device\r\n * @param {Object} data\r\n */\r\nexport function createIA(device, data) {\r\n  if (!data.positions) {\r\n    console.error('The data must have positions field');\r\n    return null;\r\n  }\r\n\r\n  let verts = [];\r\n  let vcount = data.positions.length / 3;\r\n\r\n  for (let i = 0; i < vcount; ++i) {\r\n    verts.push(data.positions[3 * i], data.positions[3 * i + 1], data.positions[3 * i + 2]);\r\n\r\n    if (data.normals) {\r\n      verts.push(data.normals[3 * i], data.normals[3 * i + 1], data.normals[3 * i + 2]);\r\n    }\r\n\r\n    if (data.uvs) {\r\n      verts.push(data.uvs[2 * i], data.uvs[2 * i + 1]);\r\n    }\r\n  }\r\n\r\n  let vfmt = [];\r\n  vfmt.push({ name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 });\r\n  if (data.normals) {\r\n    vfmt.push({ name: gfx.ATTR_NORMAL, type: gfx.ATTR_TYPE_FLOAT32, num: 3 });\r\n  }\r\n  if (data.uvs) {\r\n    vfmt.push({ name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 });\r\n  }\r\n\r\n  let vb = new gfx.VertexBuffer(\r\n    device,\r\n    new gfx.VertexFormat(vfmt),\r\n    gfx.USAGE_STATIC,\r\n    new Float32Array(verts),\r\n    vcount\r\n  );\r\n\r\n  let ib = null;\r\n  if (data.indices) {\r\n    ib = new gfx.IndexBuffer(\r\n      device,\r\n      gfx.INDEX_FMT_UINT16,\r\n      gfx.USAGE_STATIC,\r\n      new Uint16Array(data.indices),\r\n      data.indices.length\r\n    );\r\n  }\r\n\r\n  return new InputAssembler(vb, ib);\r\n}","/**\r\n * @ignore\r\n */\r\nconst _d2r = Math.PI / 180.0;\r\n/**\r\n * @ignore\r\n */\r\nconst _r2d = 180.0 / Math.PI;\r\n\r\n/**\r\n * @property {number} EPSILON\r\n */\r\nexport const EPSILON = 0.000001;\r\n\r\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\r\nexport function equals(a, b) {\r\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\r\n}\r\n\r\n/**\r\n * Tests whether or not the arguments have approximately the same value by given maxDiff\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @param {Number} maxDiff Maximum difference.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\r\nexport function approx(a, b, maxDiff) {\r\n  maxDiff = maxDiff || EPSILON;\r\n  return Math.abs(a - b) <= maxDiff;\r\n}\r\n\r\n/**\r\n * Clamps a value between a minimum float and maximum float value.\r\n *\r\n * @method clamp\r\n * @param {number} val\r\n * @param {number} min\r\n * @param {number} max\r\n * @return {number}\r\n */\r\nexport function clamp(val, min, max) {\r\n  return val < min ? min : val > max ? max : val;\r\n}\r\n\r\n/**\r\n * Clamps a value between 0 and 1.\r\n *\r\n * @method clamp01\r\n * @param {number} val\r\n * @return {number}\r\n */\r\nexport function clamp01(val) {\r\n  return val < 0 ? 0 : val > 1 ? 1 : val;\r\n}\r\n\r\n/**\r\n * @method lerp\r\n * @param {number} from\r\n * @param {number} to\r\n * @param {number} ratio - the interpolation coefficient\r\n * @return {number}\r\n */\r\nexport function lerp(from, to, ratio) {\r\n  return from + (to - from) * ratio;\r\n}\r\n\r\n/**\r\n* Convert Degree To Radian\r\n*\r\n* @param {Number} a Angle in Degrees\r\n*/\r\nexport function toRadian(a) {\r\n  return a * _d2r;\r\n}\r\n\r\n/**\r\n* Convert Radian To Degree\r\n*\r\n* @param {Number} a Angle in Radian\r\n*/\r\nexport function toDegree(a) {\r\n  return a * _r2d;\r\n}\r\n\r\n/**\r\n* @method random\r\n*/\r\nexport const random = Math.random;\r\n\r\n/**\r\n * Returns a floating-point random number between min (inclusive) and max (exclusive).\r\n *\r\n * @method randomRange\r\n * @param {number} min\r\n * @param {number} max\r\n * @return {number} the random number\r\n */\r\nexport function randomRange(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Returns a random integer between min (inclusive) and max (exclusive).\r\n *\r\n * @method randomRangeInt\r\n * @param {number} min\r\n * @param {number} max\r\n * @return {number} the random integer\r\n */\r\nexport function randomRangeInt(min, max) {\r\n  return Math.floor(randomRange(min, max));\r\n}\r\n\r\n/**\r\n * Linear congruential generator using Hull-Dobell Theorem.\r\n *\r\n * @method pseudoRandom\r\n * @param {number} seed the random seed\r\n * @return {number} the pseudo random\r\n */\r\nexport function pseudoRandom(seed) {\r\n  seed = (seed * 9301 + 49297) % 233280;\r\n  return seed / 233280.0;\r\n}\r\n\r\n/**\r\n * Returns a floating-point pseudo-random number between min (inclusive) and max (exclusive).\r\n *\r\n * @method pseudoRandomRange\r\n * @param {number} seed\r\n * @param {number} min\r\n * @param {number} max\r\n * @return {number} the random number\r\n */\r\nexport function pseudoRandomRange(seed, min, max) {\r\n  return pseudoRandom(seed) * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Returns a pseudo-random integer between min (inclusive) and max (exclusive).\r\n *\r\n * @method pseudoRandomRangeInt\r\n * @param {number} seed\r\n * @param {number} min\r\n * @param {number} max\r\n * @return {number} the random integer\r\n */\r\nexport function pseudoRandomRangeInt(seed, min, max) {\r\n  return Math.floor(pseudoRandomRange(seed, min, max));\r\n}\r\n\r\n/**\r\n * Returns the next power of two for the value\r\n *\r\n * @method nextPow2\r\n * @param {number} val\r\n * @return {number} the the next power of two\r\n */\r\nexport function nextPow2(val) {\r\n  --val;\r\n  val = (val >> 1) | val;\r\n  val = (val >> 2) | val;\r\n  val = (val >> 4) | val;\r\n  val = (val >> 8) | val;\r\n  val = (val >> 16) | val;\r\n  ++val;\r\n\r\n  return val;\r\n}\r\n\r\n/**\r\n * Returns float remainder for t / length\r\n *\r\n * @method repeat\r\n * @param {number} t time start at 0\r\n * @param {number} length time of one cycle\r\n * @return {number} the time wrapped in the first cycle\r\n */\r\nexport function repeat(t, length) {\r\n  return t - Math.floor(t / length) * length;\r\n}\r\n\r\n/**\r\n * Returns time wrapped in ping-pong mode\r\n *\r\n * @method repeat\r\n * @param {number} t time start at 0\r\n * @param {number} length time of one cycle\r\n * @return {number} the time wrapped in the first cycle\r\n */\r\nexport function pingPong(t, length) {\r\n  t = repeat(t, length * 2);\r\n  t = length - Math.abs(t - length);\r\n  return t;\r\n}\r\n\r\n/**\r\n * Returns ratio of a value within a given range\r\n *\r\n * @method repeat\r\n * @param {number} from start value\r\n * @param {number} to end value\r\n * @param {number} value given value\r\n * @return {number} the ratio between [from,to]\r\n */\r\nexport function inverseLerp(from, to, value) {\r\n  return (value - from) / (to - from);\r\n}","/**\r\n * Bit twiddling hacks for JavaScript.\r\n *\r\n * Author: Mikola Lysenko\r\n *\r\n * Ported from Stanford bit twiddling hack library:\r\n *    http://graphics.stanford.edu/~seander/bithacks.html\r\n */\r\n\r\n'use strict';\r\n\r\n// Number of bits in an integer\r\n/**\r\n * @ignore\r\n */\r\nexport const INT_BITS = 32;\r\n/**\r\n * @ignore\r\n */\r\nexport const INT_MAX =  0x7fffffff;\r\n/**\r\n * @ignore\r\n */\r\nexport const INT_MIN = -1<<(INT_BITS-1);\r\n\r\n/**\r\n * Returns -1, 0, +1 depending on sign of x\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function sign(v) {\r\n  return (v > 0) - (v < 0);\r\n}\r\n\r\n/**\r\n * Computes absolute value of integer\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function abs(v) {\r\n  let mask = v >> (INT_BITS-1);\r\n  return (v ^ mask) - mask;\r\n}\r\n\r\n/**\r\n * Computes minimum of integers x and y\r\n *\r\n * @param {number} x\r\n * @param {number} y\r\n * @returns {number}\r\n */\r\nexport function min(x, y) {\r\n  return y ^ ((x ^ y) & -(x < y));\r\n}\r\n\r\n/**\r\n * Computes maximum of integers x and y\r\n *\r\n * @param {number} x\r\n * @param {number} y\r\n * @returns {number}\r\n */\r\nexport function max(x, y) {\r\n  return x ^ ((x ^ y) & -(x < y));\r\n}\r\n\r\n/**\r\n * Checks if a number is a power of two\r\n *\r\n * @param {number} v\r\n * @returns {boolean}\r\n */\r\nexport function isPow2(v) {\r\n  return !(v & (v-1)) && (!!v);\r\n}\r\n\r\n/**\r\n * Computes log base 2 of v\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function log2(v) {\r\n  let r, shift;\r\n  r =     (v > 0xFFFF) << 4; v >>>= r;\r\n  shift = (v > 0xFF  ) << 3; v >>>= shift; r |= shift;\r\n  shift = (v > 0xF   ) << 2; v >>>= shift; r |= shift;\r\n  shift = (v > 0x3   ) << 1; v >>>= shift; r |= shift;\r\n  return r | (v >> 1);\r\n}\r\n\r\n/**\r\n * Computes log base 10 of v\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function log10(v) {\r\n  return  (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 :\r\n          (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 :\r\n          (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;\r\n}\r\n\r\n/**\r\n * Counts number of bits\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function popCount(v) {\r\n  v = v - ((v >>> 1) & 0x55555555);\r\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\r\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\r\n}\r\n\r\n/**\r\n * Counts number of trailing zeros\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function countTrailingZeros(v) {\r\n  let c = 32;\r\n  v &= -v;\r\n  if (v) c--;\r\n  if (v & 0x0000FFFF) c -= 16;\r\n  if (v & 0x00FF00FF) c -= 8;\r\n  if (v & 0x0F0F0F0F) c -= 4;\r\n  if (v & 0x33333333) c -= 2;\r\n  if (v & 0x55555555) c -= 1;\r\n  return c;\r\n}\r\n\r\n/**\r\n * Rounds to next power of 2\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function nextPow2(v) {\r\n  v += v === 0;\r\n  --v;\r\n  v |= v >>> 1;\r\n  v |= v >>> 2;\r\n  v |= v >>> 4;\r\n  v |= v >>> 8;\r\n  v |= v >>> 16;\r\n  return v + 1;\r\n}\r\n\r\n/**\r\n * Rounds down to previous power of 2\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function prevPow2(v) {\r\n  v |= v >>> 1;\r\n  v |= v >>> 2;\r\n  v |= v >>> 4;\r\n  v |= v >>> 8;\r\n  v |= v >>> 16;\r\n  return v - (v>>>1);\r\n}\r\n\r\n/**\r\n * Computes parity of word\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function parity(v) {\r\n  v ^= v >>> 16;\r\n  v ^= v >>> 8;\r\n  v ^= v >>> 4;\r\n  v &= 0xf;\r\n  return (0x6996 >>> v) & 1;\r\n}\r\n\r\n/**\r\n * @ignore\r\n */\r\nconst REVERSE_TABLE = new Array(256);\r\n\r\n(function(tab) {\r\n  for(let i=0; i<256; ++i) {\r\n    let v = i, r = i, s = 7;\r\n    for (v >>>= 1; v; v >>>= 1) {\r\n      r <<= 1;\r\n      r |= v & 1;\r\n      --s;\r\n    }\r\n    tab[i] = (r << s) & 0xff;\r\n  }\r\n})(REVERSE_TABLE);\r\n\r\n/**\r\n * Reverse bits in a 32 bit word\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function reverse(v) {\r\n  return (REVERSE_TABLE[v & 0xff] << 24) |\r\n         (REVERSE_TABLE[(v >>> 8) & 0xff] << 16) |\r\n         (REVERSE_TABLE[(v >>> 16) & 0xff] << 8) |\r\n         REVERSE_TABLE[(v >>> 24) & 0xff];\r\n}\r\n\r\n/**\r\n * Interleave bits of 2 coordinates with 16 bits. Useful for fast quadtree codes\r\n *\r\n * @param {number} x\r\n * @param {number} y\r\n * @returns {number}\r\n */\r\nexport function interleave2(x, y) {\r\n  x &= 0xFFFF;\r\n  x = (x | (x << 8)) & 0x00FF00FF;\r\n  x = (x | (x << 4)) & 0x0F0F0F0F;\r\n  x = (x | (x << 2)) & 0x33333333;\r\n  x = (x | (x << 1)) & 0x55555555;\r\n\r\n  y &= 0xFFFF;\r\n  y = (y | (y << 8)) & 0x00FF00FF;\r\n  y = (y | (y << 4)) & 0x0F0F0F0F;\r\n  y = (y | (y << 2)) & 0x33333333;\r\n  y = (y | (y << 1)) & 0x55555555;\r\n\r\n  return x | (y << 1);\r\n}\r\n\r\n/**\r\n * Extracts the nth interleaved component\r\n *\r\n * @param {number} v\r\n * @param {number} n\r\n * @returns {number}\r\n */\r\nexport function deinterleave2(v, n) {\r\n  v = (v >>> n) & 0x55555555;\r\n  v = (v | (v >>> 1))  & 0x33333333;\r\n  v = (v | (v >>> 2))  & 0x0F0F0F0F;\r\n  v = (v | (v >>> 4))  & 0x00FF00FF;\r\n  v = (v | (v >>> 16)) & 0x000FFFF;\r\n  return (v << 16) >> 16;\r\n}\r\n\r\n/**\r\n * Interleave bits of 3 coordinates, each with 10 bits.  Useful for fast octree codes\r\n *\r\n * @param {number} x\r\n * @param {number} y\r\n * @param {number} z\r\n * @returns {number}\r\n */\r\nexport function interleave3(x, y, z) {\r\n  x &= 0x3FF;\r\n  x  = (x | (x<<16)) & 4278190335;\r\n  x  = (x | (x<<8))  & 251719695;\r\n  x  = (x | (x<<4))  & 3272356035;\r\n  x  = (x | (x<<2))  & 1227133513;\r\n\r\n  y &= 0x3FF;\r\n  y  = (y | (y<<16)) & 4278190335;\r\n  y  = (y | (y<<8))  & 251719695;\r\n  y  = (y | (y<<4))  & 3272356035;\r\n  y  = (y | (y<<2))  & 1227133513;\r\n  x |= (y << 1);\r\n\r\n  z &= 0x3FF;\r\n  z  = (z | (z<<16)) & 4278190335;\r\n  z  = (z | (z<<8))  & 251719695;\r\n  z  = (z | (z<<4))  & 3272356035;\r\n  z  = (z | (z<<2))  & 1227133513;\r\n\r\n  return x | (z << 2);\r\n}\r\n\r\n/**\r\n * Extracts nth interleaved component of a 3-tuple\r\n *\r\n * @param {number} v\r\n * @param {number} n\r\n * @returns {number}\r\n */\r\nexport function deinterleave3(v, n) {\r\n  v = (v >>> n)       & 1227133513;\r\n  v = (v | (v>>>2))   & 3272356035;\r\n  v = (v | (v>>>4))   & 251719695;\r\n  v = (v | (v>>>8))   & 4278190335;\r\n  v = (v | (v>>>16))  & 0x3FF;\r\n  return (v<<22)>>22;\r\n}\r\n\r\n/**\r\n * Computes next combination in colexicographic order (this is mistakenly called nextPermutation on the bit twiddling hacks page)\r\n *\r\n * @param {number} v\r\n * @returns {number}\r\n */\r\nexport function nextCombination(v) {\r\n  let t = v | (v - 1);\r\n  return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));\r\n}","import { EPSILON, random } from './utils';\r\n\r\n/**\r\n * Mathematical 2-dimensional vector.\r\n *\r\n * x, y is alias of the first, second component of vector, respectively.\r\n */\r\nclass vec2 {\r\n  /**\r\n   * Creates a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   */\r\n  constructor(x, y) {\r\n    /**\r\n     * The x component.\r\n     * @type {number}\r\n     * */\r\n    this.x = x;\r\n\r\n    /**\r\n     * The y component.\r\n     * @type {number}\r\n     * */\r\n    this.y = y;\r\n  }\r\n\r\n  /**\r\n   * Creates a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @return {vec2} The newly created vector.\r\n   */\r\n  static new(x, y) {\r\n    return new vec2(x, y);\r\n  }\r\n\r\n  /**\r\n   * Creates a zero vector.\r\n   *\r\n   * @return {vec2} The newly created vector.\r\n   */\r\n  static zero() {\r\n    return new vec2(0, 0);\r\n  }\r\n\r\n  /**\r\n   * Clone a vector.\r\n   *\r\n   * @param {vec2} a - Vector to clone.\r\n   * @returns {vec2} The newly created vector.\r\n   */\r\n  static clone(a) {\r\n    return new vec2(a.x, a.y);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a vector into another.\r\n   *\r\n   * @param {vec2} out - The vector to modified.\r\n   * @param {vec2} a - The specified vector.\r\n   * @returns {vec2} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.x = a.x;\r\n    out.y = a.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the components of a vector to the given values.\r\n   *\r\n   * @param {vec2} out - The vector to modified.\r\n   * @param {Number} x - Value set to x component.\r\n   * @param {Number} y - Value set to y component.\r\n   * @returns {vec2} out.\r\n   */\r\n  static set(out, x, y) {\r\n    out.x = x;\r\n    out.y = y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.x = a.x + b.x;\r\n    out.y = a.y + b.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtract two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.x = a.x - b.x;\r\n    out.y = a.y - b.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return vec2.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs multiply on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    out.x = a.x * b.x;\r\n    out.y = a.y * b.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return vec2.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs division on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static divide(out, a, b) {\r\n    out.x = a.x / b.x;\r\n    out.y = a.y / b.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.divide}.\r\n   */\r\n  static div(out, a, b) {\r\n    return vec2.divide(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs Math.ceil on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to perform operation.\r\n   * @returns {vec2} out.\r\n   */\r\n  static ceil(out, a) {\r\n    out.x = Math.ceil(a.x);\r\n    out.y = Math.ceil(a.y);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.floor on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to perform operation.\r\n   * @returns {vec2} out.\r\n   */\r\n  static floor(out, a) {\r\n    out.x = Math.floor(a.x);\r\n    out.y = Math.floor(a.y);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static min(out, a, b) {\r\n    out.x = Math.min(a.x, b.x);\r\n    out.y = Math.min(a.y, b.y);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec2} out.\r\n   */\r\n  static max(out, a, b) {\r\n    out.x = Math.max(a.x, b.x);\r\n    out.y = Math.max(a.y, b.y);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.round on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to perform operation.\r\n   * @returns {vec2} out.\r\n   */\r\n  static round(out, a) {\r\n    out.x = Math.round(a.x);\r\n    out.y = Math.round(a.y);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Scales a vector with a number.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to scale.\r\n   * @param {number} b - The scale number.\r\n   * @returns {vec2} out.\r\n   * */\r\n  static scale(out, a, b) {\r\n    out.x = a.x * b;\r\n    out.y = a.y * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors after scaling the second operand by a number.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @param {number} scale - The scale number before adding.\r\n   * @returns {vec2} out.\r\n   */\r\n  static scaleAndAdd(out, a, b, scale) {\r\n    out.x = a.x + (b.x * scale);\r\n    out.y = a.y + (b.y * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the euclidian distance between two vectors.\r\n   *\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {number} Distance between a and b.\r\n   */\r\n  static distance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y;\r\n    return Math.sqrt(x * x + y * y);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.distance}.\r\n   */\r\n  static dist(a, b) {\r\n    return vec2.distance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared euclidian distance between two vectors.\r\n   *\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {number} Squared distance between a and b.\r\n   */\r\n  static squaredDistance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y;\r\n    return x * x + y * y;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.squaredDistance}.\r\n   */\r\n  static sqrDist(a, b) {\r\n    return vec2.squaredDistance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the length of a vector.\r\n   *\r\n   * @param {vec2} a - The vector.\r\n   * @returns {Number} Length of the vector.\r\n   */\r\n  static magnitude(a) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    return Math.sqrt(x * x + y * y);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.magnitude}.\r\n   */\r\n  static mag(a) {\r\n    return vec2.magnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared length of a vector.\r\n   *\r\n   * @param {vec2} a - The vector.\r\n   * @returns {Number} Squared length of the vector.\r\n   */\r\n  static squaredMagnitude(a) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    return x * x + y * y;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec2.squaredMagnitude}\r\n   */\r\n  static sqrMag(a) {\r\n    return vec2.squaredMagnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Negates each component of a vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to negate.\r\n   * @returns {vec2} out.\r\n   */\r\n  static negate(out, a) {\r\n    out.x = -a.x;\r\n    out.y = -a.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Invert the components of a vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to invert.\r\n   * @returns {vec2} out.\r\n   */\r\n  static inverse(out, a) {\r\n    out.x = 1.0 / a.x;\r\n    out.y = 1.0 / a.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Safely invert the components of a vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to invert.\r\n   * @returns {vec2} out.\r\n   */\r\n  static inverseSafe(out, a) {\r\n    let x = a.x,\r\n      y = a.y;\r\n\r\n    if (Math.abs(x) < EPSILON) {\r\n      out.x = 0;\r\n    } else {\r\n      out.x = 1.0 / x;\r\n    }\r\n\r\n    if (Math.abs(y) < EPSILON) {\r\n      out.y = 0;\r\n    } else {\r\n      out.y = 1.0 / a.y;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Normalizes a vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to normalize.\r\n   * @returns {vec2} out.\r\n   */\r\n  static normalize(out, a) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    let len = x * x + y * y;\r\n    if (len > 0) {\r\n      //TODO: evaluate use of glm_invsqrt here?\r\n      len = 1 / Math.sqrt(len);\r\n      out.x = a.x * len;\r\n      out.y = a.y * len;\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the dot product of two vectors.\r\n   *\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {Number} Dot product of a and b.\r\n   */\r\n  static dot(a, b) {\r\n    return a.x * b.x + a.y * b.y;\r\n  }\r\n\r\n  /**\r\n   * Calculate the cross product of two vectors.\r\n   * Note that the cross product must by definition produce a 3D vector.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static cross(out, a, b) {\r\n    let z = a.x * b.y - a.y * b.x;\r\n    out.x = out.y = 0;\r\n    out.z = z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two vectors.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - The first operand.\r\n   * @param {vec2} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {vec2} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ax = a.x,\r\n      ay = a.y;\r\n    out.x = ax + t * (b.x - ax);\r\n    out.y = ay + t * (b.y - ay);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a random vector with the given scale.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned.\r\n   * @returns {vec2} out.\r\n   */\r\n  static random(out, scale) {\r\n    scale = scale || 1.0;\r\n    let r = random() * 2.0 * Math.PI;\r\n    out.x = Math.cos(r) * scale;\r\n    out.y = Math.sin(r) * scale;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 2x2 matrix.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to transform.\r\n   * @param {mat2} m - The matrix.\r\n   * @returns {vec2} out.\r\n   */\r\n  static transformMat2(out, a, m) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    out.x = m.m00 * x + m.m02 * y;\r\n    out.y = m.m01 * x + m.m03 * y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 2x3 matrix.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to transform.\r\n   * @param {mat23} m - The matrix.\r\n   * @returns {vec2} out.\r\n   */\r\n  static transformMat23(out, a, m) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    out.x = m.m00 * x + m.m02 * y + m.m04;\r\n    out.y = m.m01 * x + m.m03 * y + m.m05;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 3x3 matrix.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to transform.\r\n   * @param {mat3} m - The matrix.\r\n   * @returns {vec2} out.\r\n   */\r\n  static transformMat3(out, a, m) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    out.x = m.m00 * x + m.m03 * y + m.m06;\r\n    out.y = m.m01 * x + m.m04 * y + m.m07;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 4x4 matrix.\r\n   * 3rd vector component is implicitly '0'.\r\n   * 4th vector component is implicitly '1'.\r\n   *\r\n   * @param {vec2} out - Vector to store result.\r\n   * @param {vec2} a - Vector to transform.\r\n   * @param {mat4} m - The matrix.\r\n   * @returns {vec2} out.\r\n   */\r\n  static transformMat4(out, a, m) {\r\n    let x = a.x,\r\n      y = a.y;\r\n    out.x = m.m00 * x + m.m04 * y + m.m12;\r\n    out.y = m.m01 * x + m.m05 * y + m.m13;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Perform some operation over an array of vec2s.\r\n   *\r\n   * @param {Array} a the array of vectors to iterate over.\r\n   * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed.\r\n   * @param {Number} offset Number of elements to skip at the beginning of the array.\r\n   * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array.\r\n   * @param {Function} fn Function to call for each vector in the array.\r\n   * @param {Object} [arg] additional argument to pass to fn.\r\n   * @returns {Array} a.\r\n   */\r\n  static forEach(a, stride, offset, count, fn, arg) {\r\n    return vec2._forEach(a, stride, offset, count, fn, arg);\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a vector.\r\n   *\r\n   * @param {vec2} a - The vector.\r\n   * @returns {String} - String representation of this vector.\r\n   */\r\n  static str(a) {\r\n    return `vec2(${a.x}, ${a.y})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a vector into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {vec2} v - The vector.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, v) {\r\n    out[0] = v.x;\r\n    out[1] = v.y;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are equal. (Compared using ===)\r\n   *\r\n   * @param {vec2} a - The first vector.\r\n   * @param {vec2} b - The second vector.\r\n   * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.x === b.x && a.y === b.y;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are approximately equal.\r\n   *\r\n   * @param {vec2} a The first vector.\r\n   * @param {vec2} b The second vector.\r\n   * @returns {Boolean} True if the vectors are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.x, a1 = a.y;\r\n    let b0 = b.x, b1 = b.y;\r\n    return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)));\r\n  }\r\n}\r\n\r\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over.\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed.\r\n * @param {Number} offset Number of elements to skip at the beginning of the array.\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array.\r\n * @param {Function} fn Function to call for each vector in the array.\r\n * @param {Object} [arg] additional argument to pass to fn.\r\n * @returns {Array} a.\r\n * @ignore\r\n */\r\nvec2._forEach = (function () {\r\n  let vec = vec2.zero();\r\n\r\n  return function (a, stride, offset, count, fn, arg) {\r\n    let i, l;\r\n    if (!stride) {\r\n      stride = 2;\r\n    }\r\n\r\n    if (!offset) {\r\n      offset = 0;\r\n    }\r\n\r\n    if (count) {\r\n      l = Math.min((count * stride) + offset, a.length);\r\n    } else {\r\n      l = a.length;\r\n    }\r\n\r\n    for (i = offset; i < l; i += stride) {\r\n      vec.x = a[i];\r\n      vec.y = a[i + 1];\r\n      fn(vec, vec, arg);\r\n      a[i] = vec.x;\r\n      a[i + 1] = vec.y;\r\n    }\r\n\r\n    return a;\r\n  };\r\n})();\r\n\r\nexport default vec2;","import { EPSILON, random } from './utils';\r\n\r\n/**\r\n * Mathematical 3-dimensional vector.\r\n *\r\n * x, y, z is alias of the first, second, third component of vector, respectively.\r\n */\r\nclass vec3\r\n{\r\n\t/**\r\n   * Creates a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   */\r\n  constructor(x, y, z) {\r\n    /**\r\n     * The x component.\r\n     * @type {number}\r\n     * */\r\n    this.x = x;\r\n\r\n    /**\r\n     * The y component.\r\n     * @type {number}\r\n     * */\r\n    this.y = y;\r\n\r\n    /**\r\n     * The z component.\r\n     * @type {number}\r\n     * */\r\n    this.z = z;\r\n  }\r\n\r\n  /**\r\n   * Creates a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   * @return {vec3} The newly created vector.\r\n   */\r\n  static new(x, y, z) {\r\n    return new vec3(x, y, z);\r\n  }\r\n\r\n  /**\r\n   * Creates a zero vector.\r\n   *\r\n   * @return {vec3} The newly created vector.\r\n   */\r\n  static zero() {\r\n    return vec3.new(0, 0, 0);\r\n  }\r\n\r\n  /**\r\n   * Clone a vector.\r\n   *\r\n   * @param {vec3} a - Vector to clone.\r\n   * @returns {vec3} The newly created vector.\r\n   */\r\n  static clone(a) {\r\n    return new vec3(a.x, a.y, a.z);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a vector into another.\r\n   *\r\n   * @param {vec3} out - The vector to modified.\r\n   * @param {vec3} a - The specified vector.\r\n   * @returns {vec3} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.x = a.x;\r\n    out.y = a.y;\r\n    out.z = a.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the components of a vector to the given values.\r\n   *\r\n   * @param {vec3} out - The vector to modified.\r\n   * @param {Number} x - Value set to x component.\r\n   * @param {Number} y - Value set to y component.\r\n   * @param {Number} z - Value set to z component.\r\n   * @returns {vec3} out.\r\n   */\r\n  static set(out, x, y, z) {\r\n    out.x = x;\r\n    out.y = y;\r\n    out.z = z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.x = a.x + b.x;\r\n    out.y = a.y + b.y;\r\n    out.z = a.z + b.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtract two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.x = a.x - b.x;\r\n    out.y = a.y - b.y;\r\n    out.z = a.z - b.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec3.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return vec3.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs multiply on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    out.x = a.x * b.x;\r\n    out.y = a.y * b.y;\r\n    out.z = a.z * b.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec3.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return vec3.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs division on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static divide(out, a, b) {\r\n    out.x = a.x / b.x;\r\n    out.y = a.y / b.y;\r\n    out.z = a.z / b.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec3.divide}.\r\n   */\r\n  static div(out, a, b) {\r\n    return vec3.divide(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs Math.ceil on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to perform operation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static ceil(out, a) {\r\n    out.x = Math.ceil(a.x);\r\n    out.y = Math.ceil(a.y);\r\n    out.z = Math.ceil(a.z);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.floor on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to perform operation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static floor(out, a) {\r\n    out.x = Math.floor(a.x);\r\n    out.y = Math.floor(a.y);\r\n    out.z = Math.floor(a.z);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static min(out, a, b) {\r\n    out.x = Math.min(a.x, b.x);\r\n    out.y = Math.min(a.y, b.y);\r\n    out.z = Math.min(a.z, b.z);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static max(out, a, b) {\r\n    out.x = Math.max(a.x, b.x);\r\n    out.y = Math.max(a.y, b.y);\r\n    out.z = Math.max(a.z, b.z);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.round on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to perform operation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static round(out, a) {\r\n    out.x = Math.round(a.x);\r\n    out.y = Math.round(a.y);\r\n    out.z = Math.round(a.z);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Scales a vector with a number.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to scale.\r\n   * @param {number} b - The scale number.\r\n   * @returns {vec3} out.\r\n   * */\r\n  static scale(out, a, b) {\r\n    out.x = a.x * b;\r\n    out.y = a.y * b;\r\n    out.z = a.z * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors after scaling the second operand by a number.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @param {number} scale - The scale number before adding.\r\n   * @returns {vec3} out.\r\n   */\r\n  static scaleAndAdd(out, a, b, scale) {\r\n    out.x = a.x + (b.x * scale);\r\n    out.y = a.y + (b.y * scale);\r\n    out.z = a.z + (b.z * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the euclidian distance between two vectors.\r\n   *\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {number} Distance between a and b.\r\n   */\r\n  static distance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y,\r\n      z = b.z - a.z;\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec3.distance}.\r\n   */\r\n  static dist(a, b) {\r\n    return vec3.distance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared euclidian distance between two vectors.\r\n   *\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {number} Squared distance between a and b.\r\n   */\r\n  static squaredDistance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y,\r\n      z = b.z - a.z;\r\n    return x * x + y * y + z * z;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec3.squaredDistance}.\r\n   */\r\n  static sqrDist(a, b) {\r\n    return vec3.squaredDistance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the length of a vector.\r\n   *\r\n   * @param {vec3} a - The vector.\r\n   * @returns {Number} Length of the vector.\r\n   */\r\n  static magnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z;\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec3.magnitude}.\r\n   */\r\n  static mag(a) {\r\n    return vec3.magnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared length of a vector.\r\n   *\r\n   * @param {vec3} a - The vector.\r\n   * @returns {Number} Squared length of the vector.\r\n   */\r\n  static squaredMagnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z;\r\n    return x * x + y * y + z * z;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec3.squaredMagnitude}\r\n   */\r\n  static sqrMag(a) {\r\n    return vec3.squaredMagnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Negates each component of a vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to negate.\r\n   * @returns {vec3} out.\r\n   */\r\n  static negate(out, a) {\r\n    out.x = -a.x;\r\n    out.y = -a.y;\r\n    out.z = -a.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts the components of a vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to invert.\r\n   * @returns {vec3} out.\r\n   */\r\n  static inverse(out, a) {\r\n    out.x = 1.0 / a.x;\r\n    out.y = 1.0 / a.y;\r\n    out.z = 1.0 / a.z;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Safely inverts the components of a vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to invert.\r\n   * @returns {vec3} out.\r\n   */\r\n  static inverseSafe(out, a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z;\r\n\r\n    if (Math.abs(x) < EPSILON) {\r\n      out.x = 0;\r\n    } else {\r\n      out.x = 1.0 / x;\r\n    }\r\n\r\n    if (Math.abs(y) < EPSILON) {\r\n      out.y = 0;\r\n    } else {\r\n      out.y = 1.0 / y;\r\n    }\r\n\r\n    if (Math.abs(z) < EPSILON) {\r\n      out.z = 0;\r\n    } else {\r\n      out.z = 1.0 / z;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Normalizes a vector.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to normalize.\r\n   * @returns {vec3} out.\r\n   */\r\n  static normalize(out, a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z;\r\n\r\n    let len = x * x + y * y + z * z;\r\n    if (len > 0) {\r\n      //TODO: evaluate use of glm_invsqrt here?\r\n      len = 1 / Math.sqrt(len);\r\n      out.x = x * len;\r\n      out.y = y * len;\r\n      out.z = z * len;\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the dot product of two vectors.\r\n   *\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {Number} Dot product of a and b.\r\n   */\r\n  static dot(a, b) {\r\n    return a.x * b.x + a.y * b.y + a.z * b.z;\r\n  }\r\n\r\n  /**\r\n   * Calculates the cross product of two vectors.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {vec3} out.\r\n   */\r\n  static cross(out, a, b) {\r\n    let ax = a.x, ay = a.y, az = a.z,\r\n      bx = b.x, by = b.y, bz = b.z;\r\n\r\n    out.x = ay * bz - az * by;\r\n    out.y = az * bx - ax * bz;\r\n    out.z = ax * by - ay * bx;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two vectors.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {vec3} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ax = a.x,\r\n      ay = a.y,\r\n      az = a.z;\r\n    out.x = ax + t * (b.x - ax);\r\n    out.y = ay + t * (b.y - ay);\r\n    out.z = az + t * (b.z - az);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a hermite interpolation with two control points.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @param {vec3} c - The third operand.\r\n   * @param {vec3} d - The fourth operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {vec3} out.\r\n   */\r\n  static hermite(out, a, b, c, d, t) {\r\n    let factorTimes2 = t * t,\r\n      factor1 = factorTimes2 * (2 * t - 3) + 1,\r\n      factor2 = factorTimes2 * (t - 2) + t,\r\n      factor3 = factorTimes2 * (t - 1),\r\n      factor4 = factorTimes2 * (3 - 2 * t);\r\n\r\n    out.x = a.x * factor1 + b.x * factor2 + c.x * factor3 + d.x * factor4;\r\n    out.y = a.y * factor1 + b.y * factor2 + c.y * factor3 + d.y * factor4;\r\n    out.z = a.z * factor1 + b.z * factor2 + c.z * factor3 + d.z * factor4;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a bezier interpolation with two control points.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @param {vec3} c - The third operand.\r\n   * @param {vec3} d - The fourth operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {vec3} out.\r\n   */\r\n  static bezier(out, a, b, c, d, t) {\r\n    let inverseFactor = 1 - t,\r\n      inverseFactorTimesTwo = inverseFactor * inverseFactor,\r\n      factorTimes2 = t * t,\r\n      factor1 = inverseFactorTimesTwo * inverseFactor,\r\n      factor2 = 3 * t * inverseFactorTimesTwo,\r\n      factor3 = 3 * factorTimes2 * inverseFactor,\r\n      factor4 = factorTimes2 * t;\r\n\r\n    out.x = a.x * factor1 + b.x * factor2 + c.x * factor3 + d.x * factor4;\r\n    out.y = a.y * factor1 + b.y * factor2 + c.y * factor3 + d.y * factor4;\r\n    out.z = a.z * factor1 + b.z * factor2 + c.z * factor3 + d.z * factor4;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a random vector with the given scale.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned.\r\n   * @returns {vec3} out.\r\n   */\r\n  static random(out, scale) {\r\n    scale = scale || 1.0;\r\n\r\n    let r = random() * 2.0 * Math.PI;\r\n    let z = (random() * 2.0) - 1.0;\r\n    let zScale = Math.sqrt(1.0 - z * z) * scale;\r\n\r\n    out.x = Math.cos(r) * zScale;\r\n    out.y = Math.sin(r) * zScale;\r\n    out.z = z * scale;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 4x4 matrix. 4th vector component is implicitly '1'.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to transform.\r\n   * @param {mat4} m - The matrix.\r\n   * @returns {vec3} out.\r\n   */\r\n  static transformMat4(out, a, m) {\r\n    let x = a.x, y = a.y, z = a.z,\r\n      w = m.m03 * x + m.m07 * y + m.m11 * z + m.m15;\r\n    w = w || 1.0;\r\n    out.x = (m.m00 * x + m.m04 * y + m.m08 * z + m.m12) / w;\r\n    out.y = (m.m01 * x + m.m05 * y + m.m09 * z + m.m13) / w;\r\n    out.z = (m.m02 * x + m.m06 * y + m.m10 * z + m.m14) / w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 3x3 matrix.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to transform.\r\n   * @param {mat3} m - The matrix.\r\n   * @returns {vec3} out.\r\n   */\r\n  static transformMat3(out, a, m) {\r\n    let x = a.x, y = a.y, z = a.z;\r\n    out.x = x * m.m00 + y * m.m03 + z * m.m06;\r\n    out.y = x * m.m01 + y * m.m04 + z * m.m07;\r\n    out.z = x * m.m02 + y * m.m05 + z * m.m08;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a quaternion.\r\n   *\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - Vector to transform.\r\n   * @param {quat} q - The quaternion.\r\n   * @returns {vec3} out.\r\n   */\r\n  static transformQuat(out, a, q) {\r\n    // benchmarks: http://jsperf.com/quaternion-transform-vec3-implementations\r\n\r\n    let x = a.x, y = a.y, z = a.z;\r\n    let qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n    // calculate quat * vec\r\n    let ix = qw * x + qy * z - qz * y;\r\n    let iy = qw * y + qz * x - qx * z;\r\n    let iz = qw * z + qx * y - qy * x;\r\n    let iw = -qx * x - qy * y - qz * z;\r\n\r\n    // calculate result * inverse quat\r\n    out.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n    out.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n    out.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a 3D vector around the x-axis.\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The point to rotate.\r\n   * @param {vec3} b - The origin of the rotation.\r\n   * @param {Number} c - The angle of rotation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static rotateX(out, a, b, c) {\r\n    let p = [], r = [];\r\n    // Translate point to the origin\r\n    p.x = a.x - b.x;\r\n    p.y = a.y - b.y;\r\n    p.z = a.z - b.z;\r\n\r\n    //perform rotation\r\n    r.x = p.x;\r\n    r.y = p.y * Math.cos(c) - p.z * Math.sin(c);\r\n    r.z = p.y * Math.sin(c) + p.z * Math.cos(c);\r\n\r\n    //translate to correct position\r\n    out.x = r.x + b.x;\r\n    out.y = r.y + b.y;\r\n    out.z = r.z + b.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a 3D vector around the y-axis.\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The point to rotate.\r\n   * @param {vec3} b - The origin of the rotation.\r\n   * @param {Number} c - The angle of rotation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static rotateY(out, a, b, c) {\r\n    let p = [], r = [];\r\n    //Translate point to the origin\r\n    p.x = a.x - b.x;\r\n    p.y = a.y - b.y;\r\n    p.z = a.z - b.z;\r\n\r\n    //perform rotation\r\n    r.x = p.z * Math.sin(c) + p.x * Math.cos(c);\r\n    r.y = p.y;\r\n    r.z = p.z * Math.cos(c) - p.x * Math.sin(c);\r\n\r\n    //translate to correct position\r\n    out.x = r.x + b.x;\r\n    out.y = r.y + b.y;\r\n    out.z = r.z + b.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a 3D vector around the z-axis.\r\n   * @param {vec3} out - Vector to store result.\r\n   * @param {vec3} a - The point to rotate.\r\n   * @param {vec3} b - The origin of the rotation.\r\n   * @param {Number} c - The angle of rotation.\r\n   * @returns {vec3} out.\r\n   */\r\n  static rotateZ(out, a, b, c) {\r\n    let p = [], r = [];\r\n    //Translate point to the origin\r\n    p.x = a.x - b.x;\r\n    p.y = a.y - b.y;\r\n    p.z = a.z - b.z;\r\n\r\n    //perform rotation\r\n    r.x = p.x * Math.cos(c) - p.y * Math.sin(c);\r\n    r.y = p.x * Math.sin(c) + p.y * Math.cos(c);\r\n    r.z = p.z;\r\n\r\n    //translate to correct position\r\n    out.x = r.x + b.x;\r\n    out.y = r.y + b.y;\r\n    out.z = r.z + b.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a vector.\r\n   *\r\n   * @param {vec3} a - The vector.\r\n   * @returns {String} - String representation of this vector.\r\n   */\r\n  static str(a) {\r\n    return `vec3(${a.x}, ${a.y}, ${a.z})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a vector into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {vec3} v - The vector.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, v) {\r\n    out[0] = v.x;\r\n    out[1] = v.y;\r\n    out[2] = v.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are equal. (Compared using ===)\r\n   *\r\n   * @param {vec3} a - The first vector.\r\n   * @param {vec3} b - The second vector.\r\n   * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.x === b.x && a.y === b.y && a.z === b.z;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are approximately equal.\r\n   *\r\n   * @param {vec3} a The first vector.\r\n   * @param {vec3} b The second vector.\r\n   * @returns {Boolean} True if the vectors are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.x, a1 = a.y, a2 = a.z;\r\n    let b0 = b.x, b1 = b.y, b2 = b.z;\r\n    return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)));\r\n  }\r\n\r\n  /**\r\n   * Perform some operation over an array of vec3s.\r\n   *\r\n   * @param {Array} a the array of vectors to iterate over.\r\n   * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed.\r\n   * @param {Number} offset Number of elements to skip at the beginning of the array.\r\n   * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array.\r\n   * @param {Function} fn Function to call for each vector in the array.\r\n   * @param {Object} [arg] additional argument to pass to fn.\r\n   * @returns {Array} a.\r\n   */\r\n  static forEach(a, stride, offset, count, fn, arg) {\r\n    return vec3._forEach(a, stride, offset, count, fn, arg);\r\n  }\r\n\r\n  /**\r\n   * Gets the angle between two 3D vectors.\r\n   * @param {vec3} a - The first operand.\r\n   * @param {vec3} b - The second operand.\r\n   * @returns {Number} - The angle in radians.\r\n   */\r\n  static angle(a, b) {\r\n    return vec3._angle(a, b);\r\n  }\r\n}\r\n\r\n/**\r\n* Perform some operation over an array of vec3s.\r\n*\r\n* @param {Array} a the array of vectors to iterate over.\r\n* @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed.\r\n* @param {Number} offset Number of elements to skip at the beginning of the array.\r\n* @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array.\r\n* @param {Function} fn Function to call for each vector in the array.\r\n* @param {Object} [arg] additional argument to pass to fn.\r\n* @returns {Array} a.\r\n* @ignore.\r\n*/\r\nvec3._forEach = (function () {\r\n  let vec = vec3.zero();\r\n\r\n  return function (a, stride, offset, count, fn, arg) {\r\n    let i, l;\r\n    if (!stride) {\r\n      stride = 3;\r\n    }\r\n\r\n    if (!offset) {\r\n      offset = 0;\r\n    }\r\n\r\n    if (count) {\r\n      l = Math.min((count * stride) + offset, a.length);\r\n    } else {\r\n      l = a.length;\r\n    }\r\n\r\n    for (i = offset; i < l; i += stride) {\r\n      vec.x = a[i];\r\n      vec.y = a[i + 1];\r\n      vec.z = a[i + 2];\r\n      fn(vec, vec, arg);\r\n      a[i] = vec.x;\r\n      a[i + 1] = vec.y;\r\n      a[i + 2] = vec.z;\r\n    }\r\n\r\n    return a;\r\n  };\r\n})();\r\n\r\n  /**\r\n   * Get the angle between two 3D vectors.\r\n   * @param {vec3} a The first operand.\r\n   * @param {vec3} b The second operand.\r\n   * @returns {Number} The angle in radians.\r\n   * @ignore\r\n   */\r\nvec3._angle = (function () {\r\n  let tempA = vec3.zero();\r\n  let tempB = vec3.zero();\r\n\r\n  return function (a, b) {\r\n    vec3.copy(tempA, a);\r\n    vec3.copy(tempB, b);\r\n\r\n    vec3.normalize(tempA, tempA);\r\n    vec3.normalize(tempB, tempB);\r\n\r\n    let cosine = vec3.dot(tempA, tempB);\r\n\r\n    if (cosine > 1.0) {\r\n      return 0;\r\n    }\r\n\r\n    if (cosine < -1.0) {\r\n      return Math.PI;\r\n    }\r\n\r\n    return Math.acos(cosine);\r\n  };\r\n})();\r\n\r\nexport default vec3;","import { EPSILON, random } from './utils';\r\n\r\n/**\r\n * Mathematical 4-dimensional vector.\r\n *\r\n * x, y, z, w is alias of the first, second, third, fourth component of vector, respectively.\r\n */\r\nclass vec4\r\n{\r\n  /**\r\n   * Creates a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   * @param {number} w - Value assigned to w component.\r\n   */\r\n  constructor(x, y, z, w) {\r\n    /**\r\n     * The x component.\r\n     * @type {number}\r\n     * */\r\n    this.x = x;\r\n\r\n    /**\r\n     * The y component.\r\n     * @type {number}\r\n     * */\r\n    this.y = y;\r\n\r\n    /**\r\n     * The z component.\r\n     * @type {number}\r\n     * */\r\n    this.z = z;\r\n\r\n    /**\r\n     * The w component.\r\n     * @type {number}\r\n     * */\r\n    this.w = w;\r\n  }\r\n\r\n  /**\r\n   * Create a vector, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   * @param {number} w - Value assigned to w component.\r\n   * @return {vec4} The newly created vector.\r\n   */\r\n  static new(x, y, z, w) {\r\n    return new vec4(x, y, z, w);\r\n  }\r\n\r\n  /**\r\n   * Creates a zero vector.\r\n   *\r\n   * @return {vec4} The newly created vector.\r\n   */\r\n  static zero() {\r\n    return vec4.new(0, 0, 0, 0);\r\n  }\r\n\r\n  /**\r\n   * Clone a vector.\r\n   *\r\n   * @param {vec4} a - Vector to clone.\r\n   * @returns {vec4} The newly created vector.\r\n   */\r\n  static clone(a) {\r\n    return new vec4(a.x, a.y, a.z, a.w);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a vector into another.\r\n   *\r\n   * @param {vec4} out - The vector to modified.\r\n   * @param {vec4} a - The specified vector.\r\n   * @returns {vec4} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.x = a.x;\r\n    out.y = a.y;\r\n    out.z = a.z;\r\n    out.w = a.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the components of a vector to the given values.\r\n   *\r\n   * @param {vec4} out - The vector to modified.\r\n   * @param {Number} x - Value set to x component.\r\n   * @param {Number} y - Value set to y component.\r\n   * @param {Number} z - Value set to z component.\r\n   * @param {Number} w - Value set to w component.\r\n   * @returns {vec4} out.\r\n   */\r\n  static set(out, x, y, z, w) {\r\n    out.x = x;\r\n    out.y = y;\r\n    out.z = z;\r\n    out.w = w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.x = a.x + b.x;\r\n    out.y = a.y + b.y;\r\n    out.z = a.z + b.z;\r\n    out.w = a.w + b.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtract two vectors.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.x = a.x - b.x;\r\n    out.y = a.y - b.y;\r\n    out.z = a.z - b.z;\r\n    out.w = a.w - b.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec4.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return vec4.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs multiply on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    out.x = a.x * b.x;\r\n    out.y = a.y * b.y;\r\n    out.z = a.z * b.z;\r\n    out.w = a.w * b.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec4.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return vec4.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs division on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static divide(out, a, b) {\r\n    out.x = a.x / b.x;\r\n    out.y = a.y / b.y;\r\n    out.z = a.z / b.z;\r\n    out.w = a.w / b.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec4.divide}.\r\n   */\r\n  static div(out, a, b) {\r\n    return vec4.divide(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Performs Math.ceil on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to perform operation.\r\n   * @returns {vec4} out.\r\n   */\r\n  static ceil(out, a) {\r\n    out.x = Math.ceil(a.x);\r\n    out.y = Math.ceil(a.y);\r\n    out.z = Math.ceil(a.z);\r\n    out.w = Math.ceil(a.w);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.floor on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to perform operation.\r\n   * @returns {vec4} out.\r\n   */\r\n  static floor(out, a) {\r\n    out.x = Math.floor(a.x);\r\n    out.y = Math.floor(a.y);\r\n    out.z = Math.floor(a.z);\r\n    out.w = Math.floor(a.w);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static min(out, a, b) {\r\n    out.x = Math.min(a.x, b.x);\r\n    out.y = Math.min(a.y, b.y);\r\n    out.z = Math.min(a.z, b.z);\r\n    out.w = Math.min(a.w, b.w);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.min on each component of two vectors respectively.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {vec4} out.\r\n   */\r\n  static max(out, a, b) {\r\n    out.x = Math.max(a.x, b.x);\r\n    out.y = Math.max(a.y, b.y);\r\n    out.z = Math.max(a.z, b.z);\r\n    out.w = Math.max(a.w, b.w);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs Math.round on each component of a vector.\r\n   *\r\n   * It doesn't matter that any amount of these parameters refer to same vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to perform operation.\r\n   * @returns {vec4} out.\r\n   */\r\n  static round(out, a) {\r\n    out.x = Math.round(a.x);\r\n    out.y = Math.round(a.y);\r\n    out.z = Math.round(a.z);\r\n    out.w = Math.round(a.w);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Scales a vector with a number.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to scale.\r\n   * @param {number} b - The scale number.\r\n   * @returns {vec4} out.\r\n   * */\r\n  static scale(out, a, b) {\r\n    out.x = a.x * b;\r\n    out.y = a.y * b;\r\n    out.z = a.z * b;\r\n    out.w = a.w * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add two vectors after scaling the second operand by a number.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @param {number} scale - The scale number before adding.\r\n   * @returns {vec4} out.\r\n   */\r\n  static scaleAndAdd(out, a, b, scale) {\r\n    out.x = a.x + (b.x * scale);\r\n    out.y = a.y + (b.y * scale);\r\n    out.z = a.z + (b.z * scale);\r\n    out.w = a.w + (b.w * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the euclidian distance between two vectors.\r\n   *\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {number} Distance between a and b.\r\n   */\r\n  static distance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y,\r\n      z = b.z - a.z,\r\n      w = b.w - a.w;\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec4.distance}.\r\n   */\r\n  static dist(a, b) {\r\n    return vec4.distance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared euclidian distance between two vectors.\r\n   *\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {number} Squared distance between a and b.\r\n   */\r\n  static squaredDistance(a, b) {\r\n    let x = b.x - a.x,\r\n      y = b.y - a.y,\r\n      z = b.z - a.z,\r\n      w = b.w - a.w;\r\n    return x * x + y * y + z * z + w * w;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link vec4.squaredDistance}.\r\n   */\r\n  static sqrDist(a, b) {\r\n    return vec4.squaredDistance(a, b);\r\n  }\r\n\r\n  /**\r\n   * Calculates the length of a vector.\r\n   *\r\n   * @param {vec4} a - The vector.\r\n   * @returns {Number} Length of the vector.\r\n   */\r\n  static magnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec4.magnitude}.\r\n   */\r\n  static mag(a) {\r\n    return vec4.magnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared length of a vector.\r\n   *\r\n   * @param {vec4} a - The vector.\r\n   * @returns {Number} Squared length of the vector.\r\n   */\r\n  static squaredMagnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    return x * x + y * y + z * z + w * w;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link vec4.squaredMagnitude}\r\n   */\r\n  static sqrMag(a) {\r\n    return vec4.squaredMagnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Negates each component of a vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to negate.\r\n   * @returns {vec4} out.\r\n   */\r\n  static negate(out, a) {\r\n    out.x = -a.x;\r\n    out.y = -a.y;\r\n    out.z = -a.z;\r\n    out.w = -a.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts the components of a vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to invert.\r\n   * @returns {vec4} out.\r\n   */\r\n  static inverse(out, a) {\r\n    out.x = 1.0 / a.x;\r\n    out.y = 1.0 / a.y;\r\n    out.z = 1.0 / a.z;\r\n    out.w = 1.0 / a.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Safely inverts the components of a vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to invert.\r\n   * @returns {vec4} out.\r\n   */\r\n  static inverseSafe(out, a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n\r\n    if (Math.abs(x) < EPSILON) {\r\n      out.x = 0;\r\n    } else {\r\n      out.x = 1.0 / x;\r\n    }\r\n\r\n    if (Math.abs(y) < EPSILON) {\r\n      out.y = 0;\r\n    } else {\r\n      out.y = 1.0 / y;\r\n    }\r\n\r\n    if (Math.abs(z) < EPSILON) {\r\n      out.z = 0;\r\n    } else {\r\n      out.z = 1.0 / z;\r\n    }\r\n\r\n    if (Math.abs(w) < EPSILON) {\r\n      out.w = 0;\r\n    } else {\r\n      out.w = 1.0 / w;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Normalizes a vector.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to normalize.\r\n   * @returns {vec4} out.\r\n   */\r\n  static normalize(out, a)\r\n  {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    let len = x * x + y * y + z * z + w * w;\r\n    if (len > 0)\r\n    {\r\n      len = 1 / Math.sqrt(len);\r\n      out.x = x * len;\r\n      out.y = y * len;\r\n      out.z = z * len;\r\n      out.w = w * len;\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the dot product of two vectors.\r\n   *\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @returns {Number} Dot product of a and b.\r\n   */\r\n  static dot(a, b) {\r\n    return a.x * b.x + a.y * b.y + a.z * b.z + a.w * b.w;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two vectors.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - The first operand.\r\n   * @param {vec4} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {vec4} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ax = a.x,\r\n      ay = a.y,\r\n      az = a.z,\r\n      aw = a.w;\r\n    out.x = ax + t * (b.x - ax);\r\n    out.y = ay + t * (b.y - ay);\r\n    out.z = az + t * (b.z - az);\r\n    out.w = aw + t * (b.w - aw);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a random vector with the given scale.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned.\r\n   * @returns {vec4} out.\r\n   */\r\n  static random(out, scale) {\r\n    scale = scale || 1.0;\r\n\r\n    //TODO: This is a pretty awful way of doing this. Find something better.\r\n    out.x = random();\r\n    out.y = random();\r\n    out.z = random();\r\n    out.w = random();\r\n    vec4.normalize(out, out);\r\n    vec4.scale(out, out, scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a 4x4 matrix.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to transform.\r\n   * @param {mat4} m - The matrix.\r\n   * @returns {vec4} out.\r\n   */\r\n  static transformMat4(out, a, m) {\r\n    let x = a.x, y = a.y, z = a.z, w = a.w;\r\n    out.x = m.m00 * x + m.m04 * y + m.m08 * z + m.m12 * w;\r\n    out.y = m.m01 * x + m.m05 * y + m.m09 * z + m.m13 * w;\r\n    out.z = m.m02 * x + m.m06 * y + m.m10 * z + m.m14 * w;\r\n    out.w = m.m03 * x + m.m07 * y + m.m11 * z + m.m15 * w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transforms a vector with a quaternion.\r\n   *\r\n   * @param {vec4} out - Vector to store result.\r\n   * @param {vec4} a - Vector to transform.\r\n   * @param {quat} q - The quaternion.\r\n   * @returns {vec4} out.\r\n   */\r\n  static transformQuat(out, a, q) {\r\n    let x = a.x, y = a.y, z = a.z;\r\n    let qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n    // calculate quat * vec\r\n    let ix = qw * x + qy * z - qz * y;\r\n    let iy = qw * y + qz * x - qx * z;\r\n    let iz = qw * z + qx * y - qy * x;\r\n    let iw = -qx * x - qy * y - qz * z;\r\n\r\n    // calculate result * inverse quat\r\n    out.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n    out.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n    out.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n    out.w = a.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a vector.\r\n   *\r\n   * @param {vec4} a - The vector.\r\n   * @returns {String} - String representation of this vector.\r\n   */\r\n  static str(a) {\r\n    return `vec4(${a.x}, ${a.y}, ${a.z}, ${a.w})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a vector into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {vec4} v - The vector.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, v) {\r\n    out[0] = v.x;\r\n    out[1] = v.y;\r\n    out[2] = v.z;\r\n    out[3] = v.w;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are equal. (Compared using ===)\r\n   *\r\n   * @param {vec4} a - The first vector.\r\n   * @param {vec4} b - The second vector.\r\n   * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.x === b.x && a.y === b.y && a.z === b.z && a.w === b.w;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified vectors are approximately equal.\r\n   *\r\n   * @param {vec4} a The first vector.\r\n   * @param {vec4} b The second vector.\r\n   * @returns {Boolean} True if the vectors are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.x, a1 = a.y, a2 = a.z, a3 = a.w;\r\n    let b0 = b.x, b1 = b.y, b2 = b.z, b3 = b.w;\r\n    return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)));\r\n  }\r\n\r\n  /**\r\n   * Performs some operation over an array of vec4s.\r\n   *\r\n   * @param {Array} a the array of vectors to iterate over.\r\n   * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed.\r\n   * @param {Number} offset Number of elements to skip at the beginning of the array.\r\n   * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array.\r\n   * @param {Function} fn Function to call for each vector in the array.\r\n   * @param {Object} [arg] additional argument to pass to fn.\r\n   * @returns {Array} a.\r\n   */\r\n  static forEach(a, stride, offset, count, fn, arg) {\r\n    return vec4._forEach(a, stride, offset, count, fn, arg);\r\n  }\r\n}\r\n\r\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over.\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed.\r\n * @param {Number} offset Number of elements to skip at the beginning of the array.\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array.\r\n * @param {Function} fn Function to call for each vector in the array.\r\n * @param {Object} [arg] additional argument to pass to fn.\r\n * @returns {Array} a.\r\n * @ignore\r\n */\r\nvec4._forEach = (function () {\r\n  let vec = vec4.zero();\r\n\r\n  return function (a, stride, offset, count, fn, arg) {\r\n    let i, l;\r\n    if (!stride) {\r\n      stride = 4;\r\n    }\r\n\r\n    if (!offset) {\r\n      offset = 0;\r\n    }\r\n\r\n    if (count) {\r\n      l = Math.min((count * stride) + offset, a.length);\r\n    } else {\r\n      l = a.length;\r\n    }\r\n\r\n    for (i = offset; i < l; i += stride) {\r\n      vec.x = a[i];\r\n      vec.y = a[i + 1];\r\n      vec.z = a[i + 2];\r\n      vec.w = a[i + 3];\r\n      fn(vec, vec, arg);\r\n      a[i] = vec.x;\r\n      a[i + 1] = vec.y;\r\n      a[i + 2] = vec.z;\r\n      a[i + 3] = vec.w;\r\n    }\r\n\r\n    return a;\r\n  };\r\n})();\r\n\r\nexport default vec4;","import { EPSILON } from './utils';\r\nimport vec3 from './vec3';\r\n\r\n/**\r\n * Mathematical 3x3 matrix.\r\n *\r\n * NOTE: we use column-major matrix for all matrix calculation.\r\n *\r\n * This may lead to some confusion when referencing OpenGL documentation,\r\n * however, which represents out all matricies in column-major format.\r\n * This means that while in code a matrix may be typed out as:\r\n *\r\n * [1, 0, 0, 0,\r\n *  0, 1, 0, 0,\r\n *  0, 0, 1, 0,\r\n *  x, y, z, 0]\r\n *\r\n * The same matrix in the [OpenGL documentation](https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glTranslate.xml)\r\n * is written as:\r\n *\r\n *  1 0 0 x\r\n *  0 1 0 y\r\n *  0 0 1 z\r\n *  0 0 0 0\r\n *\r\n * Please rest assured, however, that they are the same thing!\r\n * This is not unique to glMatrix, either, as OpenGL developers have long been confused by the\r\n * apparent lack of consistency between the memory layout and the documentation.\r\n */\r\nclass mat3\r\n{\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m03 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m04 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m05 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m06 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m07 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m08 - Value assigned to element at column 2 row 2.\r\n   */\r\n  constructor(\r\n    m00, m01, m02, m03,\r\n    m04, m05, m06, m07,\r\n    m08\r\n  ) {\r\n    /**\r\n     * The element at column 0 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m00 = m00;\r\n\r\n    /**\r\n     * The element at column 0 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m01 = m01;\r\n\r\n    /**\r\n     * The element at column 0 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m02 = m02;\r\n\r\n    /**\r\n     * The element at column 1 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m03 = m03;\r\n\r\n    /**\r\n     * The element at column 1 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m04 = m04;\r\n\r\n    /**\r\n     * The element at column 1 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m05 = m05;\r\n\r\n    /**\r\n     * The element at column 2 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m06 = m06;\r\n\r\n    /**\r\n     * The element at column 2 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m07 = m07;\r\n\r\n    /**\r\n     * The element at column 2 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m08 = m08;\r\n  }\r\n\r\n  /**\r\n   * Creates a new identity matrix.\r\n   *\r\n   * @returns {mat3} The newly created matrix.\r\n   */\r\n  static create() {\r\n    return new mat3(\r\n      1, 0, 0,\r\n      0, 1, 0,\r\n      0, 0, 1\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m03 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m04 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m05 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m06 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m07 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m08 - Value assigned to element at column 2 row 2.\r\n   * @returns {mat3} The newly created matrix.\r\n   */\r\n  static new(m00, m01, m02, m03, m04, m05, m06, m07, m08) {\r\n    return new mat3(m00, m01, m02, m03, m04, m05, m06, m07, m08);\r\n  }\r\n\r\n  /**\r\n   * Clone a matrix.\r\n   *\r\n   * @param {mat3} a - Matrix to clone.\r\n   * @returns {mat3} The newly created matrix.\r\n   */\r\n  static clone(a) {\r\n    return new mat3(\r\n      a.m00, a.m01, a.m02,\r\n      a.m03, a.m04, a.m05,\r\n      a.m06, a.m07, a.m08\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy content of a matrix into another.\r\n   *\r\n   * @param {mat3} out - Matrix to modified.\r\n   * @param {mat3} a - The specified matrix.\r\n   * @returns {mat3} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = a.m02;\r\n    out.m03 = a.m03;\r\n    out.m04 = a.m04;\r\n    out.m05 = a.m05;\r\n    out.m06 = a.m06;\r\n    out.m07 = a.m07;\r\n    out.m08 = a.m08;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the elements of a matrix to the given values.\r\n   *\r\n   * @param {mat3} out - The matrix to modified.\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m10 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m11 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m12 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m20 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m21 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m22 - Value assigned to element at column 2 row 2.\r\n   * @returns {mat3} out.\r\n   */\r\n  static set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n    out.m00 = m00;\r\n    out.m01 = m01;\r\n    out.m02 = m02;\r\n    out.m03 = m10;\r\n    out.m04 = m11;\r\n    out.m05 = m12;\r\n    out.m06 = m20;\r\n    out.m07 = m21;\r\n    out.m08 = m22;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets a matrix as identity matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to modified.\r\n   * @returns {mat3} out.\r\n   */\r\n  static identity(out) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 1;\r\n    out.m05 = 0;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transposes a matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to transpose.\r\n   * @returns {mat3} out.\r\n   */\r\n  static transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n      let a01 = a.m01, a02 = a.m02, a12 = a.m05;\r\n      out.m01 = a.m03;\r\n      out.m02 = a.m06;\r\n      out.m03 = a01;\r\n      out.m05 = a.m07;\r\n      out.m06 = a02;\r\n      out.m07 = a12;\r\n    } else {\r\n      out.m00 = a.m00;\r\n      out.m01 = a.m03;\r\n      out.m02 = a.m06;\r\n      out.m03 = a.m01;\r\n      out.m04 = a.m04;\r\n      out.m05 = a.m07;\r\n      out.m06 = a.m02;\r\n      out.m07 = a.m05;\r\n      out.m08 = a.m08;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts a matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to invert.\r\n   * @returns {mat3} out.\r\n   */\r\n  static invert(out, a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n\r\n    let b01 = a22 * a11 - a12 * a21;\r\n    let b11 = -a22 * a10 + a12 * a20;\r\n    let b21 = a21 * a10 - a11 * a20;\r\n\r\n    // Calculate the determinant\r\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n    if (!det) {\r\n      return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out.m00 = b01 * det;\r\n    out.m01 = (-a22 * a01 + a02 * a21) * det;\r\n    out.m02 = (a12 * a01 - a02 * a11) * det;\r\n    out.m03 = b11 * det;\r\n    out.m04 = (a22 * a00 - a02 * a20) * det;\r\n    out.m05 = (-a12 * a00 + a02 * a10) * det;\r\n    out.m06 = b21 * det;\r\n    out.m07 = (-a21 * a00 + a01 * a20) * det;\r\n    out.m08 = (a11 * a00 - a01 * a10) * det;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the adjugate of a matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to calculate.\r\n   * @returns {mat3} out.\r\n   */\r\n  static adjoint(out, a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n\r\n    out.m00 = (a11 * a22 - a12 * a21);\r\n    out.m01 = (a02 * a21 - a01 * a22);\r\n    out.m02 = (a01 * a12 - a02 * a11);\r\n    out.m03 = (a12 * a20 - a10 * a22);\r\n    out.m04 = (a00 * a22 - a02 * a20);\r\n    out.m05 = (a02 * a10 - a00 * a12);\r\n    out.m06 = (a10 * a21 - a11 * a20);\r\n    out.m07 = (a01 * a20 - a00 * a21);\r\n    out.m08 = (a00 * a11 - a01 * a10);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the determinant of a matrix.\r\n   *\r\n   * @param {mat3} a - Matrix to calculate.\r\n   * @returns {Number} Determinant of a.\r\n   */\r\n  static determinant(a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n\r\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\r\n  }\r\n\r\n  /**\r\n   * Multiply two matrices explicitly.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - The first operand.\r\n   * @param {mat3} b - The second operand.\r\n   * @returns {mat3} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n\r\n    let b00 = b.m00, b01 = b.m01, b02 = b.m02;\r\n    let b10 = b.m03, b11 = b.m04, b12 = b.m05;\r\n    let b20 = b.m06, b21 = b.m07, b22 = b.m08;\r\n\r\n    out.m00 = b00 * a00 + b01 * a10 + b02 * a20;\r\n    out.m01 = b00 * a01 + b01 * a11 + b02 * a21;\r\n    out.m02 = b00 * a02 + b01 * a12 + b02 * a22;\r\n\r\n    out.m03 = b10 * a00 + b11 * a10 + b12 * a20;\r\n    out.m04 = b10 * a01 + b11 * a11 + b12 * a21;\r\n    out.m05 = b10 * a02 + b11 * a12 + b12 * a22;\r\n\r\n    out.m06 = b20 * a00 + b21 * a10 + b22 * a20;\r\n    out.m07 = b20 * a01 + b21 * a11 + b22 * a21;\r\n    out.m08 = b20 * a02 + b21 * a12 + b22 * a22;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat3.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return mat3.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a translation matrix given by a translation offset.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to multiply.\r\n   * @param {vec2} v - The translation offset.\r\n   * @returns {mat3} out.\r\n   */\r\n  static translate(out, a, v) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n    let x = v.x, y = v.y;\r\n\r\n    out.m00 = a00;\r\n    out.m01 = a01;\r\n    out.m02 = a02;\r\n\r\n    out.m03 = a10;\r\n    out.m04 = a11;\r\n    out.m05 = a12;\r\n\r\n    out.m06 = x * a00 + y * a10 + a20;\r\n    out.m07 = x * a01 + y * a11 + a21;\r\n    out.m08 = x * a02 + y * a12 + a22;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a matrix by the given angle.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to rotate.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat3} out\r\n   */\r\n  static rotate(out, a, rad) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02,\r\n      a10 = a.m03, a11 = a.m04, a12 = a.m05,\r\n      a20 = a.m06, a21 = a.m07, a22 = a.m08;\r\n\r\n    let s = Math.sin(rad);\r\n    let c = Math.cos(rad);\r\n\r\n    out.m00 = c * a00 + s * a10;\r\n    out.m01 = c * a01 + s * a11;\r\n    out.m02 = c * a02 + s * a12;\r\n\r\n    out.m03 = c * a10 - s * a00;\r\n    out.m04 = c * a11 - s * a01;\r\n    out.m05 = c * a12 - s * a02;\r\n\r\n    out.m06 = a20;\r\n    out.m07 = a21;\r\n    out.m08 = a22;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a scale matrix given by a scale vector.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to multiply.\r\n   * @param {vec2} v - The scale vector.\r\n   * @returns {mat3} out\r\n   **/\r\n  static scale(out, a, v) {\r\n    let x = v.x, y = v.y;\r\n\r\n    out.m00 = x * a.m00;\r\n    out.m01 = x * a.m01;\r\n    out.m02 = x * a.m02;\r\n\r\n    out.m03 = y * a.m03;\r\n    out.m04 = y * a.m04;\r\n    out.m05 = y * a.m05;\r\n\r\n    out.m06 = a.m06;\r\n    out.m07 = a.m07;\r\n    out.m08 = a.m08;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Copies the upper-left 3x3 values of a 4x4 matrix into a 3x3 matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat4} a - The 4x4 matrix.\r\n   * @returns {mat3} out.\r\n   */\r\n  static fromMat4(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = a.m02;\r\n    out.m03 = a.m04;\r\n    out.m04 = a.m05;\r\n    out.m05 = a.m06;\r\n    out.m06 = a.m08;\r\n    out.m07 = a.m09;\r\n    out.m08 = a.m10;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a translation offset.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat3.identity(dest);\r\n   *     mat3.translate(dest, dest, vec);\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {vec2} v - The translation offset.\r\n   * @returns {mat3} out.\r\n   */\r\n  static fromTranslation(out, v) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 1;\r\n    out.m05 = 0;\r\n    out.m06 = v.x;\r\n    out.m07 = v.y;\r\n    out.m08 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a given angle.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat3.identity(dest);\r\n   *     mat3.rotate(dest, dest, rad);\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat3} out.\r\n   */\r\n  static fromRotation(out, rad) {\r\n    let s = Math.sin(rad), c = Math.cos(rad);\r\n\r\n    out.m00 = c;\r\n    out.m01 = s;\r\n    out.m02 = 0;\r\n\r\n    out.m03 = -s;\r\n    out.m04 = c;\r\n    out.m05 = 0;\r\n\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a scale vector.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat3.identity(dest);\r\n   *     mat3.scale(dest, dest, vec);\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {vec2} v - Scale vector.\r\n   * @returns {mat3} out.\r\n   */\r\n  static fromScaling(out, v) {\r\n    out.m00 = v.x;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n\r\n    out.m03 = 0;\r\n    out.m04 = v.y;\r\n    out.m05 = 0;\r\n\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Copies the values from a 2x3 matrix into a 3x3 matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat23} a - The 2x3 matrix.\r\n   * @returns {mat3} out.\r\n   **/\r\n  static fromMat2d(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = 0;\r\n\r\n    out.m03 = a.m02;\r\n    out.m04 = a.m03;\r\n    out.m05 = 0;\r\n\r\n    out.m06 = a.m04;\r\n    out.m07 = a.m05;\r\n    out.m08 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates a 3x3 matrix from the given quaternion.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {quat} q - The quaternion.\r\n   *\r\n   * @returns {mat3} out.\r\n   */\r\n  static fromQuat(out, q) {\r\n    let x = q.x, y = q.y, z = q.z, w = q.w;\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out.m00 = 1 - yy - zz;\r\n    out.m03 = yx - wz;\r\n    out.m06 = zx + wy;\r\n\r\n    out.m01 = yx + wz;\r\n    out.m04 = 1 - xx - zz;\r\n    out.m07 = zy - wx;\r\n\r\n    out.m02 = zx - wy;\r\n    out.m05 = zy + wx;\r\n    out.m08 = 1 - xx - yy;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates a 3x3 matrix from view direction and up direction.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {vec3} view - View direction (must be normalized).\r\n   * @param {vec3} [up] - Up direction, default is (0,1,0) (must be normalized).\r\n   *\r\n   * @returns {mat3} out\r\n   */\r\n  static fromViewUp(out, view, up) {\r\n    return mat3._fromViewUp(out, view, up);\r\n  }\r\n\r\n  /**\r\n   * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat4} a - A 4x4 matrix to derive the normal matrix from.\r\n   *\r\n   * @returns {mat3} out.\r\n   */\r\n  static normalFromMat4(out, a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n      a10 = a.m04, a11 = a.m05, a12 = a.m06, a13 = a.m07,\r\n      a20 = a.m08, a21 = a.m09, a22 = a.m10, a23 = a.m11,\r\n      a30 = a.m12, a31 = a.m13, a32 = a.m14, a33 = a.m15;\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n      return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out.m00 = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out.m01 = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out.m02 = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n\r\n    out.m03 = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out.m04 = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out.m05 = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n\r\n    out.m06 = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out.m07 = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out.m08 = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns a string representation of a matrix.\r\n   *\r\n   * @param {mat3} a - The matrix.\r\n   * @returns {String} String representation of this matrix.\r\n   */\r\n  static str(a) {\r\n    return `mat3(${a.m00}, ${a.m01}, ${a.m02}, ${a.m03}, ${a.m04}, ${a.m05}, ${a.m06}, ${a.m07}, ${a.m08})`;\r\n  }\r\n\r\n  /**\r\n   * Store elements of a matrix into array.\r\n   *\r\n   * @param {array} out - Array to store result.\r\n   * @param {mat3} m - The matrix.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, m) {\r\n    out[0] = m.m00;\r\n    out[1] = m.m01;\r\n    out[2] = m.m02;\r\n    out[3] = m.m03;\r\n    out[4] = m.m04;\r\n    out[5] = m.m05;\r\n    out[6] = m.m06;\r\n    out[7] = m.m07;\r\n    out[8] = m.m08;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns Frobenius norm of a matrix.\r\n   *\r\n   * @param {mat3} a - Matrix to calculate Frobenius norm of.\r\n   * @returns {Number} - The frobenius norm.\r\n   */\r\n  static frob(a) {\r\n    return (Math.sqrt(Math.pow(a.m00, 2) + Math.pow(a.m01, 2) + Math.pow(a.m02, 2) + Math.pow(a.m03, 2) + Math.pow(a.m04, 2) + Math.pow(a.m05, 2) + Math.pow(a.m06, 2) + Math.pow(a.m07, 2) + Math.pow(a.m08, 2)));\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - The first operand.\r\n   * @param {mat3} b - The second operand.\r\n   * @returns {mat3} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.m00 = a.m00 + b.m00;\r\n    out.m01 = a.m01 + b.m01;\r\n    out.m02 = a.m02 + b.m02;\r\n    out.m03 = a.m03 + b.m03;\r\n    out.m04 = a.m04 + b.m04;\r\n    out.m05 = a.m05 + b.m05;\r\n    out.m06 = a.m06 + b.m06;\r\n    out.m07 = a.m07 + b.m07;\r\n    out.m08 = a.m08 + b.m08;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtracts matrix b from matrix a.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - The first operand.\r\n   * @param {mat3} b - The second operand.\r\n   * @returns {mat3} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.m00 = a.m00 - b.m00;\r\n    out.m01 = a.m01 - b.m01;\r\n    out.m02 = a.m02 - b.m02;\r\n    out.m03 = a.m03 - b.m03;\r\n    out.m04 = a.m04 - b.m04;\r\n    out.m05 = a.m05 - b.m05;\r\n    out.m06 = a.m06 - b.m06;\r\n    out.m07 = a.m07 - b.m07;\r\n    out.m08 = a.m08 - b.m08;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat3.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return mat3.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply each element of a matrix by a scalar number.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - Matrix to scale\r\n   * @param {Number} b - The scale number.\r\n   * @returns {mat3} out.\r\n   */\r\n  static multiplyScalar(out, a, b) {\r\n    out.m00 = a.m00 * b;\r\n    out.m01 = a.m01 * b;\r\n    out.m02 = a.m02 * b;\r\n    out.m03 = a.m03 * b;\r\n    out.m04 = a.m04 * b;\r\n    out.m05 = a.m05 * b;\r\n    out.m06 = a.m06 * b;\r\n    out.m07 = a.m07 * b;\r\n    out.m08 = a.m08 * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices after multiplying each element of the second operand by a scalar number.\r\n   *\r\n   * @param {mat3} out - Matrix to store result.\r\n   * @param {mat3} a - The first operand.\r\n   * @param {mat3} b - The second operand.\r\n   * @param {Number} scale - The scale number.\r\n   * @returns {mat3} out.\r\n   */\r\n  static multiplyScalarAndAdd(out, a, b, scale) {\r\n    out.m00 = a.m00 + (b.m00 * scale);\r\n    out.m01 = a.m01 + (b.m01 * scale);\r\n    out.m02 = a.m02 + (b.m02 * scale);\r\n    out.m03 = a.m03 + (b.m03 * scale);\r\n    out.m04 = a.m04 + (b.m04 * scale);\r\n    out.m05 = a.m05 + (b.m05 * scale);\r\n    out.m06 = a.m06 + (b.m06 * scale);\r\n    out.m07 = a.m07 + (b.m07 * scale);\r\n    out.m08 = a.m08 + (b.m08 * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are equal. (Compared using ===)\r\n   *\r\n   * @param {mat3} a - The first matrix.\r\n   * @param {mat3} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.m00 === b.m00 && a.m01 === b.m01 && a.m02 === b.m02 &&\r\n      a.m03 === b.m03 && a.m04 === b.m04 && a.m05 === b.m05 &&\r\n      a.m06 === b.m06 && a.m07 === b.m07 && a.m08 === b.m08;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are approximately equal.\r\n   *\r\n   * @param {mat3} a - The first matrix.\r\n   * @param {mat3} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05, a6 = a.m06, a7 = a.m07, a8 = a.m08;\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03, b4 = b.m04, b5 = b.m05, b6 = b.m06, b7 = b.m07, b8 = b.m08;\r\n    return (\r\n      Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\r\n      Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\r\n      Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\r\n      Math.abs(a6 - b6) <= EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\r\n      Math.abs(a7 - b7) <= EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\r\n      Math.abs(a8 - b8) <= EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8))\r\n    );\r\n  }\r\n}\r\n\r\nmat3._fromViewUp = (function () {\r\n  let default_up = vec3.new(0, 1, 0);\r\n  let x = vec3.zero();\r\n  let y = vec3.zero();\r\n\r\n  return function (out, view, up) {\r\n    if (vec3.sqrMag(view) < EPSILON * EPSILON) {\r\n      mat3.identity(out);\r\n      return out;\r\n    }\r\n\r\n    up = up || default_up;\r\n    vec3.normalize(x, vec3.cross(x, up, view));\r\n\r\n    if (vec3.sqrMag(x) < EPSILON * EPSILON) {\r\n      mat3.identity(out);\r\n      return out;\r\n    }\r\n\r\n    vec3.cross(y, view, x);\r\n    mat3.set(\r\n      out,\r\n      x.x, x.y, x.z,\r\n      y.x, y.y, y.z,\r\n      view.x, view.y, view.z\r\n    );\r\n\r\n    return out;\r\n  };\r\n})();\r\n\r\nexport default mat3;","import vec3 from './vec3';\r\nimport vec4 from './vec4';\r\nimport mat3 from './mat3';\r\n\r\n/**\r\n * Mathematical quaternion.\r\n *\r\n * A quaternion is a hypercomplex number represented by w + xi + yj + zk, where\r\n * x, y, z and w are real numbers(called here its components), and i, j, and k are the fundamental quaternion units.\r\n */\r\nclass quat\r\n{\r\n  /**\r\n   * Creates a quaternion, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   * @param {number} w - Value assigned to w component.\r\n   */\r\n  constructor(x, y, z, w) {\r\n    /**\r\n     * The x component.\r\n     * @type {number}\r\n     * */\r\n    this.x = x;\r\n\r\n    /**\r\n     * The y component.\r\n     * @type {number}\r\n     * */\r\n    this.y = y;\r\n\r\n    /**\r\n     * The z component.\r\n     * @type {number}\r\n     * */\r\n    this.z = z;\r\n\r\n    /**\r\n     * The w component.\r\n     * @type {number}\r\n     * */\r\n    this.w = w;\r\n  }\r\n\r\n  /**\r\n   * Creates a quaternion, with components specified separately.\r\n   *\r\n   * @param {number} x - Value assigned to x component.\r\n   * @param {number} y - Value assigned to y component.\r\n   * @param {number} z - Value assigned to z component.\r\n   * @param {number} w - Value assigned to w component.\r\n   * @return {quat} The newly created quaternion.\r\n   */\r\n  static new(x, y, z, w) {\r\n    return new quat(x, y, z, w);\r\n  }\r\n\r\n  /**\r\n   * Creates an identity quaternion.\r\n   *\r\n   * @returns {quat} The newly created quaternion.\r\n   */\r\n  static create() {\r\n    return new quat(0, 0, 0, 1);\r\n  }\r\n\r\n  /**\r\n   * Clone a quaternion.\r\n   *\r\n   * @param {quat} a - Quaternion to clone.\r\n   * @returns {quat} The newly created quaternion.\r\n   */\r\n  static clone(a) {\r\n    return new quat(a.x, a.y, a.z, a.w);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a quaternion into another.\r\n   *\r\n   * @param {quat} out - Quaternion to modified.\r\n   * @param {quat} a - The specified quaternion.\r\n   * @returns {quat} out.\r\n   */\r\n  static copy(out, a) {\r\n    return vec4.copy(out, a);\r\n  }\r\n\r\n  /**\r\n   * Sets the components of a quaternion to the given values.\r\n   *\r\n   * @param {quat} out - The quaternion to modified.\r\n   * @param {Number} x - Value set to x component.\r\n   * @param {Number} y - Value set to y component.\r\n   * @param {Number} z - Value set to z component.\r\n   * @param {Number} w - Value set to w component.\r\n   * @returns {quat} out.\r\n   */\r\n  static set(out, x, y, z, w) {\r\n    out.x = x;\r\n    out.y = y;\r\n    out.z = z;\r\n    out.w = w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets a quaternion as identity quaternion.\r\n   *\r\n   * @param {quat} out - Quaternion to set.\r\n   * @returns {quat} out.\r\n   */\r\n  static identity(out) {\r\n    out.x = 0;\r\n    out.y = 0;\r\n    out.z = 0;\r\n    out.w = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets a quaternion to represent the shortest rotation from one\r\n   * vector to another.\r\n   *\r\n   * Both vectors are assumed to be unit length.\r\n   *\r\n   * @param {quat} out - Quaternion to set.\r\n   * @param {vec3} a - The initial vector.\r\n   * @param {vec3} b - The destination vector.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotationTo(out, a, b) {\r\n    return quat._rotationTo(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Gets the rotation axis and angle for a given\r\n   *  quaternion. If a quaternion is created with\r\n   *  fromAxisAngle, this method will return the same\r\n   *  values as provided in the original parameter list\r\n   *  OR functionally equivalent values.\r\n   * Example: The quaternion formed by axis [0, 0, 1] and\r\n   *  angle -90 is the same as the quaternion formed by\r\n   *  [0, 0, 1] and 270. This method favors the latter.\r\n   * @param  {vec3} out_axis - Vector to store the rotation axis.\r\n   * @param  {quat} q - Quaternion to be decomposed.\r\n   * @return {Number} - Angle, in radians, of the rotation.\r\n   */\r\n  static getAxisAngle(out_axis, q) {\r\n    let rad = Math.acos(q.w) * 2.0;\r\n    let s = Math.sin(rad / 2.0);\r\n    if (s != 0.0) {\r\n      out_axis.x = q.x / s;\r\n      out_axis.y = q.y / s;\r\n      out_axis.z = q.z / s;\r\n    } else {\r\n      // If s is zero, return any axis (no rotation - axis does not matter)\r\n      out_axis.x = 1;\r\n      out_axis.y = 0;\r\n      out_axis.z = 0;\r\n    }\r\n    return rad;\r\n  }\r\n\r\n  /**\r\n   * Multiply two quaternions.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - The first operand.\r\n   * @param {quat} b - The second operand.\r\n   * @returns {quat} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    let ax = a.x, ay = a.y, az = a.z, aw = a.w,\r\n      bx = b.x, by = b.y, bz = b.z, bw = b.w;\r\n\r\n    out.x = ax * bw + aw * bx + ay * bz - az * by;\r\n    out.y = ay * bw + aw * by + az * bx - ax * bz;\r\n    out.z = az * bw + aw * bz + ax * by - ay * bx;\r\n    out.w = aw * bw - ax * bx - ay * by - az * bz;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link quat.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return quat.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Scales a quaternion with a number.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to scale.\r\n   * @param {quat} b - The scale number.\r\n   * @returns {quat} out.\r\n   * */\r\n  static scale(out, a, b) {\r\n    out.x = a.x * b;\r\n    out.y = a.y * b;\r\n    out.z = a.z * b;\r\n    out.w = a.w * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a quaternion by the given angle about the X axis.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to rotate.\r\n   * @param {number} rad - Angle (in radians) to rotate.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotateX(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a.x, ay = a.y, az = a.z, aw = a.w,\r\n      bx = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out.x = ax * bw + aw * bx;\r\n    out.y = ay * bw + az * bx;\r\n    out.z = az * bw - ay * bx;\r\n    out.w = aw * bw - ax * bx;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a quaternion by the given angle about the Y axis.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to rotate.\r\n   * @param {number} rad - Angle (in radians) to rotate.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotateY(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a.x, ay = a.y, az = a.z, aw = a.w,\r\n      by = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out.x = ax * bw - az * by;\r\n    out.y = ay * bw + aw * by;\r\n    out.z = az * bw + ax * by;\r\n    out.w = aw * bw - ay * by;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a quaternion by the given angle about the Z axis.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to rotate.\r\n   * @param {number} rad - Angle (in radians) to rotate.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotateZ(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a.x, ay = a.y, az = a.z, aw = a.w,\r\n      bz = Math.sin(rad), bw = Math.cos(rad);\r\n\r\n    out.x = ax * bw + ay * bz;\r\n    out.y = ay * bw - ax * bz;\r\n    out.z = az * bw + aw * bz;\r\n    out.w = aw * bw - az * bz;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Rotates a quaternion by the given angle about a world space axis.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} rot - Quaternion to rotate.\r\n   * @param {vec3} axis - The axis around which to rotate in world space.\r\n   * @param {number} rad - Angle (in radians) to rotate.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotateAround(out, rot, axis, rad) {\r\n    return quat._rotateAround(out, rot, axis, rad);\r\n  }\r\n\r\n  /**\r\n   * Rotates a quaternion by the given angle about a local space axis.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} rot - Quaternion to rotate.\r\n   * @param {vec3} axis - The axis around which to rotate in local space.\r\n   * @param {number} rad - Angle (in radians) to rotate.\r\n   * @returns {quat} out.\r\n   */\r\n  static rotateAroundLocal(out, rot, axis, rad) {\r\n    return quat._rotateAroundLocal(out, rot, axis, rad);\r\n  }\r\n\r\n  /**\r\n   * Calculates the W component of a quaternion from the X, Y, and Z components.\r\n   * Assumes that quaternion is 1 unit in length.\r\n   * Any existing W component will be ignored.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to calculate W.\r\n   * @returns {quat} out.\r\n   */\r\n  static calculateW(out, a) {\r\n    let x = a.x, y = a.y, z = a.z;\r\n\r\n    out.x = x;\r\n    out.y = y;\r\n    out.z = z;\r\n    out.w = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the dot product of two quaternions.\r\n   *\r\n   * @param {quat} a - The first operand.\r\n   * @param {quat} b - The second operand.\r\n   * @returns {Number} - The dot product of a and b.\r\n   */\r\n  static dot(a, b) {\r\n    return a.x * b.x + a.y * b.y + a.z * b.z + a.w * b.w;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two quaternions.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - The first operand.\r\n   * @param {quat} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {quat} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ax = a.x,\r\n      ay = a.y,\r\n      az = a.z,\r\n      aw = a.w;\r\n    out.x = ax + t * (b.x - ax);\r\n    out.y = ay + t * (b.y - ay);\r\n    out.z = az + t * (b.z - az);\r\n    out.w = aw + t * (b.w - aw);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a spherical linear interpolation between two quaternions.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - The first operand.\r\n   * @param {quat} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {quat} out.\r\n   */\r\n  static slerp(out, a, b, t) {\r\n    // benchmarks:\r\n    //    http://jsperf.com/quaternion-slerp-implementations\r\n\r\n    let ax = a.x, ay = a.y, az = a.z, aw = a.w,\r\n      bx = b.x, by = b.y, bz = b.z, bw = b.w;\r\n\r\n    let omega, cosom, sinom, scale0, scale1;\r\n\r\n    // calc cosine\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    // adjust signs (if necessary)\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    // calculate coefficients\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      // standard case (slerp)\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      // \"from\" and \"to\" quaternions are very close\r\n      //  ... so we can do a linear interpolation\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    // calculate final values\r\n    out.x = scale0 * ax + scale1 * bx;\r\n    out.y = scale0 * ay + scale1 * by;\r\n    out.z = scale0 * az + scale1 * bz;\r\n    out.w = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a spherical linear interpolation with two control points.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - The first operand.\r\n   * @param {quat} b - The second operand.\r\n   * @param {quat} c - The third operand.\r\n   * @param {quat} d - The fourth operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {quat} out\r\n   */\r\n  static sqlerp(out, a, b, c, d, t) {\r\n    return quat._sqlerp(out, a, b, c, d, t);\r\n  }\r\n\r\n  /**\r\n   * Calculates the inverse of a quaternion.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to calculate inverse of.\r\n   * @returns {quat} out.\r\n   */\r\n  static invert(out, a) {\r\n    let a0 = a.x, a1 = a.y, a2 = a.z, a3 = a.w;\r\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\r\n    let invDot = dot ? 1.0 / dot : 0;\r\n\r\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\r\n\r\n    out.x = -a0 * invDot;\r\n    out.y = -a1 * invDot;\r\n    out.z = -a2 * invDot;\r\n    out.w = a3 * invDot;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the conjugate of a quaternion.\r\n   * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to calculate conjugate of.\r\n   * @returns {quat} out.\r\n   */\r\n  static conjugate(out, a) {\r\n    out.x = -a.x;\r\n    out.y = -a.y;\r\n    out.z = -a.z;\r\n    out.w = a.w;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the length of a quaternion.\r\n   *\r\n   * @param {quat} a - The quaternion.\r\n   * @returns {Number} Length of the quaternion.\r\n   */\r\n  static magnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link quat.magnitude}.\r\n   */\r\n  static mag(a) {\r\n    return quat.magnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Calculates the squared length of a quaternion.\r\n   *\r\n   * @param {quat} a - The quaternion.\r\n   * @returns {Number} Squared length of the quaternion.\r\n   */\r\n  static squaredMagnitude(a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    return x * x + y * y + z * z + w * w;\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link quat.squaredMagnitude}\r\n   */\r\n  static sqrMag(a) {\r\n    return quat.squaredMagnitude(a);\r\n  }\r\n\r\n  /**\r\n   * Normalizes a quaternion.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {quat} a - Quaternion to normalize.\r\n   * @returns {quat} out.\r\n   * @function\r\n   */\r\n  static normalize(out, a) {\r\n    let x = a.x,\r\n      y = a.y,\r\n      z = a.z,\r\n      w = a.w;\r\n    let len = x * x + y * y + z * z + w * w;\r\n    if (len > 0) {\r\n      len = 1 / Math.sqrt(len);\r\n      out.x = x * len;\r\n      out.y = y * len;\r\n      out.z = z * len;\r\n      out.w = w * len;\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the specified quaternion with values corresponding to the given\r\n   * axes. Each axis is a vec3 and is expected to be unit length and\r\n   * perpendicular to all other specified axes.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {vec3} xAxis - Vector representing the local \"right\" direction.\r\n   * @param {vec3} yAxis - Vector representing the local \"up\" direction.\r\n   * @param {vec3} zAxis - Vector representing the viewing direction.\r\n   * @returns {quat} out.\r\n   */\r\n  static fromAxes(out, xAxis, yAxis, zAxis) {\r\n    return quat._fromAxes(out, xAxis, yAxis, zAxis);\r\n  }\r\n\r\n  /**\r\n   * Calculates a quaternion from view direction and up direction\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {vec3} view - View direction (must be normalized).\r\n   * @param {vec3} [up] - Up direction, default is (0,1,0) (must be normalized).\r\n   *\r\n   * @returns {quat} out.\r\n   */\r\n  static fromViewUp(out, view, up) {\r\n    return quat._fromViewUp(out, view, up);\r\n  }\r\n\r\n  /**\r\n   * Sets a quaternion from the given angle and rotation axis,\r\n   * then returns it.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {vec3} axis - The axis around which to rotate.\r\n   * @param {Number} rad - The angle in radians.\r\n   * @returns {quat} out.\r\n   **/\r\n  static fromAxisAngle(out, axis, rad) {\r\n    rad = rad * 0.5;\r\n    let s = Math.sin(rad);\r\n    out.x = s * axis.x;\r\n    out.y = s * axis.y;\r\n    out.z = s * axis.z;\r\n    out.w = Math.cos(rad);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a quaternion from the given 3x3 rotation matrix.\r\n   *\r\n   * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n   * to re-normalize the quaternion yourself where necessary.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {mat3} m - The rotation matrix.\r\n   * @returns {quat} out.\r\n   * @function\r\n   */\r\n  static fromMat3(out, m) {\r\n    // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n\r\n    let m00 = m.m00, m01 = m.m03, m02 = m.m06,\r\n      m10 = m.m01, m11 = m.m04, m12 = m.m07,\r\n      m20 = m.m02, m21 = m.m05, m22 = m.m08;\r\n\r\n    let trace = m00 + m11 + m22;\r\n\r\n    if (trace > 0) {\r\n      let s = 0.5 / Math.sqrt(trace + 1.0);\r\n\r\n      out.w = 0.25 / s;\r\n      out.x = (m21 - m12) * s;\r\n      out.y = (m02 - m20) * s;\r\n      out.z = (m10 - m01) * s;\r\n\r\n    } else if ((m00 > m11) && (m00 > m22)) {\r\n      let s = 2.0 * Math.sqrt(1.0 + m00 - m11 - m22);\r\n\r\n      out.w = (m21 - m12) / s;\r\n      out.x = 0.25 * s;\r\n      out.y = (m01 + m10) / s;\r\n      out.z = (m02 + m20) / s;\r\n\r\n    } else if (m11 > m22) {\r\n      let s = 2.0 * Math.sqrt(1.0 + m11 - m00 - m22);\r\n\r\n      out.w = (m02 - m20) / s;\r\n      out.x = (m01 + m10) / s;\r\n      out.y = 0.25 * s;\r\n      out.z = (m12 + m21) / s;\r\n\r\n    } else {\r\n      let s = 2.0 * Math.sqrt(1.0 + m22 - m00 - m11);\r\n\r\n      out.w = (m10 - m01) / s;\r\n      out.x = (m02 + m20) / s;\r\n      out.y = (m12 + m21) / s;\r\n      out.z = 0.25 * s;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a quaternion from the given euler angle x, y, z.\r\n   *\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {number} x - Angle to rotate around X axis in degrees.\r\n   * @param {number} y - Angle to rotate around Y axis in degrees.\r\n   * @param {number} z - Angle to rotate around Z axis in degrees.\r\n   * @returns {quat} out.\r\n   * @function\r\n   */\r\n  static fromEuler(out, x, y, z) {\r\n    let halfToRad = 0.5 * Math.PI / 180.0;\r\n    x *= halfToRad;\r\n    y *= halfToRad;\r\n    z *= halfToRad;\r\n\r\n    let sx = Math.sin(x);\r\n    let cx = Math.cos(x);\r\n    let sy = Math.sin(y);\r\n    let cy = Math.cos(y);\r\n    let sz = Math.sin(z);\r\n    let cz = Math.cos(z);\r\n\r\n    out.x = sx * cy * cz - cx * sy * sz;\r\n    out.y = cx * sy * cz + sx * cy * sz;\r\n    out.z = cx * cy * sz - sx * sy * cz;\r\n    out.w = cx * cy * cz + sx * sy * sz;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a quaternion.\r\n   *\r\n   * @param {quat} a - The quaternion.\r\n   * @returns {String} - String representation of this quaternion.\r\n   */\r\n  static str(a) {\r\n    return `quat(${a.x}, ${a.y}, ${a.z}, ${a.w})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a quaternion into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {quat} q - The quaternion.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, q) {\r\n    out[0] = q.x;\r\n    out[1] = q.y;\r\n    out[2] = q.z;\r\n    out[3] = q.w;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified quaternions are equal. (Compared using ===)\r\n   *\r\n   * @param {quat} a - The first quaternion.\r\n   * @param {quat} b - The second quaternion.\r\n   * @returns {Boolean} True if the quaternions are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return vec4.exactEquals(a, b);\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified quaternions are approximately equal.\r\n   *\r\n   * @param {quat} a The first quaternion.\r\n   * @param {quat} b The second quaternion.\r\n   * @returns {Boolean} True if the quaternions are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    return vec4.equals(a, b);\r\n  }\r\n}\r\n\r\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._rotationTo = (function ()\r\n{\r\n  let tmpvec3 = vec3.zero();\r\n  let xUnitVec3 = vec3.new(1, 0, 0);\r\n  let yUnitVec3 = vec3.new(0, 1, 0);\r\n\r\n  return function (out, a, b)\r\n  {\r\n    let dot = vec3.dot(a, b);\r\n    if (dot < -0.999999)\r\n    {\r\n      vec3.cross(tmpvec3, xUnitVec3, a);\r\n      if (vec3.magnitude(tmpvec3) < 0.000001)\r\n      {\r\n        vec3.cross(tmpvec3, yUnitVec3, a);\r\n      }\r\n      vec3.normalize(tmpvec3, tmpvec3);\r\n      quat.fromAxisAngle(out, tmpvec3, Math.PI);\r\n      return out;\r\n    } else if (dot > 0.999999)\r\n    {\r\n      out.x = 0;\r\n      out.y = 0;\r\n      out.z = 0;\r\n      out.w = 1;\r\n      return out;\r\n    } else\r\n    {\r\n      vec3.cross(tmpvec3, a, b);\r\n      out.x = tmpvec3.x;\r\n      out.y = tmpvec3.y;\r\n      out.z = tmpvec3.z;\r\n      out.w = 1 + dot;\r\n      return quat.normalize(out, out);\r\n    }\r\n  };\r\n})();\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the axis in world space\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} rot quat to rotate\r\n * @param {vec3} axis the axis around which to rotate in world space\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._rotateAround = (function () {\r\n  let v3_tmp = vec3.zero();\r\n  let q_tmp = quat.create();\r\n\r\n  return function (out, rot, axis, rad) {\r\n    // get inv-axis (local to rot)\r\n    quat.invert(q_tmp, rot);\r\n    vec3.transformQuat(v3_tmp, axis, q_tmp);\r\n    // rotate by inv-axis\r\n    quat.fromAxisAngle(q_tmp, v3_tmp, rad);\r\n    quat.mul(out, rot, q_tmp);\r\n\r\n    return out;\r\n  };\r\n})();\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the axis in local space\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} rot quat to rotate\r\n * @param {vec3} axis the axis around which to rotate in local space\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._rotateAroundLocal = (function () {\r\n  let q_tmp = quat.create();\r\n\r\n  return function (out, rot, axis, rad) {\r\n    quat.fromAxisAngle(q_tmp, axis, rad);\r\n    quat.mul(out, rot, q_tmp);\r\n\r\n    return out;\r\n  };\r\n})();\r\n\r\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._sqlerp = (function () {\r\n  let temp1 = quat.create();\r\n  let temp2 = quat.create();\r\n\r\n  return function (out, a, b, c, d, t) {\r\n    quat.slerp(temp1, a, d, t);\r\n    quat.slerp(temp2, b, c, t);\r\n    quat.slerp(out, temp1, temp2, 2 * t * (1 - t));\r\n\r\n    return out;\r\n  };\r\n}());\r\n\r\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} xAxis the vector representing the local \"right\" direction\r\n * @param {vec3} yAxis the vector representing the local \"up\" direction\r\n * @param {vec3} zAxis the vector representing the viewing direction\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._fromAxes = (function () {\r\n  let matr = mat3.create();\r\n\r\n  return function (out, xAxis, yAxis, zAxis) {\r\n    mat3.set(matr,\r\n      xAxis.x, xAxis.y, xAxis.z,\r\n      yAxis.x, yAxis.y, yAxis.z,\r\n      zAxis.x, zAxis.y, zAxis.z\r\n    );\r\n    return quat.normalize(out, quat.fromMat3(out, matr));\r\n  };\r\n})();\r\n\r\n/**\r\n * Calculates a quaternion from view direction and up direction\r\n *\r\n * @param {quat} out mat3 receiving operation result\r\n * @param {vec3} view view direction (must be normalized)\r\n * @param {vec3} [up] up direction, default is (0,1,0) (must be normalized)\r\n *\r\n * @returns {quat} out\r\n * @ignore\r\n */\r\nquat._fromViewUp = (function () {\r\n  let matr = mat3.create();\r\n\r\n  return function (out, view, up) {\r\n    mat3.fromViewUp(matr, view, up);\r\n    if (!matr) {\r\n      return null;\r\n    }\r\n\r\n    return quat.normalize(out, quat.fromMat3(out, matr));\r\n  };\r\n})();\r\n\r\nexport default quat;","import { EPSILON } from './utils';\r\n\r\n/**\r\n * Mathematical 2x2 matrix.\r\n */\r\nclass mat2\r\n{\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m03 - Value assigned to element at column 1 row 1.\r\n   */\r\n  constructor(m00, m01, m02, m03) {\r\n    /**\r\n     * The element at column 0 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m00 = m00;\r\n\r\n    /**\r\n     * The element at column 0 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m01 = m01;\r\n\r\n    /**\r\n     * The element at column 1 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m02 = m02;\r\n\r\n    /**\r\n     * The element at column 1 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m03 = m03;\r\n  }\r\n\r\n  /**\r\n   * Creates a new identity matrix.\r\n   *\r\n   * @returns {mat2} The newly created matrix.\r\n   */\r\n  static create() {\r\n    return new mat2(1, 0, 0, 1);\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m03 - Value assigned to element at column 1 row 1.\r\n   * @returns {mat2} The newly created matrix.\r\n   */\r\n  static new(m00, m01, m02, m03) {\r\n    return new mat2(m00, m01, m02, m03);\r\n  }\r\n\r\n  /**\r\n   * Clone a matrix.\r\n   *\r\n   * @param {mat2} a - Matrix to clone.\r\n   * @returns {mat2} The newly created matrix.\r\n   */\r\n  static clone(a) {\r\n    return new mat2(a.m00, a.m01, a.m02, a.m03);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a matrix into another.\r\n   *\r\n   * @param {mat2} out - Matrix to modified.\r\n   * @param {mat2} a - The specified matrix.\r\n   * @returns {mat2} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = a.m02;\r\n    out.m03 = a.m03;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets a matrix as identity matrix.\r\n   *\r\n   * @param {mat2} out - Matrix to modified.\r\n   * @returns {mat2} out.\r\n   */\r\n  static identity(out) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the elements of a matrix to the given values.\r\n   *\r\n   * @param {mat2} out - The matrix to modified.\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m10 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m11 - Value assigned to element at column 1 row 1.\r\n   * @returns {mat2} out.\r\n   */\r\n  static set(out, m00, m01, m10, m11) {\r\n    out.m00 = m00;\r\n    out.m01 = m01;\r\n    out.m02 = m10;\r\n    out.m03 = m11;\r\n    return out;\r\n  }\r\n\r\n\r\n  /**\r\n   * Transposes a matrix.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to transpose.\r\n   * @returns {mat2} out.\r\n   */\r\n  static transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n      let a1 = a.m01;\r\n      out.m01 = a.m02;\r\n      out.m02 = a1;\r\n    } else {\r\n      out.m00 = a.m00;\r\n      out.m01 = a.m02;\r\n      out.m02 = a.m01;\r\n      out.m03 = a.m03;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts a matrix.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to invert.\r\n   * @returns {mat2} out.\r\n   */\r\n  static invert(out, a) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03;\r\n\r\n    // Calculate the determinant\r\n    let det = a0 * a3 - a2 * a1;\r\n\r\n    if (!det) {\r\n      return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out.m00 = a3 * det;\r\n    out.m01 = -a1 * det;\r\n    out.m02 = -a2 * det;\r\n    out.m03 = a0 * det;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the adjugate of a matrix.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to calculate.\r\n   * @returns {mat2} out.\r\n   */\r\n  static adjoint(out, a) {\r\n    // Caching this value is nessecary if out == a\r\n    let a0 = a.m00;\r\n    out.m00 = a.m03;\r\n    out.m01 = -a.m01;\r\n    out.m02 = -a.m02;\r\n    out.m03 = a0;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the determinant of a matrix.\r\n   *\r\n   * @param {mat2} a - Matrix to calculate.\r\n   * @returns {Number} Determinant of a.\r\n   */\r\n  static determinant(a) {\r\n    return a.m00 * a.m03 - a.m02 * a.m01;\r\n  }\r\n\r\n  /**\r\n   * Multiply two matrices explicitly.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - The first operand.\r\n   * @param {mat2} b - The second operand.\r\n   * @returns {mat2} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03;\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03;\r\n    out.m00 = a0 * b0 + a2 * b1;\r\n    out.m01 = a1 * b0 + a3 * b1;\r\n    out.m02 = a0 * b2 + a2 * b3;\r\n    out.m03 = a1 * b2 + a3 * b3;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat2.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return mat2.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Rotates a matrix by the given angle.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to rotate.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat2} out\r\n   */\r\n  static rotate(out, a, rad) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03,\r\n      s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n    out.m00 = a0 * c + a2 * s;\r\n    out.m01 = a1 * c + a3 * s;\r\n    out.m02 = a0 * -s + a2 * c;\r\n    out.m03 = a1 * -s + a3 * c;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Scales the matrix given by a scale vector.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to scale.\r\n   * @param {vec2} v - The scale vector.\r\n   * @returns {mat2} out\r\n   **/\r\n  static scale(out, a, v) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03,\r\n      v0 = v.x, v1 = v.y;\r\n    out.m00 = a0 * v0;\r\n    out.m01 = a1 * v0;\r\n    out.m02 = a2 * v1;\r\n    out.m03 = a3 * v1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a given angle.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat2.identity(dest);\r\n   *     mat2.rotate(dest, dest, rad);\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat2} out.\r\n   */\r\n  static fromRotation(out, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n    out.m00 = c;\r\n    out.m01 = s;\r\n    out.m02 = -s;\r\n    out.m03 = c;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a scale vector.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat2.identity(dest);\r\n   *     mat2.scale(dest, dest, vec);\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {vec2} v - Scale vector.\r\n   * @returns {mat2} out.\r\n   */\r\n  static fromScaling(out, v) {\r\n    out.m00 = v.x;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = v.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns a string representation of a matrix.\r\n   *\r\n   * @param {mat2} a - The matrix.\r\n   * @returns {String} String representation of this matrix.\r\n   */\r\n  static str(a) {\r\n    return `mat2(${a.m00}, ${a.m01}, ${a.m02}, ${a.m03})`;\r\n  }\r\n\r\n  /**\r\n   * Store elements of a matrix into array.\r\n   *\r\n   * @param {array} out - Array to store result.\r\n   * @param {mat2} m - The matrix.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, m) {\r\n    out[0] = m.m00;\r\n    out[1] = m.m01;\r\n    out[2] = m.m02;\r\n    out[3] = m.m03;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns Frobenius norm of a matrix.\r\n   *\r\n   * @param {mat2} a - Matrix to calculate Frobenius norm of.\r\n   * @returns {Number} - The frobenius norm.\r\n   */\r\n  static frob(a) {\r\n    return (Math.sqrt(Math.pow(a.m00, 2) + Math.pow(a.m01, 2) + Math.pow(a.m02, 2) + Math.pow(a.m03, 2)));\r\n  }\r\n\r\n  /**\r\n   * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix.\r\n   * @param {mat2} L - The lower triangular matrix.\r\n   * @param {mat2} D - The diagonal matrix.\r\n   * @param {mat2} U - The upper triangular matrix.\r\n   * @param {mat2} a - The input matrix to factorize.\r\n   */\r\n  static LDU(L, D, U, a) {\r\n    L.m02 = a.m02 / a.m00;\r\n    U.m00 = a.m00;\r\n    U.m01 = a.m01;\r\n    U.m03 = a.m03 - L.m02 * U.m01;\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - The first operand.\r\n   * @param {mat2} b - The second operand.\r\n   * @returns {mat2} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.m00 = a.m00 + b.m00;\r\n    out.m01 = a.m01 + b.m01;\r\n    out.m02 = a.m02 + b.m02;\r\n    out.m03 = a.m03 + b.m03;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtracts matrix b from matrix a.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - The first operand.\r\n   * @param {mat2} b - The second operand.\r\n   * @returns {mat2} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.m00 = a.m00 - b.m00;\r\n    out.m01 = a.m01 - b.m01;\r\n    out.m02 = a.m02 - b.m02;\r\n    out.m03 = a.m03 - b.m03;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat2.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return mat2.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are equal. (Compared using ===)\r\n   *\r\n   * @param {mat2} a - The first matrix.\r\n   * @param {mat2} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.m00 === b.m00 && a.m01 === b.m01 && a.m02 === b.m02 && a.m03 === b.m03;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are approximately equal.\r\n   *\r\n   * @param {mat2} a - The first matrix.\r\n   * @param {mat2} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03;\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03;\r\n    return (\r\n      Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3))\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Multiply each element of a matrix by a scalar number.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - Matrix to scale\r\n   * @param {Number} b - The scale number.\r\n   * @returns {mat2} out.\r\n   */\r\n  static multiplyScalar(out, a, b) {\r\n    out.m00 = a.m00 * b;\r\n    out.m01 = a.m01 * b;\r\n    out.m02 = a.m02 * b;\r\n    out.m03 = a.m03 * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices after multiplying each element of the second operand by a scalar number.\r\n   *\r\n   * @param {mat2} out - Matrix to store result.\r\n   * @param {mat2} a - The first operand.\r\n   * @param {mat2} b - The second operand.\r\n   * @param {Number} scale - The scale number.\r\n   * @returns {mat2} out.\r\n   */\r\n  static multiplyScalarAndAdd(out, a, b, scale) {\r\n    out.m00 = a.m00 + (b.m00 * scale);\r\n    out.m01 = a.m01 + (b.m01 * scale);\r\n    out.m02 = a.m02 + (b.m02 * scale);\r\n    out.m03 = a.m03 + (b.m03 * scale);\r\n    return out;\r\n  }\r\n}\r\n\r\nexport default mat2;","import { EPSILON } from './utils';\r\n\r\n/**\r\n * Mathematical 2x3 matrix.\r\n *\r\n * A mat23 contains six elements defined as:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, c, tx,\r\n *  b, d, ty,\r\n *  0, 0, 1]\r\n * </pre>\r\n * The last row is ignored so the array is shorter and operations are faster.\r\n */\r\nclass mat23\r\n{\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 -  Value assigned to element a.\r\n   * @param {Number} m01 -  Value assigned to element b.\r\n   * @param {Number} m02 -  Value assigned to element c.\r\n   * @param {Number} m03 -  Value assigned to element d.\r\n   * @param {Number} m04 -  Value assigned to element tx.\r\n   * @param {Number} m05 -  Value assigned to element ty.\r\n   */\r\n  constructor(m00, m01, m02, m03, m04, m05) {\r\n    /**\r\n     * The element a.\r\n     * @type {number}\r\n     * */\r\n    this.m00 = m00;\r\n\r\n    /**\r\n     * The element b.\r\n     * @type {number}\r\n     * */\r\n    this.m01 = m01;\r\n\r\n    /**\r\n     * The element c.\r\n     * @type {number}\r\n     * */\r\n    this.m02 = m02;\r\n\r\n    /**\r\n     * The element d.\r\n     * @type {number}\r\n     * */\r\n    this.m03 = m03;\r\n\r\n    /**\r\n     * The element tx.\r\n     * @type {number}\r\n     * */\r\n    this.m04 = m04;\r\n\r\n    /**\r\n     * The element ty.\r\n     * @type {number}\r\n     * */\r\n    this.m05 = m05;\r\n  }\r\n\r\n  /**\r\n   * Creates a new identity matrix.\r\n   *\r\n   * @returns {mat23} The newly created matrix.\r\n   */\r\n  static create() {\r\n    return new mat23(\r\n      1, 0,\r\n      0, 1,\r\n      0, 0\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 -  Value assigned to element a.\r\n   * @param {Number} m01 -  Value assigned to element b.\r\n   * @param {Number} m02 -  Value assigned to element c.\r\n   * @param {Number} m03 -  Value assigned to element d.\r\n   * @param {Number} m04 -  Value assigned to element tx.\r\n   * @param {Number} m05 -  Value assigned to element ty.\r\n   * @returns {mat23} The newly created matrix.\r\n   */\r\n  static new(m00, m01, m02, m03, m04, m05) {\r\n    return new mat23(m00, m01, m02, m03, m04, m05);\r\n  }\r\n\r\n  /**\r\n   * Clone a matrix.\r\n   *\r\n   * @param {mat23} a - Matrix to clone.\r\n   * @returns {mat23} The newly created matrix.\r\n   */\r\n  static clone(a) {\r\n    return new mat23(\r\n      a.m00, a.m01,\r\n      a.m02, a.m03,\r\n      a.m04, a.m05\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy content of a matrix into another.\r\n   *\r\n   * @param {mat23} out - Matrix to modified.\r\n   * @param {mat23} a - The specified matrix.\r\n   * @returns {mat23} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = a.m02;\r\n    out.m03 = a.m03;\r\n    out.m04 = a.m04;\r\n    out.m05 = a.m05;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets a matrix as identity matrix.\r\n   *\r\n   * @param {mat23} out - Matrix to modified.\r\n   * @returns {mat23} out.\r\n   */\r\n  static identity(out) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 1;\r\n    out.m04 = 0;\r\n    out.m05 = 0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the elements of a matrix to the given values.\r\n   *\r\n   * @param {mat23} out - The matrix to modified.\r\n   * @param {Number} a - Value assigned to element a.\r\n   * @param {Number} b - Value assigned to element b.\r\n   * @param {Number} c - Value assigned to element c.\r\n   * @param {Number} d - Value assigned to element d.\r\n   * @param {Number} tx - Value assigned to element tx.\r\n   * @param {Number} ty - Value assigned to element ty.\r\n   * @returns {mat23} out.\r\n   */\r\n  static set(out, a, b, c, d, tx, ty) {\r\n    out.m00 = a;\r\n    out.m01 = b;\r\n    out.m02 = c;\r\n    out.m03 = d;\r\n    out.m04 = tx;\r\n    out.m05 = ty;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts a matrix.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - Matrix to invert.\r\n   * @returns {mat23} out.\r\n   */\r\n  static invert(out, a) {\r\n    let aa = a.m00, ab = a.m01, ac = a.m02, ad = a.m03,\r\n      atx = a.m04, aty = a.m05;\r\n\r\n    let det = aa * ad - ab * ac;\r\n    if (!det) {\r\n      return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out.m00 = ad * det;\r\n    out.m01 = -ab * det;\r\n    out.m02 = -ac * det;\r\n    out.m03 = aa * det;\r\n    out.m04 = (ac * aty - ad * atx) * det;\r\n    out.m05 = (ab * atx - aa * aty) * det;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the determinant of a matrix.\r\n   *\r\n   * @param {mat23} a - Matrix to calculate.\r\n   * @returns {Number} Determinant of a.\r\n   */\r\n  static determinant(a) {\r\n    return a.m00 * a.m03 - a.m01 * a.m02;\r\n  }\r\n\r\n  /**\r\n   * Multiply two matrices explicitly.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - The first operand.\r\n   * @param {mat23} b - The second operand.\r\n   * @returns {mat23} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05,\r\n      b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03, b4 = b.m04, b5 = b.m05;\r\n    out.m00 = a0 * b0 + a2 * b1;\r\n    out.m01 = a1 * b0 + a3 * b1;\r\n    out.m02 = a0 * b2 + a2 * b3;\r\n    out.m03 = a1 * b2 + a3 * b3;\r\n    out.m04 = a0 * b4 + a2 * b5 + a4;\r\n    out.m05 = a1 * b4 + a3 * b5 + a5;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat23.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return mat23.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Rotates a matrix by the given angle.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - Matrix to rotate.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat23} out\r\n   */\r\n  static rotate(out, a, rad) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05,\r\n      s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n    out.m00 = a0 * c + a2 * s;\r\n    out.m01 = a1 * c + a3 * s;\r\n    out.m02 = a0 * -s + a2 * c;\r\n    out.m03 = a1 * -s + a3 * c;\r\n    out.m04 = a4;\r\n    out.m05 = a5;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a scale matrix given by a scale vector.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - Matrix to multiply.\r\n   * @param {vec2} v - The scale vector.\r\n   * @returns {mat23} out\r\n   **/\r\n  static scale(out, a, v) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05,\r\n      v0 = v.x, v1 = v.y;\r\n    out.m00 = a0 * v0;\r\n    out.m01 = a1 * v0;\r\n    out.m02 = a2 * v1;\r\n    out.m03 = a3 * v1;\r\n    out.m04 = a4;\r\n    out.m05 = a5;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a translation matrix given by a translation offset.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - Matrix to multiply.\r\n   * @param {vec2} v - The translation offset.\r\n   * @returns {mat23} out.\r\n   */\r\n  static translate(out, a, v) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05,\r\n      v0 = v.x, v1 = v.y;\r\n    out.m00 = a0;\r\n    out.m01 = a1;\r\n    out.m02 = a2;\r\n    out.m03 = a3;\r\n    out.m04 = a0 * v0 + a2 * v1 + a4;\r\n    out.m05 = a1 * v0 + a3 * v1 + a5;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a given angle.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat23.identity(dest);\r\n   *     mat23.rotate(dest, dest, rad);\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat23} out.\r\n   */\r\n  static fromRotation(out, rad) {\r\n    let s = Math.sin(rad), c = Math.cos(rad);\r\n    out.m00 = c;\r\n    out.m01 = s;\r\n    out.m02 = -s;\r\n    out.m03 = c;\r\n    out.m04 = 0;\r\n    out.m05 = 0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a scale vector.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat23.identity(dest);\r\n   *     mat23.scale(dest, dest, vec);\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {vec2} v - Scale vector.\r\n   * @returns {mat23} out.\r\n   */\r\n  static fromScaling(out, v) {\r\n    out.m00 = v.m00;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = v.m01;\r\n    out.m04 = 0;\r\n    out.m05 = 0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a translation offset.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat23.identity(dest);\r\n   *     mat23.translate(dest, dest, vec);\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {vec2} v - The translation offset.\r\n   * @returns {mat23} out.\r\n   */\r\n  static fromTranslation(out, v) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 1;\r\n    out.m04 = v.x;\r\n    out.m05 = v.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a rotation, translation offset and scale vector.\r\n   * This is equivalent to (but faster than):\r\n   *\r\n   *     mat23.identity(dest);\r\n   *     mat23.translate(dest, vec);\r\n   *     let tmp = mat23.create();\r\n   *     mat23.fromRotation(tmp, rot);\r\n   *     mat23.multiply(dest, dest, tmp);\r\n   *     mat23.fromScaling(tmp, scale);\r\n   *     mat23.multiply(dest, dest, tmp);\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {number} r - Rotation radian.\r\n   * @param {vec2} t - Translation offset.\r\n   * @param {vec2} s - Scale vector.\r\n   * @returns {mat23} out.\r\n   */\r\n  static fromRTS(out, r, t, s) {\r\n    let sr = Math.sin(r), cr = Math.cos(r);\r\n    out.m00 = cr * s.x;\r\n    out.m01 = sr * s.x;\r\n    out.m02 = -sr * s.y;\r\n    out.m03 = cr * s.y;\r\n    out.m04 = t.x;\r\n    out.m05 = t.y;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns a string representation of a matrix.\r\n   *\r\n   * @param {mat23} a - The matrix.\r\n   * @returns {String} String representation of this matrix.\r\n   */\r\n  static str(a) {\r\n    return `mat23(${a.m00}, ${a.m01}, ${a.m02}, ${a.m03}, ${a.m04}, ${a.m05})`;\r\n  }\r\n\r\n  /**\r\n   * Store elements of a matrix into array.\r\n   *\r\n   * @param {array} out - Array to store result.\r\n   * @param {mat23} m - The matrix.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, m) {\r\n    out[0] = m.m00;\r\n    out[1] = m.m01;\r\n    out[2] = m.m02;\r\n    out[3] = m.m03;\r\n    out[4] = m.m04;\r\n    out[5] = m.m05;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Store elements of a matrix into 16 floats array.\r\n   *\r\n   * @param {array} out\r\n   * @param {mat23} m\r\n   * @returns {array}\r\n   */\r\n  static array4x4(out, m) {\r\n    out[0] = m.m00;\r\n    out[1] = m.m01;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = m.m02;\r\n    out[5] = m.m03;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 1;\r\n    out[11] = 0;\r\n    out[12] = m.m04;\r\n    out[13] = m.m05;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns Frobenius norm of a matrix.\r\n   *\r\n   * @param {mat23} a - Matrix to calculate Frobenius norm of.\r\n   * @returns {Number} - The frobenius norm.\r\n   */\r\n  static frob(a) {\r\n    return (Math.sqrt(Math.pow(a.m00, 2) + Math.pow(a.m01, 2) + Math.pow(a.m02, 2) + Math.pow(a.m03, 2) + Math.pow(a.m04, 2) + Math.pow(a.m05, 2) + 1));\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - The first operand.\r\n   * @param {mat23} b - The second operand.\r\n   * @returns {mat23} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.m00 = a.m00 + b.m00;\r\n    out.m01 = a.m01 + b.m01;\r\n    out.m02 = a.m02 + b.m02;\r\n    out.m03 = a.m03 + b.m03;\r\n    out.m04 = a.m04 + b.m04;\r\n    out.m05 = a.m05 + b.m05;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtracts matrix b from matrix a.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - The first operand.\r\n   * @param {mat23} b - The second operand.\r\n   * @returns {mat23} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.m00 = a.m00 - b.m00;\r\n    out.m01 = a.m01 - b.m01;\r\n    out.m02 = a.m02 - b.m02;\r\n    out.m03 = a.m03 - b.m03;\r\n    out.m04 = a.m04 - b.m04;\r\n    out.m05 = a.m05 - b.m05;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat23.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return mat23.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply each element of a matrix by a scalar number.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - Matrix to scale\r\n   * @param {Number} b - The scale number.\r\n   * @returns {mat23} out.\r\n   */\r\n  static multiplyScalar(out, a, b) {\r\n    out.m00 = a.m00 * b;\r\n    out.m01 = a.m01 * b;\r\n    out.m02 = a.m02 * b;\r\n    out.m03 = a.m03 * b;\r\n    out.m04 = a.m04 * b;\r\n    out.m05 = a.m05 * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices after multiplying each element of the second operand by a scalar number.\r\n   *\r\n   * @param {mat23} out - Matrix to store result.\r\n   * @param {mat23} a - The first operand.\r\n   * @param {mat23} b - The second operand.\r\n   * @param {Number} scale - The scale number.\r\n   * @returns {mat23} out.\r\n   */\r\n  static multiplyScalarAndAdd(out, a, b, scale) {\r\n    out.m00 = a.m00 + (b.m00 * scale);\r\n    out.m01 = a.m01 + (b.m01 * scale);\r\n    out.m02 = a.m02 + (b.m02 * scale);\r\n    out.m03 = a.m03 + (b.m03 * scale);\r\n    out.m04 = a.m04 + (b.m04 * scale);\r\n    out.m05 = a.m05 + (b.m05 * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are equal. (Compared using ===)\r\n   *\r\n   * @param {mat23} a - The first matrix.\r\n   * @param {mat23} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.m00 === b.m00 && a.m01 === b.m01 && a.m02 === b.m02 && a.m03 === b.m03 && a.m04 === b.m04 && a.m05 === b.m05;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are approximately equal.\r\n   *\r\n   * @param {mat23} a - The first matrix.\r\n   * @param {mat23} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03, a4 = a.m04, a5 = a.m05;\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03, b4 = b.m04, b5 = b.m05;\r\n    return (\r\n      Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\r\n      Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\r\n      Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5))\r\n    );\r\n  }\r\n}\r\n\r\nexport default mat23;","import { EPSILON } from './utils';\r\n\r\n/**\r\n * Mathematical 4x4 matrix.\r\n *\r\n * NOTE: we use column-major matrix for all matrix calculation.\r\n *\r\n * This may lead to some confusion when referencing OpenGL documentation,\r\n * however, which represents out all matricies in column-major format.\r\n * This means that while in code a matrix may be typed out as:\r\n *\r\n * [1, 0, 0, 0,\r\n *  0, 1, 0, 0,\r\n *  0, 0, 1, 0,\r\n *  x, y, z, 0]\r\n *\r\n * The same matrix in the [OpenGL documentation](https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glTranslate.xml)\r\n * is written as:\r\n *\r\n *  1 0 0 x\r\n *  0 1 0 y\r\n *  0 0 1 z\r\n *  0 0 0 0\r\n *\r\n * Please rest assured, however, that they are the same thing!\r\n * This is not unique to glMatrix, either, as OpenGL developers have long been confused by the\r\n * apparent lack of consistency between the memory layout and the documentation.\r\n */\r\nclass mat4\r\n{\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m03 - Value assigned to element at column 0 row 3.\r\n   * @param {Number} m04 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m05 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m06 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m07 - Value assigned to element at column 1 row 3.\r\n   * @param {Number} m08 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m09 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m10 - Value assigned to element at column 2 row 2.\r\n   * @param {Number} m11 - Value assigned to element at column 2 row 3.\r\n   * @param {Number} m12 - Value assigned to element at column 3 row 0.\r\n   * @param {Number} m13 - Value assigned to element at column 3 row 1.\r\n   * @param {Number} m14 - Value assigned to element at column 3 row 2.\r\n   * @param {Number} m15 - Value assigned to element at column 3 row 3.\r\n   */\r\n  constructor(\r\n    m00, m01, m02, m03,\r\n    m04, m05, m06, m07,\r\n    m08, m09, m10, m11,\r\n    m12, m13, m14, m15\r\n  ) {\r\n    /**\r\n     * The element at column 0 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m00 = m00;\r\n\r\n    /**\r\n     * The element at column 0 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m01 = m01;\r\n\r\n    /**\r\n     * The element at column 0 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m02 = m02;\r\n\r\n    /**\r\n     * The element at column 0 row 3.\r\n     * @type {number}\r\n     * */\r\n    this.m03 = m03;\r\n\r\n    /**\r\n     * The element at column 1 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m04 = m04;\r\n\r\n    /**\r\n     * The element at column 1 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m05 = m05;\r\n\r\n    /**\r\n     * The element at column 1 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m06 = m06;\r\n\r\n    /**\r\n     * The element at column 1 row 3.\r\n     * @type {number}\r\n     * */\r\n    this.m07 = m07;\r\n\r\n    /**\r\n     * The element at column 2 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m08 = m08;\r\n\r\n    /**\r\n     * The element at column 2 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m09 = m09;\r\n\r\n    /**\r\n     * The element at column 2 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m10 = m10;\r\n\r\n    /**\r\n     * The element at column 2 row 3.\r\n     * @type {number}\r\n     * */\r\n    this.m11 = m11;\r\n\r\n    /**\r\n     * The element at column 3 row 0.\r\n     * @type {number}\r\n     * */\r\n    this.m12 = m12;\r\n\r\n    /**\r\n     * The element at column 3 row 1.\r\n     * @type {number}\r\n     * */\r\n    this.m13 = m13;\r\n\r\n    /**\r\n     * The element at column 3 row 2.\r\n     * @type {number}\r\n     * */\r\n    this.m14 = m14;\r\n\r\n    /**\r\n     * The element at column 3 row 3.\r\n     * @type {number}\r\n     * */\r\n    this.m15 = m15;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix, with elements specified separately.\r\n   *\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m03 - Value assigned to element at column 0 row 3.\r\n   * @param {Number} m04 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m05 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m06 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m07 - Value assigned to element at column 1 row 3.\r\n   * @param {Number} m08 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m09 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m10 - Value assigned to element at column 2 row 2.\r\n   * @param {Number} m11 - Value assigned to element at column 2 row 3.\r\n   * @param {Number} m12 - Value assigned to element at column 3 row 0.\r\n   * @param {Number} m13 - Value assigned to element at column 3 row 1.\r\n   * @param {Number} m14 - Value assigned to element at column 3 row 2.\r\n   * @param {Number} m15 - Value assigned to element at column 3 row 3.\r\n   * @returns {mat4} The newly created matrix.\r\n   */\r\n  static new(\r\n    m00, m01, m02, m03,\r\n    m04, m05, m06, m07,\r\n    m08, m09, m10, m11,\r\n    m12, m13, m14, m15\r\n  ) {\r\n    return new mat4(\r\n      m00, m01, m02, m03,\r\n      m04, m05, m06, m07,\r\n      m08, m09, m10, m11,\r\n      m12, m13, m14, m15);\r\n  }\r\n\r\n  /**\r\n   * Creates a new identity matrix.\r\n   *\r\n   * @returns {mat4} The newly created matrix.\r\n   */\r\n  static create() {\r\n    return new mat4(\r\n      1, 0, 0, 0,\r\n      0, 1, 0, 0,\r\n      0, 0, 1, 0,\r\n      0, 0, 0, 1\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Clone a matrix.\r\n   *\r\n   * @param {mat4} a - Matrix to clone.\r\n   * @returns {mat4} The newly created matrix.\r\n   */\r\n  static clone(a) {\r\n    return new mat4(\r\n      a.m00, a.m01, a.m02, a.m03,\r\n      a.m04, a.m05, a.m06, a.m07,\r\n      a.m08, a.m09, a.m10, a.m11,\r\n      a.m12, a.m13, a.m14, a.m15\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy content of a matrix into another.\r\n   *\r\n   * @param {mat4} out - Matrix to modified.\r\n   * @param {mat4} a - The specified matrix.\r\n   * @returns {mat4} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.m00 = a.m00;\r\n    out.m01 = a.m01;\r\n    out.m02 = a.m02;\r\n    out.m03 = a.m03;\r\n    out.m04 = a.m04;\r\n    out.m05 = a.m05;\r\n    out.m06 = a.m06;\r\n    out.m07 = a.m07;\r\n    out.m08 = a.m08;\r\n    out.m09 = a.m09;\r\n    out.m10 = a.m10;\r\n    out.m11 = a.m11;\r\n    out.m12 = a.m12;\r\n    out.m13 = a.m13;\r\n    out.m14 = a.m14;\r\n    out.m15 = a.m15;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Sets the elements of a matrix to the given values.\r\n   *\r\n   * @param {mat4} out - The matrix to modified.\r\n   * @param {Number} m00 - Value assigned to element at column 0 row 0.\r\n   * @param {Number} m01 - Value assigned to element at column 0 row 1.\r\n   * @param {Number} m02 - Value assigned to element at column 0 row 2.\r\n   * @param {Number} m03 - Value assigned to element at column 0 row 3.\r\n   * @param {Number} m10 - Value assigned to element at column 1 row 0.\r\n   * @param {Number} m11 - Value assigned to element at column 1 row 1.\r\n   * @param {Number} m12 - Value assigned to element at column 1 row 2.\r\n   * @param {Number} m13 - Value assigned to element at column 1 row 3.\r\n   * @param {Number} m20 - Value assigned to element at column 2 row 0.\r\n   * @param {Number} m21 - Value assigned to element at column 2 row 1.\r\n   * @param {Number} m22 - Value assigned to element at column 2 row 2.\r\n   * @param {Number} m23 - Value assigned to element at column 2 row 3.\r\n   * @param {Number} m30 - Value assigned to element at column 3 row 0.\r\n   * @param {Number} m31 - Value assigned to element at column 3 row 1.\r\n   * @param {Number} m32 - Value assigned to element at column 3 row 2.\r\n   * @param {Number} m33 - Value assigned to element at column 3 row 3.\r\n   * @returns {mat4} out.\r\n   */\r\n  static set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n    out.m00 = m00;\r\n    out.m01 = m01;\r\n    out.m02 = m02;\r\n    out.m03 = m03;\r\n    out.m04 = m10;\r\n    out.m05 = m11;\r\n    out.m06 = m12;\r\n    out.m07 = m13;\r\n    out.m08 = m20;\r\n    out.m09 = m21;\r\n    out.m10 = m22;\r\n    out.m11 = m23;\r\n    out.m12 = m30;\r\n    out.m13 = m31;\r\n    out.m14 = m32;\r\n    out.m15 = m33;\r\n    return out;\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets a matrix as identity matrix.\r\n   *\r\n   * @param {mat4} out - Matrix to modified.\r\n   * @returns {mat4} out.\r\n   */\r\n  static identity(out) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = 1;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = 1;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Transposes a matrix.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to transpose.\r\n   * @returns {mat4} out.\r\n   */\r\n  static transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n      let a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n        a12 = a.m06, a13 = a.m07,\r\n        a23 = a.m11;\r\n\r\n      out.m01 = a.m04;\r\n      out.m02 = a.m08;\r\n      out.m03 = a.m12;\r\n      out.m04 = a01;\r\n      out.m06 = a.m09;\r\n      out.m07 = a.m13;\r\n      out.m08 = a02;\r\n      out.m09 = a12;\r\n      out.m11 = a.m14;\r\n      out.m12 = a03;\r\n      out.m13 = a13;\r\n      out.m14 = a23;\r\n    } else {\r\n      out.m00 = a.m00;\r\n      out.m01 = a.m04;\r\n      out.m02 = a.m08;\r\n      out.m03 = a.m12;\r\n      out.m04 = a.m01;\r\n      out.m05 = a.m05;\r\n      out.m06 = a.m09;\r\n      out.m07 = a.m13;\r\n      out.m08 = a.m02;\r\n      out.m09 = a.m06;\r\n      out.m10 = a.m10;\r\n      out.m11 = a.m14;\r\n      out.m12 = a.m03;\r\n      out.m13 = a.m07;\r\n      out.m14 = a.m11;\r\n      out.m15 = a.m15;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Inverts a matrix.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to invert.\r\n   * @returns {mat4} out.\r\n   */\r\n  static invert(out, a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n      a10 = a.m04, a11 = a.m05, a12 = a.m06, a13 = a.m07,\r\n      a20 = a.m08, a21 = a.m09, a22 = a.m10, a23 = a.m11,\r\n      a30 = a.m12, a31 = a.m13, a32 = a.m14, a33 = a.m15;\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n      return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out.m00 = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out.m01 = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out.m02 = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out.m03 = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out.m04 = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out.m05 = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out.m06 = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out.m07 = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out.m08 = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out.m09 = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out.m10 = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out.m11 = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out.m12 = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out.m13 = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out.m14 = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out.m15 = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the adjugate of a matrix.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to calculate.\r\n   * @returns {mat4} out.\r\n   */\r\n  static adjoint(out, a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n      a10 = a.m04, a11 = a.m05, a12 = a.m06, a13 = a.m07,\r\n      a20 = a.m08, a21 = a.m09, a22 = a.m10, a23 = a.m11,\r\n      a30 = a.m12, a31 = a.m13, a32 = a.m14, a33 = a.m15;\r\n\r\n    out.m00 = (a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22));\r\n    out.m01 = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\r\n    out.m02 = (a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12));\r\n    out.m03 = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\r\n    out.m04 = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\r\n    out.m05 = (a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22));\r\n    out.m06 = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\r\n    out.m07 = (a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12));\r\n    out.m08 = (a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21));\r\n    out.m09 = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\r\n    out.m10 = (a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11));\r\n    out.m11 = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\r\n    out.m12 = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\r\n    out.m13 = (a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21));\r\n    out.m14 = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\r\n    out.m15 = (a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11));\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates the determinant of a matrix.\r\n   *\r\n   * @param {mat4} a - Matrix to calculate.\r\n   * @returns {Number} Determinant of a.\r\n   */\r\n  static determinant(a) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n      a10 = a.m04, a11 = a.m05, a12 = a.m06, a13 = a.m07,\r\n      a20 = a.m08, a21 = a.m09, a22 = a.m10, a23 = a.m11,\r\n      a30 = a.m12, a31 = a.m13, a32 = a.m14, a33 = a.m15;\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n  }\r\n\r\n  /**\r\n   * Multiply two matrices explicitly.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - The first operand.\r\n   * @param {mat4} b - The second operand.\r\n   * @returns {mat4} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    let a00 = a.m00, a01 = a.m01, a02 = a.m02, a03 = a.m03,\r\n      a10 = a.m04, a11 = a.m05, a12 = a.m06, a13 = a.m07,\r\n      a20 = a.m08, a21 = a.m09, a22 = a.m10, a23 = a.m11,\r\n      a30 = a.m12, a31 = a.m13, a32 = a.m14, a33 = a.m15;\r\n\r\n    // Cache only the current line of the second matrix\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03;\r\n    out.m00 = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out.m01 = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out.m02 = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out.m03 = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b.m04; b1 = b.m05; b2 = b.m06; b3 = b.m07;\r\n    out.m04 = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out.m05 = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out.m06 = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out.m07 = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b.m08; b1 = b.m09; b2 = b.m10; b3 = b.m11;\r\n    out.m08 = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out.m09 = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out.m10 = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out.m11 = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b.m12; b1 = b.m13; b2 = b.m14; b3 = b.m15;\r\n    out.m12 = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out.m13 = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out.m14 = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out.m15 = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat4.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return mat4.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a translation matrix given by a translation offset.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {vec3} v - The translation offset.\r\n   * @returns {mat4} out.\r\n   */\r\n  static translate(out, a, v) {\r\n    let x = v.x, y = v.y, z = v.z,\r\n      a00, a01, a02, a03,\r\n      a10, a11, a12, a13,\r\n      a20, a21, a22, a23;\r\n\r\n    if (a === out) {\r\n      out.m12 = a.m00 * x + a.m04 * y + a.m08 * z + a.m12;\r\n      out.m13 = a.m01 * x + a.m05 * y + a.m09 * z + a.m13;\r\n      out.m14 = a.m02 * x + a.m06 * y + a.m10 * z + a.m14;\r\n      out.m15 = a.m03 * x + a.m07 * y + a.m11 * z + a.m15;\r\n    } else {\r\n      a00 = a.m00; a01 = a.m01; a02 = a.m02; a03 = a.m03;\r\n      a10 = a.m04; a11 = a.m05; a12 = a.m06; a13 = a.m07;\r\n      a20 = a.m08; a21 = a.m09; a22 = a.m10; a23 = a.m11;\r\n\r\n      out.m00 = a00; out.m01 = a01; out.m02 = a02; out.m03 = a03;\r\n      out.m04 = a10; out.m05 = a11; out.m06 = a12; out.m07 = a13;\r\n      out.m08 = a20; out.m09 = a21; out.m10 = a22; out.m11 = a23;\r\n\r\n      out.m12 = a00 * x + a10 * y + a20 * z + a.m12;\r\n      out.m13 = a01 * x + a11 * y + a21 * z + a.m13;\r\n      out.m14 = a02 * x + a12 * y + a22 * z + a.m14;\r\n      out.m15 = a03 * x + a13 * y + a23 * z + a.m15;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a scale matrix given by a scale vector.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {vec3} v - The scale vector.\r\n   * @returns {mat4} out\r\n   **/\r\n  static scale(out, a, v) {\r\n    let x = v.x, y = v.y, z = v.z;\r\n\r\n    out.m00 = a.m00 * x;\r\n    out.m01 = a.m01 * x;\r\n    out.m02 = a.m02 * x;\r\n    out.m03 = a.m03 * x;\r\n    out.m04 = a.m04 * y;\r\n    out.m05 = a.m05 * y;\r\n    out.m06 = a.m06 * y;\r\n    out.m07 = a.m07 * y;\r\n    out.m08 = a.m08 * z;\r\n    out.m09 = a.m09 * z;\r\n    out.m10 = a.m10 * z;\r\n    out.m11 = a.m11 * z;\r\n    out.m12 = a.m12;\r\n    out.m13 = a.m13;\r\n    out.m14 = a.m14;\r\n    out.m15 = a.m15;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a rotation matrix denotes by the rotation around arbitrary axis.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @param {vec3} axis - The rotation axis.\r\n   * @returns {mat4} out.\r\n   */\r\n  static rotate(out, a, rad, axis) {\r\n    let x = axis.x, y = axis.y, z = axis.z;\r\n    let s, c, t,\r\n      a00, a01, a02, a03,\r\n      a10, a11, a12, a13,\r\n      a20, a21, a22, a23,\r\n      b00, b01, b02,\r\n      b10, b11, b12,\r\n      b20, b21, b22;\r\n\r\n    let len = Math.sqrt(x * x + y * y + z * z);\r\n\r\n    if (Math.abs(len) < EPSILON) {\r\n      return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    s = Math.sin(rad);\r\n    c = Math.cos(rad);\r\n    t = 1 - c;\r\n\r\n    a00 = a.m00; a01 = a.m01; a02 = a.m02; a03 = a.m03;\r\n    a10 = a.m04; a11 = a.m05; a12 = a.m06; a13 = a.m07;\r\n    a20 = a.m08; a21 = a.m09; a22 = a.m10; a23 = a.m11;\r\n\r\n    // Construct the elements of the rotation matrix\r\n    b00 = x * x * t + c; b01 = y * x * t + z * s; b02 = z * x * t - y * s;\r\n    b10 = x * y * t - z * s; b11 = y * y * t + c; b12 = z * y * t + x * s;\r\n    b20 = x * z * t + y * s; b21 = y * z * t - x * s; b22 = z * z * t + c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n    out.m00 = a00 * b00 + a10 * b01 + a20 * b02;\r\n    out.m01 = a01 * b00 + a11 * b01 + a21 * b02;\r\n    out.m02 = a02 * b00 + a12 * b01 + a22 * b02;\r\n    out.m03 = a03 * b00 + a13 * b01 + a23 * b02;\r\n    out.m04 = a00 * b10 + a10 * b11 + a20 * b12;\r\n    out.m05 = a01 * b10 + a11 * b11 + a21 * b12;\r\n    out.m06 = a02 * b10 + a12 * b11 + a22 * b12;\r\n    out.m07 = a03 * b10 + a13 * b11 + a23 * b12;\r\n    out.m08 = a00 * b20 + a10 * b21 + a20 * b22;\r\n    out.m09 = a01 * b20 + a11 * b21 + a21 * b22;\r\n    out.m10 = a02 * b20 + a12 * b21 + a22 * b22;\r\n    out.m11 = a03 * b20 + a13 * b21 + a23 * b22;\r\n\r\n    // If the source and destination differ, copy the unchanged last row\r\n    if (a !== out) {\r\n      out.m12 = a.m12;\r\n      out.m13 = a.m13;\r\n      out.m14 = a.m14;\r\n      out.m15 = a.m15;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a rotation matrix denotes by the rotation around x-axis.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static rotateX(out, a, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad),\r\n      a10 = a.m04,\r\n      a11 = a.m05,\r\n      a12 = a.m06,\r\n      a13 = a.m07,\r\n      a20 = a.m08,\r\n      a21 = a.m09,\r\n      a22 = a.m10,\r\n      a23 = a.m11;\r\n\r\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\r\n      out.m00 = a.m00;\r\n      out.m01 = a.m01;\r\n      out.m02 = a.m02;\r\n      out.m03 = a.m03;\r\n      out.m12 = a.m12;\r\n      out.m13 = a.m13;\r\n      out.m14 = a.m14;\r\n      out.m15 = a.m15;\r\n    }\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m04 = a10 * c + a20 * s;\r\n    out.m05 = a11 * c + a21 * s;\r\n    out.m06 = a12 * c + a22 * s;\r\n    out.m07 = a13 * c + a23 * s;\r\n    out.m08 = a20 * c - a10 * s;\r\n    out.m09 = a21 * c - a11 * s;\r\n    out.m10 = a22 * c - a12 * s;\r\n    out.m11 = a23 * c - a13 * s;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a rotation matrix denotes by the rotation around y-axis.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static rotateY(out, a, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad),\r\n      a00 = a.m00,\r\n      a01 = a.m01,\r\n      a02 = a.m02,\r\n      a03 = a.m03,\r\n      a20 = a.m08,\r\n      a21 = a.m09,\r\n      a22 = a.m10,\r\n      a23 = a.m11;\r\n\r\n    if (a !== out) { // If the source and destination differ, copy the unchanged rows\r\n      out.m04 = a.m04;\r\n      out.m05 = a.m05;\r\n      out.m06 = a.m06;\r\n      out.m07 = a.m07;\r\n      out.m12 = a.m12;\r\n      out.m13 = a.m13;\r\n      out.m14 = a.m14;\r\n      out.m15 = a.m15;\r\n    }\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m00 = a00 * c - a20 * s;\r\n    out.m01 = a01 * c - a21 * s;\r\n    out.m02 = a02 * c - a22 * s;\r\n    out.m03 = a03 * c - a23 * s;\r\n    out.m08 = a00 * s + a20 * c;\r\n    out.m09 = a01 * s + a21 * c;\r\n    out.m10 = a02 * s + a22 * c;\r\n    out.m11 = a03 * s + a23 * c;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Multiply a matrix with a rotation matrix denotes by the rotation around z-axis.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to multiply.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static rotateZ(out, a, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad),\r\n      a00 = a.m00,\r\n      a01 = a.m01,\r\n      a02 = a.m02,\r\n      a03 = a.m03,\r\n      a10 = a.m04,\r\n      a11 = a.m05,\r\n      a12 = a.m06,\r\n      a13 = a.m07;\r\n\r\n    // If the source and destination differ, copy the unchanged last row\r\n    if (a !== out) {\r\n      out.m08 = a.m08;\r\n      out.m09 = a.m09;\r\n      out.m10 = a.m10;\r\n      out.m11 = a.m11;\r\n      out.m12 = a.m12;\r\n      out.m13 = a.m13;\r\n      out.m14 = a.m14;\r\n      out.m15 = a.m15;\r\n    }\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m00 = a00 * c + a10 * s;\r\n    out.m01 = a01 * c + a11 * s;\r\n    out.m02 = a02 * c + a12 * s;\r\n    out.m03 = a03 * c + a13 * s;\r\n    out.m04 = a10 * c - a00 * s;\r\n    out.m05 = a11 * c - a01 * s;\r\n    out.m06 = a12 * c - a02 * s;\r\n    out.m07 = a13 * c - a03 * s;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Create a translation matrix from a translation offset.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.translate(dest, dest, vec);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {vec3} v - The translation offset.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromTranslation(out, v) {\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = 1;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = 1;\r\n    out.m11 = 0;\r\n    out.m12 = v.x;\r\n    out.m13 = v.y;\r\n    out.m14 = v.z;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a scale matrix from a scale vector.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.scale(dest, dest, vec);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {vec3} v - The scale vector.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromScaling(out, v) {\r\n    out.m00 = v.x;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = v.y;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = v.z;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a rotation matrix from the rotation around arbitrary axis.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.rotate(dest, dest, rad, axis);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @param {vec3} axis - The rotation axis.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromRotation(out, rad, axis) {\r\n    let x = axis.x, y = axis.y, z = axis.z;\r\n    let len = Math.sqrt(x * x + y * y + z * z);\r\n    let s, c, t;\r\n\r\n    if (Math.abs(len) < EPSILON) {\r\n      return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    s = Math.sin(rad);\r\n    c = Math.cos(rad);\r\n    t = 1 - c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n    out.m00 = x * x * t + c;\r\n    out.m01 = y * x * t + z * s;\r\n    out.m02 = z * x * t - y * s;\r\n    out.m03 = 0;\r\n    out.m04 = x * y * t - z * s;\r\n    out.m05 = y * y * t + c;\r\n    out.m06 = z * y * t + x * s;\r\n    out.m07 = 0;\r\n    out.m08 = x * z * t + y * s;\r\n    out.m09 = y * z * t - x * s;\r\n    out.m10 = z * z * t + c;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a rotation matrix from the rotation around x-axis.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.rotateX(dest, dest, rad);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromXRotation(out, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m00 = 1;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = c;\r\n    out.m06 = s;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = -s;\r\n    out.m10 = c;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a rotation matrix from the rotation around y-axis.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.rotateY(dest, dest, rad);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromYRotation(out, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m00 = c;\r\n    out.m01 = 0;\r\n    out.m02 = -s;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = 1;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = s;\r\n    out.m09 = 0;\r\n    out.m10 = c;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a rotation matrix from the rotation around z-axis.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.rotateZ(dest, dest, rad);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {Number} rad - The rotation angle.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromZRotation(out, rad) {\r\n    let s = Math.sin(rad),\r\n      c = Math.cos(rad);\r\n\r\n    // Perform axis-specific matrix multiplication\r\n    out.m00 = c;\r\n    out.m01 = s;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = -s;\r\n    out.m05 = c;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = 1;\r\n    out.m11 = 0;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a quaternion rotation and a translation offset.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.translate(dest, vec);\r\n   *     let quatMat = mat4.create();\r\n   *     quat.toMat4(quat, quatMat);\r\n   *     mat4.multiply(dest, quatMat);\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {quat} q - Rotation quaternion.\r\n   * @param {vec3} v - Translation vector.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromRT(out, q, v) {\r\n    // Quaternion math\r\n    let x = q.x, y = q.y, z = q.z, w = q.w;\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out.m00 = 1 - (yy + zz);\r\n    out.m01 = xy + wz;\r\n    out.m02 = xz - wy;\r\n    out.m03 = 0;\r\n    out.m04 = xy - wz;\r\n    out.m05 = 1 - (xx + zz);\r\n    out.m06 = yz + wx;\r\n    out.m07 = 0;\r\n    out.m08 = xz + wy;\r\n    out.m09 = yz - wx;\r\n    out.m10 = 1 - (xx + yy);\r\n    out.m11 = 0;\r\n    out.m12 = v.x;\r\n    out.m13 = v.y;\r\n    out.m14 = v.z;\r\n    out.m15 = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns the translation vector component of a transformation\r\n   *  matrix. If a matrix is built with fromRT,\r\n   *  the returned vector will be the same as the translation offset\r\n   *  originally supplied.\r\n   * @param  {vec3} out - Vector to store result.\r\n   * @param  {mat4} mat - Matrix to be decomposed.\r\n   * @return {vec3} out.\r\n   */\r\n  static getTranslation(out, mat) {\r\n    out.x = mat.m12;\r\n    out.y = mat.m13;\r\n    out.z = mat.m14;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns the scale component of a transformation\r\n   *  matrix. If a matrix is built with fromRTS\r\n   *  with a normalized Quaternion parameter, the returned vector will be\r\n   *  the same as the scale vector\r\n   *  originally supplied.\r\n   * @param  {vec3} out - Vector to store result.\r\n   * @param  {mat4} mat - Matrix to be decomposed.\r\n   * @return {vec3} out.\r\n   */\r\n  static getScaling(out, mat) {\r\n    let m11 = mat.m00,\r\n      m12 = mat.m01,\r\n      m13 = mat.m02,\r\n      m21 = mat.m04,\r\n      m22 = mat.m05,\r\n      m23 = mat.m06,\r\n      m31 = mat.m08,\r\n      m32 = mat.m09,\r\n      m33 = mat.m10;\r\n\r\n    out.x = Math.sqrt(m11 * m11 + m12 * m12 + m13 * m13);\r\n    out.y = Math.sqrt(m21 * m21 + m22 * m22 + m23 * m23);\r\n    out.z = Math.sqrt(m31 * m31 + m32 * m32 + m33 * m33);\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns a quaternion representing the rotational component\r\n   *  of a transformation matrix. If a matrix is built with\r\n   *  fromRT, the returned quaternion will be the\r\n   *  same as the quaternion originally supplied.\r\n   * @param {quat} out - Quaternion to store result.\r\n   * @param {mat4} mat - Matrix to be decomposed.\r\n   * @return {quat} out.\r\n   */\r\n  static getRotation(out, mat) {\r\n    // Algorithm taken from http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\r\n    let trace = mat.m00 + mat.m05 + mat.m10;\r\n    let S = 0;\r\n\r\n    if (trace > 0) {\r\n      S = Math.sqrt(trace + 1.0) * 2;\r\n      out.w = 0.25 * S;\r\n      out.x = (mat.m06 - mat.m09) / S;\r\n      out.y = (mat.m08 - mat.m02) / S;\r\n      out.z = (mat.m01 - mat.m04) / S;\r\n    } else if ((mat.m00 > mat.m05) & (mat.m00 > mat.m10)) {\r\n      S = Math.sqrt(1.0 + mat.m00 - mat.m05 - mat.m10) * 2;\r\n      out.w = (mat.m06 - mat.m09) / S;\r\n      out.x = 0.25 * S;\r\n      out.y = (mat.m01 + mat.m04) / S;\r\n      out.z = (mat.m08 + mat.m02) / S;\r\n    } else if (mat.m05 > mat.m10) {\r\n      S = Math.sqrt(1.0 + mat.m05 - mat.m00 - mat.m10) * 2;\r\n      out.w = (mat.m08 - mat.m02) / S;\r\n      out.x = (mat.m01 + mat.m04) / S;\r\n      out.y = 0.25 * S;\r\n      out.z = (mat.m06 + mat.m09) / S;\r\n    } else {\r\n      S = Math.sqrt(1.0 + mat.m10 - mat.m00 - mat.m05) * 2;\r\n      out.w = (mat.m01 - mat.m04) / S;\r\n      out.x = (mat.m08 + mat.m02) / S;\r\n      out.y = (mat.m06 + mat.m09) / S;\r\n      out.z = 0.25 * S;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a quaternion rotation, translation offset and scale vector.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.translate(dest, vec);\r\n   *     let quatMat = mat4.create();\r\n   *     quat.toMat4(quat, quatMat);\r\n   *     mat4.multiply(dest, quatMat);\r\n   *     mat4.scale(dest, scale)\r\n   *\r\n   * @param {mat4} out mat4 - Matrix to store result.\r\n   * @param {quat} q - Rotation quaternion.\r\n   * @param {vec3} v - Translation offset.\r\n   * @param {vec3} s - Scale vector.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromRTS(out, q, v, s) {\r\n    // Quaternion math\r\n    let x = q.x, y = q.y, z = q.z, w = q.w;\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n    let sx = s.x;\r\n    let sy = s.y;\r\n    let sz = s.z;\r\n\r\n    out.m00 = (1 - (yy + zz)) * sx;\r\n    out.m01 = (xy + wz) * sx;\r\n    out.m02 = (xz - wy) * sx;\r\n    out.m03 = 0;\r\n    out.m04 = (xy - wz) * sy;\r\n    out.m05 = (1 - (xx + zz)) * sy;\r\n    out.m06 = (yz + wx) * sy;\r\n    out.m07 = 0;\r\n    out.m08 = (xz + wy) * sz;\r\n    out.m09 = (yz - wx) * sz;\r\n    out.m10 = (1 - (xx + yy)) * sz;\r\n    out.m11 = 0;\r\n    out.m12 = v.x;\r\n    out.m13 = v.y;\r\n    out.m14 = v.z;\r\n    out.m15 = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Creates a matrix from a quaternion rotation, translation offset and scale vector, rotating and scaling around the given origin.\r\n   * This is equivalent to (but much faster than):\r\n   *\r\n   *     mat4.identity(dest);\r\n   *     mat4.translate(dest, vec);\r\n   *     mat4.translate(dest, origin);\r\n   *     let quatMat = mat4.create();\r\n   *     quat.toMat4(quat, quatMat);\r\n   *     mat4.multiply(dest, quatMat);\r\n   *     mat4.scale(dest, scale)\r\n   *     mat4.translate(dest, negativeOrigin);\r\n   *\r\n   * @param {mat4} out mat4 - Matrix to store result.\r\n   * @param {quat} q - Rotation quaternion.\r\n   * @param {vec3} v - Translation offset.\r\n   * @param {vec3} s - Scale vector.\r\n   * @param {vec3} o The origin vector around which to scale and rotate.\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromRTSOrigin(out, q, v, s, o) {\r\n    // Quaternion math\r\n    let x = q.x, y = q.y, z = q.z, w = q.w;\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    let sx = s.x;\r\n    let sy = s.y;\r\n    let sz = s.z;\r\n\r\n    let ox = o.x;\r\n    let oy = o.y;\r\n    let oz = o.z;\r\n\r\n    out.m00 = (1 - (yy + zz)) * sx;\r\n    out.m01 = (xy + wz) * sx;\r\n    out.m02 = (xz - wy) * sx;\r\n    out.m03 = 0;\r\n    out.m04 = (xy - wz) * sy;\r\n    out.m05 = (1 - (xx + zz)) * sy;\r\n    out.m06 = (yz + wx) * sy;\r\n    out.m07 = 0;\r\n    out.m08 = (xz + wy) * sz;\r\n    out.m09 = (yz - wx) * sz;\r\n    out.m10 = (1 - (xx + yy)) * sz;\r\n    out.m11 = 0;\r\n    out.m12 = v.x + ox - (out.m00 * ox + out.m04 * oy + out.m08 * oz);\r\n    out.m13 = v.y + oy - (out.m01 * ox + out.m05 * oy + out.m09 * oz);\r\n    out.m14 = v.z + oz - (out.m02 * ox + out.m06 * oy + out.m10 * oz);\r\n    out.m15 = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Calculates a 4x4 matrix from the given quaternion.\r\n   *\r\n   * @param {mat4} out mat4 - Matrix to store result.\r\n   * @param {quat} q - Quaternion to create matrix from.\r\n   *\r\n   * @returns {mat4} out.\r\n   */\r\n  static fromQuat(out, q) {\r\n    let x = q.x, y = q.y, z = q.z, w = q.w;\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out.m00 = 1 - yy - zz;\r\n    out.m01 = yx + wz;\r\n    out.m02 = zx - wy;\r\n    out.m03 = 0;\r\n\r\n    out.m04 = yx - wz;\r\n    out.m05 = 1 - xx - zz;\r\n    out.m06 = zy + wx;\r\n    out.m07 = 0;\r\n\r\n    out.m08 = zx + wy;\r\n    out.m09 = zy - wx;\r\n    out.m10 = 1 - xx - yy;\r\n    out.m11 = 0;\r\n\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = 0;\r\n    out.m15 = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a frustum matrix with the given bounds.\r\n   *\r\n   * @param {mat4} out mat4 - Matrix to store result.\r\n   * @param {Number} left - Left bound of the frustum.\r\n   * @param {Number} right - Right bound of the frustum.\r\n   * @param {Number} bottom - Bottom bound of the frustum.\r\n   * @param {Number} top - Top bound of the frustum.\r\n   * @param {Number} near - Near bound of the frustum.\r\n   * @param {Number} far - Far bound of the frustum.\r\n   * @returns {mat4} out.\r\n   */\r\n  static frustum(out, left, right, bottom, top, near, far) {\r\n    let rl = 1 / (right - left);\r\n    let tb = 1 / (top - bottom);\r\n    let nf = 1 / (near - far);\r\n\r\n    out.m00 = (near * 2) * rl;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = (near * 2) * tb;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = (right + left) * rl;\r\n    out.m09 = (top + bottom) * tb;\r\n    out.m10 = (far + near) * nf;\r\n    out.m11 = -1;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = (far * near * 2) * nf;\r\n    out.m15 = 0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a perspective projection matrix with the given bounds.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {number} fovy - Vertical field of view in radians.\r\n   * @param {number} aspect - Aspect ratio. typically viewport width/height.\r\n   * @param {number} near - Near bound of the frustum.\r\n   * @param {number} far - Far bound of the frustum.\r\n   * @returns {mat4} out.\r\n   */\r\n  static perspective(out, fovy, aspect, near, far) {\r\n    let f = 1.0 / Math.tan(fovy / 2);\r\n    let nf = 1 / (near - far);\r\n\r\n    out.m00 = f / aspect;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = f;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = (far + near) * nf;\r\n    out.m11 = -1;\r\n    out.m12 = 0;\r\n    out.m13 = 0;\r\n    out.m14 = (2 * far * near) * nf;\r\n    out.m15 = 0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a perspective projection matrix with the given field of view.\r\n   * This is primarily useful for generating projection matrices to be used\r\n   * with the still experiemental WebVR API.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {Object} fov - Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees.\r\n   * @param {number} near - Near bound of the frustum.\r\n   * @param {number} far - Far bound of the frustum.\r\n   * @returns {mat4} out.\r\n   */\r\n  static perspectiveFromFieldOfView(out, fov, near, far) {\r\n    let upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\r\n    let downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\r\n    let leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\r\n    let rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\r\n    let xScale = 2.0 / (leftTan + rightTan);\r\n    let yScale = 2.0 / (upTan + downTan);\r\n\r\n    out.m00 = xScale;\r\n    out.m01 = 0.0;\r\n    out.m02 = 0.0;\r\n    out.m03 = 0.0;\r\n    out.m04 = 0.0;\r\n    out.m05 = yScale;\r\n    out.m06 = 0.0;\r\n    out.m07 = 0.0;\r\n    out.m08 = -((leftTan - rightTan) * xScale * 0.5);\r\n    out.m09 = ((upTan - downTan) * yScale * 0.5);\r\n    out.m10 = far / (near - far);\r\n    out.m11 = -1.0;\r\n    out.m12 = 0.0;\r\n    out.m13 = 0.0;\r\n    out.m14 = (far * near) / (near - far);\r\n    out.m15 = 0.0;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a orthogonal projection matrix with the given bounds.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {number} left - Left bound of the frustum.\r\n   * @param {number} right - Right bound of the frustum.\r\n   * @param {number} bottom - Bottom bound of the frustum.\r\n   * @param {number} top - Top bound of the frustum.\r\n   * @param {number} near - Near bound of the frustum.\r\n   * @param {number} far - Far bound of the frustum.\r\n   * @returns {mat4} out.\r\n   */\r\n  static ortho(out, left, right, bottom, top, near, far) {\r\n    let lr = 1 / (left - right);\r\n    let bt = 1 / (bottom - top);\r\n    let nf = 1 / (near - far);\r\n    out.m00 = -2 * lr;\r\n    out.m01 = 0;\r\n    out.m02 = 0;\r\n    out.m03 = 0;\r\n    out.m04 = 0;\r\n    out.m05 = -2 * bt;\r\n    out.m06 = 0;\r\n    out.m07 = 0;\r\n    out.m08 = 0;\r\n    out.m09 = 0;\r\n    out.m10 = 2 * nf;\r\n    out.m11 = 0;\r\n    out.m12 = (left + right) * lr;\r\n    out.m13 = (top + bottom) * bt;\r\n    out.m14 = (far + near) * nf;\r\n    out.m15 = 1;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n   * `eye - center` mustn't be zero vector or parallel to `up`\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {vec3} eye - Position of the viewer.\r\n   * @param {vec3} center - Point the viewer is looking at.\r\n   * @param {vec3} up - Vector pointing up.\r\n   * @returns {mat4} out\r\n   */\r\n  static lookAt(out, eye, center, up) {\r\n    let x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\r\n    let eyex = eye.x;\r\n    let eyey = eye.y;\r\n    let eyez = eye.z;\r\n    let upx = up.x;\r\n    let upy = up.y;\r\n    let upz = up.z;\r\n    let centerx = center.x;\r\n    let centery = center.y;\r\n    let centerz = center.z;\r\n\r\n    z0 = eyex - centerx;\r\n    z1 = eyey - centery;\r\n    z2 = eyez - centerz;\r\n\r\n    len = 1 / Math.sqrt(z0 * z0 + z1 * z1 + z2 * z2);\r\n    z0 *= len;\r\n    z1 *= len;\r\n    z2 *= len;\r\n\r\n    x0 = upy * z2 - upz * z1;\r\n    x1 = upz * z0 - upx * z2;\r\n    x2 = upx * z1 - upy * z0;\r\n    len = 1 / Math.sqrt(x0 * x0 + x1 * x1 + x2 * x2);\r\n    x0 *= len;\r\n    x1 *= len;\r\n    x2 *= len;\r\n\r\n    y0 = z1 * x2 - z2 * x1;\r\n    y1 = z2 * x0 - z0 * x2;\r\n    y2 = z0 * x1 - z1 * x0;\r\n\r\n    out.m00 = x0;\r\n    out.m01 = y0;\r\n    out.m02 = z0;\r\n    out.m03 = 0;\r\n    out.m04 = x1;\r\n    out.m05 = y1;\r\n    out.m06 = z1;\r\n    out.m07 = 0;\r\n    out.m08 = x2;\r\n    out.m09 = y2;\r\n    out.m10 = z2;\r\n    out.m11 = 0;\r\n    out.m12 = -(x0 * eyex + x1 * eyey + x2 * eyez);\r\n    out.m13 = -(y0 * eyex + y1 * eyey + y2 * eyez);\r\n    out.m14 = -(z0 * eyex + z1 * eyey + z2 * eyez);\r\n    out.m15 = 1;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns a string representation of a matrix.\r\n   *\r\n   * @param {mat4} a - The matrix.\r\n   * @returns {String} String representation of this matrix.\r\n   */\r\n  static str(a) {\r\n    return `mat4(${a.m00}, ${a.m01}, ${a.m02}, ${a.m03}, ${a.m04}, ${a.m05}, ${a.m06}, ${a.m07}, ${a.m08}, ${a.m09}, ${a.m10}, ${a.m11}, ${a.m12}, ${a.m13}, ${a.m14}, ${a.m15})`;\r\n  }\r\n\r\n  /**\r\n   * Store elements of a matrix into array.\r\n   *\r\n   * @param {array} out - Array to store result.\r\n   * @param {mat4} m - The matrix.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, m) {\r\n    out[0] = m.m00;\r\n    out[1] = m.m01;\r\n    out[2] = m.m02;\r\n    out[3] = m.m03;\r\n    out[4] = m.m04;\r\n    out[5] = m.m05;\r\n    out[6] = m.m06;\r\n    out[7] = m.m07;\r\n    out[8] = m.m08;\r\n    out[9] = m.m09;\r\n    out[10] = m.m10;\r\n    out[11] = m.m11;\r\n    out[12] = m.m12;\r\n    out[13] = m.m13;\r\n    out[14] = m.m14;\r\n    out[15] = m.m15;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns Frobenius norm of a matrix.\r\n   *\r\n   * @param {mat4} a - Matrix to calculate Frobenius norm of.\r\n   * @returns {Number} - The frobenius norm.\r\n   */\r\n  static frob(a) {\r\n    return (Math.sqrt(Math.pow(a.m00, 2) + Math.pow(a.m01, 2) + Math.pow(a.m02, 2) + Math.pow(a.m03, 2) + Math.pow(a.m04, 2) + Math.pow(a.m05, 2) + Math.pow(a.m06, 2) + Math.pow(a.m07, 2) + Math.pow(a.m08, 2) + Math.pow(a.m09, 2) + Math.pow(a.m10, 2) + Math.pow(a.m11, 2) + Math.pow(a.m12, 2) + Math.pow(a.m13, 2) + Math.pow(a.m14, 2) + Math.pow(a.m15, 2)))\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - The first operand.\r\n   * @param {mat4} b - The second operand.\r\n   * @returns {mat4} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.m00 = a.m00 + b.m00;\r\n    out.m01 = a.m01 + b.m01;\r\n    out.m02 = a.m02 + b.m02;\r\n    out.m03 = a.m03 + b.m03;\r\n    out.m04 = a.m04 + b.m04;\r\n    out.m05 = a.m05 + b.m05;\r\n    out.m06 = a.m06 + b.m06;\r\n    out.m07 = a.m07 + b.m07;\r\n    out.m08 = a.m08 + b.m08;\r\n    out.m09 = a.m09 + b.m09;\r\n    out.m10 = a.m10 + b.m10;\r\n    out.m11 = a.m11 + b.m11;\r\n    out.m12 = a.m12 + b.m12;\r\n    out.m13 = a.m13 + b.m13;\r\n    out.m14 = a.m14 + b.m14;\r\n    out.m15 = a.m15 + b.m15;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtracts matrix b from matrix a.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - The first operand.\r\n   * @param {mat4} b - The second operand.\r\n   * @returns {mat4} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.m00 = a.m00 - b.m00;\r\n    out.m01 = a.m01 - b.m01;\r\n    out.m02 = a.m02 - b.m02;\r\n    out.m03 = a.m03 - b.m03;\r\n    out.m04 = a.m04 - b.m04;\r\n    out.m05 = a.m05 - b.m05;\r\n    out.m06 = a.m06 - b.m06;\r\n    out.m07 = a.m07 - b.m07;\r\n    out.m08 = a.m08 - b.m08;\r\n    out.m09 = a.m09 - b.m09;\r\n    out.m10 = a.m10 - b.m10;\r\n    out.m11 = a.m11 - b.m11;\r\n    out.m12 = a.m12 - b.m12;\r\n    out.m13 = a.m13 - b.m13;\r\n    out.m14 = a.m14 - b.m14;\r\n    out.m15 = a.m15 - b.m15;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link mat4.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return mat4.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply each element of a matrix by a scalar number.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - Matrix to scale\r\n   * @param {Number} b - The scale number.\r\n   * @returns {mat4} out.\r\n   */\r\n  static multiplyScalar(out, a, b) {\r\n    out.m00 = a.m00 * b;\r\n    out.m01 = a.m01 * b;\r\n    out.m02 = a.m02 * b;\r\n    out.m03 = a.m03 * b;\r\n    out.m04 = a.m04 * b;\r\n    out.m05 = a.m05 * b;\r\n    out.m06 = a.m06 * b;\r\n    out.m07 = a.m07 * b;\r\n    out.m08 = a.m08 * b;\r\n    out.m09 = a.m09 * b;\r\n    out.m10 = a.m10 * b;\r\n    out.m11 = a.m11 * b;\r\n    out.m12 = a.m12 * b;\r\n    out.m13 = a.m13 * b;\r\n    out.m14 = a.m14 * b;\r\n    out.m15 = a.m15 * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Adds two matrices after multiplying each element of the second operand by a scalar number.\r\n   *\r\n   * @param {mat4} out - Matrix to store result.\r\n   * @param {mat4} a - The first operand.\r\n   * @param {mat4} b - The second operand.\r\n   * @param {Number} scale - The scale number.\r\n   * @returns {mat4} out.\r\n   */\r\n  static multiplyScalarAndAdd(out, a, b, scale) {\r\n    out.m00 = a.m00 + (b.m00 * scale);\r\n    out.m01 = a.m01 + (b.m01 * scale);\r\n    out.m02 = a.m02 + (b.m02 * scale);\r\n    out.m03 = a.m03 + (b.m03 * scale);\r\n    out.m04 = a.m04 + (b.m04 * scale);\r\n    out.m05 = a.m05 + (b.m05 * scale);\r\n    out.m06 = a.m06 + (b.m06 * scale);\r\n    out.m07 = a.m07 + (b.m07 * scale);\r\n    out.m08 = a.m08 + (b.m08 * scale);\r\n    out.m09 = a.m09 + (b.m09 * scale);\r\n    out.m10 = a.m10 + (b.m10 * scale);\r\n    out.m11 = a.m11 + (b.m11 * scale);\r\n    out.m12 = a.m12 + (b.m12 * scale);\r\n    out.m13 = a.m13 + (b.m13 * scale);\r\n    out.m14 = a.m14 + (b.m14 * scale);\r\n    out.m15 = a.m15 + (b.m15 * scale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are equal. (Compared using ===)\r\n   *\r\n   * @param {mat4} a - The first matrix.\r\n   * @param {mat4} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.m00 === b.m00 && a.m01 === b.m01 && a.m02 === b.m02 && a.m03 === b.m03 &&\r\n      a.m04 === b.m04 && a.m05 === b.m05 && a.m06 === b.m06 && a.m07 === b.m07 &&\r\n      a.m08 === b.m08 && a.m09 === b.m09 && a.m10 === b.m10 && a.m11 === b.m11 &&\r\n      a.m12 === b.m12 && a.m13 === b.m13 && a.m14 === b.m14 && a.m15 === b.m15;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified matrices are approximately equal.\r\n   *\r\n   * @param {mat4} a - The first matrix.\r\n   * @param {mat4} b - The second matrix.\r\n   * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.m00, a1 = a.m01, a2 = a.m02, a3 = a.m03,\r\n      a4 = a.m04, a5 = a.m05, a6 = a.m06, a7 = a.m07,\r\n      a8 = a.m08, a9 = a.m09, a10 = a.m10, a11 = a.m11,\r\n      a12 = a.m12, a13 = a.m13, a14 = a.m14, a15 = a.m15;\r\n\r\n    let b0 = b.m00, b1 = b.m01, b2 = b.m02, b3 = b.m03,\r\n      b4 = b.m04, b5 = b.m05, b6 = b.m06, b7 = b.m07,\r\n      b8 = b.m08, b9 = b.m09, b10 = b.m10, b11 = b.m11,\r\n      b12 = b.m12, b13 = b.m13, b14 = b.m14, b15 = b.m15;\r\n\r\n    return (\r\n      Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) &&\r\n      Math.abs(a4 - b4) <= EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) &&\r\n      Math.abs(a5 - b5) <= EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) &&\r\n      Math.abs(a6 - b6) <= EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) &&\r\n      Math.abs(a7 - b7) <= EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) &&\r\n      Math.abs(a8 - b8) <= EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) &&\r\n      Math.abs(a9 - b9) <= EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) &&\r\n      Math.abs(a10 - b10) <= EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) &&\r\n      Math.abs(a11 - b11) <= EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) &&\r\n      Math.abs(a12 - b12) <= EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) &&\r\n      Math.abs(a13 - b13) <= EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) &&\r\n      Math.abs(a14 - b14) <= EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) &&\r\n      Math.abs(a15 - b15) <= EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15))\r\n    );\r\n  }\r\n}\r\n\r\nexport default mat4;","import { EPSILON } from './utils';\r\n\r\n/**\r\n * Represents a color with red(r), green(g), blue(b) component of that color.\r\n */\r\nclass color3\r\n{\r\n  /**\r\n   * Creates a color, with components specified separately.\r\n   *\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   */\r\n  constructor(r, g, b) {\r\n    /**\r\n     * The r component.\r\n     * @type {number}\r\n     * */\r\n    this.r = r;\r\n\r\n    /**\r\n     * The g component.\r\n     * @type {number}\r\n     * */\r\n    this.g = g;\r\n\r\n    /**\r\n     * The b component.\r\n     * @type {number}\r\n     * */\r\n    this.b = b;\r\n  }\r\n\r\n  /**\r\n   * Creates a color, with components specified separately.\r\n   *\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   * @return {color3} The newly created color.\r\n   */\r\n  static new(r, g, b) {\r\n    return new color3(r, g, b);\r\n  }\r\n\r\n  /**\r\n   * Creates a color representing white color.\r\n   *\r\n   * @return {color3} The newly created color.\r\n   */\r\n  static create() {\r\n    return new color3(1, 1, 1);\r\n  }\r\n\r\n  /**\r\n   * Clone a color.\r\n   *\r\n   * @param {color3} a - Color to clone.\r\n   * @returns {color3} The newly created color.\r\n   */\r\n  static clone(a) {\r\n    return new color3(a.r, a.g, a.b);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a color into another.\r\n   *\r\n   * @param {color3} out - The color to modified.\r\n   * @param {color3} a - The specified color.\r\n   * @returns {color3} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.r = a.r;\r\n    out.g = a.g;\r\n    out.b = a.b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a color to the given values.\r\n   *\r\n   * @param {color3} out - The color to modified.\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   * @returns {color3} out.\r\n   */\r\n  static set(out, r, g, b) {\r\n    out.r = r;\r\n    out.g = g;\r\n    out.b = b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Converts the hexadecimal formal color into rgb formal.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {Number} hex - The color's hexadecimal formal.\r\n   * @returns {color3} out.\r\n   * @function\r\n   */\r\n  static fromHex(out, hex) {\r\n    let r = ((hex >> 16)) / 255.0;\r\n    let g = ((hex >> 8) & 0xff) / 255.0;\r\n    let b = ((hex) & 0xff) / 255.0;\r\n\r\n    out.r = r;\r\n    out.g = g;\r\n    out.b = b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add components of two colors, respectively.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - The first operand.\r\n   * @param {color3} b - The second operand.\r\n   * @returns {color3} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.r = a.r + b.r;\r\n    out.g = a.g + b.g;\r\n    out.b = a.b + b.b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtract components of color b from components of color a, respectively.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - The a.\r\n   * @param {color3} b - The b.\r\n   * @returns {color3} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.r = a.r - b.r;\r\n    out.g = a.g - b.g;\r\n    out.b = a.b - b.b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color3.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return color3.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply components of two colors, respectively.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - The first operand.\r\n   * @param {color3} b - The second operand.\r\n   * @returns {color3} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    out.r = a.r * b.r;\r\n    out.g = a.g * b.g;\r\n    out.b = a.b * b.b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color3.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return color3.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Divide components of color a by components of color b, respectively.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - The first operand.\r\n   * @param {color3} b - The second operand.\r\n   * @returns {color3} out.\r\n   */\r\n  static divide(out, a, b) {\r\n    out.r = a.r / b.r;\r\n    out.g = a.g / b.g;\r\n    out.b = a.b / b.b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color3.divide}.\r\n   */\r\n  static div(out, a, b) {\r\n    return color3.divide(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Scales a color by a number.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - Color to scale.\r\n   * @param {number} b - The scale number.\r\n   * @returns {color3} out.\r\n   */\r\n  static scale(out, a, b) {\r\n    out.r = a.r * b;\r\n    out.g = a.g * b;\r\n    out.b = a.b * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two colors.\r\n   *\r\n   * @param {color3} out - Color to store result.\r\n   * @param {color3} a - The first operand.\r\n   * @param {color3} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {color3} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ar = a.r,\r\n      ag = a.g,\r\n      ab = a.b;\r\n    out.r = ar + t * (b.r - ar);\r\n    out.g = ag + t * (b.g - ag);\r\n    out.b = ab + t * (b.b - ab);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a color.\r\n   *\r\n   * @param {color3} a - The color.\r\n   * @returns {String} - String representation of this color.\r\n   */\r\n  static str(a) {\r\n    return `color3(${a.r}, ${a.g}, ${a.b})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a color into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {color3} a - The color.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, a) {\r\n    out[0] = a.r;\r\n    out[1] = a.g;\r\n    out[2] = a.b;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified colors are equal. (Compared using ===)\r\n   *\r\n   * @param {color3} a - The first color.\r\n   * @param {color3} b - The second color.\r\n   * @returns {Boolean} True if the colors are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.r === b.r && a.g === b.g && a.b === b.b;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified colors are approximately equal.\r\n   *\r\n   * @param {color3} a - The first color.\r\n   * @param {color3} b - The second color.\r\n   * @returns {Boolean} True if the colors are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.r, a1 = a.g, a2 = a.b;\r\n    let b0 = b.r, b1 = b.g, b2 = b.b;\r\n    return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)));\r\n  }\r\n\r\n  /**\r\n   * Converts a color's rgb formal into the hexadecimal one.\r\n   *\r\n   * @param {color3} a - The color.\r\n   * @returns {Number} - The color's hexadecimal formal.\r\n   */\r\n  static hex(a) {\r\n    return (a.r * 255) << 16 | (a.g * 255) << 8 | (a.b * 255);\r\n  }\r\n}\r\n\r\nexport default color3;","import { EPSILON } from './utils';\r\n\r\n/**\r\n * Represents a color with red(r), green(g), blue(b) component of that color and\r\n * and an extra alpha(a) component indicating how opaque this color is.\r\n */\r\nclass color4\r\n{\r\n  /**\r\n   * Creates a color, with components specified separately.\r\n   *\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   * @param {number} a - Value assigned to a component.\r\n   */\r\n  constructor(r, g, b, a) {\r\n    /**\r\n     * The r component.\r\n     * @type {number}\r\n     * */\r\n    this.r = r;\r\n\r\n    /**\r\n     * The g component.\r\n     * @type {number}\r\n     * */\r\n    this.g = g;\r\n\r\n    /**\r\n     * The b component.\r\n     * @type {number}\r\n     * */\r\n    this.b = b;\r\n\r\n    /**\r\n     * The a component.\r\n     * @type {number}\r\n     * */\r\n    this.a = a;\r\n  }\r\n\r\n  /**\r\n   * Creates a color, with components specified separately.\r\n   *\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   * @param {number} a - Value assigned to a component.\r\n   * @return {color4} The newly created color.\r\n   */\r\n  static new(r, g, b, a) {\r\n    return new color4(r, g, b, a);\r\n  }\r\n\r\n  /**\r\n   * Creates a color representing white color.\r\n   *\r\n   * @return {color4} The newly created color.\r\n   */\r\n  static create() {\r\n    return new color4(1, 1, 1, 1);\r\n  }\r\n\r\n  /**\r\n   * Clone a color.\r\n   *\r\n   * @param {color4} a - Color to clone.\r\n   * @returns {color4} The newly created color.\r\n   */\r\n  static clone(a) {\r\n    return new color4(a.r, a.g, a.b, a.a);\r\n  }\r\n\r\n  /**\r\n   * Copy content of a color into another.\r\n   *\r\n   * @param {color4} out - The color to modified.\r\n   * @param {color4} a - The specified color.\r\n   * @returns {color4} out.\r\n   */\r\n  static copy(out, a) {\r\n    out.r = a.r;\r\n    out.g = a.g;\r\n    out.b = a.b;\r\n    out.a = a.a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a color to the given values.\r\n   *\r\n   * @param {color4} out - The color to modified.\r\n   * @param {number} r - Value assigned to r component.\r\n   * @param {number} g - Value assigned to g component.\r\n   * @param {number} b - Value assigned to b component.\r\n   * @param {number} a - Value assigned to a component.\r\n   * @returns {color4} out.\r\n   */\r\n  static set(out, r, g, b, a) {\r\n    out.r = r;\r\n    out.g = g;\r\n    out.b = b;\r\n    out.a = a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Converts the hexadecimal formal color into rgb formal.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {Number} hex - The color's hexadecimal formal.\r\n   * @returns {color4} out.\r\n   * @function\r\n   */\r\n  static fromHex(out, hex) {\r\n    let r = ((hex >> 24)) / 255.0;\r\n    let g = ((hex >> 16) & 0xff) / 255.0;\r\n    let b = ((hex >> 8) & 0xff) / 255.0;\r\n    let a = ((hex) & 0xff) / 255.0;\r\n\r\n    out.r = r;\r\n    out.g = g;\r\n    out.b = b;\r\n    out.a = a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Add components of two colors, respectively.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - The first operand.\r\n   * @param {color4} b - The second operand.\r\n   * @returns {color4} out.\r\n   */\r\n  static add(out, a, b) {\r\n    out.r = a.r + b.r;\r\n    out.g = a.g + b.g;\r\n    out.b = a.b + b.b;\r\n    out.a = a.a + b.a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Subtract components of color b from components of color a, respectively.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - The a.\r\n   * @param {color4} b - The b.\r\n   * @returns {color4} out.\r\n   */\r\n  static subtract(out, a, b) {\r\n    out.r = a.r - b.r;\r\n    out.g = a.g - b.g;\r\n    out.b = a.b - b.b;\r\n    out.a = a.a - b.a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color4.subtract}.\r\n   */\r\n  static sub(out, a, b) {\r\n    return color4.subtract(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Multiply components of two colors, respectively.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - The first operand.\r\n   * @param {color4} b - The second operand.\r\n   * @returns {color4} out.\r\n   */\r\n  static multiply(out, a, b) {\r\n    out.r = a.r * b.r;\r\n    out.g = a.g * b.g;\r\n    out.b = a.b * b.b;\r\n    out.a = a.a * b.a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color4.multiply}.\r\n   */\r\n  static mul(out, a, b) {\r\n    return color4.multiply(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Divide components of color a by components of color b, respectively.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - The first operand.\r\n   * @param {color4} b - The second operand.\r\n   * @returns {color4} out.\r\n   */\r\n  static divide(out, a, b) {\r\n    out.r = a.r / b.r;\r\n    out.g = a.g / b.g;\r\n    out.b = a.b / b.b;\r\n    out.a = a.a / b.a;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Alias of {@link color4.divide}.\r\n   */\r\n  static div(out, a, b) {\r\n    return color4.divide(out, a, b);\r\n  }\r\n\r\n  /**\r\n   * Scales a color by a number.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - Color to scale.\r\n   * @param {number} b - The scale number.\r\n   * @returns {color4} out.\r\n   */\r\n  static scale(out, a, b) {\r\n    out.r = a.r * b;\r\n    out.g = a.g * b;\r\n    out.b = a.b * b;\r\n    out.a = a.a * b;\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Performs a linear interpolation between two colors.\r\n   *\r\n   * @param {color4} out - Color to store result.\r\n   * @param {color4} a - The first operand.\r\n   * @param {color4} b - The second operand.\r\n   * @param {Number} t - The interpolation coefficient.\r\n   * @returns {color4} out.\r\n   */\r\n  static lerp(out, a, b, t) {\r\n    let ar = a.r,\r\n      ag = a.g,\r\n      ab = a.b,\r\n      aa = a.a;\r\n    out.r = ar + t * (b.r - ar);\r\n    out.g = ag + t * (b.g - ag);\r\n    out.b = ab + t * (b.b - ab);\r\n    out.a = aa + t * (b.a - aa);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns string representation of a color.\r\n   *\r\n   * @param {color4} a - The color.\r\n   * @returns {String} - String representation of this color.\r\n   */\r\n  static str(a) {\r\n    return `color4(${a.r}, ${a.g}, ${a.b}, ${a.a})`;\r\n  }\r\n\r\n  /**\r\n   * Store components of a color into array.\r\n   *\r\n   * @param {Array} out - Array to store result.\r\n   * @param {color4} a - The color.\r\n   * @returns {Array} out.\r\n   */\r\n  static array(out, a) {\r\n    out[0] = a.r;\r\n    out[1] = a.g;\r\n    out[2] = a.b;\r\n    out[3] = a.a;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified colors are equal. (Compared using ===)\r\n   *\r\n   * @param {color4} a - The first color.\r\n   * @param {color4} b - The second color.\r\n   * @returns {Boolean} True if the colors are equal, false otherwise.\r\n   */\r\n  static exactEquals(a, b) {\r\n    return a.r === b.r && a.g === b.g && a.b === b.b && a.a === b.a;\r\n  }\r\n\r\n  /**\r\n   * Returns whether the specified colors are approximately equal.\r\n   *\r\n   * @param {color4} a - The first color.\r\n   * @param {color4} b - The second color.\r\n   * @returns {Boolean} True if the colors are approximately equal, false otherwise.\r\n   */\r\n  static equals(a, b) {\r\n    let a0 = a.r, a1 = a.g, a2 = a.b, a3 = a.a;\r\n    let b0 = b.r, b1 = b.g, b2 = b.b, b3 = b.a;\r\n    return (Math.abs(a0 - b0) <= EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) &&\r\n      Math.abs(a1 - b1) <= EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) &&\r\n      Math.abs(a2 - b2) <= EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) &&\r\n      Math.abs(a3 - b3) <= EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)));\r\n  }\r\n\r\n  /**\r\n   * Converts a color's rgb formal into the hexadecimal one.\r\n   *\r\n   * @param {color4} a - The color.\r\n   * @returns {Number} - The color's hexadecimal formal.\r\n   */\r\n  static hex(a) {\r\n    return ((a.r * 255) << 24 | (a.g * 255) << 16 | (a.b * 255) << 8 | a.a * 255) >>> 0;\r\n  }\r\n}\r\n\r\nexport default color4;","export * from './utils';\r\n\r\n// NOTE: there is no syntax for: export {* as bits} from './lib/bits';\r\nimport * as bits_ from './bits';\r\n/**\r\n * Export module bits.\r\n */\r\nexport let bits = bits_;\r\n\r\nexport { default as vec2 } from './vec2';\r\nexport { default as vec3 } from './vec3';\r\nexport { default as vec4 } from './vec4';\r\nexport { default as quat } from './quat';\r\nexport { default as mat2 } from './mat2';\r\nexport { default as mat23 } from './mat23';\r\nexport { default as mat3 } from './mat3';\r\nexport { default as mat4 } from './mat4';\r\nexport { default as color3 } from './color3';\r\nexport { default as color4 } from './color4';","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * the distance of the point to plane\r\n *\r\n * @param {vec3} point\r\n * @param {plane} plane\r\n */\r\nfunction point_plane(point, plane) {\r\n  return vec3.dot(plane.n, point) - plane.d;\r\n}\r\n\r\n/**\r\n * the closest point of the point to plane\r\n *\r\n * @param {vec3} out the result point\r\n * @param {vec3} point\r\n * @param {plane} plane\r\n */\r\nfunction pt_point_plane (out, point, plane) {\r\n  let t = point_plane(point, plane);\r\n\r\n  return vec3.sub(out, point, vec3.scale(out, plane.n, t));\r\n}\r\n\r\n\r\n/**\r\n * @name distance\r\n */\r\nexport default {\r\n  point_plane,\r\n  pt_point_plane,\r\n};","import { mat3, vec3 } from '../vmath';\r\nimport distance from './distance';\r\n\r\n/**\r\n * ray-plane intersect\r\n *\r\n * @param {ray} ray\r\n * @param {plane} plane\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet ray_plane = (function () {\r\n  let pt = vec3.zero();\r\n\r\n  return function (ray, plane, outPt) {\r\n    distance.pt_point_plane(pt, ray.o, plane);\r\n    let t = vec3.dot(pt, plane.n) / vec3.dot(ray.d, plane.n);\r\n    let intersects = t >= 0;\r\n\r\n    if (outPt && intersects) {\r\n      vec3.scale(outPt, ray.d, t);\r\n      vec3.add(outPt, outPt, ray.o);\r\n    }\r\n\r\n    return intersects;\r\n  };\r\n})();\r\n\r\n/**\r\n * line-plane intersect\r\n *\r\n * @param {line} line\r\n * @param {plane} plane\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet line_plane = (function () {\r\n  let ab = vec3.zero();\r\n\r\n  return function (line, plane, outPt) {\r\n    vec3.sub(ab, line.e, line.s);\r\n    let t = (plane.d - vec3.dot(line.s, plane.n)) / vec3.dot(ab, plane.n);\r\n    let intersects = t >= 0 && t <= 1.0;\r\n\r\n    if (outPt && intersects) {\r\n      vec3.scale(outPt, ab, t);\r\n      vec3.add(outPt, outPt, line.s);\r\n    }\r\n\r\n    return intersects;\r\n  };\r\n})();\r\n\r\n/**\r\n * ray-triangle intersect\r\n *\r\n * @param {ray} ray\r\n * @param {triangle} triangle\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet ray_triangle = (function () {\r\n  let ab = vec3.zero();\r\n  let ac = vec3.zero();\r\n  let pvec = vec3.zero();\r\n  let tvec = vec3.zero();\r\n  let qvec = vec3.zero();\r\n\r\n  return function (ray, triangle, outPt) {\r\n    vec3.sub(ab, triangle.b, triangle.a);\r\n    vec3.sub(ac, triangle.c, triangle.a);\r\n\r\n    vec3.cross(pvec, ray.d, ac);\r\n    let det = vec3.dot(ab, pvec);\r\n\r\n    if (det <= 0) {\r\n      return false;\r\n    }\r\n\r\n    vec3.sub(tvec, ray.o, triangle.a);\r\n    let u = vec3.dot(tvec, pvec);\r\n    if (u < 0 || u > det) {\r\n      return false;\r\n    }\r\n\r\n    vec3.cross(qvec, tvec, ab);\r\n    let v = vec3.dot(ray.d, qvec);\r\n    if (v < 0 || u + v > det) {\r\n      return false;\r\n    }\r\n\r\n    if (outPt) {\r\n      let t = vec3.dot(ac, qvec) / det;\r\n      vec3.scaleAndAdd(outPt, ray.o, ray.d, t);\r\n    }\r\n\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * line-triangle intersect\r\n *\r\n * @param {line} line\r\n * @param {triangle} triangle\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet line_triangle = (function () {\r\n  let ab = vec3.zero();\r\n  let ac = vec3.zero();\r\n  let qp = vec3.zero();\r\n  let ap = vec3.zero();\r\n  let n = vec3.zero();\r\n  let e = vec3.zero();\r\n\r\n  return function (line, triangle, outPt) {\r\n    vec3.sub(ab, triangle.b, triangle.a);\r\n    vec3.sub(ac, triangle.c, triangle.a);\r\n    vec3.sub(qp, line.s, line.e);\r\n\r\n    vec3.cross(n, ab, ac);\r\n    let det = vec3.dot(qp, n);\r\n\r\n    if (det <= 0.0) {\r\n      return false;\r\n    }\r\n\r\n    vec3.sub(ap, line.s, triangle.a);\r\n    let t = vec3.dot(ap, n);\r\n    if (t < 0 || t > det) {\r\n      return false;\r\n    }\r\n\r\n    vec3.cross(e, qp, ap);\r\n    let v = vec3.dot(ac, e);\r\n    if (v < 0 || v > det) {\r\n      return false;\r\n    }\r\n\r\n    let w = -vec3.dot(ab, e);\r\n    if (w < 0.0 || v + w > det) {\r\n      return false;\r\n    }\r\n\r\n    if (outPt) {\r\n      let invDet = 1.0 / det;\r\n      v *= invDet;\r\n      w *= invDet;\r\n      let u = 1.0 - v - w;\r\n\r\n      // outPt = u*a + v*d + w*c;\r\n      vec3.set(outPt,\r\n        triangle.a.x * u + triangle.b.x * v + triangle.c.x * w,\r\n        triangle.a.y * u + triangle.b.y * v + triangle.c.y * w,\r\n        triangle.a.z * u + triangle.b.z * v + triangle.c.z * w\r\n      );\r\n    }\r\n\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * ray-quad intersect\r\n *\r\n * @param {vec3} p\r\n * @param {vec3} q\r\n * @param {vec3} a\r\n * @param {vec3} b\r\n * @param {vec3} c\r\n * @param {vec3} d\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet line_quad = (function () {\r\n  let pq = vec3.zero();\r\n  let pa = vec3.zero();\r\n  let pb = vec3.zero();\r\n  let pc = vec3.zero();\r\n  let pd = vec3.zero();\r\n  let m = vec3.zero();\r\n  let tmp = vec3.zero();\r\n\r\n  return function (p, q, a, b, c, d, outPt) {\r\n    vec3.sub(pq, q, p);\r\n    vec3.sub(pa, a, p);\r\n    vec3.sub(pb, b, p);\r\n    vec3.sub(pc, c, p);\r\n\r\n    // Determine which triangle to test against by testing against diagonal first\r\n    vec3.cross(m, pc, pq);\r\n    let v = vec3.dot(pa, m);\r\n\r\n    if (v >= 0) {\r\n      // Test intersection against triangle abc\r\n      let u = -vec3.dot(pb, m);\r\n      if (u < 0) {\r\n        return false;\r\n      }\r\n\r\n      let w = vec3.dot(vec3.cross(tmp, pq, pb), pa);\r\n      if (w < 0) {\r\n        return false;\r\n      }\r\n\r\n      // outPt = u*a + v*b + w*c;\r\n      if (outPt) {\r\n        let denom = 1.0 / (u + v + w);\r\n        u *= denom;\r\n        v *= denom;\r\n        w *= denom;\r\n\r\n        vec3.set(outPt,\r\n          a.x * u + b.x * v + c.x * w,\r\n          a.y * u + b.y * v + c.y * w,\r\n          a.z * u + b.z * v + c.z * w\r\n        );\r\n      }\r\n    } else {\r\n      // Test intersection against triangle dac\r\n      vec3.sub(pd, d, p);\r\n\r\n      let u = vec3.dot(pd, m);\r\n      if (u < 0) {\r\n        return false;\r\n      }\r\n\r\n      let w = vec3.dot(vec3.cross(tmp, pq, pa), pd);\r\n      if (w < 0) {\r\n        return false;\r\n      }\r\n\r\n      // outPt = u*a + v*d + w*c;\r\n      if (outPt) {\r\n        v = -v;\r\n\r\n        let denom = 1.0 / (u + v + w);\r\n        u *= denom;\r\n        v *= denom;\r\n        w *= denom;\r\n\r\n        vec3.set(outPt,\r\n          a.x * u + d.x * v + c.x * w,\r\n          a.y * u + d.y * v + c.y * w,\r\n          a.z * u + d.z * v + c.z * w\r\n        );\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * ray-sphere intersect\r\n *\r\n * @param {ray} ray\r\n * @param {sphere} sphere\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet ray_sphere = (function () {\r\n  let e = vec3.zero();\r\n  let c = vec3.zero();\r\n  let o = vec3.zero();\r\n  let d = vec3.zero();\r\n\r\n  return function (ray, sphere, outPt) {\r\n    let r = sphere.r;\r\n    c = sphere.c;\r\n    o = ray.o;\r\n    d = ray.d;\r\n    vec3.sub(e, c, o);\r\n    let eLength = vec3.magnitude(e);\r\n\r\n    //Projection formula: dot(a, b) / |b|\r\n    let aLength = vec3.dot(e, d) / vec3.magnitude(d);\r\n    let f = Math.sqrt(sphere.r * sphere.r - (eLength * eLength - aLength * aLength));\r\n    let t = aLength - f;\r\n\r\n    if (f < 0 || t < 0 || eLength < sphere.r) {\r\n      return false;\r\n    }\r\n\r\n    vec3.scale(outPt, e, (eLength - r) / eLength);\r\n\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * ray-box intersect\r\n *\r\n * @param {ray} ray\r\n * @param {box} box\r\n * @param {vec3} outPt the intersect point if provide\r\n * @return {boolean}\r\n */\r\nlet ray_box = (function () {\r\n  let center = vec3.zero();\r\n  let o = vec3.zero();\r\n  let d = vec3.zero();\r\n  let X = vec3.zero();\r\n  let Y = vec3.zero();\r\n  let Z = vec3.zero();\r\n  let p = vec3.zero();\r\n  let out = vec3.zero();\r\n  let size = new Array(3);\r\n  let f = new Array(3);\r\n  let e = new Array(3);\r\n  let t = new Array(6);\r\n\r\n  return function (ray, box, outPt) {\r\n    size[0] = box.size.x;\r\n    size[1] = box.size.y;\r\n    size[2] = box.size.z;\r\n    center = box.center;\r\n    o = ray.o;\r\n    d = ray.d;\r\n\r\n    vec3.set(X, box.orientation.m00, box.orientation.m01, box.orientation.m02);\r\n    vec3.set(Y, box.orientation.m03, box.orientation.m04, box.orientation.m05);\r\n    vec3.set(Z, box.orientation.m06, box.orientation.m07, box.orientation.m08);\r\n    vec3.sub(p, center, o);\r\n\r\n    //The cos values of the ray on the X, Y, Z\r\n    f[0] = vec3.dot(X, d);\r\n    f[1] = vec3.dot(Y, d);\r\n    f[2] = vec3.dot(Z, d);\r\n\r\n    //The projection length of P on X, Y, Z\r\n    e[0] = vec3.dot(X, p);\r\n    e[1] = vec3.dot(Y, p);\r\n    e[2] = vec3.dot(Z, p);\r\n\r\n    for (let i = 0; i < 3; ++i) {\r\n      if (f[i] === 0) {\r\n        if (-e[i] - size[i] > 0 || -e[i] + size[i] < 0) {\r\n          return false;\r\n        }\r\n        // Avoid div by 0!\r\n        f[i] = 0.0000001;\r\n      }\r\n      // min\r\n      t[i * 2 + 0] = (e[i] + size[i]) / f[i];\r\n      // max\r\n      t[i * 2 + 1] = (e[i] - size[i]) / f[i];\r\n    }\r\n    let tmin = Math.max(\r\n      Math.max(\r\n        Math.min(t[0], t[1]),\r\n        Math.min(t[2], t[3])),\r\n      Math.min(t[4], t[5])\r\n    );\r\n    let tmax = Math.min(\r\n      Math.min(\r\n        Math.max(t[0], t[1]),\r\n        Math.max(t[2], t[3])),\r\n      Math.max(t[4], t[5])\r\n    );\r\n    if (tmax < 0 || tmin > tmax || tmin < 0) {\r\n      return false;\r\n    }\r\n\r\n    vec3.set(out, tmin * f[0] + o.x, tmin * f[1] + o.y, tmin * f[2] + o.z);\r\n    vec3.transformMat3(outPt, out, box.orientation);\r\n\r\n    return true;\r\n  };\r\n})();\r\n\r\nlet box_point = (function () {\r\n  let tmp = vec3.zero(), m3 = mat3.create();\r\n  let lessThan = function(a, b) { return Math.abs(a.x) < b.x && Math.abs(a.y) < b.y && Math.abs(a.z) < b.z; };\r\n  return function(box, point) {\r\n    vec3.sub(tmp, point, box.center);\r\n    vec3.transformMat3(tmp, tmp, mat3.transpose(m3, box.orientation));\r\n    return lessThan(tmp, box.size);\r\n  };\r\n})();\r\n\r\n\r\n/**\r\n * box-plane intersect\r\n *\r\n * @param {box} box\r\n * @param {plane} plane\r\n * @return {number} outside(front) = 0, intersect = -1, inside(back) = 1\r\n */\r\nlet box_plane = (function () {\r\n  let absDot = function(n, x, y, z) {\r\n    return Math.abs(n.x * x + n.y * y + n.z * z);\r\n  };\r\n  return function (box, plane) {\r\n    // Real-Time Collision Detection, Christer Ericson, p. 163.\r\n    let r = box.size.x * absDot(plane.n, box.orientation.m00, box.orientation.m01, box.orientation.m02) +\r\n      box.size.y * absDot(plane.n, box.orientation.m03, box.orientation.m04, box.orientation.m05) +\r\n      box.size.z * absDot(plane.n, box.orientation.m06, box.orientation.m07, box.orientation.m08);\r\n\r\n    let dot = vec3.dot(plane.n, box.center);\r\n    if (dot + r < plane.d) return 1;\r\n    else if (dot - r > plane.d) return 0;\r\n    return -1;\r\n  };\r\n})();\r\n\r\n/**\r\n * box-frustum intersect, faster but has\r\n * false positive corner cases, read more here:\r\n * https://cesium.com/blog/2017/02/02/tighter-frustum-culling-and-why-you-may-want-to-disregard-it/\r\n *\r\n * @param {box} box\r\n * @param {planes: plane[], vertices: vec3[]} frustum\r\n * @return {boolean}\r\n */\r\nlet box_frustum = function (box, frustum) {\r\n  for (let i = 0; i < frustum.planes.length; i++)\r\n    // frustum plane normal points to the inside\r\n    if (box_plane(box, frustum.planes[i]) == 1)\r\n      return false; // completely outside\r\n  return true;\r\n};\r\n\r\n/**\r\n * box-frustum intersect, handles most of the false positives correctly\r\n *\r\n * @param {box} box\r\n * @param {planes: plane[], vertices: vec3[]} frustum\r\n * @return {boolean}\r\n */\r\nlet box_frustum_accurate = (function () {\r\n  let tmp = new Array(8), dist = 0, out1 = 0, out2 = 0;\r\n  for (let i = 0; i < tmp.length; i++) tmp[i] = vec3.zero();\r\n  let dot = function(n, x, y, z) {\r\n    return n.x * x + n.y * y + n.z * z;\r\n  };\r\n  return function (cbox, frustum) {\r\n    let result = 0, intersects = false;\r\n    // 1. box inside/outside frustum test\r\n    for (let i = 0; i < frustum.planes.length; i++) {\r\n      result = box_plane(cbox, frustum.planes[i]);\r\n      // frustum plane normal points to the inside\r\n      if (result == 1) return false; // completely outside\r\n      else if (result == -1) intersects = true;\r\n    }\r\n    if (!intersects) return true; // completely inside\r\n    // in case of false positives\r\n    // 2. frustum inside/outside box test\r\n    for (let i = 0; i < frustum.vertices.length; i++)\r\n      vec3.sub(tmp[i], frustum.vertices[i], cbox.center);\r\n    out1 = 0, out2 = 0;\r\n    for (let i = 0; i < frustum.vertices.length; i++) {\r\n      dist = dot(tmp[i], cbox.orientation.m00, cbox.orientation.m01, cbox.orientation.m02);\r\n      if (dist > cbox.size.x) out1++;\r\n      else if (dist < -cbox.size.x) out2++;\r\n    }\r\n    if (out1 == frustum.vertices.length || out2 == frustum.vertices.length) return false;\r\n    out1 = 0; out2 = 0;\r\n    for (let i = 0; i < frustum.vertices.length; i++) {\r\n      dist = dot(tmp[i], cbox.orientation.m03, cbox.orientation.m04, cbox.orientation.m05);\r\n      if (dist > cbox.size.y) out1++;\r\n      else if (dist < -cbox.size.y) out2++;\r\n    }\r\n    if (out1 == frustum.vertices.length || out2 == frustum.vertices.length) return false;\r\n    out1 = 0; out2 = 0;\r\n    for (let i = 0; i < frustum.vertices.length; i++) {\r\n      dist = dot(tmp[i], cbox.orientation.m06, cbox.orientation.m07, cbox.orientation.m08);\r\n      if (dist > cbox.size.z) out1++;\r\n      else if (dist < -cbox.size.z) out2++;\r\n    }\r\n    if (out1 == frustum.vertices.length || out2 == frustum.vertices.length) return false;\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * box-box intersect\r\n *\r\n * @param {box} box\r\n * @return {boolean}\r\n */\r\nlet box_box = (function () {\r\n  let test = new Array(15);\r\n  for (let i = 0; i < 15; i++) {\r\n    test[i] = vec3.zero();\r\n  }\r\n\r\n  let vertex = new Array(8);\r\n  for (let i = 0; i < 8; i++) {\r\n    vertex[i] = vec3.zero();\r\n  }\r\n\r\n  let i = vec3.zero();\r\n  let a = vec3.zero();\r\n  let p1 = vec3.zero();\r\n  let p2 = vec3.zero();\r\n\r\n  return function (box0, box1) {\r\n    vec3.set(test[0], box0.orientation.m00, box0.orientation.m01, box0.orientation.m02);\r\n    vec3.set(test[1], box0.orientation.m03, box0.orientation.m04, box0.orientation.m05);\r\n    vec3.set(test[2], box0.orientation.m06, box0.orientation.m07, box0.orientation.m08);\r\n    vec3.set(test[3], box1.orientation.m00, box1.orientation.m01, box1.orientation.m02);\r\n    vec3.set(test[4], box1.orientation.m03, box1.orientation.m04, box1.orientation.m05);\r\n    vec3.set(test[5], box1.orientation.m06, box1.orientation.m07, box1.orientation.m08);\r\n\r\n    // Fill out rest of axis\r\n    for (let i = 0; i < 3; ++i) {\r\n      vec3.cross(test[6 + i * 3 + 0], test[i], test[0]);\r\n      vec3.cross(test[6 + i * 3 + 1], test[i], test[1]);\r\n      vec3.cross(test[6 + i * 3 + 1], test[i], test[2]);\r\n    }\r\n\r\n    // Seperating axis found\r\n    for (let i = 0; i < 15; ++i) {\r\n\r\n      if (!overlapOnAxis(box0, box1, test[i])) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n\r\n    function overlapOnAxis(box0, box1, axis) {\r\n\r\n      let MIN = 0;\r\n      let MAX = 1;\r\n      let interval_0 = getInterval(box0, axis);\r\n      let interval_1 = getInterval(box1, axis);\r\n\r\n      return ((interval_1[MIN] <= interval_0[MAX]) && (interval_0[MIN] <= interval_1[MAX]));\r\n    }\r\n\r\n    function getInterval(box, axis) {\r\n\r\n      vec3.add(p1, box.center, box.size);\r\n      vec3.sub(p2, box.center, box.size);\r\n\r\n      //Get min\r\n      vec3.set(i, Math.min(p1.x, p2.x), Math.min(p1.y, p2.y), Math.min(p1.z, p2.z));\r\n\r\n      //Get max\r\n      vec3.set(a, Math.max(p1.x, p2.x), Math.max(p1.y, p2.y), Math.max(p1.z, p2.z));\r\n\r\n      vec3.set(vertex[0], i.x, a.y, a.z);\r\n      vec3.set(vertex[1], i.x, a.y, i.z);\r\n      vec3.set(vertex[2], i.x, i.y, a.z);\r\n      vec3.set(vertex[3], i.x, i.y, i.z);\r\n      vec3.set(vertex[4], a.x, a.y, a.z);\r\n      vec3.set(vertex[5], a.x, a.y, i.z);\r\n      vec3.set(vertex[6], a.x, i.y, a.z);\r\n      vec3.set(vertex[7], a.x, i.y, i.z);\r\n\r\n      let min = 0;\r\n      let max = 0;\r\n      min = max = vec3.dot(axis, vertex[0]);\r\n\r\n      for (let i = 1; i < 8; ++i) {\r\n        let projection = vec3.dot(axis, vertex[i]);\r\n        min = (projection < min) ?\r\n          projection : min;\r\n        max = (projection > max) ?\r\n          projection : max;\r\n      }\r\n      let result = [min, max];\r\n\r\n      return result;\r\n    }\r\n  };\r\n})();\r\n\r\n/**\r\n * sphere-plane intersect, not necessarily faster than box-plane\r\n * due to the length calculation of the plane normal to factor out\r\n * the unnomalized plane distance\r\n *\r\n * @param {sphere} sphere\r\n * @param {plane} plane\r\n * @return {number} outside(front) = 0, intersect = -1, inside(back) = 1\r\n */\r\nlet sphere_plane = function (sphere, plane) {\r\n  let dot = vec3.dot(plane.n, sphere.c);\r\n  let r = sphere.r * vec3.magnitude(plane.n);\r\n  if (dot + r < plane.d) return 1;\r\n  else if (dot - r > plane.d) return 0;\r\n  return -1;\r\n};\r\n\r\n/**\r\n * sphere-frustum intersect, faster but has \r\n * false positive corner cases, read more here:\r\n * https://stackoverflow.com/questions/20912692/view-frustum-culling-corner-cases\r\n *\r\n * @param {sphere} sphere\r\n * @param {planes: plane[], vertices: vec3[]} frustum\r\n * @return {boolean}\r\n */\r\nlet sphere_frustum = function (sphere, frustum) {\r\n  for (let i = 0; i < frustum.planes.length; i++)\r\n    // frustum plane normal points to the inside\r\n    if (sphere_plane(sphere, frustum.planes[i]) == 1)\r\n      return false; // completely outside\r\n  return true;\r\n};\r\n\r\n/**\r\n * sphere-frustum intersect, handles the false positives correctly\r\n *\r\n * @param {sphere} sphere\r\n * @param {planes: plane[], vertices: vec3[]} frustum\r\n * @return {boolean}\r\n */\r\nlet sphere_frustum_accurate = (function () {\r\n  let pt = vec3.zero(), map = [1, -1, 1, -1, 1, -1];\r\n  let p = [], d = [];\r\n  return function (sphere, frustum) {\r\n    let intersects = false; p.length = 0; d.length = 0;\r\n    for (let i = 0; i < frustum.planes.length; i++) {\r\n      let dot = vec3.dot(frustum.planes[i].n, sphere.c);\r\n      let dist = vec3.magnitude(frustum.planes[i].n);\r\n      let r = sphere.r * dist; d.push(1 / dist);\r\n      // frustum plane normal points to the inside\r\n      if (dot + r < frustum.planes[i].d) return false; // completely outside\r\n      else if (dot - r < frustum.planes[i].d) { intersects = true; p.push(i); }\r\n    }\r\n    if (!intersects) return true; // completely inside\r\n    // in case of false positives\r\n    for (let j = 0; j < p.length; j++) {\r\n      // the most accurate solution would be to calculate \r\n      // the farthest intersection point away from each testing plane,\r\n      // but the trade-off here is acceptable\r\n      // for the corner cases are rare and generally negligible\r\n      vec3.scale(pt, frustum.planes[p[j]].n, sphere.r * d[p[j]]);\r\n      vec3.add(pt, sphere.c, pt);\r\n      for (let i = 0; i < frustum.planes.length; i++) {\r\n        if (i == p[j] || i == p[j] + map[i]) continue;\r\n        if (vec3.dot(frustum.planes[i].n, pt) < frustum.planes[i].d) \r\n          return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * sphere-sphere intersect\r\n *\r\n * @param {sphere} sphere0\r\n * @param {sphere} sphere1\r\n * @return {boolean}\r\n */\r\nlet sphere_sphere = (function () {\r\n  let c0 = vec3.zero();\r\n  let c1 = vec3.zero();\r\n\r\n  return function (sphere0, sphere1) {\r\n    let r0 = sphere0.r;\r\n    let r1 = sphere1.r;\r\n    c0 = sphere0.c;\r\n    c1 = sphere1.c;\r\n    let distance = vec3.distance(c0, c1);\r\n\r\n    if (distance > (r0 + r1)) {\r\n      return false;\r\n    }\r\n    else return true;\r\n  };\r\n})();\r\n\r\n/**\r\n * box-sphere intersect\r\n *\r\n * @param {sphere} sphere\r\n * @param {box} box\r\n * @return {boolean}\r\n */\r\n\r\nlet sphere_box = (function () {\r\n  let X = vec3.zero();\r\n  let Y = vec3.zero();\r\n  let Z = vec3.zero();\r\n  let d = vec3.zero();\r\n  let closestPoint = vec3.zero();\r\n  let u = new Array(3);\r\n  let e = new Array(3);\r\n\r\n  return function (sphere, box) {\r\n    vec3.set(X, box.orientation.m00, box.orientation.m01, box.orientation.m02);\r\n    vec3.set(Y, box.orientation.m03, box.orientation.m04, box.orientation.m05);\r\n    vec3.set(Z, box.orientation.m06, box.orientation.m07, box.orientation.m08);\r\n\r\n    u[0] = X;\r\n    u[1] = Y;\r\n    u[2] = Z;\r\n    e[0] = box.size.x;\r\n    e[1] = box.size.y;\r\n    e[2] = box.size.z;\r\n\r\n    vec3.sub(d, sphere.c, box.center);\r\n\r\n    //Start result at center of box; make steps from there\r\n    vec3.set(closestPoint, box.center.x, box.center.y, box.center.z);\r\n\r\n    //For each OBB axis...\r\n    for (let i = 0; i < 3; i++) {\r\n\r\n      //...project d onto that axis to get the distance\r\n      //along the axis of d from the box center\r\n      let dist = vec3.dot(d, u[i]);\r\n\r\n      //if distance farther than the box extents, clamp to the box\r\n      if (dist > e[i]) {\r\n        dist = e[i];\r\n      }\r\n      if (dist < -e[i]) {\r\n        dist = -e[i];\r\n      }\r\n\r\n      //Step that distance along the axis to get world coordinate\r\n      closestPoint.x += dist * u[i].x;\r\n      closestPoint.y += dist * u[i].y;\r\n      closestPoint.z += dist * u[i].z;\r\n    }\r\n\r\n    let dist = vec3.distance(closestPoint, sphere.c);\r\n\r\n    return dist < sphere.r;\r\n  };\r\n})();\r\n\r\n/**\r\n * @name intersect\r\n */\r\nexport default {\r\n  ray_plane,\r\n  line_plane,\r\n  ray_triangle,\r\n  line_triangle,\r\n  line_quad,\r\n  ray_sphere,\r\n  ray_box,\r\n  box_point,\r\n  box_plane,\r\n  box_frustum,\r\n  box_frustum_accurate,\r\n  box_box,\r\n  sphere_plane,\r\n  sphere_frustum,\r\n  sphere_frustum_accurate,\r\n  sphere_sphere,\r\n  sphere_box,\r\n};","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass line {\r\n  constructor(sx, sy, sz, ex, ey, ez) {\r\n    this.s = vec3.new(sx, sy, sz);\r\n    this.e = vec3.new(ex, ey, ez);\r\n  }\r\n  /**\r\n * create a new line\r\n *\r\n * @return {line}\r\n */\r\n  static create() {\r\n    return new line(0, 0, 0, 0, 0, -1);\r\n  }\r\n\r\n  /**\r\n   * create a new line\r\n   *\r\n   * @param {Number} sx start X component\r\n   * @param {Number} sy start Y component\r\n   * @param {Number} sz start Z component\r\n   * @param {Number} ex end X component\r\n   * @param {Number} ey end Y component\r\n   * @param {Number} ez end Z component\r\n   * @return {line}\r\n   */\r\n  static new(sx, sy, sz, ex, ey, ez) {\r\n    return new line(sx, sy, sz, ex, ey, ez);\r\n  }\r\n\r\n  /**\r\n   * Creates a new line initialized with values from an existing line\r\n   *\r\n   * @param {line} a line to clone\r\n   * @returns {line} a new line\r\n   */\r\n  static clone(a) {\r\n    return new line(\r\n      a.s.x, a.s.y, a.s.z,\r\n      a.e.x, a.e.y, a.e.z\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy the values from one line to another\r\n   *\r\n   * @param {line} out the receiving line\r\n   * @param {line} a the source line\r\n   * @returns {line} out\r\n   */\r\n  static copy(out, a) {\r\n    out.s.x = a.s.x;\r\n    out.s.y = a.s.y;\r\n    out.s.z = a.s.z;\r\n    out.e.x = a.e.x;\r\n    out.e.y = a.e.y;\r\n    out.e.z = a.e.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a vec3 to the given values\r\n   *\r\n   * @param {vec3} out the receiving vector\r\n   * @param {Number} sx start X component\r\n   * @param {Number} sy start Y component\r\n   * @param {Number} sz start Z component\r\n   * @param {Number} ex end X component\r\n   * @param {Number} ey end Y component\r\n   * @param {Number} ez end Z component\r\n   * @returns {vec3} out\r\n   */\r\n  static set(out, sx, sy, sz, ex, ey, ez) {\r\n    out.s.x = sx;\r\n    out.s.y = sy;\r\n    out.s.z = sz;\r\n    out.e.x = ex;\r\n    out.e.y = ey;\r\n    out.e.z = ez;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * create line from 2 points\r\n   *\r\n   * @param {line} line\r\n   * @returns {number}\r\n   */\r\n  static magnitude(line) {\r\n    return vec3.distance(line.s, line.e);\r\n  }\r\n\r\n  /**\r\n   *Alias of {@link line.magnitude}.\r\n   */\r\n  static mag(line) {\r\n    return line.magnitude(line);\r\n  }\r\n}\r\n\r\nexport default line;","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass plane {\r\n  constructor(nx, ny, nz, d) {\r\n    this.n = vec3.new(nx, ny, nz);\r\n    this.d = d;\r\n  }\r\n\r\n  /**\r\n   * create a new plane\r\n   *\r\n   * @return {plane}\r\n   */\r\n  static create() {\r\n    return new plane(0, 1, 0, 0);\r\n  }\r\n\r\n  /**\r\n   * create a new plane\r\n   *\r\n   * @param {Number} nx normal X component\r\n   * @param {Number} ny normal Y component\r\n   * @param {Number} nz normal Z component\r\n   * @param {Number} d the constant d\r\n   * @return {plane}\r\n   */\r\n  static new(nx, ny, nz, d) {\r\n    return new plane(nx, ny, nz, d);\r\n  }\r\n\r\n  /**\r\n   * clone a new plane\r\n   *\r\n   * @param {plane} p a the source plane\r\n   * @return {plane}\r\n   */\r\n  static clone(p) {\r\n    return new plane(p.n.x, p.n.y, p.n.z, p.d);\r\n  }\r\n\r\n  /**\r\n   * copy the values from one plane to another\r\n   *\r\n   * @param {plane} out the receiving plane\r\n   * @param {plane} p the source plane\r\n   * @return {plane}\r\n   */\r\n  static copy(out, p) {\r\n    out.n.x = p.n.x;\r\n    out.n.y = p.n.y;\r\n    out.n.z = p.n.z;\r\n    out.d = p.d;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a plane to the given values\r\n   *\r\n   * @param {plane} out the receiving plane\r\n   * @param {Number} nx X component of n\r\n   * @param {Number} ny Y component of n\r\n   * @param {Number} nz Z component of n\r\n   * @param {Number} d\r\n   * @returns {plane} out\r\n   * @function\r\n   */\r\n  static set(out, nx, ny, nz, d) {\r\n    out.n.x = nx;\r\n    out.n.y = ny;\r\n    out.n.z = nz;\r\n    out.d = d;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * create plane from normal and point\r\n   *\r\n   * @param {plane} out the receiving plane\r\n   * @param {vec3} normal\r\n   * @param {vec3} point\r\n   * @returns {plane} out\r\n   * @function\r\n   */\r\n  static fromNormalAndPoint(out, normal, point) {\r\n    vec3.copy(out.n, normal);\r\n    out.d = vec3.dot(normal, point);\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n * normalize a plane\r\n *\r\n * @param {plane} out the receiving plane\r\n * @param {plane} a plane to normalize\r\n * @returns {plane} out\r\n */\r\n  static normalize(out, a) {\r\n    let len = vec3.magnitude(a.n);\r\n    vec3.normalize(out.n, a.n);\r\n    if (len > 0) {\r\n      out.d = a.d / len;\r\n    }\r\n    return out;\r\n  }\r\n}\r\n\r\n/**\r\n * create plane from 3 points\r\n *\r\n * @param {plane} out the receiving plane\r\n * @param {vec3} a\r\n * @param {vec3} b\r\n * @param {vec3} c\r\n * @returns {plane} out\r\n * @function\r\n */\r\nplane.fromPoints = (function () {\r\n  let v1 = vec3.zero();\r\n  let v2 = vec3.zero();\r\n\r\n  return function (out, a, b, c) {\r\n    vec3.sub(v1, b, a);\r\n    vec3.sub(v2, c, a);\r\n\r\n    vec3.normalize(out.n, vec3.cross(out.n, v1, v2));\r\n    out.d = vec3.dot(out.n, a);\r\n\r\n    return out;\r\n  };\r\n})();\r\n\r\nexport default plane;\r\n","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass ray {\r\n  constructor(ox, oy, oz, dx, dy, dz) {\r\n    this.o = vec3.new(ox, oy, oz);\r\n    this.d = vec3.new(dx, dy, dz);\r\n  }\r\n\r\n  /**\r\n   * create a new ray\r\n   *\r\n   * @return {ray}\r\n   */\r\n  static create() {\r\n    return new ray(0, 0, 0, 0, 0, -1);\r\n  }\r\n\r\n  /**\r\n   * create a new ray\r\n   *\r\n   * @param {Number} ox origin X component\r\n   * @param {Number} oy origin Y component\r\n   * @param {Number} oz origin Z component\r\n   * @param {Number} dx dir X component\r\n   * @param {Number} dy dir Y component\r\n   * @param {Number} dz dir Z component\r\n   * @return {ray}\r\n   */\r\n  static new(ox, oy, oz, dx, dy, dz) {\r\n    return new ray(ox, oy, oz, dx, dy, dz);\r\n  }\r\n\r\n  /**\r\n   * Creates a new ray initialized with values from an existing ray\r\n   *\r\n   * @param {ray} a ray to clone\r\n   * @returns {ray} a new ray\r\n   */\r\n  static clone(a) {\r\n    return new ray(\r\n      a.o.x, a.o.y, a.o.z,\r\n      a.d.x, a.d.y, a.d.z\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Copy the values from one ray to another\r\n   *\r\n   * @param {ray} out the receiving ray\r\n   * @param {ray} a the source ray\r\n   * @returns {ray} out\r\n   */\r\n  static copy(out, a) {\r\n    out.o.x = a.o.x;\r\n    out.o.y = a.o.y;\r\n    out.o.z = a.o.z;\r\n    out.d.x = a.d.x;\r\n    out.d.y = a.d.y;\r\n    out.d.z = a.d.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a vec3 to the given values\r\n   *\r\n   * @param {vec3} out the receiving vector\r\n   * @param {Number} ox origin X component\r\n   * @param {Number} oy origin Y component\r\n   * @param {Number} oz origin Z component\r\n   * @param {Number} dx dir X component\r\n   * @param {Number} dy dir Y component\r\n   * @param {Number} dz dir Z component\r\n   * @returns {vec3} out\r\n   */\r\n  static set(out, ox, oy, oz, dx, dy, dz) {\r\n    out.o.x = ox;\r\n    out.o.y = oy;\r\n    out.o.z = oz;\r\n    out.d.x = dx;\r\n    out.d.y = dy;\r\n    out.d.z = dz;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * create ray from 2 points\r\n   *\r\n   * @param {ray} out the receiving plane\r\n   * @param {vec3} origin\r\n   * @param {vec3} lookAt\r\n   * @returns {ray} out\r\n   * @function\r\n   */\r\n  static fromPoints(out, origin, lookAt) {\r\n    vec3.copy(out.o, origin);\r\n    vec3.normalize(out.d, vec3.sub(out.d, lookAt, origin));\r\n\r\n    return out;\r\n  }\r\n}\r\n\r\nexport default ray;","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass triangle {\r\n  constructor(ax, ay, az, bx, by, bz, cx, cy, cz) {\r\n    this.a = vec3.new(ax, ay, az);\r\n    this.b = vec3.new(bx, by, bz);\r\n    this.c = vec3.new(cx, cy, cz);\r\n  }\r\n\r\n  /**\r\n   * create a new triangle\r\n   *\r\n   * @return {triangle}\r\n   */\r\n  static create () {\r\n    return new triangle(\r\n      0, 0, 0,\r\n      1, 0, 0,\r\n      0, 1, 0\r\n    );\r\n  }\r\n\r\n  /**\r\n   * create a new triangle\r\n   *\r\n   * @param {Number} ax\r\n   * @param {Number} ay\r\n   * @param {Number} az\r\n   * @param {Number} bx\r\n   * @param {Number} by\r\n   * @param {Number} bz\r\n   * @param {Number} cx\r\n   * @param {Number} cy\r\n   * @param {Number} cz\r\n   * @return {triangle}\r\n   */\r\n  static new (ax, ay, az, bx, by, bz, cx, cy, cz) {\r\n    return new triangle(\r\n      ax, ay, az,\r\n      bx, by, bz,\r\n      cx, cy, cz\r\n    );\r\n  }\r\n\r\n  /**\r\n   * clone a new triangle\r\n   *\r\n   * @param {triangle} t the source plane\r\n   * @return {triangle}\r\n   */\r\n  static clone (t) {\r\n    return new triangle(\r\n      t.a.x, t.a.y, t.a.z,\r\n      t.b.x, t.b.y, t.b.z,\r\n      t.c.x, t.c.y, t.c.z\r\n    );\r\n  }\r\n\r\n  /**\r\n   * copy the values from one triangle to another\r\n   *\r\n   * @param {triangle} out the receiving triangle\r\n   * @param {triangle} t the source triangle\r\n   * @return {triangle}\r\n   */\r\n  static copy (out, t) {\r\n    out.a.x = t.a.x;\r\n    out.a.y = t.a.y;\r\n    out.a.z = t.a.z;\r\n\r\n    out.b.x = t.b.x;\r\n    out.b.y = t.b.y;\r\n    out.b.z = t.b.z;\r\n\r\n    out.c.x = t.c.x;\r\n    out.c.y = t.c.y;\r\n    out.c.z = t.c.z;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a triangle to the given values\r\n   *\r\n   * @param {triangle} out the receiving plane\r\n   * @param {Number} ax X component of a\r\n   * @param {Number} ay Y component of a\r\n   * @param {Number} az Z component of a\r\n   * @param {Number} bx X component of b\r\n   * @param {Number} by Y component of b\r\n   * @param {Number} bz Z component of b\r\n   * @param {Number} cx X component of c\r\n   * @param {Number} cy Y component of c\r\n   * @param {Number} cz Z component of c\r\n   * @returns {plane} out\r\n   * @function\r\n   */\r\n  static set (out, ax, ay, az, bx, by, bz, cx, cy, cz) {\r\n    out.a.x = ax;\r\n    out.a.y = ay;\r\n    out.a.z = az;\r\n\r\n    out.b.x = bx;\r\n    out.b.y = by;\r\n    out.b.z = bz;\r\n\r\n    out.c.x = cx;\r\n    out.c.y = cy;\r\n    out.c.z = cz;\r\n\r\n    return out;\r\n  }\r\n}\r\n\r\nexport default triangle;","import { vec3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass sphere {\r\n  constructor(cx, cy, cz, r) {\r\n    this.c = vec3.new(cx, cy, cz);\r\n    this.r = r;\r\n  }\r\n\r\n  /**\r\n   * create a new sphere\r\n   *\r\n   * @return {plane}\r\n   */\r\n  static create () {\r\n    return new sphere(0, 0, 0, 1);\r\n  }\r\n\r\n  /**\r\n   * create a new sphere\r\n   *\r\n   * @param {Number} cx normal X component\r\n   * @param {Number} cy normal Y component\r\n   * @param {Number} cz normal Z component\r\n   * @param {Number} r the radius r\r\n   * @return {sphere}\r\n   */\r\n  static new (cx, cy, cz, r) {\r\n    return new sphere(cx, cy, cz, r);\r\n  }\r\n\r\n  /**\r\n   * clone a new sphere\r\n   *\r\n   * @param {sphere} p the source sphere\r\n   * @return {sphere}\r\n   */\r\n  static clone (p) {\r\n    return new sphere(p.c.x, p.c.y, p.c.z, p.r);\r\n  }\r\n\r\n  /**\r\n   * copy the values from one sphere to another\r\n   *\r\n   * @param {sphere} out the receiving sphere\r\n   * @param {sphere} p the source sphere\r\n   * @return {sphere}\r\n   */\r\n  static copy (out, p) {\r\n    out.c.x = p.c.x;\r\n    out.c.y = p.c.y;\r\n    out.c.z = p.c.z;\r\n    out.r = p.r;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a sphere to the given values\r\n   *\r\n   * @param {sphere} out the receiving sphere\r\n   * @param {Number} cx X component of c\r\n   * @param {Number} cy Y component of c\r\n   * @param {Number} cz Z component of c\r\n   * @param {Number} r\r\n   * @returns {sphere} out\r\n   * @function\r\n   */\r\n  static set (out, cx, cy, cz, r) {\r\n    out.c.x = cx;\r\n    out.c.y = cy;\r\n    out.c.z = cz;\r\n    out.r = r;\r\n\r\n    return out;\r\n  }\r\n}\r\n\r\nexport default sphere;\r\n","import { vec3, mat3 } from '../vmath';\r\n\r\n/**\r\n * @access public\r\n */\r\nclass box {\r\n  constructor(px, py, pz, w, h, l, ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3) {\r\n    this.center = vec3.new(px, py, pz);\r\n    this.size = vec3.new(w, h, l);\r\n    this.orientation = mat3.new(ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3);\r\n  }\r\n\r\n  /**\r\n   * create a new box\r\n   *\r\n   * @return {plane}\r\n   */\r\n  static create() {\r\n    return new box(0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1);\r\n  }\r\n\r\n  /**\r\n   * create a new box\r\n   *\r\n   * @param {Number} px X coordinates for box's original point\r\n   * @param {Number} py Y coordinates for box's original point\r\n   * @param {Number} pz Z coordinates for box's original point\r\n   * @param {Number} w the half of box width\r\n   * @param {Number} h the half of box height\r\n   * @param {Number} l the half of box length\r\n   * @param {Number} ox_1 the orientation vector coordinates\r\n   * @param {Number} ox_2 the orientation vector coordinates\r\n   * @param {Number} ox_3 the orientation vector coordinates\r\n   * @param {Number} oy_1 the orientation vector coordinates\r\n   * @param {Number} oy_2 the orientation vector coordinates\r\n   * @param {Number} oy_3 the orientation vector coordinates\r\n   * @param {Number} oz_1 the orientation vector coordinates\r\n   * @param {Number} oz_2 the orientation vector coordinates\r\n   * @param {Number} oz_3 the orientation vector coordinates\r\n   * @return {box}\r\n   */\r\n  static new(px, py, pz, w, h, l, ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3) {\r\n    return new box(px, py, pz, w, h, l, ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3);\r\n  }\r\n\r\n  /**\r\n   * Set the transform information of the box\r\n   *\r\n   * @param {box} out the receiving box\r\n   * @param {vec3} pos the surrounding object world coordinates\r\n   * @param {vec3} rot the surrounding object world spins\r\n   * @param {vec3} scale the surrounding object world zooms\r\n   * @param {box} parent parent box transform to apply\r\n   * @return {box}\r\n   */\r\n  static setTransform(out, pos, rot, scale, parent = null) {\r\n    vec3.copy(out.center, pos);\r\n    mat3.fromQuat(out.orientation, rot);\r\n    vec3.copy(out.size, scale);\r\n    if (parent) {\r\n      vec3.add(out.center, out.center, parent.center);\r\n      mat3.mul(out.orientation, out.orientation, parent.orientation);\r\n      vec3.mul(out.size, out.size, parent.size);\r\n    }\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * clone a new box\r\n   *\r\n   * @param {box} a the source box\r\n   * @return {box}\r\n   */\r\n  static clone(a) {\r\n    return new box(a.center.x, a.center.y, a.center.z,\r\n      a.size.x, a.size.y, a.size.z,\r\n      a.orientation.m00, a.orientation.m01, a.orientation.m02,\r\n      a.orientation.m03, a.orientation.m04, a.orientation.m05,\r\n      a.orientation.m06, a.orientation.m07, a.orientation.m08);\r\n  }\r\n\r\n  /**\r\n   * copy the values from one box to another\r\n   *\r\n   * @param {box} out the receiving box\r\n   * @param {box} a the source box\r\n   * @return {box}\r\n   */\r\n  static copy(out, a) {\r\n    out.center = a.center;\r\n    out.size = a.size;\r\n    out.orientation = a.orientation;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the components of a box to the given values\r\n   *\r\n   * @param {box} out the receiving box\r\n   * @param {Number} px X coordinates for box's original point\r\n   * @param {Number} py Y coordinates for box's original point\r\n   * @param {Number} pz Z coordinates for box's original point\r\n   * @param {Number} w the half of box width\r\n   * @param {Number} h the half of box height\r\n   * @param {Number} l the half of box length\r\n   * @param {Number} ox_1 the orientation vector coordinates\r\n   * @param {Number} ox_2 the orientation vector coordinates\r\n   * @param {Number} ox_3 the orientation vector coordinates\r\n   * @param {Number} oy_1 the orientation vector coordinates\r\n   * @param {Number} oy_2 the orientation vector coordinates\r\n   * @param {Number} oy_3 the orientation vector coordinates\r\n   * @param {Number} oz_1 the orientation vector coordinates\r\n   * @param {Number} oz_2 the orientation vector coordinates\r\n   * @param {Number} oz_3 the orientation vector coordinates\r\n   * @returns {box} out\r\n   * @function\r\n   */\r\n  static set(out, px, py, pz, w, h, l, ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3) {\r\n    vec3.set(out.center, px, py, pz);\r\n    vec3.set(out.size, w, h, l);\r\n    mat3.set(out.orientation, ox_1, ox_2, ox_3, oy_1, oy_2, oy_3, oz_1, oz_2, oz_3);\r\n    return out;\r\n  }\r\n}\r\n\r\n/**\r\n * create a new axis-aligned box from two corner points\r\n *\r\n * @param {vec3} minPos lower corner position of the box\r\n * @param {vec3} maxPos upper corner position of the box\r\n * @return {box}\r\n */\r\nbox.fromPoints = (function () {\r\n  let center = vec3.zero();\r\n  let halfSize = vec3.zero();\r\n  return function (minPos, maxPos) {\r\n    vec3.scale(center, vec3.add(center, minPos, maxPos), 0.5);\r\n    vec3.scale(halfSize, vec3.sub(halfSize, maxPos, minPos), 0.5);\r\n    return new box(center.x, center.y, center.z,\r\n      halfSize.x, halfSize.y, halfSize.z,\r\n      1, 0, 0, 0, 1, 0, 0, 0, 1);\r\n  };\r\n})();\r\n\r\nexport default box;\r\n","import { repeat, pingPong, inverseLerp, clamp } from '../vmath';\r\n\r\nexport class Keyframe {\r\n\r\n}\r\n\r\nKeyframe.schema = {\r\n  time: {\r\n    type: 'number',\r\n    default: 0,\r\n  },\r\n  value: {\r\n    type: 'number',\r\n    default: 0,\r\n  },\r\n  inTangent: {\r\n    type: 'number',\r\n    default: 0,\r\n  },\r\n  outTangent: {\r\n    type: 'number',\r\n    default: 0,\r\n  }\r\n}\r\n\r\nexport class AnimationCurve {\r\n  constructor(keyFrames) {\r\n    this._keyFrames = keyFrames;\r\n  }\r\n\r\n  addKey(keyFrame) {\r\n    if (this._keyFrames === null)\r\n      this._keyFrames = [];\r\n    this._keyFrames.push(keyFrame);\r\n  }\r\n\r\n  //cubic Hermite spline\r\n  evaluate(time) {\r\n    let wrappedTime = time;\r\n    let wrapMode = time < 0 ? this._preWrapMode : this._postWrapMode;\r\n    let startTime = this._keyFrames[0].time;\r\n    let endTime = this._keyFrames[this._keyFrames.length - 1].time;\r\n    switch (wrapMode) {\r\n      case 'loop':\r\n        wrappedTime = repeat(time - startTime, endTime - startTime) + startTime;\r\n        break;\r\n      case 'pingPong':\r\n        wrappedTime = pingPong(time - startTime, endTime - startTime) + startTime;\r\n        break;\r\n      case 'clampForever':\r\n        wrappedTime = clamp(time, startTime, endTime);\r\n        break;\r\n    }\r\n    let preKFIndex = 0;\r\n    if (wrappedTime > this._keyFrames[0].time) {\r\n      if (wrappedTime >= this._keyFrames[this._keyFrames.length - 1].time)\r\n        preKFIndex = this._keyFrames.length - 2;\r\n      else {\r\n        for (let i = 0; i < this._keyFrames.length - 1; i++) {\r\n          if (wrappedTime >= this._keyFrames[0].time && wrappedTime <= this._keyFrames[i + 1].time) {\r\n            preKFIndex = i;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    let keyframe0 = this._keyFrames[preKFIndex];\r\n    let keyframe1 = this._keyFrames[preKFIndex + 1];\r\n\r\n    let t = inverseLerp(keyframe0.time, keyframe1.time, wrappedTime);\r\n    let dt = keyframe1.time - keyframe0.time;\r\n\r\n    let m0 = keyframe0.outTangent * dt;\r\n    let m1 = keyframe1.inTangent * dt;\r\n\r\n    let t2 = t * t;\r\n    let t3 = t2 * t;\r\n\r\n    let a = 2 * t3 - 3 * t2 + 1;\r\n    let b = t3 - 2 * t2 + t;\r\n    let c = t3 - t2;\r\n    let d = -2 * t3 + 3 * t2;\r\n\r\n    return a * keyframe0.value + b * m0 + c * m1 + d * keyframe1.value;\r\n  }\r\n\r\n}\r\n\r\nAnimationCurve.schema = {\r\n  keyFrames: {\r\n    type: 'Keyframe',\r\n    default: null,\r\n    array: true,\r\n  },\r\n  preWrapMode: {\r\n    type: 'enums',\r\n    default: 'default',\r\n    options: [\r\n      'default',\r\n      'once',\r\n      'loop',\r\n      'pingPong',\r\n      'clampForever'\r\n    ],\r\n  },\r\n  postWrapMode: {\r\n    type: 'enums',\r\n    default: 'default',\r\n    options: [\r\n      'default',\r\n      'once',\r\n      'loop',\r\n      'pingPong',\r\n      'clampForever'\r\n    ],\r\n  }\r\n}\r\n","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { vec3, color4, mat4 } from '../../vmath';\r\nimport enums from '../enums';\r\nimport { plane } from '../../geom-utils';\r\n\r\nlet _m4_tmp = mat4.create();\r\nlet _v3 = vec3.zero();\r\nlet _genID = 0;\r\n\r\n/**\r\n * A representation of a single camera view\r\n */\r\nexport default class View {\r\n  /**\r\n   * Setup a default view\r\n   */\r\n  constructor() {\r\n    this._id = _genID++;\r\n\r\n    // priority. the smaller one will be rendered first\r\n    this._priority = 0;\r\n\r\n    // viewport\r\n    this._rect = {\r\n      x: 0, y: 0, w: 1, h: 1\r\n    };\r\n\r\n    // TODO:\r\n    // this._scissor = {\r\n    //   x: 0, y: 0, w: 1, h: 1\r\n    // };\r\n\r\n    // clear options\r\n    this._color = color4.new(0.3, 0.3, 0.3, 1);\r\n    this._depth = 1;\r\n    this._stencil = 0;\r\n    this._clearFlags = enums.CLEAR_COLOR | enums.CLEAR_DEPTH;\r\n    this._clearModel = null;\r\n\r\n    // matrix\r\n    this._matView = mat4.create();\r\n    this._matProj = mat4.create();\r\n    this._matViewProj = mat4.create();\r\n    this._matInvViewProj = mat4.create();\r\n\r\n    // stages & framebuffer\r\n    this._stages = [];\r\n    this._cullingByID = false;\r\n    this._framebuffer = null;\r\n\r\n    this._shadowLight = null; // TODO: should not refer light in view.\r\n\r\n    this._frustum = {};\r\n    this._frustum.fullUpdate = false;\r\n    this._frustum.planes = new Array(6); // 0: left, 1: right, 2: bottom, 3: top, 4: near, 5: far\r\n    for (let i = 0; i < 6; ++i) {\r\n      this._frustum.planes[i] = plane.create();\r\n    }\r\n    this._frustum.vertices = new Array(8);\r\n    for (let i = 0; i < 8; ++i) {\r\n      this._frustum.vertices[i] = vec3.zero();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set whether to update extra information in this view,\r\n   * including only frustum vertex positions for now\r\n   * @param {boolean} b need update or not\r\n   */\r\n  set fullUpdate(b) {\r\n    this._frustum.fullUpdate = b;\r\n  }\r\n\r\n  /**\r\n   * Get the view's forward direction\r\n   * @param {vec3} out the receiving vector\r\n   * @returns {vec3} the receiving vector\r\n   */\r\n  getForward(out) {\r\n    return vec3.set(\r\n      out,\r\n      -this._matView.m02,\r\n      -this._matView.m06,\r\n      -this._matView.m10\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Get the view's observing location\r\n   * @param {vec3} out the receiving vector\r\n   * @returns {vec3} the receiving vector\r\n   */\r\n  getPosition(out) {\r\n    mat4.invert(_m4_tmp, this._matView);\r\n    return mat4.getTranslation(out, _m4_tmp);\r\n  }\r\n\r\n  /**\r\n   * Update the view's frustum information according to the stored transform matrix.\r\n   * Note that the resulting planes are not normalized.\r\n   */\r\n  updateFrustum() {\r\n    // RTR3, ch. 16.14.1, p. 774\r\n    // extract frustum planes from view-proj matrix.\r\n    let m = this._matViewProj;\r\n\r\n    // left plane\r\n    vec3.set(this._frustum.planes[0].n, m.m03 + m.m00, m.m07 + m.m04, m.m11 + m.m08);\r\n    this._frustum.planes[0].d = -(m.m15 + m.m12);\r\n    // right plane\r\n    vec3.set(this._frustum.planes[1].n, m.m03 - m.m00, m.m07 - m.m04, m.m11 - m.m08);\r\n    this._frustum.planes[1].d = -(m.m15 - m.m12);\r\n    // bottom plane\r\n    vec3.set(this._frustum.planes[2].n, m.m03 + m.m01, m.m07 + m.m05, m.m11 + m.m09);\r\n    this._frustum.planes[2].d = -(m.m15 + m.m13);\r\n    // top plane\r\n    vec3.set(this._frustum.planes[3].n, m.m03 - m.m01, m.m07 - m.m05, m.m11 - m.m09);\r\n    this._frustum.planes[3].d = -(m.m15 - m.m13);\r\n    // near plane\r\n    vec3.set(this._frustum.planes[4].n, m.m03 + m.m02, m.m07 + m.m06, m.m11 + m.m10);\r\n    this._frustum.planes[4].d = -(m.m15 + m.m14);\r\n    // far plane\r\n    vec3.set(this._frustum.planes[5].n, m.m03 - m.m02, m.m07 - m.m06, m.m11 - m.m10);\r\n    this._frustum.planes[5].d = -(m.m15 - m.m14);\r\n\r\n    // the actual distance of the plane can be retrieved by:\r\n    // plane.d / vec3.magnitude(plane.n)\r\n\r\n    if (!this._frustum.fullUpdate) return;\r\n    // update frustum vertices\r\n    vec3.set(_v3, 1,  1,  1); vec3.transformMat4(this._frustum.vertices[0], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, -1,  1,  1); vec3.transformMat4(this._frustum.vertices[1], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, -1, -1,  1); vec3.transformMat4(this._frustum.vertices[2], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, 1, -1,  1); vec3.transformMat4(this._frustum.vertices[3], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, 1,  1, -1); vec3.transformMat4(this._frustum.vertices[4], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, -1,  1, -1); vec3.transformMat4(this._frustum.vertices[5], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, -1, -1, -1); vec3.transformMat4(this._frustum.vertices[6], _v3, this._matInvViewProj);\r\n    vec3.set(_v3, 1, -1, -1); vec3.transformMat4(this._frustum.vertices[7], _v3, this._matInvViewProj);\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { color3, color4, mat4, mat3, vec3, toRadian } from '../../vmath';\r\nimport gfx from '../../gfx';\r\n\r\nimport enums from '../enums';\r\n\r\nconst _forward = vec3.new(0, 0, -1);\r\n\r\nlet _m4_tmp = mat4.create();\r\nlet _m3_tmp = mat3.create();\r\nlet _transformedLightDirection = vec3.zero();\r\n\r\n// compute light viewProjMat for shadow.\r\nfunction _computeSpotLightViewProjMatrix(light, outView, outProj) {\r\n  // view matrix\r\n  light._node.getWorldRT(outView);\r\n  mat4.invert(outView, outView);\r\n\r\n  // proj matrix\r\n  mat4.perspective(outProj, light._spotAngle * light._spotAngleScale, 1, light._shadowMinDepth, light._shadowMaxDepth);\r\n}\r\n\r\nfunction _computeDirectionalLightViewProjMatrix(light, outView, outProj) {\r\n  // view matrix\r\n  light._node.getWorldRT(outView);\r\n  mat4.invert(outView, outView);\r\n\r\n  // TODO: should compute directional light frustum based on rendered meshes in scene.\r\n  // proj matrix\r\n  let halfSize = light._shadowFrustumSize / 2;\r\n  mat4.ortho(outProj, -halfSize, halfSize, -halfSize, halfSize, light._shadowMinDepth, light._shadowMaxDepth);\r\n}\r\n\r\nfunction _computePointLightViewProjMatrix(light, outView, outProj) {\r\n  // view matrix\r\n  light._node.getWorldRT(outView);\r\n  mat4.invert(outView, outView);\r\n\r\n  // The transformation from Cartesian to polar coordinates is not a linear function, \r\n  // so it cannot be achieved by means of a fixed matrix multiplication.\r\n  // Here we just use a nearly 180 degree perspective matrix instead.\r\n  mat4.perspective(outProj, toRadian(179), 1, light._shadowMinDepth, light._shadowMaxDepth);\r\n}\r\n\r\n/**\r\n * A representation of a light source.\r\n * Could be a point light, a spot light or a directional light.\r\n */\r\nexport default class Light {\r\n  /**\r\n   * Setup a default directional light with no shadows\r\n   */\r\n  constructor() {\r\n    this._poolID = -1;\r\n    this._node = null;\r\n\r\n    this._type = enums.LIGHT_DIRECTIONAL;\r\n\r\n    this._color = color3.new(1, 1, 1);\r\n    this._intensity = 1;\r\n\r\n    // used for spot and point light\r\n    this._range = 1;\r\n    // used for spot light, default to 60 degrees\r\n    this._spotAngle = toRadian(60);\r\n    this._spotExp = 1;\r\n    // cached for uniform\r\n    this._directionUniform = new Float32Array(3);\r\n    this._positionUniform = new Float32Array(3);\r\n    this._colorUniform = new Float32Array([this._color.r * this._intensity, this._color.g * this._intensity, this._color.b * this._intensity]);\r\n    this._spotUniform = new Float32Array([Math.cos(this._spotAngle * 0.5), this._spotExp]);\r\n\r\n    // shadow params\r\n    this._shadowType = enums.SHADOW_NONE;\r\n    this._shadowFrameBuffer = null;\r\n    this._shadowMap = null;\r\n    this._shadowMapDirty = false;\r\n    this._shadowDepthBuffer = null;\r\n    this._shadowResolution = 1024;\r\n    this._shadowBias = 0.0005;\r\n    this._shadowDarkness = 1;\r\n    this._shadowMinDepth = 1;\r\n    this._shadowMaxDepth = 1000;\r\n    this._shadowDepthScale = 50; // maybe need to change it if the distance between shadowMaxDepth and shadowMinDepth is small.\r\n    this._frustumEdgeFalloff = 0; // used by directional and spot light.\r\n    this._viewProjMatrix = mat4.create();\r\n    this._spotAngleScale = 1; // used for spot light.\r\n    this._shadowFrustumSize = 50; // used for directional light.\r\n  }\r\n\r\n  /**\r\n   * set the hosting node of this light\r\n   * @param {Node} node the hosting node\r\n   */\r\n  setNode(node) {\r\n    this._node = node;\r\n  }\r\n\r\n  /**\r\n   * set the color of the light source\r\n   * @param {number} r red channel of the light color\r\n   * @param {number} g green channel of the light color\r\n   * @param {number} b blue channel of the light color\r\n   */\r\n  setColor(r, g, b) {\r\n    color3.set(this._color, r, g, b);\r\n    this._colorUniform[0] = r * this._intensity;\r\n    this._colorUniform[1] = g * this._intensity;\r\n    this._colorUniform[2] = b * this._intensity;\r\n  }\r\n\r\n  /**\r\n   * get the color of the light source\r\n   * @returns {color3} the light color\r\n   */\r\n  get color() {\r\n    return this._color;\r\n  }\r\n\r\n  /**\r\n   * set the intensity of the light source\r\n   * @param {number} val the light intensity\r\n   */\r\n  setIntensity(val) {\r\n    this._intensity = val;\r\n    this._colorUniform[0] = val * this._color.r;\r\n    this._colorUniform[1] = val * this._color.g;\r\n    this._colorUniform[2] = val * this._color.b;\r\n  }\r\n\r\n  /**\r\n   * get the intensity of the light source\r\n   * @returns {number} the light intensity\r\n   */\r\n  get intensity() {\r\n    return this._intensity;\r\n  }\r\n\r\n  /**\r\n   * set the type of the light source\r\n   * @param {number} type light source type\r\n   */\r\n  setType(type) {\r\n    this._type = type;\r\n  }\r\n\r\n  /**\r\n   * get the type of the light source\r\n   * @returns {number} light source type\r\n   */\r\n  get type() {\r\n    return this._type;\r\n  }\r\n\r\n  /**\r\n   * set the spot light angle\r\n   * @param {number} val spot light angle\r\n   */\r\n  setSpotAngle(val) {\r\n    this._spotAngle = val;\r\n    this._spotUniform[0] = Math.cos(this._spotAngle * 0.5);\r\n  }\r\n\r\n  /**\r\n   * get the spot light angle\r\n   * @returns {number} spot light angle\r\n   */\r\n  get spotAngle() {\r\n    return this._spotAngle;\r\n  }\r\n\r\n  /**\r\n   * set the spot light exponential\r\n   * @param {number} val spot light exponential\r\n   */\r\n  setSpotExp(val) {\r\n    this._spotExp = val;\r\n    this._spotUniform[1] = val;\r\n  }\r\n\r\n  /**\r\n   * get the spot light exponential\r\n   * @returns {number} spot light exponential\r\n   */\r\n  get spotExp() {\r\n    return this._spotExp;\r\n  }\r\n\r\n  /**\r\n   * set the range of the light source\r\n   * @param {number} val light source range\r\n   */\r\n  setRange(val) {\r\n    this._range = val;\r\n  }\r\n\r\n  /**\r\n   * get the range of the light source\r\n   * @returns {number} range of the light source\r\n   */\r\n  get range() {\r\n    return this._range;\r\n  }\r\n\r\n  /**\r\n   * set the shadow type of the light source\r\n   * @param {number} type light source shadow type\r\n   */\r\n  setShadowType(type) {\r\n    if (this._shadowType === enums.SHADOW_NONE && type !== enums.SHADOW_NONE) {\r\n      this._shadowMapDirty = true;\r\n    }\r\n    this._shadowType = type;\r\n  }\r\n\r\n  /**\r\n   * get the shadow type of the light source\r\n   * @returns {number} light source shadow type\r\n   */\r\n  get shadowType() {\r\n    return this._shadowType;\r\n  }\r\n\r\n  /**\r\n   * get the shadowmap of the light source\r\n   * @returns {Texture2D} light source shadowmap\r\n   */\r\n  get shadowMap() {\r\n    return this._shadowMap;\r\n  }\r\n\r\n  /**\r\n   * get the view-projection matrix of the light source\r\n   * @returns {mat4} light source view-projection matrix\r\n   */\r\n  get viewProjMatrix() {\r\n    return this._viewProjMatrix;\r\n  }\r\n\r\n  /**\r\n   * set the shadow resolution of the light source\r\n   * @param {number} val light source shadow resolution\r\n   */\r\n  setShadowResolution(val) {\r\n    if (this._shadowResolution !== val) {\r\n      this._shadowMapDirty = true;\r\n    }\r\n    this._shadowResolution = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow resolution of the light source\r\n   * @returns {number} light source shadow resolution\r\n   */\r\n  get shadowResolution() {\r\n    return this._shadowResolution;\r\n  }\r\n\r\n  /**\r\n   * set the shadow bias of the light source\r\n   * @param {number} val light source shadow bias\r\n   */\r\n  setShadowBias(val) {\r\n    this._shadowBias = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow bias of the light source\r\n   * @returns {number} light source shadow bias\r\n   */\r\n  get shadowBias() {\r\n    return this._shadowBias;\r\n  }\r\n\r\n  /**\r\n   * set the shadow darkness of the light source\r\n   * @param {number} val light source shadow darkness\r\n   */\r\n  setShadowDarkness(val) {\r\n    this._shadowDarkness = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow darkness of the light source\r\n   * @returns {number} light source shadow darkness\r\n   */\r\n  get shadowDarkness() {\r\n    return this._shadowDarkness;\r\n  }\r\n\r\n  /**\r\n   * set the shadow min depth of the light source\r\n   * @param {number} val light source shadow min depth\r\n   */\r\n  setShadowMinDepth(val) {\r\n    this._shadowMinDepth = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow min depth of the light source\r\n   * @returns {number} light source shadow min depth\r\n   */\r\n  get shadowMinDepth() {\r\n    if (this._type === enums.LIGHT_DIRECTIONAL) {\r\n      return 1.0;\r\n    }\r\n    return this._shadowMinDepth;\r\n  }\r\n\r\n  /**\r\n   * set the shadow max depth of the light source\r\n   * @param {number} val light source shadow max depth\r\n   */\r\n  setShadowMaxDepth(val) {\r\n    this._shadowMaxDepth = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow max depth of the light source\r\n   * @returns {number} light source shadow max depth\r\n   */\r\n  get shadowMaxDepth() {\r\n    if (this._type === enums.LIGHT_DIRECTIONAL) {\r\n      return 1.0;\r\n    }\r\n    return this._shadowMaxDepth;\r\n  }\r\n\r\n  /**\r\n   * set the shadow depth scale of the light source\r\n   * @param {number} val light source shadow depth scale\r\n   */\r\n  setShadowDepthScale(val) {\r\n    this._shadowDepthScale = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow depth scale of the light source\r\n   * @returns {number} light source shadow depth scale\r\n   */\r\n  get shadowDepthScale() {\r\n    return this._shadowDepthScale;\r\n  }\r\n\r\n  /**\r\n   * set the frustum edge falloff of the light source\r\n   * @param {number} val light source frustum edge falloff\r\n   */\r\n  setFrustumEdgeFalloff(val) {\r\n    this._frustumEdgeFalloff = val;\r\n  }\r\n\r\n  /**\r\n   * get the frustum edge falloff of the light source\r\n   * @returns {number} light source frustum edge falloff\r\n   */\r\n  get frustumEdgeFalloff() {\r\n    return this._frustumEdgeFalloff;\r\n  }\r\n\r\n  /**\r\n   * set the shadow frustum size of the light source\r\n   * @param {number} val light source shadow frustum size\r\n   */\r\n  setShadowFrustumSize(val) {\r\n    this._shadowFrustumSize = val;\r\n  }\r\n\r\n  /**\r\n   * get the shadow frustum size of the light source\r\n   * @returns {number} light source shadow frustum size\r\n   */\r\n  get shadowFrustumSize() {\r\n    return this._shadowFrustumSize;\r\n  }\r\n\r\n  /**\r\n   * extract a view of this light source\r\n   * @param {View} out the receiving view\r\n   * @param {string[]} stages the stages using the view\r\n   */\r\n  extractView(out, stages) {\r\n    // TODO: view should not handle light.\r\n    out._shadowLight = this;\r\n\r\n    // priority. TODO: use varying value for shadow view?\r\n    out._priority = -1;\r\n\r\n    // rect\r\n    out._rect.x = 0;\r\n    out._rect.y = 0;\r\n    out._rect.w = this._shadowResolution;\r\n    out._rect.h = this._shadowResolution;\r\n\r\n    // clear opts\r\n    color4.set(out._color, 1, 1, 1, 1);\r\n    out._depth = 1;\r\n    out._stencil = 1;\r\n    out._clearFlags = enums.CLEAR_COLOR | enums.CLEAR_DEPTH;\r\n\r\n    // stages & framebuffer\r\n    out._stages = stages;\r\n    out._framebuffer = this._shadowFrameBuffer;\r\n\r\n    // view projection matrix\r\n    switch(this._type) {\r\n      case enums.LIGHT_SPOT:\r\n        _computeSpotLightViewProjMatrix(this, out._matView, out._matProj);\r\n        break;\r\n\r\n      case enums.LIGHT_DIRECTIONAL:\r\n        _computeDirectionalLightViewProjMatrix(this, out._matView, out._matProj);\r\n        break;\r\n\r\n      case enums.LIGHT_POINT:\r\n        _computePointLightViewProjMatrix(this, out._matView, out._matProj);\r\n        break;\r\n\r\n      default:\r\n        console.warn('shadow of this light type is not supported');\r\n    }\r\n\r\n    // view-projection\r\n    mat4.mul(out._matViewProj, out._matProj, out._matView);\r\n    this._viewProjMatrix = out._matViewProj;\r\n    mat4.invert(out._matInvViewProj, out._matViewProj);\r\n\r\n    // update view's frustum\r\n    out.updateFrustum();\r\n  }\r\n\r\n  _updateLightPositionAndDirection() {\r\n    this._node.getWorldMatrix(_m4_tmp);\r\n    mat3.fromMat4(_m3_tmp, _m4_tmp);\r\n    vec3.transformMat3(_transformedLightDirection, _forward, _m3_tmp);\r\n    vec3.array(this._directionUniform, _transformedLightDirection);\r\n    let pos = this._positionUniform;\r\n    pos[0] = _m4_tmp.m12;\r\n    pos[1] = _m4_tmp.m13;\r\n    pos[2] = _m4_tmp.m14;\r\n  }\r\n\r\n  _generateShadowMap(device) {\r\n    this._shadowMap = new gfx.Texture2D(device, {\r\n      width: this._shadowResolution,\r\n      height: this._shadowResolution,\r\n      format: gfx.TEXTURE_FMT_RGBA8,\r\n      wrapS: gfx.WRAP_CLAMP,\r\n      wrapT: gfx.WRAP_CLAMP,\r\n    });\r\n    this._shadowDepthBuffer = new gfx.RenderBuffer(device,\r\n      gfx.RB_FMT_D16,\r\n      this._shadowResolution,\r\n      this._shadowResolution\r\n    );\r\n    this._shadowFrameBuffer = new gfx.FrameBuffer(device, this._shadowResolution, this._shadowResolution, {\r\n      colors: [this._shadowMap],\r\n      depth: this._shadowDepthBuffer,\r\n    });\r\n  }\r\n\r\n  _destroyShadowMap() {\r\n    if (this._shadowMap) {\r\n      this._shadowMap.destroy();\r\n      this._shadowDepthBuffer.destroy();\r\n      this._shadowFrameBuffer.destroy();\r\n      this._shadowMap = null;\r\n      this._shadowDepthBuffer = null;\r\n      this._shadowFrameBuffer = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * update the light source\r\n   * @param {Device} device the rendering device\r\n   */\r\n  update(device) {\r\n    this._updateLightPositionAndDirection();\r\n\r\n    if (this._shadowType === enums.SHADOW_NONE) {\r\n      this._destroyShadowMap();\r\n    } else if (this._shadowMapDirty) {\r\n      this._destroyShadowMap();\r\n      this._generateShadowMap(device);\r\n      this._shadowMapDirty = false;\r\n    }\r\n\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { color4, vec3, mat4 } from '../../vmath';\r\nimport { ray } from '../../geom-utils';\r\nimport enums from '../enums';\r\n\r\nlet _matView = mat4.create();\r\nlet _matProj = mat4.create();\r\nlet _matViewProj = mat4.create();\r\nlet _matInvViewProj = mat4.create();\r\nlet _tmp_v3 = vec3.zero();\r\nlet _tmp2_v3 = vec3.zero();\r\nlet _tmp3_v3 = vec3.zero();\r\n\r\n/**\r\n * A representation of a camera instance\r\n */\r\nexport default class Camera {\r\n  /**\r\n   * Setup a default perspective camera\r\n   */\r\n  constructor() {\r\n    this._poolID = -1;\r\n    this._node = null;\r\n\r\n    //\r\n    this._projection = enums.PROJ_PERSPECTIVE;\r\n\r\n    // priority. the smaller one will be rendered first\r\n    this._priority = 0;\r\n\r\n    // clear options\r\n    this._color = color4.new(0.2, 0.3, 0.47, 1);\r\n    this._depth = 1;\r\n    this._stencil = 0;\r\n    this._clearFlags = enums.CLEAR_COLOR | enums.CLEAR_DEPTH;\r\n    this._clearModel = null;\r\n\r\n    // stages & framebuffer\r\n    this._stages = [];\r\n    this._framebuffer = null;\r\n\r\n    // projection properties\r\n    this._near = 0.01;\r\n    this._far = 1000.0;\r\n    this._fov = Math.PI/4.0; // vertical fov\r\n    this._rect = {\r\n      x: 0, y: 0, w: 1, h: 1\r\n    };\r\n\r\n    // ortho properties\r\n    this._orthoHeight = 10;\r\n  }\r\n\r\n  /**\r\n   * Get the hosting node of this camera\r\n   * @returns {Node} the hosting node\r\n   */\r\n  getNode() {\r\n    return this._node;\r\n  }\r\n\r\n  /**\r\n   * Set the hosting node of this camera\r\n   * @param {Node} node the hosting node\r\n   */\r\n  setNode(node) {\r\n    this._node = node;\r\n  }\r\n\r\n  /**\r\n   * Get the projection type of the camera\r\n   * @returns {number} camera projection type\r\n   */\r\n  getType() {\r\n    return this._projection;\r\n  }\r\n\r\n  /**\r\n   * Set the projection type of the camera\r\n   * @param {number} type camera projection type\r\n   */\r\n  setType(type) {\r\n    this._projection = type;\r\n  }\r\n\r\n  /**\r\n   * Get the priority of the camera\r\n   * @returns {number} camera priority\r\n   */\r\n  getPriority() {\r\n    return this._priority;\r\n  }\r\n\r\n  /**\r\n   * Set the priority of the camera\r\n   * @param {number} priority camera priority\r\n   */\r\n  setPriority(priority) {\r\n    this._priority = priority;\r\n  }\r\n\r\n  /**\r\n   * Get the orthogonal height of the camera\r\n   * @returns {number} camera height\r\n   */\r\n  getOrthoHeight() {\r\n    return this._orthoHeight;\r\n  }\r\n\r\n  /**\r\n   * Set the orthogonal height of the camera\r\n   * @param {number} val camera height\r\n   */\r\n  setOrthoHeight(val) {\r\n    this._orthoHeight = val;\r\n  }\r\n\r\n  /**\r\n   * Get the field of view of the camera\r\n   * @returns {number} camera field of view\r\n   */\r\n  getFov() {\r\n    return this._fov;\r\n  }\r\n\r\n  /**\r\n   * Set the field of view of the camera\r\n   * @param {number} fov camera field of view\r\n   */\r\n  setFov(fov) {\r\n    this._fov = fov;\r\n  }\r\n\r\n  /**\r\n   * Get the near clipping distance of the camera\r\n   * @returns {number} camera near clipping distance\r\n   */\r\n  getNear() {\r\n    return this._near;\r\n  }\r\n\r\n  /**\r\n   * Set the near clipping distance of the camera\r\n   * @param {number} near camera near clipping distance\r\n   */\r\n  setNear(near) {\r\n    this._near = near;\r\n  }\r\n\r\n  /**\r\n   * Get the far clipping distance of the camera\r\n   * @returns {number} camera far clipping distance\r\n   */\r\n  getFar() {\r\n    return this._far;\r\n  }\r\n\r\n  /**\r\n   * Set the far clipping distance of the camera\r\n   * @param {number} far camera far clipping distance\r\n   */\r\n  setFar(far) {\r\n    this._far = far;\r\n  }\r\n\r\n  /**\r\n   * Get the clear color of the camera\r\n   * @returns {color4} out the receiving color vector\r\n   */\r\n  getColor(out) {\r\n    return color4.copy(out, this._color);\r\n  }\r\n\r\n  /**\r\n   * Set the clear color of the camera\r\n   * @param {number} r red channel of camera clear color\r\n   * @param {number} g green channel of camera clear color\r\n   * @param {number} b blue channel of camera clear color\r\n   * @param {number} a alpha channel of camera clear color\r\n   */\r\n  setColor(r, g, b, a) {\r\n    color4.set(this._color, r, g, b, a);\r\n  }\r\n\r\n  /**\r\n   * Get the clear depth of the camera\r\n   * @returns {number} camera clear depth\r\n   */\r\n  getDepth() {\r\n    return this._depth;\r\n  }\r\n\r\n  /**\r\n   * Set the clear depth of the camera\r\n   * @param {number} depth camera clear depth\r\n   */\r\n  setDepth(depth) {\r\n    this._depth = depth;\r\n  }\r\n\r\n  /**\r\n   * Get the clearing stencil value of the camera\r\n   * @returns {number} camera clearing stencil value\r\n   */\r\n  getStencil() {\r\n    return this._stencil;\r\n  }\r\n\r\n  /**\r\n   * Set the clearing stencil value of the camera\r\n   * @param {number} stencil camera clearing stencil value\r\n   */\r\n  setStencil(stencil) {\r\n    this._stencil = stencil;\r\n  }\r\n\r\n  /**\r\n   * Get the clearing flags of the camera\r\n   * @returns {number} camera clearing flags\r\n   */\r\n  getClearFlags() {\r\n    return this._clearFlags;\r\n  }\r\n\r\n  /**\r\n   * Set the clearing flags of the camera\r\n   * @param {number} flags camera clearing flags\r\n   */\r\n  setClearFlags(flags) {\r\n    this._clearFlags = flags;\r\n  }\r\n\r\n  /**\r\n   * Get the rect of the camera\r\n   * @param {Object} out the receiving object\r\n   * @returns {Object} camera rect\r\n   */\r\n  getRect(out) {\r\n    out.x = this._rect.x;\r\n    out.y = this._rect.y;\r\n    out.w = this._rect.w;\r\n    out.h = this._rect.h;\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * Set the rect of the camera\r\n   * @param {Number} x - [0,1]\r\n   * @param {Number} y - [0,1]\r\n   * @param {Number} w - [0,1]\r\n   * @param {Number} h - [0,1]\r\n   */\r\n  setRect(x, y, w, h) {\r\n    this._rect.x = x;\r\n    this._rect.y = y;\r\n    this._rect.w = w;\r\n    this._rect.h = h;\r\n  }\r\n\r\n  /**\r\n   * Get the stages of the camera\r\n   * @returns {string[]} camera stages\r\n   */\r\n  getStages() {\r\n    return this._stages;\r\n  }\r\n\r\n  /**\r\n   * Set the stages of the camera\r\n   * @param {string[]} stages camera stages\r\n   */\r\n  setStages(stages) {\r\n    this._stages = stages;\r\n  }\r\n\r\n  /**\r\n   * Get the framebuffer of the camera\r\n   * @returns {FrameBuffer} camera framebuffer\r\n   */\r\n  getFramebuffer() {\r\n    return this._framebuffer;\r\n  }\r\n\r\n  /**\r\n   * Set the framebuffer of the camera\r\n   * @param {FrameBuffer} framebuffer camera framebuffer\r\n   */\r\n  setFramebuffer(framebuffer) {\r\n    this._framebuffer = framebuffer;\r\n  }\r\n\r\n  /**\r\n   * extract a view of this camera\r\n   * @param {View} out the receiving view\r\n   * @param {number} width framebuffer width\r\n   * @param {number} height framebuffer height\r\n   */\r\n  extractView(out, width, height) {\r\n    // priority\r\n    out._priority = this._priority;\r\n\r\n    // rect\r\n    out._rect.x = this._rect.x * width;\r\n    out._rect.y = this._rect.y * height;\r\n    out._rect.w = this._rect.w * width;\r\n    out._rect.h = this._rect.h * height;\r\n\r\n    // clear opts\r\n    out._color = this._color;\r\n    out._depth = this._depth;\r\n    out._stencil = this._stencil;\r\n    out._clearFlags = this._clearFlags;\r\n    out._clearModel = this._clearModel;\r\n\r\n    // stages & framebuffer\r\n    out._stages = this._stages;\r\n    out._framebuffer = this._framebuffer;\r\n\r\n    // view matrix\r\n    this._node.getWorldRT(out._matView);\r\n    mat4.invert(out._matView, out._matView);\r\n\r\n    // projection matrix\r\n    // TODO: if this._projDirty\r\n    let aspect = width / height;\r\n    if (this._projection === enums.PROJ_PERSPECTIVE) {\r\n      mat4.perspective(out._matProj,\r\n        this._fov,\r\n        aspect,\r\n        this._near,\r\n        this._far\r\n      );\r\n    } else {\r\n      let x = this._orthoHeight * aspect;\r\n      let y = this._orthoHeight;\r\n      mat4.ortho(out._matProj,\r\n        -x, x, -y, y, this._near, this._far\r\n      );\r\n    }\r\n\r\n    // view-projection\r\n    mat4.mul(out._matViewProj, out._matProj, out._matView);\r\n    mat4.invert(out._matInvViewProj, out._matViewProj);\r\n\r\n    // update view's frustum\r\n    out.updateFrustum();\r\n  }\r\n\r\n  /**\r\n   * transform a screen position to world space\r\n   * @param {vec3} out the resulting vector\r\n   * @param {vec3} screenPos the screen position to be transformed\r\n   * @param {number} width framebuffer width\r\n   * @param {number} height framebuffer height\r\n   * @returns {vec3} the resulting vector\r\n   */\r\n  screenToWorld(out, screenPos, width, height) {\r\n    let aspect = width / height;\r\n    let cx = this._rect.x * width;\r\n    let cy = this._rect.y * height;\r\n    let cw = this._rect.w * width;\r\n    let ch = this._rect.h * height;\r\n\r\n    // view matrix\r\n    this._node.getWorldRT(_matView);\r\n    mat4.invert(_matView, _matView);\r\n\r\n    // projection matrix\r\n    if (this._projection === enums.PROJ_PERSPECTIVE) {\r\n      mat4.perspective(_matProj,\r\n        this._fov,\r\n        aspect,\r\n        this._near,\r\n        this._far\r\n      );\r\n    } else {\r\n      let x = this._orthoHeight * aspect;\r\n      let y = this._orthoHeight;\r\n      mat4.ortho(_matProj,\r\n        -x, x, -y, y, this._near, this._far\r\n      );\r\n    }\r\n\r\n    // view-projection\r\n    mat4.mul(_matViewProj, _matProj, _matView);\r\n\r\n    // inv view-projection\r\n    mat4.invert(_matInvViewProj, _matViewProj);\r\n\r\n    //\r\n    if (this._projection === enums.PROJ_PERSPECTIVE) {\r\n      // calculate screen pos in far clip plane\r\n      vec3.set(out,\r\n        (screenPos.x - cx) * 2.0 / cw - 1.0,\r\n        (screenPos.y - cy) * 2.0 / ch - 1.0, // DISABLE: (ch - (screenPos.y - cy)) * 2.0 / ch - 1.0,\r\n        1.0\r\n      );\r\n\r\n      // transform to world\r\n      vec3.transformMat4(out, out, _matInvViewProj);\r\n\r\n      //\r\n      this._node.getWorldPos(_tmp_v3);\r\n      vec3.lerp(out, _tmp_v3, out, screenPos.z / this._far);\r\n    } else {\r\n      let range = this._farClip - this._nearClip;\r\n      vec3.set(out,\r\n        (screenPos.x - cx) * 2.0 / cw - 1.0,\r\n        (screenPos.y - cy) * 2.0 / ch - 1.0, // DISABLE: (ch - (screenPos.y - cy)) * 2.0 / ch - 1.0,\r\n        (this._far - screenPos.z) / range * 2.0 - 1.0\r\n      );\r\n\r\n      // transform to world\r\n      vec3.transformMat4(out, out, _matInvViewProj);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * transform a screen position to a world space ray\r\n   * @param {vec3} screenPos the screen position to be transformed\r\n   * @param {number} width framebuffer width\r\n   * @param {number} height framebuffer height\r\n   * @returns {Ray} the resulting ray\r\n   */\r\n  screenPointToRay(screenPos, width, height) {\r\n    this._node.getWorldPos(_tmp3_v3);\r\n    this.screenToWorld(_tmp2_v3, screenPos, width, height);\r\n    vec3.sub(_tmp2_v3, _tmp2_v3, _tmp3_v3);\r\n    return ray.new(_tmp3_v3.x, _tmp3_v3.y, _tmp3_v3.z, _tmp2_v3.x, _tmp2_v3.y, _tmp2_v3.z);\r\n  }\r\n\r\n  /**\r\n   * transform a world space position to screen space\r\n   * @param {vec3} out the resulting vector\r\n   * @param {vec3} worldPos the world space position to be transformed\r\n   * @param {number} width framebuffer width\r\n   * @param {number} height framebuffer height\r\n   * @returns {vec3} the resulting vector\r\n   */\r\n  worldToScreen(out, worldPos, width, height) {\r\n    let aspect = width / height;\r\n    let cx = this._rect.x * width;\r\n    let cy = this._rect.y * height;\r\n    let cw = this._rect.w * width;\r\n    let ch = this._rect.h * height;\r\n\r\n    // view matrix\r\n    this._node.getWorldRT(_matView);\r\n    mat4.invert(_matView, _matView);\r\n\r\n    // projection matrix\r\n    if (this._projection === enums.PROJ_PERSPECTIVE) {\r\n      mat4.perspective(_matProj,\r\n        this._fov,\r\n        aspect,\r\n        this._near,\r\n        this._far\r\n      );\r\n    } else {\r\n      let x = this._orthoHeight * aspect;\r\n      let y = this._orthoHeight;\r\n      mat4.ortho(_matProj,\r\n        -x, x, -y, y, this._near, this._far\r\n      );\r\n    }\r\n\r\n    // view-projection\r\n    mat4.mul(_matViewProj, _matProj, _matView);\r\n\r\n    // calculate w\r\n    let w =\r\n      worldPos.x * _matViewProj.m03 +\r\n      worldPos.y * _matViewProj.m07 +\r\n      worldPos.z * _matViewProj.m11 +\r\n      _matViewProj.m15\r\n      ;\r\n\r\n    vec3.transformMat4(out, worldPos, _matViewProj);\r\n    out.x = cx + (out.x / w + 1) * 0.5 * cw;\r\n    out.y = cy + (out.y / w + 1) * 0.5 * ch;\r\n\r\n    return out;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\nimport { box } from '../../geom-utils';\r\n\r\n/**\r\n * A representation of a model\r\n */\r\nexport default class Model {\r\n  /**\r\n   * Setup a default empty model\r\n   */\r\n  constructor() {\r\n    this._type = 'default';\r\n    this._poolID = -1;\r\n    this._node = null;\r\n    this._inputAssembler = null;\r\n    this._effect = null;\r\n    this._defines = {};\r\n    this._dependencies = {};\r\n    this._viewID = -1;\r\n    this._cameraID = -1;\r\n    this._userKey = -1;\r\n    this._castShadow = false;\r\n\r\n    // TODO: we calculate aabb based on vertices\r\n    // this._aabb\r\n    this._boundingBox = null;\r\n  }\r\n\r\n  /**\r\n   * Set the hosting node of this model\r\n   * @param {Node} node the hosting node\r\n   */\r\n  setNode(node) {\r\n    this._node = node;\r\n  }\r\n\r\n  /**\r\n   * Set the input assembler\r\n   * @param {InputAssembler} ia\r\n   */\r\n  setInputAssembler(ia) {\r\n    this._inputAssembler = ia;\r\n  }\r\n\r\n  /**\r\n   * Set the model effect\r\n   * @param {?Effect} effect the effect to use\r\n   */\r\n  setEffect(effect) {\r\n    if (effect) {\r\n      this._effect = effect;\r\n      this._defines = effect.extractDefines(Object.create(null));\r\n      this._dependencies = effect.extractDependencies(Object.create(null));\r\n    } else {\r\n      this._effect = null;\r\n      this._defines = Object.create(null);\r\n      this._dependencies = Object.create(null);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the user key\r\n   * @param {number} key\r\n   */\r\n  setUserKey(key) {\r\n    this._userKey = key;\r\n  }\r\n\r\n  /**\r\n   * Extract a drawing item\r\n   * @param {Object} out the receiving item\r\n   */\r\n  extractDrawItem(out) {\r\n    out.model = this;\r\n    out.node = this._node;\r\n    out.ia = this._inputAssembler;\r\n    out.effect = this._effect;\r\n    out.defines = this._effect.extractDefines(this._defines);\r\n    out.dependencies = this._effect.extractDependencies(this._dependencies);\r\n  }\r\n\r\n  /**\r\n   * Create the bounding box of this model\r\n   * @param {number} minPos the min position of the model\r\n   * @param {number} maxPos the max position of the model\r\n   */\r\n  createBoundingBox(minPos, maxPos) {\r\n    if (minPos === null || minPos === undefined || maxPos === null || maxPos === undefined) {\r\n      // console.warn('can not create boundingBox for mesh without min,max position');\r\n      return;\r\n    }\r\n\r\n    this._bbModelSpace = box.fromPoints(minPos, maxPos);\r\n    this._boundingBox = box.clone(this._bbModelSpace);\r\n  }\r\n}","export default class CircularPool {\r\n  constructor(fn, size) {\r\n    this._cursor = 0;\r\n    this._data = new Array(size);\r\n\r\n    for (let i = 0; i < size; ++i) {\r\n      this._data[i] = fn();\r\n    }\r\n  }\r\n\r\n  request() {\r\n    let item = this._data[this._cursor];\r\n    this._cursor = (this._cursor + 1) % this._data.length;\r\n\r\n    return item;\r\n  }\r\n}","// reference: https://github.com/mziccard/node-timsort\r\n\r\n/**\r\n * Default minimum size of a run.\r\n */\r\nconst DEFAULT_MIN_MERGE = 32;\r\n\r\n/**\r\n * Minimum ordered subsequece required to do galloping.\r\n */\r\nconst DEFAULT_MIN_GALLOPING = 7;\r\n\r\n/**\r\n * Default tmp storage length. Can increase depending on the size of the\r\n * smallest run to merge.\r\n */\r\nconst DEFAULT_TMP_STORAGE_LENGTH = 256;\r\n\r\n/**\r\n * Pre-computed powers of 10 for efficient lexicographic comparison of\r\n * small integers.\r\n */\r\nconst POWERS_OF_TEN = [1e0, 1e1, 1e2, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9]\r\n\r\n/**\r\n * Estimate the logarithm base 10 of a small integer.\r\n *\r\n * @param {number} x - The integer to estimate the logarithm of.\r\n * @return {number} - The estimated logarithm of the integer.\r\n */\r\nfunction log10(x) {\r\n  if (x < 1e5) {\r\n    if (x < 1e2) {\r\n      return x < 1e1 ? 0 : 1;\r\n    }\r\n\r\n    if (x < 1e4) {\r\n      return x < 1e3 ? 2 : 3;\r\n    }\r\n\r\n    return 4;\r\n  }\r\n\r\n  if (x < 1e7) {\r\n    return x < 1e6 ? 5 : 6;\r\n  }\r\n\r\n  if (x < 1e9) {\r\n    return x < 1e8 ? 7 : 8;\r\n  }\r\n\r\n  return 9;\r\n}\r\n\r\n/**\r\n * Default alphabetical comparison of items.\r\n *\r\n * @param {string|object|number} a - First element to compare.\r\n * @param {string|object|number} b - Second element to compare.\r\n * @return {number} - A positive number if a.toString() > b.toString(), a\r\n * negative number if .toString() < b.toString(), 0 otherwise.\r\n */\r\nfunction alphabeticalCompare(a, b) {\r\n  if (a === b) {\r\n    return 0;\r\n  }\r\n\r\n  if (~~a === a && ~~b === b) {\r\n    if (a === 0 || b === 0) {\r\n      return a < b ? -1 : 1;\r\n    }\r\n\r\n    if (a < 0 || b < 0) {\r\n      if (b >= 0) {\r\n        return -1;\r\n      }\r\n\r\n      if (a >= 0) {\r\n        return 1;\r\n      }\r\n\r\n      a = -a;\r\n      b = -b;\r\n    }\r\n\r\n    const al = log10(a);\r\n    const bl = log10(b);\r\n\r\n    let t = 0;\r\n\r\n    if (al < bl) {\r\n      a *= POWERS_OF_TEN[bl - al - 1];\r\n      b /= 10;\r\n      t = -1;\r\n    } else if (al > bl) {\r\n      b *= POWERS_OF_TEN[al - bl - 1];\r\n      a /= 10;\r\n      t = 1;\r\n    }\r\n\r\n    if (a === b) {\r\n      return t;\r\n    }\r\n\r\n    return a < b ? -1 : 1;\r\n  }\r\n\r\n  let aStr = String(a);\r\n  let bStr = String(b);\r\n\r\n  if (aStr === bStr) {\r\n    return 0;\r\n  }\r\n\r\n  return aStr < bStr ? -1 : 1;\r\n}\r\n\r\n/**\r\n * Compute minimum run length for TimSort\r\n *\r\n * @param {number} n - The size of the array to sort.\r\n */\r\nfunction minRunLength(n) {\r\n  let r = 0;\r\n\r\n  while (n >= DEFAULT_MIN_MERGE) {\r\n    r |= (n & 1);\r\n    n >>= 1;\r\n  }\r\n\r\n  return n + r;\r\n}\r\n\r\n/**\r\n * Counts the length of a monotonically ascending or strictly monotonically\r\n * descending sequence (run) starting at array[lo] in the range [lo, hi). If\r\n * the run is descending it is made ascending.\r\n *\r\n * @param {array} array - The array to reverse.\r\n * @param {number} lo - First element in the range (inclusive).\r\n * @param {number} hi - Last element in the range.\r\n * @param {function} compare - Item comparison function.\r\n * @return {number} - The length of the run.\r\n */\r\nfunction makeAscendingRun(array, lo, hi, compare) {\r\n  let runHi = lo + 1;\r\n\r\n  if (runHi === hi) {\r\n    return 1;\r\n  }\r\n\r\n  // Descending\r\n  if (compare(array[runHi++], array[lo]) < 0) {\r\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\r\n      runHi++;\r\n    }\r\n\r\n    reverseRun(array, lo, runHi);\r\n    // Ascending\r\n  } else {\r\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\r\n      runHi++;\r\n    }\r\n  }\r\n\r\n  return runHi - lo;\r\n}\r\n\r\n/**\r\n * Reverse an array in the range [lo, hi).\r\n *\r\n * @param {array} array - The array to reverse.\r\n * @param {number} lo - First element in the range (inclusive).\r\n * @param {number} hi - Last element in the range.\r\n */\r\nfunction reverseRun(array, lo, hi) {\r\n  hi--;\r\n\r\n  while (lo < hi) {\r\n    let t = array[lo];\r\n    array[lo++] = array[hi];\r\n    array[hi--] = t;\r\n  }\r\n}\r\n\r\n/**\r\n * Perform the binary sort of the array in the range [lo, hi) where start is\r\n * the first element possibly out of order.\r\n *\r\n * @param {array} array - The array to sort.\r\n * @param {number} lo - First element in the range (inclusive).\r\n * @param {number} hi - Last element in the range.\r\n * @param {number} start - First element possibly out of order.\r\n * @param {function} compare - Item comparison function.\r\n */\r\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\r\n  if (start === lo) {\r\n    start++;\r\n  }\r\n\r\n  for (; start < hi; start++) {\r\n    let pivot = array[start];\r\n\r\n    // Ranges of the array where pivot belongs\r\n    let left = lo;\r\n    let right = start;\r\n\r\n    /*\r\n     *   pivot >= array[i] for i in [lo, left)\r\n     *   pivot <  array[i] for i in  in [right, start)\r\n     */\r\n    while (left < right) {\r\n      let mid = (left + right) >>> 1;\r\n\r\n      if (compare(pivot, array[mid]) < 0) {\r\n        right = mid;\r\n      } else {\r\n        left = mid + 1;\r\n      }\r\n    }\r\n\r\n    /*\r\n     * Move elements right to make room for the pivot. If there are elements\r\n     * equal to pivot, left points to the first slot after them: this is also\r\n     * a reason for which TimSort is stable\r\n     */\r\n    let n = start - left;\r\n    // Switch is just an optimization for small arrays\r\n    switch (n) {\r\n      case 3:\r\n        array[left + 3] = array[left + 2];\r\n      /* falls through */\r\n      case 2:\r\n        array[left + 2] = array[left + 1];\r\n      /* falls through */\r\n      case 1:\r\n        array[left + 1] = array[left];\r\n        break;\r\n      default:\r\n        while (n > 0) {\r\n          array[left + n] = array[left + n - 1];\r\n          n--;\r\n        }\r\n    }\r\n\r\n    array[left] = pivot;\r\n  }\r\n}\r\n\r\n/**\r\n * Find the position at which to insert a value in a sorted range. If the range\r\n * contains elements equal to the value the leftmost element index is returned\r\n * (for stability).\r\n *\r\n * @param {number} value - Value to insert.\r\n * @param {array} array - The array in which to insert value.\r\n * @param {number} start - First element in the range.\r\n * @param {number} length - Length of the range.\r\n * @param {number} hint - The index at which to begin the search.\r\n * @param {function} compare - Item comparison function.\r\n * @return {number} - The index where to insert value.\r\n */\r\nfunction gallopLeft(value, array, start, length, hint, compare) {\r\n  let lastOffset = 0;\r\n  let maxOffset = 0;\r\n  let offset = 1;\r\n\r\n  if (compare(value, array[start + hint]) > 0) {\r\n    maxOffset = length - hint;\r\n\r\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\r\n      lastOffset = offset;\r\n      offset = (offset << 1) + 1;\r\n\r\n      if (offset <= 0) {\r\n        offset = maxOffset;\r\n      }\r\n    }\r\n\r\n    if (offset > maxOffset) {\r\n      offset = maxOffset;\r\n    }\r\n\r\n    // Make offsets relative to start\r\n    lastOffset += hint;\r\n    offset += hint;\r\n\r\n    // value <= array[start + hint]\r\n  } else {\r\n    maxOffset = hint + 1;\r\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\r\n      lastOffset = offset;\r\n      offset = (offset << 1) + 1;\r\n\r\n      if (offset <= 0) {\r\n        offset = maxOffset;\r\n      }\r\n    }\r\n    if (offset > maxOffset) {\r\n      offset = maxOffset;\r\n    }\r\n\r\n    // Make offsets relative to start\r\n    let tmp = lastOffset;\r\n    lastOffset = hint - offset;\r\n    offset = hint - tmp;\r\n  }\r\n\r\n  /*\r\n   * Now array[start+lastOffset] < value <= array[start+offset], so value\r\n   * belongs somewhere in the range (start + lastOffset, start + offset]. Do a\r\n   * binary search, with invariant array[start + lastOffset - 1] < value <=\r\n   * array[start + offset].\r\n   */\r\n  lastOffset++;\r\n  while (lastOffset < offset) {\r\n    let m = lastOffset + ((offset - lastOffset) >>> 1);\r\n\r\n    if (compare(value, array[start + m]) > 0) {\r\n      lastOffset = m + 1;\r\n\r\n    } else {\r\n      offset = m;\r\n    }\r\n  }\r\n  return offset;\r\n}\r\n\r\n/**\r\n * Find the position at which to insert a value in a sorted range. If the range\r\n * contains elements equal to the value the rightmost element index is returned\r\n * (for stability).\r\n *\r\n * @param {number} value - Value to insert.\r\n * @param {array} array - The array in which to insert value.\r\n * @param {number} start - First element in the range.\r\n * @param {number} length - Length of the range.\r\n * @param {number} hint - The index at which to begin the search.\r\n * @param {function} compare - Item comparison function.\r\n * @return {number} - The index where to insert value.\r\n */\r\nfunction gallopRight(value, array, start, length, hint, compare) {\r\n  let lastOffset = 0;\r\n  let maxOffset = 0;\r\n  let offset = 1;\r\n\r\n  if (compare(value, array[start + hint]) < 0) {\r\n    maxOffset = hint + 1;\r\n\r\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\r\n      lastOffset = offset;\r\n      offset = (offset << 1) + 1;\r\n\r\n      if (offset <= 0) {\r\n        offset = maxOffset;\r\n      }\r\n    }\r\n\r\n    if (offset > maxOffset) {\r\n      offset = maxOffset;\r\n    }\r\n\r\n    // Make offsets relative to start\r\n    let tmp = lastOffset;\r\n    lastOffset = hint - offset;\r\n    offset = hint - tmp;\r\n\r\n    // value >= array[start + hint]\r\n  } else {\r\n    maxOffset = length - hint;\r\n\r\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\r\n      lastOffset = offset;\r\n      offset = (offset << 1) + 1;\r\n\r\n      if (offset <= 0) {\r\n        offset = maxOffset;\r\n      }\r\n    }\r\n\r\n    if (offset > maxOffset) {\r\n      offset = maxOffset;\r\n    }\r\n\r\n    // Make offsets relative to start\r\n    lastOffset += hint;\r\n    offset += hint;\r\n  }\r\n\r\n  /*\r\n   * Now array[start+lastOffset] < value <= array[start+offset], so value\r\n   * belongs somewhere in the range (start + lastOffset, start + offset]. Do a\r\n   * binary search, with invariant array[start + lastOffset - 1] < value <=\r\n   * array[start + offset].\r\n   */\r\n  lastOffset++;\r\n\r\n  while (lastOffset < offset) {\r\n    let m = lastOffset + ((offset - lastOffset) >>> 1);\r\n\r\n    if (compare(value, array[start + m]) < 0) {\r\n      offset = m;\r\n\r\n    } else {\r\n      lastOffset = m + 1;\r\n    }\r\n  }\r\n\r\n  return offset;\r\n}\r\n\r\nclass TimSort {\r\n\r\n  constructor(array, compare) {\r\n    this.array = array;\r\n    this.compare = compare;\r\n    this.minGallop = DEFAULT_MIN_GALLOPING;\r\n    this.length = array.length;\r\n\r\n    this.tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\r\n    if (this.length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\r\n      this.tmpStorageLength = this.length >>> 1;\r\n    }\r\n\r\n    this.tmp = new Array(this.tmpStorageLength);\r\n\r\n    this.stackLength =\r\n      (this.length < 120 ? 5 :\r\n        this.length < 1542 ? 10 :\r\n          this.length < 119151 ? 19 : 40);\r\n\r\n    this.runStart = new Array(this.stackLength);\r\n    this.runLength = new Array(this.stackLength);\r\n    this.stackSize = 0;\r\n  }\r\n\r\n  /**\r\n   * Push a new run on TimSort's stack.\r\n   *\r\n   * @param {number} runStart - Start index of the run in the original array.\r\n   * @param {number} runLength - Length of the run;\r\n   */\r\n  pushRun(runStart, runLength) {\r\n    this.runStart[this.stackSize] = runStart;\r\n    this.runLength[this.stackSize] = runLength;\r\n    this.stackSize += 1;\r\n  }\r\n\r\n  /**\r\n   * Merge runs on TimSort's stack so that the following holds for all i:\r\n   * 1) runLength[i - 3] > runLength[i - 2] + runLength[i - 1]\r\n   * 2) runLength[i - 2] > runLength[i - 1]\r\n   */\r\n  mergeRuns() {\r\n    while (this.stackSize > 1) {\r\n      let n = this.stackSize - 2;\r\n\r\n      if ((n >= 1 &&\r\n        this.runLength[n - 1] <= this.runLength[n] + this.runLength[n + 1]) ||\r\n        (n >= 2 &&\r\n        this.runLength[n - 2] <= this.runLength[n] + this.runLength[n - 1])) {\r\n\r\n        if (this.runLength[n - 1] < this.runLength[n + 1]) {\r\n          n--;\r\n        }\r\n\r\n      } else if (this.runLength[n] > this.runLength[n + 1]) {\r\n        break;\r\n      }\r\n      this.mergeAt(n);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Merge all runs on TimSort's stack until only one remains.\r\n   */\r\n  forceMergeRuns() {\r\n    while (this.stackSize > 1) {\r\n      let n = this.stackSize - 2;\r\n\r\n      if (n > 0 && this.runLength[n - 1] < this.runLength[n + 1]) {\r\n        n--;\r\n      }\r\n\r\n      this.mergeAt(n);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Merge the runs on the stack at positions i and i+1. Must be always be called\r\n   * with i=stackSize-2 or i=stackSize-3 (that is, we merge on top of the stack).\r\n   *\r\n   * @param {number} i - Index of the run to merge in TimSort's stack.\r\n   */\r\n  mergeAt(i) {\r\n    let compare = this.compare;\r\n    let array = this.array;\r\n\r\n    let start1 = this.runStart[i];\r\n    let length1 = this.runLength[i];\r\n    let start2 = this.runStart[i + 1];\r\n    let length2 = this.runLength[i + 1];\r\n\r\n    this.runLength[i] = length1 + length2;\r\n\r\n    if (i === this.stackSize - 3) {\r\n      this.runStart[i + 1] = this.runStart[i + 2];\r\n      this.runLength[i + 1] = this.runLength[i + 2];\r\n    }\r\n\r\n    this.stackSize--;\r\n\r\n    /*\r\n     * Find where the first element in the second run goes in run1. Previous\r\n     * elements in run1 are already in place\r\n     */\r\n    let k = gallopRight(array[start2], array, start1, length1, 0, compare);\r\n    start1 += k;\r\n    length1 -= k;\r\n\r\n    if (length1 === 0) {\r\n      return;\r\n    }\r\n\r\n    /*\r\n     * Find where the last element in the first run goes in run2. Next elements\r\n     * in run2 are already in place\r\n     */\r\n    length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\r\n\r\n    if (length2 === 0) {\r\n      return;\r\n    }\r\n\r\n    /*\r\n     * Merge remaining runs. A tmp array with length = min(length1, length2) is\r\n     * used\r\n     */\r\n    if (length1 <= length2) {\r\n      this.mergeLow(start1, length1, start2, length2);\r\n\r\n    } else {\r\n      this.mergeHigh(start1, length1, start2, length2);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Merge two adjacent runs in a stable way. The runs must be such that the\r\n   * first element of run1 is bigger than the first element in run2 and the\r\n   * last element of run1 is greater than all the elements in run2.\r\n   * The method should be called when run1.length <= run2.length as it uses\r\n   * TimSort temporary array to store run1. Use mergeHigh if run1.length >\r\n   * run2.length.\r\n   *\r\n   * @param {number} start1 - First element in run1.\r\n   * @param {number} length1 - Length of run1.\r\n   * @param {number} start2 - First element in run2.\r\n   * @param {number} length2 - Length of run2.\r\n   */\r\n  mergeLow(start1, length1, start2, length2) {\r\n\r\n    let compare = this.compare;\r\n    let array = this.array;\r\n    let tmp = this.tmp;\r\n    let i = 0;\r\n\r\n    for (i = 0; i < length1; i++) {\r\n      tmp[i] = array[start1 + i];\r\n    }\r\n\r\n    let cursor1 = 0;\r\n    let cursor2 = start2;\r\n    let dest = start1;\r\n\r\n    array[dest++] = array[cursor2++];\r\n\r\n    if (--length2 === 0) {\r\n      for (i = 0; i < length1; i++) {\r\n        array[dest + i] = tmp[cursor1 + i];\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (length1 === 1) {\r\n      for (i = 0; i < length2; i++) {\r\n        array[dest + i] = array[cursor2 + i];\r\n      }\r\n      array[dest + length2] = tmp[cursor1];\r\n      return;\r\n    }\r\n\r\n    let minGallop = this.minGallop;\r\n\r\n    while (true) {\r\n      let count1 = 0;\r\n      let count2 = 0;\r\n      let exit = false;\r\n\r\n      do {\r\n        if (compare(array[cursor2], tmp[cursor1]) < 0) {\r\n          array[dest++] = array[cursor2++];\r\n          count2++;\r\n          count1 = 0;\r\n\r\n          if (--length2 === 0) {\r\n            exit = true;\r\n            break;\r\n          }\r\n\r\n        } else {\r\n          array[dest++] = tmp[cursor1++];\r\n          count1++;\r\n          count2 = 0;\r\n          if (--length1 === 1) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n      } while ((count1 | count2) < minGallop);\r\n\r\n      if (exit) {\r\n        break;\r\n      }\r\n\r\n      do {\r\n        count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\r\n\r\n        if (count1 !== 0) {\r\n          for (i = 0; i < count1; i++) {\r\n            array[dest + i] = tmp[cursor1 + i];\r\n          }\r\n\r\n          dest += count1;\r\n          cursor1 += count1;\r\n          length1 -= count1;\r\n          if (length1 <= 1) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        array[dest++] = array[cursor2++];\r\n\r\n        if (--length2 === 0) {\r\n          exit = true;\r\n          break;\r\n        }\r\n\r\n        count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\r\n\r\n        if (count2 !== 0) {\r\n          for (i = 0; i < count2; i++) {\r\n            array[dest + i] = array[cursor2 + i];\r\n          }\r\n\r\n          dest += count2;\r\n          cursor2 += count2;\r\n          length2 -= count2;\r\n\r\n          if (length2 === 0) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n        array[dest++] = tmp[cursor1++];\r\n\r\n        if (--length1 === 1) {\r\n          exit = true;\r\n          break;\r\n        }\r\n\r\n        minGallop--;\r\n\r\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\r\n\r\n      if (exit) {\r\n        break;\r\n      }\r\n\r\n      if (minGallop < 0) {\r\n        minGallop = 0;\r\n      }\r\n\r\n      minGallop += 2;\r\n    }\r\n\r\n    this.minGallop = minGallop;\r\n\r\n    if (minGallop < 1) {\r\n      this.minGallop = 1;\r\n    }\r\n\r\n    if (length1 === 1) {\r\n      for (i = 0; i < length2; i++) {\r\n        array[dest + i] = array[cursor2 + i];\r\n      }\r\n      array[dest + length2] = tmp[cursor1];\r\n\r\n    } else if (length1 === 0) {\r\n      throw new Error('mergeLow preconditions were not respected');\r\n\r\n    } else {\r\n      for (i = 0; i < length1; i++) {\r\n        array[dest + i] = tmp[cursor1 + i];\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Merge two adjacent runs in a stable way. The runs must be such that the\r\n   * first element of run1 is bigger than the first element in run2 and the\r\n   * last element of run1 is greater than all the elements in run2.\r\n   * The method should be called when run1.length > run2.length as it uses\r\n   * TimSort temporary array to store run2. Use mergeLow if run1.length <=\r\n   * run2.length.\r\n   *\r\n   * @param {number} start1 - First element in run1.\r\n   * @param {number} length1 - Length of run1.\r\n   * @param {number} start2 - First element in run2.\r\n   * @param {number} length2 - Length of run2.\r\n   */\r\n  mergeHigh(start1, length1, start2, length2) {\r\n    let compare = this.compare;\r\n    let array = this.array;\r\n    let tmp = this.tmp;\r\n    let i = 0;\r\n\r\n    for (i = 0; i < length2; i++) {\r\n      tmp[i] = array[start2 + i];\r\n    }\r\n\r\n    let cursor1 = start1 + length1 - 1;\r\n    let cursor2 = length2 - 1;\r\n    let dest = start2 + length2 - 1;\r\n    let customCursor = 0;\r\n    let customDest = 0;\r\n\r\n    array[dest--] = array[cursor1--];\r\n\r\n    if (--length1 === 0) {\r\n      customCursor = dest - (length2 - 1);\r\n\r\n      for (i = 0; i < length2; i++) {\r\n        array[customCursor + i] = tmp[i];\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (length2 === 1) {\r\n      dest -= length1;\r\n      cursor1 -= length1;\r\n      customDest = dest + 1;\r\n      customCursor = cursor1 + 1;\r\n\r\n      for (i = length1 - 1; i >= 0; i--) {\r\n        array[customDest + i] = array[customCursor + i];\r\n      }\r\n\r\n      array[dest] = tmp[cursor2];\r\n      return;\r\n    }\r\n\r\n    let minGallop = this.minGallop;\r\n\r\n    while (true) {\r\n      let count1 = 0;\r\n      let count2 = 0;\r\n      let exit = false;\r\n\r\n      do {\r\n        if (compare(tmp[cursor2], array[cursor1]) < 0) {\r\n          array[dest--] = array[cursor1--];\r\n          count1++;\r\n          count2 = 0;\r\n          if (--length1 === 0) {\r\n            exit = true;\r\n            break;\r\n          }\r\n\r\n        } else {\r\n          array[dest--] = tmp[cursor2--];\r\n          count2++;\r\n          count1 = 0;\r\n          if (--length2 === 1) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n      } while ((count1 | count2) < minGallop);\r\n\r\n      if (exit) {\r\n        break;\r\n      }\r\n\r\n      do {\r\n        count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\r\n\r\n        if (count1 !== 0) {\r\n          dest -= count1;\r\n          cursor1 -= count1;\r\n          length1 -= count1;\r\n          customDest = dest + 1;\r\n          customCursor = cursor1 + 1;\r\n\r\n          for (i = count1 - 1; i >= 0; i--) {\r\n            array[customDest + i] = array[customCursor + i];\r\n          }\r\n\r\n          if (length1 === 0) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        array[dest--] = tmp[cursor2--];\r\n\r\n        if (--length2 === 1) {\r\n          exit = true;\r\n          break;\r\n        }\r\n\r\n        count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\r\n\r\n        if (count2 !== 0) {\r\n          dest -= count2;\r\n          cursor2 -= count2;\r\n          length2 -= count2;\r\n          customDest = dest + 1;\r\n          customCursor = cursor2 + 1;\r\n\r\n          for (i = 0; i < count2; i++) {\r\n            array[customDest + i] = tmp[customCursor + i];\r\n          }\r\n\r\n          if (length2 <= 1) {\r\n            exit = true;\r\n            break;\r\n          }\r\n        }\r\n\r\n        array[dest--] = array[cursor1--];\r\n\r\n        if (--length1 === 0) {\r\n          exit = true;\r\n          break;\r\n        }\r\n\r\n        minGallop--;\r\n\r\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\r\n\r\n      if (exit) {\r\n        break;\r\n      }\r\n\r\n      if (minGallop < 0) {\r\n        minGallop = 0;\r\n      }\r\n\r\n      minGallop += 2;\r\n    }\r\n\r\n    this.minGallop = minGallop;\r\n\r\n    if (minGallop < 1) {\r\n      this.minGallop = 1;\r\n    }\r\n\r\n    if (length2 === 1) {\r\n      dest -= length1;\r\n      cursor1 -= length1;\r\n      customDest = dest + 1;\r\n      customCursor = cursor1 + 1;\r\n\r\n      for (i = length1 - 1; i >= 0; i--) {\r\n        array[customDest + i] = array[customCursor + i];\r\n      }\r\n\r\n      array[dest] = tmp[cursor2];\r\n\r\n    } else if (length2 === 0) {\r\n      throw new Error('mergeHigh preconditions were not respected');\r\n\r\n    } else {\r\n      customCursor = dest - (length2 - 1);\r\n      for (i = 0; i < length2; i++) {\r\n        array[customCursor + i] = tmp[i];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Sort an array in the range [lo, hi) using TimSort.\r\n *\r\n * @param {array} array - The array to sort.\r\n * @param {number} lo - First element in the range (inclusive).\r\n * @param {number} hi - Last element in the range.\r\n * @param {function=} compare - Item comparison function. Default is alphabetical.\r\n */\r\nexport default function (array, lo, hi, compare) {\r\n  if (!Array.isArray(array)) {\r\n    throw new TypeError('Can only sort arrays');\r\n  }\r\n\r\n  /*\r\n   * Handle the case where a comparison function is not provided. We do\r\n   * lexicographic sorting\r\n   */\r\n\r\n  if (lo === undefined) {\r\n    lo = 0;\r\n  }\r\n\r\n  if (hi === undefined) {\r\n    hi = array.length;\r\n  }\r\n\r\n  if (compare === undefined) {\r\n    compare = alphabeticalCompare;\r\n  }\r\n\r\n  let remaining = hi - lo;\r\n\r\n  // The array is already sorted\r\n  if (remaining < 2) {\r\n    return;\r\n  }\r\n\r\n  let runLength = 0;\r\n  // On small arrays binary sort can be used directly\r\n  if (remaining < DEFAULT_MIN_MERGE) {\r\n    runLength = makeAscendingRun(array, lo, hi, compare);\r\n    binaryInsertionSort(array, lo, hi, lo + runLength, compare);\r\n    return;\r\n  }\r\n\r\n  let ts = new TimSort(array, compare);\r\n\r\n  let minRun = minRunLength(remaining);\r\n\r\n  do {\r\n    runLength = makeAscendingRun(array, lo, hi, compare);\r\n    if (runLength < minRun) {\r\n      let force = remaining;\r\n      if (force > minRun) {\r\n        force = minRun;\r\n      }\r\n\r\n      binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\r\n      runLength = force;\r\n    }\r\n    // Push new run and merge if necessary\r\n    ts.pushRun(lo, runLength);\r\n    ts.mergeRuns();\r\n\r\n    // Go find next run\r\n    remaining -= runLength;\r\n    lo += runLength;\r\n\r\n  } while (remaining !== 0);\r\n\r\n  // Force merging of remaining runs\r\n  ts.forceMergeRuns();\r\n}","import sort from './timsort';\r\n\r\nexport default class FixedArray {\r\n  constructor(size) {\r\n    this._count = 0;\r\n    this._data = new Array(size);\r\n  }\r\n\r\n  _resize(size) {\r\n    if (size > this._data.length) {\r\n      for (let i = this._data.length; i < size; ++i) {\r\n        this._data[i] = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  get length() {\r\n    return this._count;\r\n  }\r\n\r\n  get data() {\r\n    return this._data;\r\n  }\r\n\r\n  reset() {\r\n    for (let i = 0; i < this._count; ++i) {\r\n      this._data[i] = undefined;\r\n    }\r\n\r\n    this._count = 0;\r\n  }\r\n\r\n  push(val) {\r\n    if (this._count >= this._data.length) {\r\n      this._resize(this._data.length * 2);\r\n    }\r\n\r\n    this._data[this._count] = val;\r\n    ++this._count;\r\n  }\r\n\r\n  pop() {\r\n    --this._count;\r\n\r\n    if (this._count < 0) {\r\n      this._count = 0;\r\n    }\r\n\r\n    let ret = this._data[this._count];\r\n    this._data[this._count] = undefined;\r\n\r\n    return ret;\r\n  }\r\n\r\n  fastRemove(idx) {\r\n    if (idx >= this._count) {\r\n      return;\r\n    }\r\n\r\n    let last = this._count - 1;\r\n    this._data[idx] = this._data[last];\r\n    this._data[last] = undefined;\r\n    this._count -= 1;\r\n  }\r\n\r\n  indexOf(val) {\r\n    let idx = this._data.indexOf(val);\r\n    if (idx >= this._count) {\r\n      return -1;\r\n    }\r\n\r\n    return idx;\r\n  }\r\n\r\n  sort(cmp) {\r\n    return sort(this._data, 0, this._count, cmp);\r\n  }\r\n}","export default class Pool {\r\n  constructor(fn, size) {\r\n    this._fn = fn;\r\n    this._idx = size - 1;\r\n    this._frees = new Array(size);\r\n\r\n    for (let i = 0; i < size; ++i) {\r\n      this._frees[i] = fn();\r\n    }\r\n  }\r\n\r\n  _expand(size) {\r\n    let old = this._frees;\r\n    this._frees = new Array(size);\r\n\r\n    let len = size - old.length;\r\n    for (let i = 0; i < len; ++i) {\r\n      this._frees[i] = this._fn();\r\n    }\r\n\r\n    for (let i = len, j = 0; i < size; ++i, ++j) {\r\n      this._frees[i] = old[j];\r\n    }\r\n\r\n    this._idx += len;\r\n  }\r\n\r\n  alloc() {\r\n    // create some more space (expand by 20%, minimum 1)\r\n    if (this._idx < 0) {\r\n      this._expand(Math.round(this._frees.length * 1.2) + 1);\r\n    }\r\n\r\n    let ret = this._frees[this._idx];\r\n    this._frees[this._idx] = null;\r\n    --this._idx;\r\n\r\n    return ret;\r\n  }\r\n\r\n  free(obj) {\r\n    ++this._idx;\r\n    this._frees[this._idx] = obj;\r\n  }\r\n}","import Pool from './pool';\r\n\r\n// NOTE: you must have `_prev` and `_next` field in the object returns by `fn`\r\n\r\nexport default class LinkedArray {\r\n  constructor(fn, size) {\r\n    this._fn = fn;\r\n    this._count = 0;\r\n    this._head = null;\r\n    this._tail = null;\r\n\r\n    this._pool = new Pool(fn, size);\r\n  }\r\n\r\n  get head() {\r\n    return this._head;\r\n  }\r\n\r\n  get tail() {\r\n    return this._tail;\r\n  }\r\n\r\n  get length() {\r\n    return this._count;\r\n  }\r\n\r\n  add() {\r\n    let node = this._pool.alloc();\r\n\r\n    if (!this._tail) {\r\n      this._head = node;\r\n    } else {\r\n      this._tail._next = node;\r\n      node._prev = this._tail;\r\n    }\r\n    this._tail = node;\r\n    this._count += 1;\r\n\r\n    return node;\r\n  }\r\n\r\n  remove(node) {\r\n    if (node._prev) {\r\n      node._prev._next = node._next;\r\n    } else {\r\n      this._head = node._next;\r\n    }\r\n\r\n    if (node._next) {\r\n      node._next._prev = node._prev;\r\n    } else {\r\n      this._tail = node._prev;\r\n    }\r\n\r\n    node._next = null;\r\n    node._prev = null;\r\n    this._pool.free(node);\r\n    this._count -= 1;\r\n  }\r\n\r\n  forEach(fn, binder) {\r\n    let cursor = this._head;\r\n    if (!cursor) {\r\n      return;\r\n    }\r\n\r\n    if (binder) {\r\n      fn = fn.bind(binder);\r\n    }\r\n\r\n    let idx = 0;\r\n    let next = cursor;\r\n\r\n    while (cursor) {\r\n      next = cursor._next;\r\n      fn(cursor, idx, this);\r\n\r\n      cursor = next;\r\n      ++idx;\r\n    }\r\n  }\r\n}","import sort from './timsort';\r\n\r\nexport default class RecyclePool {\r\n  constructor(fn, size) {\r\n    this._fn = fn;\r\n    this._count = 0;\r\n    this._data = new Array(size);\r\n\r\n    for (let i = 0; i < size; ++i) {\r\n      this._data[i] = fn();\r\n    }\r\n  }\r\n\r\n  get length() {\r\n    return this._count;\r\n  }\r\n\r\n  get data() {\r\n    return this._data;\r\n  }\r\n\r\n  reset() {\r\n    this._count = 0;\r\n  }\r\n\r\n  resize(size) {\r\n    if (size > this._data.length) {\r\n      for (let i = this._data.length; i < size; ++i) {\r\n        this._data[i] = this._fn();\r\n      }\r\n    }\r\n  }\r\n\r\n  add() {\r\n    if (this._count >= this._data.length) {\r\n      this.resize(this._data.length * 2);\r\n    }\r\n\r\n    return this._data[this._count++];\r\n  }\r\n\r\n  remove(idx) {\r\n    if (idx >= this._count) {\r\n      return;\r\n    }\r\n\r\n    let last = this._count - 1;\r\n    let tmp = this._data[idx];\r\n    this._data[idx] = this._data[last];\r\n    this._data[last] = tmp;\r\n    this._count -= 1;\r\n  }\r\n\r\n  sort(cmp) {\r\n    return sort(this._data, 0, this._count, cmp);\r\n  }\r\n}","let _bufferPools = Array(8);\r\nfor (let i = 0; i < 8; ++i) {\r\n  _bufferPools[i] = [];\r\n}\r\n\r\nfunction _nextPow16(v) {\r\n  for (let i = 16; i <= (1 << 28); i *= 16) {\r\n    if (v <= i) {\r\n      return i;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction _log2(v) {\r\n  let r, shift;\r\n  r = (v > 0xFFFF) << 4; v >>>= r;\r\n  shift = (v > 0xFF) << 3; v >>>= shift; r |= shift;\r\n  shift = (v > 0xF) << 2; v >>>= shift; r |= shift;\r\n  shift = (v > 0x3) << 1; v >>>= shift; r |= shift;\r\n  return r | (v >> 1);\r\n}\r\n\r\nfunction _alloc(n) {\r\n  let sz = _nextPow16(n);\r\n  let bin = _bufferPools[_log2(sz) >> 2];\r\n  if (bin.length > 0) {\r\n    return bin.pop();\r\n  }\r\n  return new ArrayBuffer(sz);\r\n}\r\n\r\nfunction _free(buf) {\r\n  _bufferPools[_log2(buf.byteLength) >> 2].push(buf);\r\n}\r\n\r\nexport default {\r\n  alloc_int8(n) {\r\n    let result = new Int8Array(_alloc(n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_uint8(n) {\r\n    let result = new Uint8Array(_alloc(n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_int16(n) {\r\n    let result = new Int16Array(_alloc(2 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_uint16(n) {\r\n    let result = new Uint16Array(_alloc(2 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_int32(n) {\r\n    let result = new Int32Array(_alloc(4 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_uint32(n) {\r\n    let result = new Uint32Array(_alloc(4 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_float32(n) {\r\n    let result = new Float32Array(_alloc(4 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_float64(n) {\r\n    let result = new Float64Array(_alloc(8 * n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  alloc_dataview(n) {\r\n    let result = new DataView(_alloc(n), 0, n);\r\n    if (result.length !== n) {\r\n      return result.subarray(0, n);\r\n    }\r\n\r\n    return result;\r\n  },\r\n\r\n  free(array) {\r\n    _free(array.buffer);\r\n  },\r\n\r\n  reset() {\r\n    let _bufferPools = Array(8);\r\n    for (let i = 0; i < 8; ++i) {\r\n      _bufferPools[i] = [];\r\n    }\r\n  },\r\n};","\r\n/**\r\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx, \r\n * where each x is replaced with a random hexadecimal digit from 0 to f, \r\n * and y is replaced with a random hexadecimal digit from 8 to b.\r\n * @param {?number} a the placeholder\r\n * @returns {number} resulting UUID\r\n * @see https://gist.github.com/jed/982883\r\n */\r\nexport default function uuid(a) {\r\n  return a           // if the placeholder was passed, return\r\n    ? (              // a random number from 0 to 15\r\n      a ^            // unless b is 8,\r\n      Math.random()  // in which case\r\n      * 16           // a random number from\r\n      >> a / 4       // 8 to 11\r\n    ).toString(16)   // in hexadecimal\r\n    : (              // or otherwise a concatenated string:\r\n      [1e7] +        // 10000000 +\r\n      -1e3 +         // -1000 +\r\n      -4e3 +         // -4000 +\r\n      -8e3 +         // -80000000 +\r\n      -1e11          // -100000000000,\r\n    ).replace(       // replacing\r\n      /[018]/g,      // zeroes, ones, and eights with\r\n      uuid           // random hex digits\r\n    );\r\n}\r\n","\r\n/**\r\n * Entity layer system\r\n */\r\nexport default class Layers {\r\n  /**\r\n   * Add a new layer\r\n   * @param {string} name name of the new layer\r\n   * @return {number} new layer's index\r\n   */\r\n  static addLayer(name) {\r\n    if (Layers._nextAvailable > 31) \r\n      return new Error('maximum layers reached.');\r\n    Layers[name] = (1 << Layers._nextAvailable++);\r\n    return Layers[name];\r\n  }\r\n\r\n  /**\r\n   * Make a layer mask accepting nothing but the listed layers\r\n   * @param {number[]} includes layers accepted by the mask\r\n   * @return {number} the specified layer mask\r\n   */\r\n  static makeInclusiveMask(includes) {\r\n    let mask = 0;\r\n    for (let i = 0; i < includes.length; i++)\r\n      mask |= includes[i];\r\n    return mask;\r\n  }\r\n\r\n  /**\r\n   * Make a layer mask accepting everything but the listed layers\r\n   * @param {number[]} excludes layers rejected by the mask\r\n   * @return {number} the specified layer mask\r\n   */\r\n  static makeExclusiveMask(excludes) {\r\n    return ~Layers.makeInclusiveMask(excludes);\r\n  }\r\n\r\n  /**\r\n   * Check a layer is accepted by the mask or not\r\n   * @param {number} layer the layer number to be tested\r\n   * @param {number} mask the testing layer mask\r\n   * @return {boolean} true if accepted\r\n   */\r\n  static check(layer, mask) {\r\n    return (layer & mask) == layer;\r\n  }\r\n}\r\n\r\nLayers._nextAvailable = 8;\r\n\r\n// built-in layers, reserved up to (1 << 7)\r\nLayers.Default =  (1 << 0);\r\nLayers.IgnoreRaycast =  (1 << 1);\r\n\r\n// masks\r\nLayers.RaycastMask = Layers.makeExclusiveMask([Layers.IgnoreRaycast]);\r\n","import { vec3, mat3, mat4, quat } from '../vmath';\r\nimport uuid from './uuid';\r\nimport Layers from './layers';\r\n\r\nlet v3_a = vec3.zero();\r\nlet q_a = quat.create();\r\nlet m3_a = mat3.create();\r\nlet m3_b = mat3.create();\r\nlet m4_a = mat4.create();\r\n\r\nexport default class Node {\r\n  static mixin (cls) {\r\n    Object.getOwnPropertyNames(Node.prototype).forEach(function (name) {\r\n      if (cls.prototype.hasOwnProperty(name) === false) {\r\n        Object.defineProperty(\r\n          cls.prototype,\r\n          name,\r\n          Object.getOwnPropertyDescriptor(Node.prototype, name)\r\n        );\r\n      }\r\n    });\r\n    cls.prototype.__initNode = function () {\r\n      this._id = uuid();\r\n      this._parent = null;\r\n      this._children = [];\r\n\r\n      this.name = '';\r\n      this.lpos = vec3.new(0, 0, 0);\r\n      this.lscale = vec3.new(1, 1, 1);\r\n      this.lrot = quat.new(0, 0, 0, 1);\r\n      this.layer = Layers.Default;\r\n    };\r\n  }\r\n\r\n  constructor(name) {\r\n    this._id = uuid();\r\n    this._parent = null;\r\n    this._children = [];\r\n\r\n    this.name = name || '';\r\n    this.lpos = vec3.new(0, 0, 0);\r\n    this.lscale = vec3.new(1, 1, 1);\r\n    this.lrot = quat.new(0, 0, 0, 1);\r\n    this.layer = Layers.Default;\r\n  }\r\n\r\n  /**\r\n   * @property {number} id\r\n   * @readonly\r\n   */\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  /**\r\n   * @property parent\r\n   * @readonly\r\n   *\r\n   * get parent\r\n   */\r\n  get parent() {\r\n    return this._parent;\r\n  }\r\n\r\n  /**\r\n   * @property children\r\n   *\r\n   * get children\r\n   */\r\n  get children() {\r\n    return this._children;\r\n  }\r\n\r\n  // ===============================\r\n  // hierarchy\r\n  // ===============================\r\n\r\n  /**\r\n   * @method setParent\r\n   * @param {Node} newParent\r\n   * @return {boolean}\r\n   *\r\n   * NOTE: This function will invoke `_onParentChanged` if it exists.\r\n   */\r\n  setParent(newParent) {\r\n    let oldParent = this._parent;\r\n\r\n    // newParent is the current parent of this\r\n    if (oldParent === newParent) {\r\n      return false;\r\n    }\r\n\r\n    // make sure the newParent is not a child of this\r\n    let cur = newParent;\r\n    while (cur) {\r\n      if (cur === this) {\r\n        // console.warn(`Failed to set parent for ${this.name}: the new parent ${newParent.name} is its child.`);\r\n        return false;\r\n      }\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    // remove this from its old parent (if it has)\r\n    if (oldParent) {\r\n      let len = oldParent._children.length;\r\n      for (let i = 0; i < len; ++i) {\r\n        if (oldParent._children[i] === this) {\r\n          oldParent._children.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // append it to the new parent\r\n    this._parent = newParent;\r\n    if (newParent) {\r\n      newParent._children.push(this);\r\n    }\r\n\r\n    // invoke _onParentChanged\r\n    if (this._onParentChanged) {\r\n      this._onParentChanged(oldParent, newParent);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @method insertAt\r\n   * @param {number} idx\r\n   * @param {Node} node\r\n   *\r\n   * Insert `node` before the `idx` of children.\r\n   * NOTE: This function will invoke `_onParentChanged` if it exists.\r\n   */\r\n  insertAt(idx, node) {\r\n    if (!node) {\r\n      return false;\r\n    }\r\n\r\n    // make sure the node is not the parent of this\r\n    let cur = this;\r\n    while (cur) {\r\n      if (cur === node) {\r\n        // console.warn(`Failed to append ${node.name}: it is the ancient of current node.`);\r\n        return false;\r\n      }\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    let oldParent = node._parent;\r\n\r\n    // 0 <= idx <= len\r\n    let len = this._children.length;\r\n    idx = idx < 0 ? 0 : idx > len ? len : idx;\r\n\r\n    // remove node from its current parent\r\n    if (oldParent) {\r\n      len = oldParent._children.length;\r\n      for (let i = 0; i < len; ++i) {\r\n        if (oldParent._children[i] === node) {\r\n          // if we already have the child\r\n          if (oldParent === this) {\r\n            // if its insert position didn't changed, don't do anything.\r\n            if (i === idx || i === idx - 1) {\r\n              return false;\r\n            }\r\n\r\n            if (i < idx - 1) {\r\n              idx = idx - 1;\r\n            }\r\n          }\r\n\r\n          oldParent._children.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // append the new node\r\n    node._parent = this;\r\n    this._children.splice(idx, 0, node);\r\n\r\n    // invoke _onParentChanged\r\n    if (node._onParentChanged && node._parent !== this) {\r\n      node._onParentChanged(oldParent, this);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @method append\r\n   * @param {Node} node\r\n   * @return {boolean}\r\n   *\r\n   * Append `node` at the end of children.\r\n   * NOTE: This function will invoke `_onParentChanged` if it exists.\r\n   */\r\n  append(node) {\r\n    if (!node) {\r\n      return false;\r\n    }\r\n\r\n    // make sure the node is not the parent of this\r\n    let cur = this;\r\n    while (cur) {\r\n      if (cur === node) {\r\n        // console.warn(`Failed to append ${node.name}: it is the ancient of current node.`);\r\n        return false;\r\n      }\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    let oldParent = node._parent;\r\n\r\n    // remove node from its current parent\r\n    if (oldParent) {\r\n      let len = oldParent._children.length;\r\n      for (let i = 0; i < len; ++i) {\r\n        if (oldParent._children[i] === node) {\r\n          // if we already have the child and its insert position didn't changed, don't do anything.\r\n          if (oldParent === this && i === len - 1) {\r\n            return false;\r\n          }\r\n\r\n          oldParent._children.splice(i, 1);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // append the new node\r\n    node._parent = this;\r\n    this._children.push(node);\r\n\r\n    // invoke _onParentChanged\r\n    if (node._onParentChanged && node._parent !== this) {\r\n      node._onParentChanged(oldParent, this);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * @method remove\r\n   *\r\n   * Remove self from parent\r\n   * NOTE: This function will invoke `_onParentChanged` if it exists.\r\n   */\r\n  remove() {\r\n    if (this._parent) {\r\n      this._parent.removeChild(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method removeChild\r\n   * @param {Node} node\r\n   *\r\n   * Remove child\r\n   * NOTE: This function will invoke `_onParentChanged` if it exists.\r\n   */\r\n  removeChild(node) {\r\n    let len = this._children.length;\r\n\r\n    for (let i = 0; i < len; ++i) {\r\n      if (this._children[i] === node) {\r\n        this._children.splice(i, 1);\r\n        node._parent = null;\r\n\r\n        // invoke _onParentChanged\r\n        if (node._onParentChanged) {\r\n          node._onParentChanged(this, null);\r\n        }\r\n\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // console.warn(`Failed to remove node ${node.name}, can not find it.`);\r\n    return false;\r\n  }\r\n\r\n  // ===============================\r\n  // transform helper\r\n  // ===============================\r\n\r\n  /**\r\n   * @method getWorldPos\r\n   * @param {vec3} pos\r\n   * @param {vec3} [up] - default is (0,1,0)\r\n   * @return {vec3}\r\n   *\r\n   * Set rotation by lookAt target point\r\n   */\r\n  lookAt(pos, up) {\r\n    this.getWorldPos(v3_a);\r\n    vec3.sub(v3_a, v3_a, pos); // NOTE: we use -z for view-dir\r\n    vec3.normalize(v3_a, v3_a);\r\n    quat.fromViewUp(q_a, v3_a, up);\r\n\r\n    this.setWorldRot(q_a);\r\n  }\r\n\r\n  // ===============================\r\n  // transform\r\n  // ===============================\r\n\r\n  /**\r\n   * @method getWorldPos\r\n   * @param {vec3} out\r\n   * @return {vec3}\r\n   *\r\n   * Calculate and return world position\r\n   */\r\n  getWorldPos(out) {\r\n    vec3.copy(out, this.lpos);\r\n\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      // out = parent_lscale * lpos\r\n      vec3.mul(out, out, cur.lscale);\r\n\r\n      // out = parent_lrot * out\r\n      vec3.transformQuat(out, out, cur.lrot);\r\n\r\n      // out = out + lpos\r\n      vec3.add(out, out, cur.lpos);\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method setWorldPos\r\n   * @param {vec3} pos\r\n   *\r\n   * Set world position\r\n   */\r\n  setWorldPos(pos) {\r\n    // NOTE: this is faster than invert world matrix and transform the point\r\n\r\n    if (this._parent) {\r\n      this._parent.invTransformPoint(this.lpos, pos);\r\n      return;\r\n    }\r\n\r\n    vec3.copy(this.lpos, pos);\r\n  }\r\n\r\n  /**\r\n   * @method getWorldRot\r\n   * @param {quat} out\r\n   * @return {quat}\r\n   *\r\n   * Calculate and return world rotation\r\n   */\r\n  getWorldRot(out) {\r\n    quat.copy(out, this.lrot);\r\n\r\n    // result = ... * parent.parent.lrot * parent.lrot * lrot\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      quat.mul(out, cur.lrot, out);\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method setWorldRot\r\n   * @param {quat} rot\r\n   *\r\n   * Set world position\r\n   */\r\n  setWorldRot(rot) {\r\n    // lrot = rot * inv(prarent.wrot);\r\n    if (this._parent) {\r\n      this._parent.getWorldRot(this.lrot);\r\n      quat.conjugate(this.lrot, this.lrot);\r\n      quat.mul(this.lrot, this.lrot, rot);\r\n\r\n      return;\r\n    }\r\n\r\n    quat.copy(this.lrot, rot);\r\n  }\r\n\r\n  /**\r\n   * @method getWorldScale\r\n   * @param {quat} out\r\n   * @return {quat}\r\n   *\r\n   * Calculate and return world rotation\r\n   */\r\n  getWorldScale(out) {\r\n    vec3.copy(out, this.lscale);\r\n\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      vec3.mul(out, cur.lscale, out);\r\n      cur = cur._parent;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method invTransformPoint\r\n   * @param {vec3} out\r\n   * @param {vec3} pos\r\n   *\r\n   * Transforms position from world space to local space.\r\n   */\r\n  invTransformPoint(out, pos) {\r\n    if (this._parent) {\r\n      this._parent.invTransformPoint(out, pos);\r\n    } else {\r\n      vec3.copy(out, pos);\r\n    }\r\n\r\n    // out = parent_inv_pos - lpos\r\n    vec3.sub(out, out, this.lpos);\r\n\r\n    // out = inv(lrot) * out\r\n    quat.conjugate(q_a, this.lrot);\r\n    vec3.transformQuat(out, out, q_a);\r\n\r\n    // out = (1/scale) * out\r\n    vec3.inverseSafe(v3_a, this.lscale);\r\n    vec3.mul(out, out, v3_a);\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method getLocalMatrix\r\n   * @param {mat4} out\r\n   * @return {mat4}\r\n   *\r\n   * Calculate and return local transform\r\n   */\r\n  getLocalMatrix(out) {\r\n    mat4.fromRTS(out, this.lrot, this.lpos, this.lscale);\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method getWorldMatrix\r\n   * @param {mat4} out\r\n   * @return {mat4}\r\n   *\r\n   * Calculate and return world transform\r\n   */\r\n  getWorldMatrix(out) {\r\n    // out = ... * parent.parent.local * parent.local * local;\r\n    this.getLocalMatrix(out);\r\n\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      cur.getLocalMatrix(m4_a);\r\n      mat4.mul(out, m4_a, out);\r\n\r\n      cur = cur._parent;\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method getWorldRT\r\n   * @param {mat4} out\r\n   * @return {mat4}\r\n   *\r\n   * Calculate and return world transform without scale\r\n   */\r\n  getWorldRT(out) {\r\n    this._getWorldPosAndRot(v3_a, q_a);\r\n    mat4.fromRT(out, q_a, v3_a);\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method getWorldRS\r\n   * @param {mat3} out\r\n   *\r\n   * Calculate and return world rotation and scale matrix\r\n   */\r\n  getWorldRS(out) {\r\n    mat3.set(m3_a,\r\n      this.lscale.x, 0, 0,\r\n      0, this.lscale.y, 0,\r\n      0, 0, this.lscale.z\r\n    );\r\n    mat3.fromQuat(m3_b, this.lrot);\r\n\r\n    if (this._parent) {\r\n      // parent_RS * rot * scale\r\n      this._parent.getWorldRS(out);\r\n      mat3.mul(out, out, m3_b);\r\n      mat3.mul(out, out, m3_a);\r\n    } else {\r\n      // rot * scale\r\n      mat3.mul(out, m3_b, m3_a);\r\n    }\r\n\r\n    return out;\r\n  }\r\n\r\n  /**\r\n   * @method _getWorldPosAndRot\r\n   * @param {vec3} opos\r\n   * @param {quat} orot\r\n   *\r\n   * Calculate and return world position and rotation\r\n   */\r\n  _getWorldPosAndRot(opos, orot) {\r\n    vec3.copy(opos, this.lpos);\r\n    quat.copy(orot, this.lrot);\r\n\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      // opos = parent_lscale * lpos\r\n      vec3.mul(opos, opos, cur.lscale);\r\n\r\n      // opos = parent_lrot * opos\r\n      vec3.transformQuat(opos, opos, cur.lrot);\r\n\r\n      // opos = opos + lpos\r\n      vec3.add(opos, opos, cur.lpos);\r\n\r\n      // orot = lrot * orot\r\n      quat.mul(orot, cur.lrot, orot);\r\n\r\n      cur = cur._parent;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate and return world position, rotation and scale\r\n   * @param {vec3} opos\r\n   * @param {quat} orot\r\n   * @param {vec3} osca\r\n   */\r\n  _getWorldPRS(opos, orot, osca) {\r\n    vec3.copy(opos, this.lpos);\r\n    quat.copy(orot, this.lrot);\r\n    vec3.copy(osca, this.lscale);\r\n\r\n    let cur = this._parent;\r\n    while (cur) {\r\n      // opos = parent_lscale * lpos\r\n      vec3.mul(opos, opos, cur.lscale);\r\n\r\n      // opos = parent_lrot * opos\r\n      vec3.transformQuat(opos, opos, cur.lrot);\r\n\r\n      // opos = opos + lpos\r\n      vec3.add(opos, opos, cur.lpos);\r\n\r\n      // orot = lrot * orot\r\n      quat.mul(orot, cur.lrot, orot);\r\n\r\n      // osca = lsca * osca\r\n      vec3.mul(osca, cur.lscale, osca);\r\n\r\n      cur = cur._parent;\r\n    }\r\n  }\r\n}","import { vec3, quat } from '../vmath';\r\nimport Node from './node';\r\n\r\n/**\r\n * @method walk\r\n * @param {Node} node\r\n * @param {function(node: Node, parent: Node, level: number): boolean} fn\r\n * @param {number} level\r\n */\r\nfunction walk(node, fn, level = 0) {\r\n  level += 1;\r\n  let len = node.children.length;\r\n\r\n  for (let i = 0; i < len; ++i) {\r\n    let child = node.children[i];\r\n    let continueWalk = fn(child, node, level);\r\n\r\n    if (continueWalk === false) {\r\n      break;\r\n    }\r\n\r\n    walk(child, fn, level);\r\n  }\r\n}\r\n\r\n/**\r\n * fn1 is used when entering the node, fn2 is used when leaving the node\r\n * @param {Node} node\r\n * @param {function(node: Node, parent: Node, level: number): boolean} fn1\r\n * @param {function(node: Node, parent: Node, level: number)} fn2\r\n * @param {number} level\r\n */\r\nfunction walk2(node, fn1, fn2, level = 0) {\r\n  level += 1;\r\n  let len = node.children.length;\r\n\r\n  for (let i = 0; i < len; ++i) {\r\n    let child = node.children[i];\r\n    let continueWalk = fn1(child, node, level);\r\n\r\n    if (continueWalk === false) {\r\n      fn2(child, node, level);\r\n      break;\r\n    }\r\n\r\n    walk2(child, fn1, fn2, level);\r\n    fn2(child, node, level);\r\n  }\r\n}\r\n\r\n/**\r\n * walkSibling is almost same as walk except when the fn return false,\r\n * it just break walk in children but not break walk in sibiling\r\n *\r\n * @method walkSibling\r\n * @param {Node} node\r\n * @param {function(node: Node, parent: Node, level: number): boolean} fn\r\n * @param {number} level\r\n */\r\nfunction walkSibling(node, fn, level = 0) {\r\n  level += 1;\r\n  let len = node.children.length;\r\n\r\n  for (let i = 0; i < len; ++i) {\r\n    let child = node.children[i];\r\n    let continueWalk = fn(child, node, level);\r\n\r\n    if (continueWalk !== false) {\r\n      walkSibling(child, fn, level);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @method flat\r\n * @param {Node} node\r\n */\r\nfunction flat(node) {\r\n  let out = [];\r\n\r\n  out.push(node);\r\n  walk(node, function (iter) {\r\n    out.push(iter);\r\n  });\r\n\r\n  return out;\r\n}\r\n\r\n/**\r\n * @method replace\r\n * @param {Node} oldNode\r\n * @param {Node} newNode\r\n */\r\nfunction replace(oldNode, newNode) {\r\n  newNode.remove();\r\n\r\n  let parent = oldNode._parent;\r\n  if (!parent) {\r\n    return;\r\n  }\r\n\r\n  oldNode._parent = null;\r\n  newNode._parent = parent;\r\n\r\n  let len = parent._children.length;\r\n  for (let i = 0; i < len; ++i) {\r\n    if (parent._children[i] === oldNode) {\r\n      parent._children[i] = newNode;\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @method clone\r\n * @param {Node} node\r\n * @param {function} ctor\r\n * @param {function} fn\r\n * @return {Node}\r\n */\r\nfunction clone(node, ctor = Node, fn = null) {\r\n  let newNode = new ctor();\r\n  newNode.name = node.name;\r\n  vec3.copy(newNode.lpos, node.lpos);\r\n  vec3.copy(newNode.lscale, node.lscale);\r\n  quat.copy(newNode.lrot, node.lrot);\r\n\r\n  // do user custom clone function\r\n  if (fn) {\r\n    fn(newNode, node);\r\n  }\r\n\r\n  return newNode;\r\n}\r\n\r\n/**\r\n * @method deepClone\r\n * @param {Node} node\r\n * @param {function} ctor\r\n * @param {function} fn\r\n * @return {Node}\r\n */\r\nfunction deepClone(node, ctor = Node, fn = null) {\r\n  let newNode = clone(node, ctor, fn);\r\n\r\n  newNode._children = new Array(node._children.length);\r\n  for (let i = 0; i < node._children.length; ++i) {\r\n    let child = node._children[i];\r\n    let newChild = deepClone(child, ctor, fn);\r\n    newNode._children[i] = newChild;\r\n    newChild._parent = newNode;\r\n  }\r\n\r\n  return newNode;\r\n}\r\n\r\n/**\r\n * @method find\r\n * @param {Node} root\r\n * @param {string} path\r\n */\r\nfunction find(root, path) {\r\n  let names = path.split('/');\r\n\r\n  function _recurse(node, level) {\r\n    let len = node.children.length;\r\n    let name = names[level];\r\n\r\n    for (let i = 0; i < len; ++i) {\r\n      let child = node.children[i];\r\n\r\n      if (child.name !== name) {\r\n        continue;\r\n      }\r\n\r\n      if (level === names.length - 1) {\r\n        return child;\r\n      } else {\r\n        return _recurse(child, level + 1);\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  return _recurse(root, 0);\r\n}\r\n\r\nlet utils = {\r\n  walk,\r\n  walk2,\r\n  walkSibling,\r\n  flat,\r\n  replace,\r\n  clone,\r\n  deepClone,\r\n  find,\r\n};\r\nexport default utils;","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { FixedArray } from '../../memop';\r\nimport { vec3 } from '../../vmath';\r\nimport { intersect } from '../../geom-utils';\r\nimport { Layers } from '../../scene-graph';\r\n\r\n/**\r\n * A representation of the scene\r\n */\r\nexport default class Scene {\r\n  /**\r\n   * Setup a default empty scene\r\n   */\r\n  constructor() {\r\n    this._lights = new FixedArray(16);\r\n    this._models = new FixedArray(16);\r\n    this._cameras = new FixedArray(16);\r\n    this._debugCamera = null;\r\n\r\n    // NOTE: we don't use pool for views (because it's less changed and it doesn't have poolID)\r\n    this._views = [];\r\n  }\r\n\r\n  _add(pool, item) {\r\n    if (item._poolID !== -1) {\r\n      return;\r\n    }\r\n\r\n    pool.push(item);\r\n    item._poolID = pool.length - 1;\r\n  }\r\n\r\n  _remove(pool, item) {\r\n    if (item._poolID === -1) {\r\n      return;\r\n    }\r\n\r\n    pool.data[pool.length-1]._poolID = item._poolID;\r\n    pool.fastRemove(item._poolID);\r\n    item._poolID = -1;\r\n  }\r\n\r\n  /**\r\n   * reset the model viewIDs\r\n   */\r\n  reset() {\r\n    for (let i = 0; i < this._models.length; ++i) {\r\n      let model = this._models.data[i];\r\n      model._viewID = -1;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the debug camera\r\n   * @param {Camera} cam the debug camera\r\n   */\r\n  setDebugCamera(cam) {\r\n    this._debugCamera = cam;\r\n  }\r\n\r\n  /**\r\n   * Get the count of registered cameras\r\n   * @returns {number} camera count\r\n   */\r\n  getCameraCount() {\r\n    return this._cameras.length;\r\n  }\r\n\r\n  /**\r\n   * Get the specified camera\r\n   * @param {number} idx camera index\r\n   * @returns {Camera} the specified camera\r\n   */\r\n  getCamera(idx) {\r\n    return this._cameras.data[idx];\r\n  }\r\n\r\n  /**\r\n   * register a camera\r\n   * @param {Camera} camera the new camera\r\n   */\r\n  addCamera(camera) {\r\n    this._add(this._cameras, camera);\r\n  }\r\n\r\n  /**\r\n   * remove a camera\r\n   * @param {Camera} camera the camera to be removed\r\n   */\r\n  removeCamera(camera) {\r\n    this._remove(this._cameras, camera);\r\n  }\r\n\r\n  /**\r\n   * Get the count of registered model\r\n   * @returns {number} model count\r\n   */\r\n  getModelCount() {\r\n    return this._models.length;\r\n  }\r\n\r\n  /**\r\n   * Get the specified model\r\n   * @param {number} idx model index\r\n   * @returns {Model} the specified model\r\n   */\r\n  getModel(idx) {\r\n    return this._models.data[idx];\r\n  }\r\n\r\n  /**\r\n   * register a model\r\n   * @param {Model} model the new model\r\n   */\r\n  addModel(model) {\r\n    this._add(this._models, model);\r\n  }\r\n\r\n  /**\r\n   * remove a model\r\n   * @param {Model} model the model to be removed\r\n   */\r\n  removeModel(model) {\r\n    this._remove(this._models, model);\r\n  }\r\n\r\n  /**\r\n   * cast a ray in the scene, find the nearest intersection\r\n   * @param {Object} hitInfo the output intersection information\r\n   * @param {Ray} ray the testing ray\r\n   * @param {number} maxDistance max intersection distance\r\n   * @returns {boolean} is there any intersection?\r\n   */\r\n  raycast(hitInfo, ray, maxDistance = Infinity) {\r\n    let dist = Infinity, cur = dist;\r\n    // fixme: brute-force traversal\r\n    let its = vec3.zero();\r\n    for (let i = 0; i < this.getModelCount(); i++) {\r\n      let model = this.getModel(i);\r\n      if (!Layers.check(model._node.layer, Layers.RaycastMask)) continue;\r\n      if (!intersect.ray_box(ray, model._boundingBox, its)) continue;\r\n      cur = vec3.sqrDist(its, ray.o);\r\n      if (cur > maxDistance * maxDistance || cur > dist) continue;\r\n      dist = cur;\r\n      hitInfo.entity = model._node;\r\n    }\r\n    return dist < Infinity;\r\n  }\r\n\r\n  /**\r\n   * Get the count of registered light\r\n   * @returns {number} light count\r\n   */\r\n  getLightCount() {\r\n    return this._lights.length;\r\n  }\r\n\r\n  /**\r\n   * Get the specified light\r\n   * @param {number} idx light index\r\n   * @returns {Light} the specified light\r\n   */\r\n  getLight(idx) {\r\n    return this._lights.data[idx];\r\n  }\r\n\r\n  /**\r\n   * register a light\r\n   * @param {Light} light the new light\r\n   */\r\n  addLight(light) {\r\n    this._add(this._lights, light);\r\n  }\r\n\r\n  /**\r\n   * remove a light\r\n   * @param {Light} light the light to be removed\r\n   */\r\n  removeLight(light) {\r\n    this._remove(this._lights, light);\r\n  }\r\n\r\n  /**\r\n   * register a view\r\n   * @param {View} view the new view\r\n   */\r\n  addView(view) {\r\n    if (this._views.indexOf(view) === -1) {\r\n      this._views.push(view);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * remove a view\r\n   * @param {View} view the view to be removed\r\n   */\r\n  removeView(view) {\r\n    let idx = this._views.indexOf(view);\r\n    if (idx !== -1) {\r\n      this._views.splice(idx, 1);\r\n    }\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { vec3, color3 } from '../../vmath';\r\nimport { RecyclePool } from '../../memop';\r\n\r\nimport Model from '../scene/model';\r\n\r\nexport default class LineBatchModel extends Model {\r\n  constructor() {\r\n    super();\r\n\r\n    this._type = 'line-batch';\r\n    this._lines = new RecyclePool(() => {\r\n      return {\r\n        start: vec3.zero(),\r\n        end: vec3.zero(),\r\n        color: color3.create(),\r\n        normal: vec3.zero(),\r\n      };\r\n    }, 2000);\r\n  }\r\n\r\n  get vertCount() {\r\n    return this._lines.length * 2;\r\n  }\r\n\r\n  get lineCount() {\r\n    return this._lines.length;\r\n  }\r\n\r\n  getLine(idx) {\r\n    return this._lines.data[idx];\r\n  }\r\n\r\n  addLine(start, end, color, normal) {\r\n    let line = this._lines.add();\r\n\r\n    vec3.copy(line.start, start);\r\n    vec3.copy(line.end, end);\r\n\r\n    if (color) {\r\n      color3.copy(line.color, color);\r\n    }\r\n\r\n    if (normal) {\r\n      vec3.copy(line.normal, normal);\r\n    }\r\n\r\n    return line;\r\n  }\r\n\r\n  clear() {\r\n    this._lines.reset();\r\n  }\r\n}\r\n","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { RecyclePool } from '../../memop';\r\n\r\nimport Model from '../scene/model';\r\n\r\nexport default class SpriteBatchModel extends Model {\r\n  constructor() {\r\n    super();\r\n\r\n    this._type = 'sprite-batch';\r\n    this._sprites = new RecyclePool(() => {\r\n      return {\r\n        refPositions: null,\r\n        refUVs: null,\r\n        refColor: null,\r\n        refIndices: null,\r\n      };\r\n    }, 2000);\r\n\r\n    this._vertCount = 0;\r\n    this._indexCount = 0;\r\n  }\r\n\r\n  get vertCount() {\r\n    return this._vertCount;\r\n  }\r\n\r\n  get indexCount() {\r\n    return this._indexCount;\r\n  }\r\n\r\n  get spriteCount() {\r\n    return this._sprites.length;\r\n  }\r\n\r\n  getSprite(idx) {\r\n    return this._sprites.data[idx];\r\n  }\r\n\r\n  addSprite(positions, uvs, color, indices) {\r\n    let sprite = this._sprites.add();\r\n\r\n    sprite.refPositions = positions;\r\n    sprite.refUVs = uvs;\r\n    sprite.refColor = color;\r\n    sprite.refIndices = indices;\r\n\r\n    this._vertCount += positions.length;\r\n    this._indexCount += indices.length;\r\n\r\n    return sprite;\r\n  }\r\n\r\n  clear() {\r\n    this._sprites.reset();\r\n\r\n    this._vertCount = 0;\r\n    this._indexCount = 0;\r\n  }\r\n}\r\n","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\nimport InputAssembler from '../core/input-assembler';\r\n\r\nimport Model from '../scene/model';\r\n\r\nfunction _createInputAssembler(out) {\r\n  let vb = new gfx.VertexBuffer(\r\n    out._device,\r\n    new gfx.VertexFormat(out._vertAttrs),\r\n    gfx.USAGE_DYNAMIC,\r\n    null,\r\n    out._capacity * 4\r\n  );\r\n\r\n  let indices = new Array(out._capacity);\r\n  let dst = 0;\r\n  for (let i = 0; i < out._capacity; ++i) {\r\n    let baseIdx = 4 * i;\r\n    indices[dst++] = baseIdx;\r\n    indices[dst++] = baseIdx + 1;\r\n    indices[dst++] = baseIdx + 2;\r\n    indices[dst++] = baseIdx + 3;\r\n    indices[dst++] = baseIdx + 2;\r\n    indices[dst++] = baseIdx + 1;\r\n  }\r\n  let ib = new gfx.IndexBuffer(\r\n    out._device,\r\n    gfx.INDEX_FMT_UINT16,\r\n    gfx.USAGE_STATIC,\r\n    new Uint16Array(indices),\r\n    indices.length\r\n  );\r\n\r\n  out._ia = new InputAssembler(vb, ib);\r\n}\r\n\r\nexport default class ParticleBatchModel extends Model {\r\n  constructor(device, capacity,\r\n    vertAttrs = [\r\n      { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n      { name: gfx.ATTR_UV, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n      { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\r\n      { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_FLOAT32, num: 4 },\r\n    ]) {\r\n    super();\r\n\r\n    this._type = 'particle-batch';\r\n    this._device = device;\r\n    this._vertAttrs = vertAttrs;\r\n    this._capacity = capacity;\r\n    _createInputAssembler(this);\r\n    this._vertAttrsSize = this._ia._vertexBuffer._format._bytes / 4; // number of float\r\n    this._vdataF32 = new Float32Array(capacity * 4 * this._vertAttrsSize);\r\n  }\r\n\r\n  setVertexAttributes(attrs) {\r\n    this._vertAttrs = attrs;\r\n    // rebuid\r\n    _createInputAssembler(this);\r\n    this._vertAttrsSize = this._ia._vertexBuffer._format._bytes / 4; // number of float\r\n    this._vdataF32 = new Float32Array(this._capacity * 4 * this._vertAttrsSize);\r\n  }\r\n\r\n  enableStretchedBillboard() {\r\n    if (this._vertAttrs.find(attr => attr.name === gfx.ATTR_COLOR0) === undefined) {\r\n      this._vertAttrs.push({ name: gfx.ATTR_COLOR0, type: gfx.ATTR_TYPE_FLOAT32, num: 3 });\r\n      this.setVertexAttributes(this._vertAttrs);\r\n    }\r\n  }\r\n\r\n  disableStretchedBillboard() {\r\n    if (this._vertAttrs.find(attr => attr.name === gfx.ATTR_COLOR0) !== undefined) {\r\n      this._vertAttrs.pop();\r\n      this.setVertexAttributes(this._vertAttrs);\r\n    }\r\n  }\r\n\r\n  addParticleVertexData(index, pvdata) {\r\n    if (pvdata.length !== this._vertAttrs.length) {\r\n      console.error('particle vertex stream data not match.');\r\n    }\r\n    let offset = index * this._vertAttrsSize;\r\n    for (let i = 0; i < this._vertAttrs.length; ++i) {\r\n      let curAttr = this._vertAttrs[i];\r\n      if (curAttr.num === 1) {\r\n        this._vdataF32[offset] = pvdata[i]; // if not a single float?\r\n        offset++;\r\n      } else if (curAttr.num === 2) {\r\n        this._vdataF32[offset] = pvdata[i].x;\r\n        this._vdataF32[offset + 1] = pvdata[i].y;\r\n        offset += 2;\r\n      } else if (curAttr.num === 3) {\r\n        this._vdataF32[offset] = pvdata[i].x;\r\n        this._vdataF32[offset + 1] = pvdata[i].y;\r\n        this._vdataF32[offset + 2] = pvdata[i].z;\r\n        offset += 3;\r\n      } else if (curAttr.num === 4) {\r\n        this._vdataF32[offset] = pvdata[i].x;\r\n        this._vdataF32[offset + 1] = pvdata[i].y;\r\n        this._vdataF32[offset + 2] = pvdata[i].z;\r\n        this._vdataF32[offset + 3] = pvdata[i].w;\r\n        offset += 4;\r\n      } else {\r\n        console.error('particle vertex attribute format not support');\r\n      }\r\n    }\r\n  }\r\n\r\n  updateIA(count) {\r\n    this._ia._count = count;\r\n    this._ia._vertexBuffer.update(0, this._vdataF32);\r\n  }\r\n\r\n  clear() {\r\n    this._ia._count = 0;\r\n  }\r\n\r\n  destroy() {\r\n    this._vdataF32 = null;\r\n    this._ia._vertexBuffer.destroy();\r\n    this._ia._indexBuffer.destroy();\r\n  }\r\n}\r\n","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport Model from '../scene/model';\r\n\r\nexport default class SkinningModel extends Model {\r\n  constructor() {\r\n    super();\r\n\r\n    this._type = 'skinning';\r\n    this._jointsTexture = null;\r\n  }\r\n\r\n  setJointsTexture(texture) {\r\n    this._jointsTexture = texture;\r\n  }\r\n}","export default {\n  'common.frag': '\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define EPSILON 1e-6\\n#define LOG2 1.442695\\n#define saturate(a) clamp( a, 0.0, 1.0 )',\n  'gamma-correction.frag': '\\nvec3 gammaToLinearSpaceRGB(vec3 sRGB) { \\n  return sRGB * (sRGB * (sRGB * 0.305306011 + 0.682171111) + 0.012522878);\\n}\\nvec3 linearToGammaSpaceRGB(vec3 RGB) { \\n  vec3 S1 = sqrt(RGB);\\n  vec3 S2 = sqrt(S1);\\n  vec3 S3 = sqrt(S2);\\n  return 0.585122381 * S1 + 0.783140355 * S2 - 0.368262736 * S3;\\n}\\nvec4 gammaToLinearSpaceRGBA(vec4 sRGBA) {\\n  return vec4(gammaToLinearSpaceRGB(sRGBA.rgb), sRGBA.a);\\n}\\nvec4 linearToGammaSpaceRGBA(vec4 RGBA) {\\n  return vec4(linearToGammaSpaceRGB(RGBA.rgb), RGBA.a);\\n}\\nfloat gammaToLinearSpaceExact(float val) {\\n  if (val <= 0.04045) {\\n    return val / 12.92;\\n  } else if (val < 1.0) {\\n    return pow((val + 0.055) / 1.055, 2.4);\\n  } else {\\n    return pow(val, 2.2);\\n  }\\n}\\nfloat linearToGammaSpaceExact(float val) {\\n  if (val <= 0.0) {\\n    return 0.0;\\n  } else if (val <= 0.0031308) {\\n    return 12.92 * val;\\n  } else if (val < 1.0) {\\n    return 1.055 * pow(val, 0.4166667) - 0.055;\\n  } else {\\n    return pow(val, 0.45454545);\\n  }\\n}',\n  'packing.frag': '\\nvec4 packDepthToRGBA(float depth) {\\n  vec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\\n  ret = fract(ret);\\n  ret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\\n  return ret;\\n}\\nfloat unpackRGBAToDepth(vec4 color) {\\n  return dot(color, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\\n}',\n  'pbr-lighting.frag': '\\nstruct LightInfo {\\n  vec3 lightDir;\\n  vec3 radiance;\\n};\\n#if NUM_DIR_LIGHTS > 0\\n  #pragma for id in range(0, NUM_DIR_LIGHTS)\\n    uniform vec3 dir_light{id}_direction;\\n    uniform vec3 dir_light{id}_color;\\n  #pragma endFor\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_POINT_LIGHTS)\\n    uniform vec3 point_light{id}_position;\\n    uniform vec3 point_light{id}_color;\\n    uniform float point_light{id}_range;\\n  #pragma endFor\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n    uniform vec3 spot_light{id}_position;\\n    uniform vec3 spot_light{id}_direction;\\n    uniform vec3 spot_light{id}_color;\\n    uniform vec2 spot_light{id}_spot;\\n    uniform float spot_light{id}_range;\\n  #pragma endFor\\n#endif\\nLightInfo computeDirectionalLighting(\\n  vec3 lightDirection,\\n  vec3 lightColor\\n) {\\n  LightInfo ret;\\n  ret.lightDir = -normalize(lightDirection);\\n  ret.radiance = lightColor;\\n  return ret;\\n}\\nLightInfo computePointLighting(\\n  vec3 lightPosition,\\n  vec3 positionW,\\n  vec3 lightColor,\\n  float lightRange\\n) {\\n  LightInfo ret;\\n  vec3 lightDir = lightPosition - positionW;\\n  float attenuation = max(0.0, 1.0 - length(lightDir) / lightRange);\\n  ret.lightDir = normalize(lightDir);\\n  ret.radiance = lightColor * attenuation;\\n  return ret;\\n}\\nLightInfo computeSpotLighting(\\n  vec3 lightPosition,\\n  vec3 positionW,\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  vec2 lightSpot,\\n  float lightRange\\n) {\\n  LightInfo ret;\\n  vec3 lightDir = lightPosition - positionW;\\n  float attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  float cosConeAngle = max(0., dot(lightDirection, -lightDir));\\n  cosConeAngle = cosConeAngle < lightSpot.x ? 0.0 : cosConeAngle;\\n  cosConeAngle = pow(cosConeAngle,lightSpot.y);\\n  ret.lightDir = normalize(lightDir);\\n  ret.radiance = lightColor * attenuation * cosConeAngle;\\n  return ret;\\n}',\n  'phong-lighting.frag': '\\nstruct LightInfo {\\n  vec3 diffuse;\\n  vec3 specular;\\n};\\nLightInfo computeDirectionalLighting(\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  vec3 normal,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = -normalize(lightDirection);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh;\\n  return lightingResult;\\n}\\nLightInfo computePointLighting(\\n  vec3 lightPosition,\\n  vec3 lightColor,\\n  float lightRange,\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = vec3(0, 0, 0);\\n  float attenuation = 1.0;\\n  lightDir = lightPosition - positionW;\\n  attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  lightDir = normalize(lightDir);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl * attenuation;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh * attenuation;\\n  return lightingResult;\\n}\\nLightInfo computeSpotLighting(\\n  vec3 lightPosition,\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  float lightRange,\\n  vec2 lightSpot,\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = vec3(0, 0, 0);\\n  float attenuation = 1.0;\\n  float cosConeAngle = 1.0;\\n  lightDir = lightPosition - positionW;\\n  attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  lightDir = normalize(lightDir);\\n  cosConeAngle = max(0., dot(lightDirection, -lightDir));\\n  cosConeAngle = cosConeAngle < lightSpot.x ? 0.0 : cosConeAngle;\\n  cosConeAngle = pow(cosConeAngle,lightSpot.y);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl * attenuation * cosConeAngle;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh * attenuation * cosConeAngle;\\n  return lightingResult;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n  #pragma for id in range(0, NUM_DIR_LIGHTS)\\n    uniform vec3 dir_light{id}_direction;\\n    uniform vec3 dir_light{id}_color;\\n  #pragma endFor\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_POINT_LIGHTS)\\n    uniform vec3 point_light{id}_position;\\n    uniform vec3 point_light{id}_color;\\n    uniform float point_light{id}_range;\\n  #pragma endFor\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n    uniform vec3 spot_light{id}_position;\\n    uniform vec3 spot_light{id}_direction;\\n    uniform vec3 spot_light{id}_color;\\n    uniform float spot_light{id}_range;\\n    uniform vec2 spot_light{id}_spot;\\n  #pragma endFor\\n#endif\\nLightInfo getPhongLighting(\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo result;\\n  result.diffuse = vec3(0, 0, 0);\\n  result.specular = vec3(0, 0, 0);\\n  LightInfo dirLighting;\\n  #if NUM_DIR_LIGHTS > 0\\n    #pragma for id in range(0, NUM_DIR_LIGHTS)\\n      dirLighting = computeDirectionalLighting(dir_light{id}_direction,dir_light{id}_color,normal, viewDirection, glossiness);\\n      result.diffuse += dirLighting.diffuse;\\n      result.specular += dirLighting.specular;\\n    #pragma endFor\\n  #endif\\n  LightInfo pointLighting;\\n  #if NUM_POINT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_POINT_LIGHTS)\\n      pointLighting = computePointLighting(point_light{id}_position, point_light{id}_color, point_light{id}_range,\\n                                          normal, positionW, viewDirection, glossiness);\\n      result.diffuse += pointLighting.diffuse;\\n      result.specular += pointLighting.specular;\\n    #pragma endFor\\n  #endif\\n  LightInfo spotLighting;\\n  #if NUM_SPOT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n      spotLighting = computeSpotLighting(spot_light{id}_position, spot_light{id}_direction, spot_light{id}_color,\\n                      spot_light{id}_range, spot_light{id}_spot,normal, positionW, viewDirection, glossiness);\\n      result.diffuse += spotLighting.diffuse;\\n      result.specular += spotLighting.specular;\\n    #pragma endFor\\n  #endif\\n  return result;\\n}\\n',\n  'shadow-mapping.frag': '\\n#if NUM_SHADOW_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n    uniform sampler2D shadowMap_{id};\\n    uniform float darkness_{id};\\n    uniform float depthScale_{id};\\n    uniform float frustumEdgeFalloff_{id};\\n    uniform float bias_{id};\\n    uniform vec2 texelSize_{id};\\n    varying vec4 pos_lightspace_{id};\\n    varying float vDepth_{id};\\n  #pragma endFor\\n#endif\\nfloat computeShadow(sampler2D shadowMap, vec4 pos_lightspace, float bias) {\\n  vec3 projCoords = pos_lightspace.xyz / pos_lightspace.w;\\n  projCoords = projCoords * 0.5 + 0.5;\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, projCoords.xy));\\n  float currentDepth = projCoords.z;\\n  float shadow = (currentDepth - bias > closestDepth) ? 0.0 : 1.0;\\n  return shadow;\\n}\\nfloat computeFallOff(float esm, vec2 coords, float frustumEdgeFalloff) {\\n  float mask = smoothstep(1.0 - frustumEdgeFalloff, 1.0, clamp(dot(coords, coords), 0.0, 1.0));\\n  return mix(esm, 1.0, mask);\\n}\\nfloat computeShadowESM(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float depthScale, float darkness, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, shadowUV));\\n  \\n  float esm = clamp(exp(-depthScale * (currentDepth - closestDepth)), 1.0 - darkness, 1.0);\\n  return computeFallOff(esm, projCoords, frustumEdgeFalloff);\\n}\\nfloat computeShadowPCF(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float darkness, vec2 texelSize, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float visibility = 1.0;\\n  vec2 poissonDisk[4];\\n  poissonDisk[0] = vec2(-0.94201624, -0.39906216);\\n  poissonDisk[1] = vec2(0.94558609, -0.76890725);\\n  poissonDisk[2] = vec2(-0.094184101, -0.92938870);\\n  poissonDisk[3] = vec2(0.34495938, 0.29387760);\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[0] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[1] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[2] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[3] * texelSize)) < currentDepth) visibility -= 0.25;\\n  return computeFallOff(min(1.0, visibility + 1.0 - darkness), projCoords, frustumEdgeFalloff);\\n}',\n  'skinning.vert': '\\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}',\n  'unpack.frag': '\\nvec3 unpackNormal(vec4 nmap) {\\n  return nmap.xyz * 2.0 - 1.0;\\n}\\nvec3 unpackRGBE(vec4 rgbe) {\\n    return rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\\n}',\n};","export default [\n  {\n    name: 'gaussian-blur',\n    vert: '\\nattribute vec2 a_position;\\nattribute vec2 a_uv0;\\nvarying vec2 uv;\\nvoid main() {\\n  uv = a_uv0;\\n  gl_Position = vec4(a_position.x, a_position.y, 0.0, 1.0);\\n}',\n    frag: '\\nvarying vec2 uv;\\nuniform sampler2D texture;\\nuniform vec2 pixelSize;\\n\\nvec4 packDepthToRGBA(float depth) {\\n  vec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\\n  ret = fract(ret);\\n  ret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\\n  return ret;\\n}\\nfloat unpackRGBAToDepth(vec4 color) {\\n  return dot(color, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\\n}\\nfloat kGaussianBlur[10];\\nfloat log_conv(float x0, float X, float y0, float Y) {\\n  return ( X + log( x0 + (y0 * exp(Y - X) ) ) );\\n}\\nvoid main() {\\n  kGaussianBlur[0] = 0.0882357;\\n  kGaussianBlur[1] = 0.0957407;\\n  kGaussianBlur[2] = 0.101786;\\n  kGaussianBlur[3] = 0.106026;\\n  kGaussianBlur[4] = 0.108212;\\n  kGaussianBlur[5] = 0.108212;\\n  kGaussianBlur[6] = 0.106026;\\n  kGaussianBlur[7] = 0.101786;\\n  kGaussianBlur[8] = 0.0957407;\\n  kGaussianBlur[9] = 0.0882357;\\n  float sample[10];\\n  for (int i = 0; i < 10; ++i) {\\n    float offset = float(i) - 4.5;\\n    vec2 texCoord = vec2( uv.x + offset * pixelSize.x, uv.y + offset * pixelSize.y);\\n    sample[i] = unpackRGBAToDepth(texture2D(texture, texCoord));\\n  }\\n  float sum = log_conv(kGaussianBlur[0], sample[0], kGaussianBlur[1], sample[1]);\\n  for (int i = 2; i < 10; ++i) {\\n    sum = log_conv(1.0, sum, kGaussianBlur[i], sample[i]);\\n  }\\n  gl_FragColor = packDepthToRGBA(sum);\\n}\\n',\n    defines: [],\n  },\n  {\n    name: 'grid',\n    vert: '\\nattribute vec2 a_uv0;\\nattribute vec3 a_position;\\nattribute vec3 a_normal;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\nvarying vec2 uv0;\\nvarying vec4 pos_w;\\n#if USE_WORLD_POS\\n  uniform mat3 normalMatrix;\\n  varying vec3 normal_w;\\n#endif\\nvoid main () {\\n  uv0 = a_uv0;\\n  pos_w = model * vec4(a_position, 1);\\n  #if USE_WORLD_POS\\n    normal_w = normalMatrix * a_normal;\\n  #endif\\n  gl_Position = viewProj * pos_w;\\n}',\n    frag: '\\nvarying vec2 uv0;\\nvarying vec4 pos_w;\\n#if USE_WORLD_POS\\n  varying vec3 normal_w;\\n#endif\\nuniform vec2 tiling;\\nuniform vec3 baseColorWhite;\\nuniform vec3 baseColorBlack;\\nuniform sampler2D basePattern;\\nuniform vec2 basePatternTiling;\\nuniform vec2 basePatternOffset;\\nuniform vec4 subPatternColor;\\nuniform sampler2D subPattern;\\nuniform vec2 subPatternTiling;\\nuniform vec2 subPatternOffset;\\nuniform vec4 subPatternColor2;\\nuniform sampler2D subPattern2;\\nuniform vec2 subPattern2Tiling;\\nuniform vec2 subPattern2Offset;\\nvoid main () {\\n  vec2 uv = uv0 * tiling;\\n  vec2 uvBase = uv * basePatternTiling + basePatternOffset;\\n  vec2 uvSub = uv * subPatternTiling + subPatternOffset;\\n  vec2 uvSub2 = uv * subPattern2Tiling + subPattern2Offset;\\n  #if USE_WORLD_POS\\n    vec3 dnormal_w = normalize(normal_w);\\n    if (abs(dnormal_w.x)>0.5) { \\n      uvBase = (pos_w.zy * tiling * basePatternTiling) + basePatternOffset;\\n      uvSub = (pos_w.zy * tiling * subPatternTiling) + subPatternOffset;\\n      uvSub2 = (pos_w.zy * tiling * subPattern2Tiling) + subPattern2Offset;\\n    } else if (abs(dnormal_w.z)>0.5) { \\n      uvBase = (pos_w.xy * tiling * basePatternTiling) + basePatternOffset;\\n      uvSub = (pos_w.xy * tiling * subPatternTiling) + subPatternOffset;\\n      uvSub2 = (pos_w.xy * tiling * subPattern2Tiling) + subPattern2Offset;\\n    } else { \\n      uvBase = (pos_w.xz * tiling * basePatternTiling) + basePatternOffset;\\n      uvSub = (pos_w.xz * tiling * subPatternTiling) + subPatternOffset;\\n      uvSub2 = (pos_w.xz * tiling * subPattern2Tiling) + subPattern2Offset;\\n    }\\n  #endif\\n  vec4 texColBase = texture2D(basePattern, uvBase);\\n  vec4 texColSub = texture2D(subPattern, uvSub);\\n  vec4 texColSub2 = texture2D(subPattern2, uvSub2);\\n  \\n  \\n  \\n  vec4 color = vec4(baseColorWhite,1) * texColBase + vec4(baseColorBlack,1) * (1.0-texColBase);\\n  color =\\n    color * (1.0 - texColSub) +\\n    (subPatternColor * subPatternColor.a + color * (1.0-subPatternColor.a)) * texColSub\\n    ;\\n  color =\\n    color * (1.0 - texColSub2) +\\n    (subPatternColor2 * subPatternColor2.a + color * (1.0-subPatternColor2.a)) * texColSub2\\n    ;\\n  \\n  \\n  gl_FragColor = color;\\n}',\n    defines: [\n      { name: 'USE_WORLD_POS', },\n    ],\n  },\n  {\n    name: 'line',\n    vert: '\\nattribute vec3 a_position;\\nattribute vec3 a_color;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\nvarying vec3 color;\\nvoid main () {\\n  vec4 pos = viewProj * model * vec4(a_position, 1);\\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  \\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nvarying vec3 color;\\nvoid main () {\\n  gl_FragColor = vec4(color, 1.0);\\n}',\n    defines: [],\n  },\n  {\n    name: 'matcap',\n    vert: '\\nattribute vec3 a_position;\\nattribute vec3 a_normal;\\nuniform   mat4 model;\\nuniform   mat4 viewProj;\\nuniform   mat3 normalMatrix;\\nvarying   vec2 matcapUV;\\n#if USE_MAIN_TEX\\n  attribute vec2 a_uv0;\\n  varying   vec2 uv0;\\n#endif\\n#if USE_SKINNING\\n  \\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}\\n#endif\\nvoid main(void){\\n  #if USE_MAIN_TEX\\n    uv0 = a_uv0;\\n  #endif\\n  vec4 pos = vec4(a_position, 1);\\n  #if USE_SKINNING\\n    mat4 skinMat = skinMatrix();\\n    pos = skinMat * pos;\\n  #endif\\n  pos = viewProj * model * pos;\\n  gl_Position = pos;\\n  vec4 normal = vec4(a_normal, 0);\\n  #if USE_SKINNING\\n    normal = skinMat * normal;\\n  #endif\\n  normal = vec4(normalize(normalMatrix * normal.xyz), 0);\\n  matcapUV = normal.xy;\\n  matcapUV = matcapUV * 0.5 + 0.5;\\n}',\n    frag: '\\nprecision mediump float;\\nuniform sampler2D matcapTex;\\nuniform float colorFactor;\\nuniform vec4 color;\\nvarying vec2 matcapUV;\\n#if USE_MAIN_TEX\\n  varying vec2 uv0;\\n  uniform sampler2D mainTex;\\n#endif\\nvoid main(void){\\n  vec4 col = vec4(1, 1, 1, 1);\\n  col *= color;\\n  #if USE_MAIN_TEX\\n    col *= texture2D(mainTex, uv0);\\n  #endif\\n  vec4 matcapColor = texture2D(matcapTex, matcapUV);\\n  gl_FragColor = col * colorFactor + matcapColor * (1.0 - colorFactor);\\n}',\n    defines: [\n      { name: 'USE_MAIN_TEX', },\n      { name: 'USE_SKINNING', },\n    ],\n  },\n  {\n    name: 'particle-add-multiply',\n    vert: '\\nattribute vec3 a_position; \\nattribute vec3 a_uv;  \\nattribute vec2 a_uv0; \\nattribute vec4 a_color;\\n#if USE_STRETCHED_BILLBOARD\\nattribute vec3 a_color0; \\n#endif\\nuniform vec2 frameTile; \\nuniform vec2 mainTiling;\\nuniform vec2 mainOffset;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_BILLBOARD || USE_VERTICAL_BILLBOARD\\n  uniform mat4 view;\\n#endif\\n#if USE_STRETCHED_BILLBOARD\\n  uniform vec3 eye;\\n  uniform float velocityScale;\\n  uniform float lengthScale;\\n#endif\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n#if USE_STRETCHED_BILLBOARD\\n  vec4 velocity = vec4(a_color0.xyz,0);\\n#endif\\n#if USE_WORLD_SPACE\\n  \\n#else\\n  pos = model * pos;\\n  #if USE_STRETCHED_BILLBOARD\\n  velocity = model * velocity;\\n  #endif\\n#endif\\n  vec2 cornerOffset = vec2((a_uv.x - 0.5) * a_uv0.x, (a_uv.y - 0.5) * a_uv0.x); \\n#if USE_STRETCHED_BILLBOARD\\n  \\n#else\\n  \\n  vec2 rotatedOffset;\\n  rotatedOffset.x = cos(a_uv0.y) * cornerOffset.x - sin(a_uv0.y) * cornerOffset.y;\\n  rotatedOffset.y = sin(a_uv0.y) * cornerOffset.x + cos(a_uv0.y) * cornerOffset.y;\\n#endif\\n#if USE_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = normalize(vec3(view[0][1], view[1][1], view[2][1]));\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_STRETCHED_BILLBOARD\\n  vec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz));\\n  vec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * a_uv0.x;\\n  pos.xyz += (camRight * abs(cornerOffset.x) * sign(cornerOffset.y)) - camUp * a_uv.x;\\n#elif USE_HORIZONTAL_BILLBOARD\\n  vec3 camRight = vec3(1, 0, 0);\\n  vec3 camUp = vec3(0, 0, -1);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_VERTICAL_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = vec3(0, 1, 0);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#else\\n  pos.x += rotatedOffset.x;\\n  pos.y += rotatedOffset.y;\\n#endif\\n  pos = viewProj * pos;\\n  vec2 aniUV = vec2(0, floor(a_uv.z * frameTile.y));\\n  aniUV.x = floor(a_uv.z * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\\n  aniUV.y = frameTile.y - aniUV.y - 1.0;\\n  aniUV = (aniUV.xy + a_uv.xy) / vec2(frameTile.x, frameTile.y);\\n  uv = aniUV * mainTiling + mainOffset;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nuniform vec4 tintColor;\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  \\n  vec4 col;\\n  vec4 texColor = texture2D(mainTexture, uv);\\n  col.rgb = tintColor.rgb * texColor.rgb * color.rgb * vec3(2.0);\\n  col.a = (1.0 - texColor.a) * (tintColor.a * color.a * 2.0);\\n  gl_FragColor = col;\\n}',\n    defines: [\n      { name: 'USE_SOFT_PARTICLE', },\n      { name: 'USE_BILLBOARD', },\n      { name: 'USE_STRETCHED_BILLBOARD', },\n      { name: 'USE_HORIZONTAL_BILLBOARD', },\n      { name: 'USE_VERTICAL_BILLBOARD', },\n      { name: 'USE_WORLD_SPACE', },\n    ],\n  },\n  {\n    name: 'particle-add-smooth',\n    vert: '\\nattribute vec3 a_position; \\nattribute vec3 a_uv;  \\nattribute vec2 a_uv0; \\nattribute vec4 a_color;\\n#if USE_STRETCHED_BILLBOARD\\nattribute vec3 a_color0; \\n#endif\\nuniform vec2 frameTile;\\nuniform vec2 mainTiling;\\nuniform vec2 mainOffset;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_BILLBOARD || USE_VERTICAL_BILLBOARD\\n  uniform mat4 view;\\n#endif\\n#if USE_STRETCHED_BILLBOARD\\n  uniform vec3 eye;\\n  uniform float velocityScale;\\n  uniform float lengthScale;\\n#endif\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n#if USE_STRETCHED_BILLBOARD\\n  vec4 velocity = vec4(a_color0.xyz,0);\\n#endif\\n#if USE_WORLD_SPACE\\n  \\n#else\\n  pos = model * pos;\\n  #if USE_STRETCHED_BILLBOARD\\n  velocity = model * velocity;\\n  #endif\\n#endif\\n  vec2 cornerOffset = vec2((a_uv.x - 0.5) * a_uv0.x, (a_uv.y - 0.5) * a_uv0.x);\\n#if USE_STRETCHED_BILLBOARD\\n  \\n#else\\n  \\n  vec2 rotatedOffset;\\n  rotatedOffset.x = cos(a_uv0.y) * cornerOffset.x - sin(a_uv0.y) * cornerOffset.y;\\n  rotatedOffset.y = sin(a_uv0.y) * cornerOffset.x + cos(a_uv0.y) * cornerOffset.y;\\n#endif\\n#if USE_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = normalize(vec3(view[0][1], view[1][1], view[2][1]));\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_STRETCHED_BILLBOARD\\n  vec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz));\\n  vec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * a_uv0.x;\\n  pos.xyz += (camRight * abs(cornerOffset.x) * sign(cornerOffset.y)) - camUp * a_uv.x;\\n#elif USE_HORIZONTAL_BILLBOARD\\n  vec3 camRight = vec3(1, 0, 0);\\n  vec3 camUp = vec3(0, 0, -1);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_VERTICAL_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = vec3(0, 1, 0);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#else\\n  pos.x += rotatedOffset.x;\\n  pos.y += rotatedOffset.y;\\n#endif\\n  pos = viewProj * pos;\\n  vec2 aniUV = vec2(0, floor(a_uv.z * frameTile.y));\\n  aniUV.x = floor(a_uv.z * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\\n  aniUV.y = frameTile.y - aniUV.y - 1.0;\\n  aniUV = (aniUV.xy + a_uv.xy) / vec2(frameTile.x, frameTile.y);\\n  uv = aniUV * mainTiling + mainOffset;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  \\n  vec4 col = color * texture2D(mainTexture, uv);\\n  col.rgb *= col.a;\\n  gl_FragColor = col;\\n}',\n    defines: [\n      { name: 'USE_SOFT_PARTICLE', },\n      { name: 'USE_BILLBOARD', },\n      { name: 'USE_STRETCHED_BILLBOARD', },\n      { name: 'USE_HORIZONTAL_BILLBOARD', },\n      { name: 'USE_VERTICAL_BILLBOARD', },\n      { name: 'USE_WORLD_SPACE', },\n    ],\n  },\n  {\n    name: 'particle-add',\n    vert: '\\nattribute vec3 a_position; \\nattribute vec3 a_uv;  \\nattribute vec2 a_uv0; \\nattribute vec4 a_color;\\n#if USE_STRETCHED_BILLBOARD\\nattribute vec3 a_color0; \\n#endif\\nuniform vec2 frameTile;\\nuniform vec2 mainTiling;\\nuniform vec2 mainOffset;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_BILLBOARD || USE_VERTICAL_BILLBOARD\\n  uniform mat4 view;\\n#endif\\n#if USE_STRETCHED_BILLBOARD\\n  uniform vec3 eye;\\n  uniform float velocityScale;\\n  uniform float lengthScale;\\n#endif\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n#if USE_STRETCHED_BILLBOARD\\n  vec4 velocity = vec4(a_color0.xyz,0);\\n#endif\\n#if USE_WORLD_SPACE\\n  \\n#else\\n  pos = model * pos;\\n  #if USE_STRETCHED_BILLBOARD\\n  velocity = model * velocity;\\n  #endif\\n#endif\\n  vec2 cornerOffset = vec2((a_uv.x - 0.5) * a_uv0.x, (a_uv.y - 0.5) * a_uv0.x);\\n#if USE_STRETCHED_BILLBOARD\\n  \\n#else\\n  \\n  vec2 rotatedOffset;\\n  rotatedOffset.x = cos(a_uv0.y) * cornerOffset.x - sin(a_uv0.y) * cornerOffset.y;\\n  rotatedOffset.y = sin(a_uv0.y) * cornerOffset.x + cos(a_uv0.y) * cornerOffset.y;\\n#endif\\n#if USE_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = normalize(vec3(view[0][1], view[1][1], view[2][1]));\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_STRETCHED_BILLBOARD\\n  vec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz));\\n  vec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * a_uv0.x;\\n  pos.xyz += (camRight * abs(cornerOffset.x) * sign(cornerOffset.y)) - camUp * a_uv.x;\\n#elif USE_HORIZONTAL_BILLBOARD\\n  vec3 camRight = vec3(1, 0, 0);\\n  vec3 camUp = vec3(0, 0, -1);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_VERTICAL_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = vec3(0, 1, 0);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#else\\n  pos.x += rotatedOffset.x;\\n  pos.y += rotatedOffset.y;\\n#endif\\n  pos = viewProj * pos;\\n  vec2 aniUV = vec2(0, floor(a_uv.z * frameTile.y));\\n  aniUV.x = floor(a_uv.z * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\\n  aniUV.y = frameTile.y - aniUV.y - 1.0;\\n  aniUV = (aniUV.xy + a_uv.xy) / vec2(frameTile.x, frameTile.y);\\n  uv = aniUV * mainTiling + mainOffset;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nuniform vec4 tintColor;\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  \\n  gl_FragColor = 2.0 * color * tintColor * texture2D(mainTexture, uv);\\n}',\n    defines: [\n      { name: 'USE_SOFT_PARTICLE', },\n      { name: 'USE_BILLBOARD', },\n      { name: 'USE_STRETCHED_BILLBOARD', },\n      { name: 'USE_HORIZONTAL_BILLBOARD', },\n      { name: 'USE_VERTICAL_BILLBOARD', },\n      { name: 'USE_WORLD_SPACE', },\n    ],\n  },\n  {\n    name: 'particle-alpha-blend',\n    vert: '\\nattribute vec3 a_position; \\nattribute vec3 a_uv;  \\nattribute vec2 a_uv0; \\nattribute vec4 a_color;\\n#if USE_STRETCHED_BILLBOARD\\nattribute vec3 a_color0; \\n#endif\\nuniform vec2 frameTile;\\nuniform vec2 mainTiling;\\nuniform vec2 mainOffset;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_BILLBOARD || USE_VERTICAL_BILLBOARD\\n  uniform mat4 view;\\n#endif\\n#if USE_STRETCHED_BILLBOARD\\n  uniform vec3 eye;\\n  uniform float velocityScale;\\n  uniform float lengthScale;\\n#endif\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n#if USE_STRETCHED_BILLBOARD\\n  vec4 velocity = vec4(a_color0.xyz,0);\\n#endif\\n#if USE_WORLD_SPACE\\n  \\n#else\\n  pos = model * pos;\\n  #if USE_STRETCHED_BILLBOARD\\n  velocity = model * velocity;\\n  #endif\\n#endif\\n  vec2 cornerOffset = vec2((a_uv.x - 0.5) * a_uv0.x, (a_uv.y - 0.5) * a_uv0.x); \\n#if USE_STRETCHED_BILLBOARD\\n  \\n#else\\n  \\n  vec2 rotatedOffset;\\n  rotatedOffset.x = cos(a_uv0.y) * cornerOffset.x - sin(a_uv0.y) * cornerOffset.y;\\n  rotatedOffset.y = sin(a_uv0.y) * cornerOffset.x + cos(a_uv0.y) * cornerOffset.y;\\n#endif\\n#if USE_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = normalize(vec3(view[0][1], view[1][1], view[2][1]));\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_STRETCHED_BILLBOARD\\n  vec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz));\\n  vec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * a_uv0.x;\\n  pos.xyz += (camRight * abs(cornerOffset.x) * sign(cornerOffset.y)) - camUp * a_uv.x;\\n#elif USE_HORIZONTAL_BILLBOARD\\n  vec3 camRight = vec3(1, 0, 0);\\n  vec3 camUp = vec3(0, 0, -1);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_VERTICAL_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = vec3(0, 1, 0);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#else\\n  pos.x += rotatedOffset.x;\\n  pos.y += rotatedOffset.y;\\n#endif\\n  pos = viewProj * pos;\\n  vec2 aniUV = vec2(0, floor(a_uv.z * frameTile.y));\\n  aniUV.x = floor(a_uv.z * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\\n  aniUV.y = frameTile.y - aniUV.y - 1.0;\\n  aniUV = (aniUV.xy + a_uv.xy) / vec2(frameTile.x, frameTile.y);\\n  uv = aniUV * mainTiling + mainOffset;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nuniform vec4 tintColor;\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  \\n  gl_FragColor = 2.0 * color * tintColor * texture2D(mainTexture, uv);\\n}',\n    defines: [\n      { name: 'USE_SOFT_PARTICLE', },\n      { name: 'USE_BILLBOARD', },\n      { name: 'USE_STRETCHED_BILLBOARD', },\n      { name: 'USE_HORIZONTAL_BILLBOARD', },\n      { name: 'USE_VERTICAL_BILLBOARD', },\n      { name: 'USE_WORLD_SPACE', },\n    ],\n  },\n  {\n    name: 'particle-premultiply-blend',\n    vert: '\\nattribute vec3 a_position; \\nattribute vec3 a_uv;  \\nattribute vec2 a_uv0; \\nattribute vec4 a_color;\\n#if USE_STRETCHED_BILLBOARD\\nattribute vec3 a_color0; \\n#endif\\nuniform vec2 frameTile;\\nuniform vec2 mainTiling;\\nuniform vec2 mainOffset;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_BILLBOARD || USE_VERTICAL_BILLBOARD\\n  uniform mat4 view;\\n#endif\\n#if USE_STRETCHED_BILLBOARD\\n  uniform vec3 eye;\\n  uniform float velocityScale;\\n  uniform float lengthScale;\\n#endif\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n#if USE_STRETCHED_BILLBOARD\\n  vec4 velocity = vec4(a_color0.xyz,0);\\n#endif\\n#if USE_WORLD_SPACE\\n  \\n#else\\n  pos = model * pos;\\n  #if USE_STRETCHED_BILLBOARD\\n  velocity = model * velocity;\\n  #endif\\n#endif\\n  vec2 cornerOffset = vec2((a_uv.x - 0.5) * a_uv0.x, (a_uv.y - 0.5) * a_uv0.x);\\n#if USE_STRETCHED_BILLBOARD\\n  \\n#else\\n  \\n  vec2 rotatedOffset;\\n  rotatedOffset.x = cos(a_uv0.y) * cornerOffset.x - sin(a_uv0.y) * cornerOffset.y;\\n  rotatedOffset.y = sin(a_uv0.y) * cornerOffset.x + cos(a_uv0.y) * cornerOffset.y;\\n#endif\\n#if USE_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = normalize(vec3(view[0][1], view[1][1], view[2][1]));\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_STRETCHED_BILLBOARD\\n  vec3 camRight = normalize(cross(pos.xyz - eye, velocity.xyz));\\n  vec3 camUp = velocity.xyz * velocityScale + normalize(velocity.xyz) * lengthScale * a_uv0.x;\\n  pos.xyz += (camRight * abs(cornerOffset.x) * sign(cornerOffset.y)) - camUp * a_uv.x;\\n#elif USE_HORIZONTAL_BILLBOARD\\n  vec3 camRight = vec3(1, 0, 0);\\n  vec3 camUp = vec3(0, 0, -1);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#elif USE_VERTICAL_BILLBOARD\\n  vec3 camRight = normalize(vec3(view[0][0], view[1][0], view[2][0]));\\n  vec3 camUp = vec3(0, 1, 0);\\n  pos.xyz += (camRight * rotatedOffset.x) + (camUp * rotatedOffset.y);\\n#else\\n  pos.x += rotatedOffset.x;\\n  pos.y += rotatedOffset.y;\\n#endif\\n  pos = viewProj * pos;\\n  vec2 aniUV = vec2(0, floor(a_uv.z * frameTile.y));\\n  aniUV.x = floor(a_uv.z * frameTile.x * frameTile.y - aniUV.y * frameTile.x);\\n  aniUV.y = frameTile.y - aniUV.y - 1.0;\\n  aniUV = (aniUV.xy + a_uv.xy) / vec2(frameTile.x, frameTile.y);\\n  uv = aniUV * mainTiling + mainOffset;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nvarying vec2 uv;\\nvarying vec4 color;\\nvoid main () {\\n  \\n  gl_FragColor = color * texture2D(mainTexture, uv) * color.a;\\n}',\n    defines: [\n      { name: 'USE_SOFT_PARTICLE', },\n      { name: 'USE_BILLBOARD', },\n      { name: 'USE_STRETCHED_BILLBOARD', },\n      { name: 'USE_HORIZONTAL_BILLBOARD', },\n      { name: 'USE_VERTICAL_BILLBOARD', },\n      { name: 'USE_WORLD_SPACE', },\n    ],\n  },\n  {\n    name: 'pbr',\n    vert: '\\nattribute vec3 a_position;\\nattribute vec3 a_normal;\\nvarying vec3 pos_w;\\nvarying vec3 normal_w;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\nuniform mat3 normalMatrix;\\n#if USE_NORMAL_TEXTURE || USE_ALBEDO_TEXTURE || USE_MRA_TEXTURE || USE_METALLIC_TEXTURE || USE_ROUGHNESS_TEXTURE || USE_AO_TEXTURE || USE_EMISSIVE_TEXTURE\\n  attribute vec2 a_uv0;\\n  uniform vec2 mainTiling;\\n  uniform vec2 mainOffset;\\n  varying vec2 uv0;\\n#endif\\n#if USE_SKINNING\\n  \\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}\\n#endif\\n#if USE_SHADOW_MAP\\n  #if NUM_SHADOW_LIGHTS > 0\\n    #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n      uniform mat4 lightViewProjMatrix_{id};\\n      uniform float minDepth_{id};\\n      uniform float maxDepth_{id};\\n      varying vec4 pos_lightspace_{id};\\n      varying float vDepth_{id};\\n    #pragma endFor\\n  #endif\\n#endif\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n  #if USE_SKINNING\\n    mat4 skinMat = skinMatrix();\\n    pos = skinMat * pos;\\n  #endif\\n  pos_w = (model * pos).xyz;\\n  pos = viewProj * model * pos;\\n  #if USE_NORMAL_TEXTURE || USE_ALBEDO_TEXTURE || USE_MRA_TEXTURE || USE_METALLIC_TEXTURE || USE_ROUGHNESS_TEXTURE || USE_AO_TEXTURE || USE_EMISSIVE_TEXTURE\\n    uv0 = a_uv0 * mainTiling + mainOffset;\\n  #endif\\n  vec4 normal = vec4(a_normal, 0);\\n  #if USE_SKINNING\\n    normal = skinMat * normal;\\n  #endif\\n  normal_w = normalMatrix * normal.xyz;\\n  #if USE_SHADOW_MAP\\n    #if NUM_SHADOW_LIGHTS > 0\\n      #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n        pos_lightspace_{id} = lightViewProjMatrix_{id} * vec4(pos_w, 1.0);\\n        vDepth_{id} = (pos_lightspace_{id}.z + minDepth_{id}) / (minDepth_{id} + maxDepth_{id});\\n      #pragma endFor\\n    #endif\\n  #endif\\n  gl_Position = pos;\\n}',\n    frag: '\\n#if USE_NORMAL_TEXTURE\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n#if USE_TEX_LOD\\n#extension GL_EXT_shader_texture_lod: enable\\n#endif\\n\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define EPSILON 1e-6\\n#define LOG2 1.442695\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n\\nvec3 gammaToLinearSpaceRGB(vec3 sRGB) { \\n  return sRGB * (sRGB * (sRGB * 0.305306011 + 0.682171111) + 0.012522878);\\n}\\nvec3 linearToGammaSpaceRGB(vec3 RGB) { \\n  vec3 S1 = sqrt(RGB);\\n  vec3 S2 = sqrt(S1);\\n  vec3 S3 = sqrt(S2);\\n  return 0.585122381 * S1 + 0.783140355 * S2 - 0.368262736 * S3;\\n}\\nvec4 gammaToLinearSpaceRGBA(vec4 sRGBA) {\\n  return vec4(gammaToLinearSpaceRGB(sRGBA.rgb), sRGBA.a);\\n}\\nvec4 linearToGammaSpaceRGBA(vec4 RGBA) {\\n  return vec4(linearToGammaSpaceRGB(RGBA.rgb), RGBA.a);\\n}\\nfloat gammaToLinearSpaceExact(float val) {\\n  if (val <= 0.04045) {\\n    return val / 12.92;\\n  } else if (val < 1.0) {\\n    return pow((val + 0.055) / 1.055, 2.4);\\n  } else {\\n    return pow(val, 2.2);\\n  }\\n}\\nfloat linearToGammaSpaceExact(float val) {\\n  if (val <= 0.0) {\\n    return 0.0;\\n  } else if (val <= 0.0031308) {\\n    return 12.92 * val;\\n  } else if (val < 1.0) {\\n    return 1.055 * pow(val, 0.4166667) - 0.055;\\n  } else {\\n    return pow(val, 0.45454545);\\n  }\\n}\\n\\nstruct LightInfo {\\n  vec3 lightDir;\\n  vec3 radiance;\\n};\\n#if NUM_DIR_LIGHTS > 0\\n  #pragma for id in range(0, NUM_DIR_LIGHTS)\\n    uniform vec3 dir_light{id}_direction;\\n    uniform vec3 dir_light{id}_color;\\n  #pragma endFor\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_POINT_LIGHTS)\\n    uniform vec3 point_light{id}_position;\\n    uniform vec3 point_light{id}_color;\\n    uniform float point_light{id}_range;\\n  #pragma endFor\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n    uniform vec3 spot_light{id}_position;\\n    uniform vec3 spot_light{id}_direction;\\n    uniform vec3 spot_light{id}_color;\\n    uniform vec2 spot_light{id}_spot;\\n    uniform float spot_light{id}_range;\\n  #pragma endFor\\n#endif\\nLightInfo computeDirectionalLighting(\\n  vec3 lightDirection,\\n  vec3 lightColor\\n) {\\n  LightInfo ret;\\n  ret.lightDir = -normalize(lightDirection);\\n  ret.radiance = lightColor;\\n  return ret;\\n}\\nLightInfo computePointLighting(\\n  vec3 lightPosition,\\n  vec3 positionW,\\n  vec3 lightColor,\\n  float lightRange\\n) {\\n  LightInfo ret;\\n  vec3 lightDir = lightPosition - positionW;\\n  float attenuation = max(0.0, 1.0 - length(lightDir) / lightRange);\\n  ret.lightDir = normalize(lightDir);\\n  ret.radiance = lightColor * attenuation;\\n  return ret;\\n}\\nLightInfo computeSpotLighting(\\n  vec3 lightPosition,\\n  vec3 positionW,\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  vec2 lightSpot,\\n  float lightRange\\n) {\\n  LightInfo ret;\\n  vec3 lightDir = lightPosition - positionW;\\n  float attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  float cosConeAngle = max(0., dot(lightDirection, -lightDir));\\n  cosConeAngle = cosConeAngle < lightSpot.x ? 0.0 : cosConeAngle;\\n  cosConeAngle = pow(cosConeAngle,lightSpot.y);\\n  ret.lightDir = normalize(lightDir);\\n  ret.radiance = lightColor * attenuation * cosConeAngle;\\n  return ret;\\n}\\n\\nvec3 unpackNormal(vec4 nmap) {\\n  return nmap.xyz * 2.0 - 1.0;\\n}\\nvec3 unpackRGBE(vec4 rgbe) {\\n    return rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\\n}\\n#if USE_SHADOW_MAP\\n  \\nvec4 packDepthToRGBA(float depth) {\\n  vec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\\n  ret = fract(ret);\\n  ret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\\n  return ret;\\n}\\nfloat unpackRGBAToDepth(vec4 color) {\\n  return dot(color, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\\n}\\n  \\n#if NUM_SHADOW_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n    uniform sampler2D shadowMap_{id};\\n    uniform float darkness_{id};\\n    uniform float depthScale_{id};\\n    uniform float frustumEdgeFalloff_{id};\\n    uniform float bias_{id};\\n    uniform vec2 texelSize_{id};\\n    varying vec4 pos_lightspace_{id};\\n    varying float vDepth_{id};\\n  #pragma endFor\\n#endif\\nfloat computeShadow(sampler2D shadowMap, vec4 pos_lightspace, float bias) {\\n  vec3 projCoords = pos_lightspace.xyz / pos_lightspace.w;\\n  projCoords = projCoords * 0.5 + 0.5;\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, projCoords.xy));\\n  float currentDepth = projCoords.z;\\n  float shadow = (currentDepth - bias > closestDepth) ? 0.0 : 1.0;\\n  return shadow;\\n}\\nfloat computeFallOff(float esm, vec2 coords, float frustumEdgeFalloff) {\\n  float mask = smoothstep(1.0 - frustumEdgeFalloff, 1.0, clamp(dot(coords, coords), 0.0, 1.0));\\n  return mix(esm, 1.0, mask);\\n}\\nfloat computeShadowESM(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float depthScale, float darkness, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, shadowUV));\\n  \\n  float esm = clamp(exp(-depthScale * (currentDepth - closestDepth)), 1.0 - darkness, 1.0);\\n  return computeFallOff(esm, projCoords, frustumEdgeFalloff);\\n}\\nfloat computeShadowPCF(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float darkness, vec2 texelSize, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float visibility = 1.0;\\n  vec2 poissonDisk[4];\\n  poissonDisk[0] = vec2(-0.94201624, -0.39906216);\\n  poissonDisk[1] = vec2(0.94558609, -0.76890725);\\n  poissonDisk[2] = vec2(-0.094184101, -0.92938870);\\n  poissonDisk[3] = vec2(0.34495938, 0.29387760);\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[0] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[1] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[2] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[3] * texelSize)) < currentDepth) visibility -= 0.25;\\n  return computeFallOff(min(1.0, visibility + 1.0 - darkness), projCoords, frustumEdgeFalloff);\\n}\\n#endif\\nuniform vec3 eye;\\nvarying vec3 pos_w;\\nvarying vec3 normal_w;\\n#if USE_NORMAL_TEXTURE || USE_ALBEDO_TEXTURE || USE_MRA_TEXTURE || USE_METALLIC_TEXTURE || USE_ROUGHNESS_TEXTURE || USE_AO_TEXTURE || USE_EMISSIVE_TEXTURE\\n  varying vec2 uv0;\\n#endif\\n#if USE_IBL\\n  uniform samplerCube diffuseEnvTexture;\\n  uniform samplerCube specularEnvTexture;\\n  uniform sampler2D brdfLUT;\\n  #if USE_TEX_LOD\\n    uniform float maxReflectionLod;\\n  #endif\\n#endif\\nuniform vec4 albedo;\\n#if USE_ALBEDO_TEXTURE\\n  uniform sampler2D albedo_texture;\\n#endif\\n#if USE_MRA_TEXTURE\\n  uniform vec2 sampler2D mra_texture;\\n#endif\\nuniform float metallic;\\n#if USE_METALLIC_TEXTURE\\n  uniform sampler2D metallic_texture;\\n#endif\\nuniform float roughness;\\n#if USE_ROUGHNESS_TEXTURE\\n  uniform sampler2D roughness_texture;\\n#endif\\nuniform float ao;\\n#if USE_AO_TEXTURE\\n  uniform sampler2D ao_texture;\\n#endif\\n#if USE_EMISSIVE\\n  uniform vec3 emissive;\\n  #if USE_EMISSIVE_TEXTURE\\n    uniform sampler2D emissive_texture;\\n  #endif\\n#endif\\n#if USE_ALPHA_TEST\\n  uniform float alphaTestThreshold;\\n#endif\\n#if USE_NORMAL_TEXTURE\\n  uniform sampler2D normal_texture;\\n  \\n  vec3 getNormalFromTexture() {\\n    vec3 tangentNormal = texture2D(normal_texture, uv0).rgb * 2.0 - 1.0;\\n    vec3 q1  = dFdx(pos_w);\\n    vec3 q2  = dFdy(pos_w);\\n    vec2 st1 = dFdx(uv0);\\n    vec2 st2 = dFdy(uv0);\\n    vec3 N   = normalize(normal_w);\\n    vec3 T   = normalize(q1*st2.t - q2*st1.t);\\n    vec3 B   = -normalize(cross(N, T));\\n    mat3 TBN = mat3(T, B, N);\\n    return normalize(TBN * tangentNormal);\\n  }\\n#endif\\nfloat distributionGGX(vec3 N, vec3 H, float roughness) {\\n  float a = roughness * roughness;\\n  float a2 = a * a;\\n  float NdotH = max(dot(N, H), 0.0);\\n  float NdotH2 = NdotH * NdotH;\\n  float nom   = a2;\\n  float denom = (NdotH2 * (a2 - 1.0) + 1.0);\\n  denom = PI * denom * denom;\\n  return nom / denom;\\n}\\nfloat geometrySchlickGGX(float NdotV, float roughness) {\\n  float r = (roughness + 1.0);\\n  float k = (r * r) / 8.0;\\n  float nom   = NdotV;\\n  float denom = NdotV * (1.0 - k) + k;\\n  return nom / denom;\\n}\\nfloat geometrySmith(vec3 N, vec3 V, vec3 L, float roughness) {\\n  float NdotV = max(dot(N, V), 0.0);\\n  float NdotL = max(dot(N, L), 0.0);\\n  float ggx2 = geometrySchlickGGX(NdotV, roughness);\\n  float ggx1 = geometrySchlickGGX(NdotL, roughness);\\n  return ggx1 * ggx2;\\n}\\nvec3 fresnelSchlick(float cosTheta, vec3 F0) {\\n  float fresnel = exp2((-5.55473 * cosTheta - 6.98316) * cosTheta);\\n  return F0 + (1.0 - F0) * fresnel;\\n}\\nvec3 fresnelSchlickRoughness(float cosTheta, vec3 F0, float roughness) {\\n  float fresnel = exp2((-5.55473 * cosTheta - 6.98316) * cosTheta);\\n  return F0 + (max(vec3(1.0 - roughness), F0) - F0) * fresnel;\\n}\\nvec3 brdf(LightInfo lightInfo, vec3 N, vec3 V, vec3 F0, vec3 albedo, float metallic, float roughness) {\\n  vec3 H = normalize(V + lightInfo.lightDir);\\n  float NDF = distributionGGX(N, H, roughness);\\n  float G   = geometrySmith(N, V, lightInfo.lightDir, roughness);\\n  vec3 F    = fresnelSchlick(max(dot(H, V), 0.0), F0);\\n  vec3 nominator    = NDF * G * F;\\n  float denominator = 4.0 * max(dot(N, V), 0.0) * max(dot(N, lightInfo.lightDir), 0.0) + 0.001; \\n  vec3 specular = nominator / denominator;\\n  \\n  vec3 kS = F;\\n  \\n  \\n  \\n  vec3 kD = vec3(1.0) - kS;\\n  \\n  \\n  \\n  kD *= 1.0 - metallic;\\n  float NdotL = max(dot(N, lightInfo.lightDir), 0.0);\\n  return (kD * albedo / PI + specular) * lightInfo.radiance * NdotL;\\n}\\nvoid main() {\\n  float opacity = 1.0;\\n  #if USE_ALBEDO_TEXTURE\\n    vec4 baseColor = albedo * gammaToLinearSpaceRGBA(texture2D(albedo_texture, uv0));\\n    vec3 albedo = baseColor.rgb;\\n    opacity = baseColor.a;\\n  #else\\n    opacity = albedo.a;\\n    vec3 albedo = albedo.rgb;\\n  #endif\\n  #if USE_ALPHA_TEST\\n    if(opacity < alphaTestThreshold) discard;\\n  #endif\\n  #if USE_MRA_TEXTURE\\n    vec3 metalRoughness = texture2D(mra_texture, uv0).rgb;\\n    float metallic = metalRoughness.r;\\n    float roughness = metalRoughness.g;\\n    float ao = metalRoughness.b;\\n  #else\\n    #if USE_METALLIC_TEXTURE\\n      float metallic  = texture2D(metallic_texture, uv0).r;\\n    #endif\\n    #if USE_ROUGHNESS_TEXTURE\\n      float roughness  = texture2D(roughness_texture, uv0).r;\\n    #endif\\n    #if USE_AO_TEXTURE\\n      float ao  = texture2D(ao_texture, uv0).r;\\n    #endif\\n  #endif\\n  vec3 N = normalize(normal_w);\\n  #if USE_NORMAL_TEXTURE\\n    N = getNormalFromTexture();\\n  #endif\\n  vec3 V = normalize(eye - pos_w);\\n  \\n  \\n  vec3 F0 = vec3(0.04);\\n  F0 = mix(F0, albedo, metallic);\\n  \\n  vec3 Lo = vec3(0.0);\\n  \\n  #if NUM_POINT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_POINT_LIGHTS)\\n      LightInfo pointLight{id};\\n      pointLight{id} = computePointLighting(point_light{id}_position, pos_w, point_light{id}_color, point_light{id}_range);\\n      Lo += brdf(pointLight{id}, N, V, F0, albedo, metallic, roughness);\\n    #pragma endFor\\n  #endif\\n  #if NUM_DIR_LIGHTS > 0\\n    #pragma for id in range(0, NUM_DIR_LIGHTS)\\n      LightInfo directionalLight{id};\\n      directionalLight{id} = computeDirectionalLighting(dir_light{id}_direction, dir_light{id}_color);\\n      Lo += brdf(directionalLight{id}, N, V, F0, albedo, metallic, roughness);\\n    #pragma endFor\\n  #endif\\n  #if NUM_SPOT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n      LightInfo spotLight{id};\\n      spotLight{id} = computeSpotLighting(spot_light{id}_position, pos_w, spot_light{id}_direction, spot_light{id}_color, spot_light{id}_spot, spot_light{id}_range);\\n      Lo += brdf(spotLight{id}, N, V, F0, albedo, metallic, roughness);\\n    #pragma endFor\\n  #endif\\n  #if USE_EMISSIVE\\n    vec3 emissiveColor = gammaToLinearSpaceRGB(emissive);\\n    #if USE_EMISSIVE_TEXTURE\\n      emissiveColor *= gammaToLinearSpaceRGB(texture2D(emissive_texture, uv0).rgb);\\n    #endif\\n    Lo += emissiveColor;\\n  #endif\\n  \\n  vec3 ambient = vec3(0.03) * albedo * ao;\\n  #if USE_IBL\\n    \\n    vec3 F = fresnelSchlickRoughness(max(dot(N, V), 0.0), F0, roughness);\\n    vec3 kS = F;\\n    vec3 kD = vec3(1.0) - kS;\\n    kD *= 1.0 - metallic;\\n    #if USE_RGBE_HDR_IBL_DIFFUSE\\n      vec3 diffuseEnv = unpackRGBE(textureCube(diffuseEnvTexture, N));\\n    #else\\n      vec3 diffuseEnv = textureCube(diffuseEnvTexture, N).rgb;\\n    #endif\\n    vec3 diffuse = diffuseEnv * albedo;\\n    \\n    vec3 R = reflect(-V, N);\\n    #if USE_TEX_LOD\\n      #if USE_RGBE_HDR_IBL_SPECULAR\\n        vec3 specularEnv = unpackRGBE(textureCubeLodEXT(specularEnvTexture, R, roughness * maxReflectionLod));\\n      #else\\n        vec3 specularEnv = textureCubeLodEXT(specularEnvTexture, R, roughness * maxReflectionLod).rgb;\\n      #endif\\n    #else\\n      #if USE_RGBE_HDR_IBL_SPECULAR\\n        vec3 specularEnv = unpackRGBE(textureCube(specularEnvTexture, R));\\n      #else\\n        vec3 specularEnv = textureCube(specularEnvTexture, R).rgb;\\n      #endif\\n    #endif\\n    vec2 brdf  = texture2D(brdfLUT, vec2(max(dot(N, V), 0.0), roughness)).rg;\\n    vec3 specular = specularEnv * (F * brdf.x + brdf.y);\\n    ambient = (kD * diffuse + specular) * ao;\\n  #endif\\n  #if USE_SHADOW_MAP\\n    float shadow = 1.0;\\n    #if NUM_SHADOW_LIGHTS > 0\\n      #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n        shadow *= computeShadowESM(shadowMap_{id}, pos_lightspace_{id}, vDepth_{id}, depthScale_{id}, darkness_{id}, frustumEdgeFalloff_{id});\\n      #pragma endFor\\n    #endif\\n    vec3 color = (ambient + Lo) * shadow;\\n  #else\\n    vec3 color = ambient + Lo;\\n  #endif\\n  \\n  color = color / (color + vec3(1.0));\\n  \\n  vec4 finalColor = vec4(color, opacity);\\n  gl_FragColor = linearToGammaSpaceRGBA(finalColor);\\n}',\n    defines: [\n      { name: 'USE_NORMAL_TEXTURE', },\n      { name: 'USE_ALBEDO_TEXTURE', },\n      { name: 'USE_METALLIC_ROUGHNESS_TEXTURE', },\n      { name: 'USE_METALLIC_TEXTURE', },\n      { name: 'USE_ROUGHNESS_TEXTURE', },\n      { name: 'USE_AO_TEXTURE', },\n      { name: 'USE_EMISSIVE', },\n      { name: 'USE_EMISSIVE_TEXTURE', },\n      { name: 'USE_IBL', },\n      { name: 'USE_TEX_LOD', },\n      { name: 'USE_ALPHA_TEST', },\n      { name: 'USE_SHADOW_MAP', },\n      { name: 'USE_SKINNING', },\n      { name: 'NUM_DIR_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_POINT_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_SPOT_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_SHADOW_LIGHTS', min: 0, max: 4, },\n    ],\n  },\n  {\n    name: 'phong',\n    vert: '\\nattribute vec3 a_position;\\nattribute vec3 a_normal;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\nuniform mat3 normalMatrix;\\nvarying vec3 normal_w;\\nvarying vec3 pos_w;\\n#if USE_NORMAL_TEXTURE || USE_DIFFUSE_TEXTURE || USE_EMISSIVE_TEXTURE\\n  attribute vec2 a_uv0;\\n  uniform vec2 mainTiling;\\n  uniform vec2 mainOffset;\\n  varying vec2 uv0;\\n#endif\\n#if USE_SKINNING\\n  \\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}\\n#endif\\n#if USE_SHADOW_MAP\\n  #if NUM_SHADOW_LIGHTS > 0\\n    #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n      uniform mat4 lightViewProjMatrix_{id};\\n      uniform float minDepth_{id};\\n      uniform float maxDepth_{id};\\n      varying vec4 pos_lightspace_{id};\\n      varying float vDepth_{id};\\n    #pragma endFor\\n  #endif\\n#endif\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n  #if USE_SKINNING\\n    mat4 skinMat = skinMatrix();\\n    pos = skinMat * pos;\\n  #endif\\n  pos_w = (model * pos).xyz;\\n  pos = viewProj * model * pos;\\n  #if USE_NORMAL_TEXTURE || USE_DIFFUSE_TEXTURE || USE_EMISSIVE_TEXTURE\\n    uv0 = a_uv0 * mainTiling + mainOffset;\\n  #endif\\n  vec4 normal = vec4(a_normal, 0);\\n  #if USE_SKINNING\\n    normal = skinMat * normal;\\n  #endif\\n  normal_w = normalMatrix * normal.xyz;\\n  #if USE_SHADOW_MAP\\n    #if NUM_SHADOW_LIGHTS > 0\\n      #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n        pos_lightspace_{id} = lightViewProjMatrix_{id} * vec4(pos_w, 1.0);\\n        vDepth_{id} = (pos_lightspace_{id}.z + minDepth_{id}) / (minDepth_{id} + maxDepth_{id});\\n      #pragma endFor\\n    #endif\\n  #endif\\n  gl_Position = pos;\\n}',\n    frag: '\\n#if USE_NORMAL_TEXTURE\\n#extension GL_OES_standard_derivatives : enable\\n#endif\\n\\n#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define EPSILON 1e-6\\n#define LOG2 1.442695\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n\\nvec3 gammaToLinearSpaceRGB(vec3 sRGB) { \\n  return sRGB * (sRGB * (sRGB * 0.305306011 + 0.682171111) + 0.012522878);\\n}\\nvec3 linearToGammaSpaceRGB(vec3 RGB) { \\n  vec3 S1 = sqrt(RGB);\\n  vec3 S2 = sqrt(S1);\\n  vec3 S3 = sqrt(S2);\\n  return 0.585122381 * S1 + 0.783140355 * S2 - 0.368262736 * S3;\\n}\\nvec4 gammaToLinearSpaceRGBA(vec4 sRGBA) {\\n  return vec4(gammaToLinearSpaceRGB(sRGBA.rgb), sRGBA.a);\\n}\\nvec4 linearToGammaSpaceRGBA(vec4 RGBA) {\\n  return vec4(linearToGammaSpaceRGB(RGBA.rgb), RGBA.a);\\n}\\nfloat gammaToLinearSpaceExact(float val) {\\n  if (val <= 0.04045) {\\n    return val / 12.92;\\n  } else if (val < 1.0) {\\n    return pow((val + 0.055) / 1.055, 2.4);\\n  } else {\\n    return pow(val, 2.2);\\n  }\\n}\\nfloat linearToGammaSpaceExact(float val) {\\n  if (val <= 0.0) {\\n    return 0.0;\\n  } else if (val <= 0.0031308) {\\n    return 12.92 * val;\\n  } else if (val < 1.0) {\\n    return 1.055 * pow(val, 0.4166667) - 0.055;\\n  } else {\\n    return pow(val, 0.45454545);\\n  }\\n}\\n\\nstruct LightInfo {\\n  vec3 diffuse;\\n  vec3 specular;\\n};\\nLightInfo computeDirectionalLighting(\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  vec3 normal,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = -normalize(lightDirection);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh;\\n  return lightingResult;\\n}\\nLightInfo computePointLighting(\\n  vec3 lightPosition,\\n  vec3 lightColor,\\n  float lightRange,\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = vec3(0, 0, 0);\\n  float attenuation = 1.0;\\n  lightDir = lightPosition - positionW;\\n  attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  lightDir = normalize(lightDir);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl * attenuation;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh * attenuation;\\n  return lightingResult;\\n}\\nLightInfo computeSpotLighting(\\n  vec3 lightPosition,\\n  vec3 lightDirection,\\n  vec3 lightColor,\\n  float lightRange,\\n  vec2 lightSpot,\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo lightingResult;\\n  float ndl = 0.0;\\n  float ndh = 0.0;\\n  vec3 lightDir = vec3(0, 0, 0);\\n  float attenuation = 1.0;\\n  float cosConeAngle = 1.0;\\n  lightDir = lightPosition - positionW;\\n  attenuation = max(0., 1.0 - length(lightDir) / lightRange);\\n  lightDir = normalize(lightDir);\\n  cosConeAngle = max(0., dot(lightDirection, -lightDir));\\n  cosConeAngle = cosConeAngle < lightSpot.x ? 0.0 : cosConeAngle;\\n  cosConeAngle = pow(cosConeAngle,lightSpot.y);\\n  ndl = max(0.0, dot(normal, lightDir));\\n  lightingResult.diffuse = lightColor * ndl * attenuation * cosConeAngle;\\n  vec3 dirH = normalize(viewDirection + lightDir);\\n  ndh = max(0.0, dot(normal, dirH));\\n  ndh = (ndl == 0.0) ? 0.0: ndh;\\n  ndh = pow(ndh, max(1.0, glossiness * 128.0));\\n  lightingResult.specular = lightColor * ndh * attenuation * cosConeAngle;\\n  return lightingResult;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n  #pragma for id in range(0, NUM_DIR_LIGHTS)\\n    uniform vec3 dir_light{id}_direction;\\n    uniform vec3 dir_light{id}_color;\\n  #pragma endFor\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_POINT_LIGHTS)\\n    uniform vec3 point_light{id}_position;\\n    uniform vec3 point_light{id}_color;\\n    uniform float point_light{id}_range;\\n  #pragma endFor\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n    uniform vec3 spot_light{id}_position;\\n    uniform vec3 spot_light{id}_direction;\\n    uniform vec3 spot_light{id}_color;\\n    uniform float spot_light{id}_range;\\n    uniform vec2 spot_light{id}_spot;\\n  #pragma endFor\\n#endif\\nLightInfo getPhongLighting(\\n  vec3 normal,\\n  vec3 positionW,\\n  vec3 viewDirection,\\n  float glossiness\\n) {\\n  LightInfo result;\\n  result.diffuse = vec3(0, 0, 0);\\n  result.specular = vec3(0, 0, 0);\\n  LightInfo dirLighting;\\n  #if NUM_DIR_LIGHTS > 0\\n    #pragma for id in range(0, NUM_DIR_LIGHTS)\\n      dirLighting = computeDirectionalLighting(dir_light{id}_direction,dir_light{id}_color,normal, viewDirection, glossiness);\\n      result.diffuse += dirLighting.diffuse;\\n      result.specular += dirLighting.specular;\\n    #pragma endFor\\n  #endif\\n  LightInfo pointLighting;\\n  #if NUM_POINT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_POINT_LIGHTS)\\n      pointLighting = computePointLighting(point_light{id}_position, point_light{id}_color, point_light{id}_range,\\n                                          normal, positionW, viewDirection, glossiness);\\n      result.diffuse += pointLighting.diffuse;\\n      result.specular += pointLighting.specular;\\n    #pragma endFor\\n  #endif\\n  LightInfo spotLighting;\\n  #if NUM_SPOT_LIGHTS > 0\\n    #pragma for id in range(0, NUM_SPOT_LIGHTS)\\n      spotLighting = computeSpotLighting(spot_light{id}_position, spot_light{id}_direction, spot_light{id}_color,\\n                      spot_light{id}_range, spot_light{id}_spot,normal, positionW, viewDirection, glossiness);\\n      result.diffuse += spotLighting.diffuse;\\n      result.specular += spotLighting.specular;\\n    #pragma endFor\\n  #endif\\n  return result;\\n}\\n\\n#if USE_SHADOW_MAP\\n  \\nvec4 packDepthToRGBA(float depth) {\\n  vec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\\n  ret = fract(ret);\\n  ret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\\n  return ret;\\n}\\nfloat unpackRGBAToDepth(vec4 color) {\\n  return dot(color, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\\n}\\n  \\n#if NUM_SHADOW_LIGHTS > 0\\n  #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n    uniform sampler2D shadowMap_{id};\\n    uniform float darkness_{id};\\n    uniform float depthScale_{id};\\n    uniform float frustumEdgeFalloff_{id};\\n    uniform float bias_{id};\\n    uniform vec2 texelSize_{id};\\n    varying vec4 pos_lightspace_{id};\\n    varying float vDepth_{id};\\n  #pragma endFor\\n#endif\\nfloat computeShadow(sampler2D shadowMap, vec4 pos_lightspace, float bias) {\\n  vec3 projCoords = pos_lightspace.xyz / pos_lightspace.w;\\n  projCoords = projCoords * 0.5 + 0.5;\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, projCoords.xy));\\n  float currentDepth = projCoords.z;\\n  float shadow = (currentDepth - bias > closestDepth) ? 0.0 : 1.0;\\n  return shadow;\\n}\\nfloat computeFallOff(float esm, vec2 coords, float frustumEdgeFalloff) {\\n  float mask = smoothstep(1.0 - frustumEdgeFalloff, 1.0, clamp(dot(coords, coords), 0.0, 1.0));\\n  return mix(esm, 1.0, mask);\\n}\\nfloat computeShadowESM(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float depthScale, float darkness, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float closestDepth = unpackRGBAToDepth(texture2D(shadowMap, shadowUV));\\n  \\n  float esm = clamp(exp(-depthScale * (currentDepth - closestDepth)), 1.0 - darkness, 1.0);\\n  return computeFallOff(esm, projCoords, frustumEdgeFalloff);\\n}\\nfloat computeShadowPCF(sampler2D shadowMap, vec4 pos_lightspace, float vDepth, float darkness, vec2 texelSize, float frustumEdgeFalloff) {\\n  vec2 projCoords = pos_lightspace.xy / pos_lightspace.w;\\n  vec2 shadowUV = projCoords * 0.5 + vec2(0.5);\\n  if (shadowUV.x < 0.0 || shadowUV.x > 1.0 || shadowUV.y < 0.0 || shadowUV.y > 1.0) {\\n    return 1.0;\\n  }\\n  float currentDepth = clamp(vDepth, 0.0, 1.0);\\n  float visibility = 1.0;\\n  vec2 poissonDisk[4];\\n  poissonDisk[0] = vec2(-0.94201624, -0.39906216);\\n  poissonDisk[1] = vec2(0.94558609, -0.76890725);\\n  poissonDisk[2] = vec2(-0.094184101, -0.92938870);\\n  poissonDisk[3] = vec2(0.34495938, 0.29387760);\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[0] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[1] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[2] * texelSize)) < currentDepth) visibility -= 0.25;\\n  if (unpackRGBAToDepth(texture2D(shadowMap, shadowUV + poissonDisk[3] * texelSize)) < currentDepth) visibility -= 0.25;\\n  return computeFallOff(min(1.0, visibility + 1.0 - darkness), projCoords, frustumEdgeFalloff);\\n}\\n#endif\\nuniform vec3 eye;\\nuniform vec3 sceneAmbient;\\nvarying vec3 normal_w;\\nvarying vec3 pos_w;\\n#if USE_NORMAL_TEXTURE || USE_DIFFUSE_TEXTURE || USE_EMISSIVE_TEXTURE\\n  varying vec2 uv0;\\n#endif\\nstruct phongMaterial\\n{\\n  vec3 diffuse;\\n  vec3 emissive;\\n  vec3 specular;\\n  float glossiness;\\n  float opacity;\\n};\\nuniform vec4 diffuseColor;\\n#if USE_DIFFUSE_TEXTURE\\n  uniform sampler2D diffuse_texture;\\n#endif\\n#if USE_EMISSIVE\\n  uniform vec3 emissiveColor;\\n  #if USE_EMISSIVE_TEXTURE\\n    uniform sampler2D emissive_texture;\\n  #endif\\n#endif\\n#if USE_SPECULAR\\n  uniform vec3 specularColor;\\n  uniform float glossiness;\\n  #if USE_SPECULAR_TEXTURE\\n    uniform sampler2D specular_texture;\\n  #endif\\n#endif\\n#if USE_NORMAL_TEXTURE\\n  uniform sampler2D normal_texture;\\n  uniform float normalScale;  \\n  vec3 getNormal(vec3 pos, vec3 normal) {\\n    vec3 q0 = vec3( dFdx( pos.x ), dFdx( pos.y ), dFdx( pos.z ) );\\n    vec3 q1 = vec3( dFdy( pos.x ), dFdy( pos.y ), dFdy( pos.z ) );\\n    vec2 st0 = dFdx( uv0.st );\\n    vec2 st1 = dFdy( uv0.st );\\n    vec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n    vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n    vec3 N = normal;\\n    vec3 mapN = texture2D(normal_texture, uv0).rgb * 2.0 - 1.0;\\n    mapN.xy = 1.0 * mapN.xy;\\n    mat3 tsn = mat3( S, T, N );\\n    return normalize( tsn * mapN );\\n  }\\n#endif\\n#if USE_ALPHA_TEST\\n  uniform float alphaTestThreshold;\\n#endif\\nphongMaterial getPhongMaterial() {\\n  phongMaterial result;\\n  #if USE_DIFFUSE_TEXTURE\\n    vec4 baseColor = diffuseColor * gammaToLinearSpaceRGBA(texture2D(diffuse_texture, uv0));\\n    result.diffuse = baseColor.rgb;\\n    result.opacity = baseColor.a;\\n  #else\\n    result.diffuse = diffuseColor.rgb;\\n    result.opacity = diffuseColor.a;\\n  #endif\\n  #if USE_EMISSIVE\\n    result.emissive = gammaToLinearSpaceRGB(emissiveColor);\\n    #if USE_EMISSIVE_TEXTURE\\n      result.emissive *= gammaToLinearSpaceRGB(texture2D(emissive_texture, uv0).rgb);\\n    #endif\\n  #endif\\n  #if USE_SPECULAR\\n    result.specular = gammaToLinearSpaceRGB(specularColor);\\n    #if USE_SPECULAR_TEXTURE\\n      result.specular = gammaToLinearSpaceRGB(texture2D(specular_texture, uv0).rgb);\\n    #endif\\n    result.glossiness = glossiness;\\n  #endif\\n  return result;\\n}\\nvec4 composePhongShading(LightInfo lighting, phongMaterial mtl, float shadow)\\n{\\n  vec4 o = vec4(0.0, 0.0, 0.0, 1.0);\\n  \\n  o.xyz = lighting.diffuse * mtl.diffuse;\\n  #if USE_EMISSIVE\\n    o.xyz += mtl.emissive;\\n  #endif\\n  #if USE_SPECULAR\\n    o.xyz += lighting.specular * mtl.specular;\\n  #endif\\n  o.xyz *= shadow;\\n  o.w = mtl.opacity;\\n  return o;\\n}\\nvoid main () {\\n  LightInfo phongLighting;\\n  vec3 viewDirection = normalize(eye - pos_w);\\n  phongMaterial mtl = getPhongMaterial();\\n  #if USE_ALPHA_TEST\\n    if(mtl.opacity < alphaTestThreshold) discard;\\n  #endif\\n  vec3 normal = normalize(normal_w);\\n  #if USE_NORMAL_TEXTURE\\n    normal = getNormal(pos_w, normal);\\n  #endif\\n  phongLighting = getPhongLighting(normal, pos_w, viewDirection, mtl.glossiness);\\n  phongLighting.diffuse += sceneAmbient;\\n  #if USE_SHADOW_MAP\\n    float shadow = 1.0;\\n    #if NUM_SHADOW_LIGHTS > 0\\n      #pragma for id in range(0, NUM_SHADOW_LIGHTS)\\n        shadow *= computeShadowESM(shadowMap_{id}, pos_lightspace_{id}, vDepth_{id}, depthScale_{id}, darkness_{id}, frustumEdgeFalloff_{id});\\n      #pragma endFor\\n    #endif\\n    vec4 finalColor = composePhongShading(phongLighting, mtl, shadow);\\n  #else\\n    vec4 finalColor = composePhongShading(phongLighting, mtl, 1.0);\\n  #endif\\n  gl_FragColor = linearToGammaSpaceRGBA(finalColor);\\n}',\n    defines: [\n      { name: 'USE_NORMAL_TEXTURE', },\n      { name: 'USE_DIFFUSE_TEXTURE', },\n      { name: 'USE_SPECULAR', },\n      { name: 'USE_SPECULAR_TEXTURE', },\n      { name: 'USE_EMISSIVE', },\n      { name: 'USE_EMISSIVE_TEXTURE', },\n      { name: 'USE_ALPHA_TEST', },\n      { name: 'USE_SKINNING', },\n      { name: 'USE_SHADOW_MAP', },\n      { name: 'NUM_DIR_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_POINT_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_SPOT_LIGHTS', min: 0, max: 4, },\n      { name: 'NUM_SHADOW_LIGHTS', min: 0, max: 4, },\n    ],\n  },\n  {\n    name: 'shadow-depth',\n    vert: '\\nattribute vec3 a_position;\\nuniform mat4 model;\\nuniform mat4 lightViewProjMatrix;\\nuniform float minDepth;\\nuniform float maxDepth;\\nuniform float bias;\\nvarying float vDepth;\\n#if USE_SKINNING\\n  \\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}\\n#endif\\nvoid main() {\\n  vec4 pos = vec4(a_position, 1);\\n  #if USE_SKINNING\\n    mat4 skinMat = skinMatrix();\\n    pos = skinMat * pos;\\n  #endif\\n  gl_Position = lightViewProjMatrix * model * pos;\\n  \\n  vDepth = ((gl_Position.z + minDepth) / (minDepth + maxDepth)) + bias;\\n}',\n    frag: '\\nuniform float depthScale;\\nvarying float vDepth;\\n\\nvec4 packDepthToRGBA(float depth) {\\n  vec4 ret = vec4(1.0, 255.0, 65025.0, 160581375.0) * depth;\\n  ret = fract(ret);\\n  ret -= ret.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\\n  return ret;\\n}\\nfloat unpackRGBAToDepth(vec4 color) {\\n  return dot(color, vec4(1.0, 1.0 / 255.0, 1.0 / 65025.0, 1.0 / 160581375.0));\\n}\\nvoid main() {\\n  \\n  \\n  gl_FragColor = packDepthToRGBA(vDepth);\\n  \\n  \\n}',\n    defines: [\n      { name: 'USE_SKINNING', },\n    ],\n  },\n  {\n    name: 'simple',\n    vert: '\\nattribute vec3 a_position;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_TEXTURE\\n  attribute vec2 a_uv0;\\n  varying vec2 uv0;\\n#endif\\nvoid main () {\\n  vec4 pos = viewProj * model * vec4(a_position, 1);\\n  #if USE_TEXTURE\\n    uv0 = a_uv0;\\n  #endif\\n  gl_Position = pos;\\n}',\n    frag: '\\n#if USE_TEXTURE\\n  uniform sampler2D texture;\\n  varying vec2 uv0;\\n#endif\\n#if USE_COLOR\\n  uniform vec4 color;\\n#endif\\nvoid main () {\\n  vec4 o = vec4(1, 1, 1, 1);\\n  #if USE_TEXTURE\\n    o *= texture2D(texture, uv0);\\n  #endif\\n  #if USE_COLOR\\n    o *= color;\\n  #endif\\n  if (!gl_FrontFacing) {\\n    o.rgb *= 0.5;\\n  }\\n  gl_FragColor = o;\\n}',\n    defines: [\n      { name: 'USE_TEXTURE', },\n      { name: 'USE_COLOR', },\n    ],\n  },\n  {\n    name: 'skybox',\n    vert: '\\nattribute vec3 a_position;\\nuniform mat4 view;\\nuniform mat4 proj;\\nvarying vec3 viewDir;\\nvoid main() {\\n  mat4 rotView = mat4(mat3(view));\\n  vec4 clipPos = proj * rotView * vec4(a_position, 1.0);\\n  gl_Position = clipPos.xyww;\\n  viewDir = a_position;\\n}\\n',\n    frag: '\\nvarying vec3 viewDir;\\nuniform samplerCube cubeMap;\\n\\nvec3 gammaToLinearSpaceRGB(vec3 sRGB) { \\n  return sRGB * (sRGB * (sRGB * 0.305306011 + 0.682171111) + 0.012522878);\\n}\\nvec3 linearToGammaSpaceRGB(vec3 RGB) { \\n  vec3 S1 = sqrt(RGB);\\n  vec3 S2 = sqrt(S1);\\n  vec3 S3 = sqrt(S2);\\n  return 0.585122381 * S1 + 0.783140355 * S2 - 0.368262736 * S3;\\n}\\nvec4 gammaToLinearSpaceRGBA(vec4 sRGBA) {\\n  return vec4(gammaToLinearSpaceRGB(sRGBA.rgb), sRGBA.a);\\n}\\nvec4 linearToGammaSpaceRGBA(vec4 RGBA) {\\n  return vec4(linearToGammaSpaceRGB(RGBA.rgb), RGBA.a);\\n}\\nfloat gammaToLinearSpaceExact(float val) {\\n  if (val <= 0.04045) {\\n    return val / 12.92;\\n  } else if (val < 1.0) {\\n    return pow((val + 0.055) / 1.055, 2.4);\\n  } else {\\n    return pow(val, 2.2);\\n  }\\n}\\nfloat linearToGammaSpaceExact(float val) {\\n  if (val <= 0.0) {\\n    return 0.0;\\n  } else if (val <= 0.0031308) {\\n    return 12.92 * val;\\n  } else if (val < 1.0) {\\n    return 1.055 * pow(val, 0.4166667) - 0.055;\\n  } else {\\n    return pow(val, 0.45454545);\\n  }\\n}\\n\\nvec3 unpackNormal(vec4 nmap) {\\n  return nmap.xyz * 2.0 - 1.0;\\n}\\nvec3 unpackRGBE(vec4 rgbe) {\\n    return rgbe.rgb * pow(2.0, rgbe.a * 255.0 - 128.0);\\n}\\nvoid main() {\\n#if USE_RGBE_HDR\\n    vec3 c = unpackRGBE(textureCube(cubeMap, viewDir));\\n    c = linearToGammaSpaceRGB(c / (1.0 + c));\\n    gl_FragColor = vec4(c, 1.0);\\n#else\\n    gl_FragColor = textureCube(cubeMap, viewDir);\\n#endif\\n}',\n    defines: [],\n  },\n  {\n    name: 'sprite',\n    vert: '\\nattribute vec3 a_position;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\nattribute vec2 a_uv0;\\nattribute vec4 a_color;\\nvarying vec2 uv0;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n  pos = viewProj * model * pos;\\n  uv0 = a_uv0;\\n  color = a_color;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform sampler2D mainTexture;\\nvarying vec2 uv0;\\nvarying vec4 color;\\nvoid main () {\\n  vec4 o = vec4(1, 1, 1, 1);\\n  o *= texture2D(mainTexture, uv0);\\n  o *= color;\\n  gl_FragColor = o;\\n}',\n    defines: [],\n  },\n  {\n    name: 'unlit',\n    vert: '\\nattribute vec3 a_position;\\nuniform mat4 model;\\nuniform mat4 viewProj;\\n#if USE_TEXTURE\\n  attribute vec2 a_uv0;\\n  uniform vec2 mainTiling;\\n  uniform vec2 mainOffset;\\n  varying vec2 uv0;\\n#endif\\n#if USE_SKINNING\\n  \\nattribute vec4 a_weights;\\nattribute vec4 a_joints;\\nuniform sampler2D u_jointsTexture;\\nuniform float u_jointsTextureSize;\\nmat4 getBoneMatrix(const in float i) {\\n  float size = u_jointsTextureSize;\\n  float j = i * 4.0;\\n  float x = mod(j, size);\\n  float y = floor(j / size);\\n  float dx = 1.0 / size;\\n  float dy = 1.0 / size;\\n  y = dy * (y + 0.5);\\n  vec4 v1 = texture2D(u_jointsTexture, vec2(dx * (x + 0.5), y));\\n  vec4 v2 = texture2D(u_jointsTexture, vec2(dx * (x + 1.5), y));\\n  vec4 v3 = texture2D(u_jointsTexture, vec2(dx * (x + 2.5), y));\\n  vec4 v4 = texture2D(u_jointsTexture, vec2(dx * (x + 3.5), y));\\n  return mat4(v1, v2, v3, v4);\\n}\\nmat4 skinMatrix() {\\n  return\\n    getBoneMatrix(a_joints.x) * a_weights.x +\\n    getBoneMatrix(a_joints.y) * a_weights.y +\\n    getBoneMatrix(a_joints.z) * a_weights.z +\\n    getBoneMatrix(a_joints.w) * a_weights.w\\n    ;\\n}\\n#endif\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n  #if USE_SKINNING\\n    pos = skinMatrix() * pos;\\n  #endif\\n  pos = viewProj * model * pos;\\n  #if USE_TEXTURE\\n    uv0 = a_uv0 * mainTiling + mainOffset;\\n  #endif\\n  gl_Position = pos;\\n}',\n    frag: '\\n#if USE_TEXTURE\\n  uniform sampler2D mainTexture;\\n  varying vec2 uv0;\\n#endif\\n#if USE_COLOR\\n  uniform vec4 color;\\n#endif\\nvoid main () {\\n  vec4 o = vec4(1, 1, 1, 1);\\n  #if USE_TEXTURE\\n    o *= texture2D(mainTexture, uv0);\\n  #endif\\n  #if USE_COLOR\\n    o *= color;\\n  #endif\\n  gl_FragColor = o;\\n}',\n    defines: [\n      { name: 'USE_TEXTURE', },\n      { name: 'USE_COLOR', },\n      { name: 'USE_SKINNING', },\n    ],\n  },\n  {\n    name: 'wireframe',\n    vert: '\\nattribute vec3 a_position;\\nattribute vec3 a_normal;\\nuniform mat4 model, viewProj;\\nuniform mat3 normalMatrix;\\nvarying vec3 position_w;\\nvarying vec3 normal_w;\\nvoid main () {\\n  vec4 pos = vec4(a_position, 1);\\n  position_w = (model * pos).xyz;\\n  pos = viewProj * model * pos;\\n  normal_w = normalMatrix * a_normal.xyz;\\n  gl_Position = pos;\\n}',\n    frag: '\\nuniform vec3 eye;\\nuniform vec3 color;\\nvarying vec3 position_w;\\nvarying vec3 normal_w;\\nvoid main () {\\n  gl_FragColor = vec4(color, 1.0);\\n  vec3 e2p = normalize(eye - position_w);\\n  if (dot (normal_w, e2p) <= 0.0) {\\n    gl_FragColor.rgb *= 0.6;\\n  }\\n}',\n    defines: [],\n  },\n];","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\n\r\nlet _shdID = 0;\r\n\r\nfunction _generateDefines(device, defs, deps) {\r\n  let defines = [];\r\n  for (let def in defs) {\r\n    if (deps[def] === undefined) { // if define has no dependency\r\n      if (defs[def] === true) {\r\n        defines.push(`#define ${def} 1`);\r\n      } else if (defs[def] === false) {\r\n        defines.push(`#define ${def} 0`);\r\n      }\r\n    } else { // define has dependency, need to check if dependency is supported by current device\r\n      if (device.ext(deps[def]) && defs[def] === true) {\r\n        defines.push(`#define ${def} 1`);\r\n      } else {\r\n        defines.push(`#define ${def} 0`);\r\n      }\r\n    }\r\n  }\r\n  return defines.join('\\n');\r\n}\r\n\r\nfunction _replaceMacroNums(string, defs) {\r\n  let cache = {};\r\n  let tmp = string;\r\n  for (let def in defs) {\r\n    if (Number.isInteger(defs[def])) {\r\n      cache[def] = defs[def];\r\n    }\r\n  }\r\n  for (let def in cache) {\r\n    let reg = new RegExp(def, 'g');\r\n    tmp = tmp.replace(reg, cache[def]);\r\n  }\r\n  return tmp;\r\n}\r\n\r\nfunction _unrollLoops(string) {\r\n  let pattern = /#pragma for (\\w+) in range\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)([\\s\\S]+?)#pragma endFor/g;\r\n  function replace(match, index, begin, end, snippet) {\r\n    let unroll = '';\r\n    let parsedBegin = parseInt(begin);\r\n    let parsedEnd = parseInt(end);\r\n    if (parsedBegin.isNaN || parsedEnd.isNaN) {\r\n      console.error('Unroll For Loops Error: begin and end of range must be an int num.');\r\n    }\r\n    for (let i = parsedBegin; i < parsedEnd; ++i) {\r\n      unroll += snippet.replace(new RegExp(`{${index}}`, 'g'), i);\r\n    }\r\n    return unroll;\r\n  }\r\n  return string.replace(pattern, replace);\r\n}\r\n\r\nexport default class ProgramLib {\r\n  /**\r\n   * @param {gfx.Device} device\r\n   * @param {Array} templates\r\n   * @param {Object} chunks\r\n   */\r\n  constructor(device, templates = [], chunks = {}) {\r\n    this._device = device;\r\n    this._precision = `precision highp float;\\n`;\r\n\r\n    // register templates\r\n    this._templates = {};\r\n    for (let i = 0; i < templates.length; ++i) {\r\n      let tmpl = templates[i];\r\n      this.define(tmpl.name, tmpl.vert, tmpl.frag, tmpl.defines);\r\n    }\r\n\r\n    // register chunks\r\n    this._chunks = {};\r\n    Object.assign(this._chunks, chunks);\r\n\r\n    this._cache = {};\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {string} vert\r\n   * @param {string} frag\r\n   * @param {Object[]} defines\r\n   *\r\n   * @example:\r\n   *   programLib.define('foobar', vertTmpl, fragTmpl, [\r\n   *     { name: 'shadow' },\r\n   *     { name: 'lightCount', min: 1, max: 4 }\r\n   *   ]);\r\n   */\r\n  define(name, vert, frag, defines) {\r\n    if (this._templates[name]) {\r\n      console.warn(`Failed to define shader ${name}: already exists.`);\r\n      return;\r\n    }\r\n\r\n    let id = ++_shdID;\r\n\r\n    // calculate option mask offset\r\n    let offset = 0;\r\n    for (let i = 0; i < defines.length; ++i) {\r\n      let def = defines[i];\r\n      let cnt = 1;\r\n\r\n      if (def.min !== undefined && def.max !== undefined) {\r\n        cnt = Math.ceil((def.max - def.min) * 0.5);\r\n\r\n        def._map = function (value) {\r\n          return (value - this.min) << this._offset;\r\n        }.bind(def);\r\n      } else {\r\n        def._map = function (value) {\r\n          if (value) {\r\n            return 1 << this._offset;\r\n          }\r\n          return 0;\r\n        }.bind(def);\r\n      }\r\n\r\n      offset += cnt;\r\n      def._offset = offset;\r\n    }\r\n\r\n    vert = this._precision + vert;\r\n    frag = this._precision + frag;\r\n\r\n    // store it\r\n    this._templates[name] = {\r\n      id,\r\n      name,\r\n      vert,\r\n      frag,\r\n      defines\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Does this library has the specified program?\r\n   * @param {string} name\r\n   * @returns {boolean}\r\n   */\r\n  hasProgram(name) {\r\n    return this._templates[name] !== undefined;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {Object} defines\r\n   */\r\n  getKey(name, defines) {\r\n    let tmpl = this._templates[name];\r\n    let key = 0;\r\n    for (let i = 0; i < tmpl.defines.length; ++i) {\r\n      let tmplDefs = tmpl.defines[i];\r\n      let value = defines[tmplDefs.name];\r\n      if (value === undefined) {\r\n        continue;\r\n      }\r\n\r\n      key |= tmplDefs._map(value);\r\n    }\r\n\r\n    return key << 8 | tmpl.id;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {Object} defines\r\n   * @param {Object} dependencies\r\n   */\r\n  getProgram(name, defines, dependencies) {\r\n    let key = this.getKey(name, defines);\r\n    let program = this._cache[key];\r\n    if (program) {\r\n      return program;\r\n    }\r\n\r\n    // get template\r\n    let tmpl = this._templates[name];\r\n    let customDef = _generateDefines(this._device, defines, dependencies) + '\\n';\r\n    let vert = _replaceMacroNums(tmpl.vert, defines);\r\n    vert = customDef + _unrollLoops(vert);\r\n    let frag = _replaceMacroNums(tmpl.frag, defines);\r\n    frag = customDef + _unrollLoops(frag);\r\n\r\n    program = new gfx.Program(this._device, {\r\n      vert,\r\n      frag\r\n    });\r\n    program.link();\r\n    this._cache[key] = program;\r\n\r\n    return program;\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { RecyclePool } from '../../memop';\r\nimport { vec2, vec3, vec4, quat, mat2, mat3, mat4, color3, color4 } from '../../vmath';\r\nimport { box, intersect } from '../../geom-utils';\r\n\r\nimport enums from '../enums';\r\nimport shaderChunks from '../shaders/chunks/index';\r\nimport shaderTemplates from '../shaders/templates/index';\r\nimport ProgramLib from './program-lib';\r\nimport View from './view';\r\n\r\nlet _m3_tmp = mat3.create();\r\nlet _m4_tmp = mat4.create();\r\nlet _v3_tmp = vec3.zero();\r\nlet _v3_tmp2 = vec3.zero();\r\nlet _qt_tmp = quat.create();\r\n\r\nlet _stageInfos = new RecyclePool(() => {\r\n  return {\r\n    stage: null,\r\n    items: null,\r\n  };\r\n}, 8);\r\n\r\nlet _float2_pool = new RecyclePool(() => {\r\n  return new Float32Array(2);\r\n}, 8);\r\n\r\nlet _float3_pool = new RecyclePool(() => {\r\n  return new Float32Array(3);\r\n}, 8);\r\n\r\nlet _float4_pool = new RecyclePool(() => {\r\n  return new Float32Array(4);\r\n}, 8);\r\n\r\nlet _float9_pool = new RecyclePool(() => {\r\n  return new Float32Array(9);\r\n}, 8);\r\n\r\nlet _float16_pool = new RecyclePool(() => {\r\n  return new Float32Array(16);\r\n}, 8);\r\n\r\nlet _float64_pool = new RecyclePool(() => {\r\n  return new Float32Array(64);\r\n}, 8);\r\n\r\nlet _int2_pool = new RecyclePool(() => {\r\n  return new Int32Array(2);\r\n}, 8);\r\n\r\nlet _int3_pool = new RecyclePool(() => {\r\n  return new Int32Array(3);\r\n}, 8);\r\n\r\nlet _int4_pool = new RecyclePool(() => {\r\n  return new Int32Array(4);\r\n}, 8);\r\n\r\nlet _int64_pool = new RecyclePool(() => {\r\n  return new Int32Array(64);\r\n}, 8);\r\n\r\nlet _type2uniformValue = {\r\n  [enums.PARAM_INT]: function (value) {\r\n    return value;\r\n  },\r\n\r\n  [enums.PARAM_INT2]: function (value) {\r\n    return vec2.array(_int2_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_INT3]: function (value) {\r\n    return vec3.array(_int3_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_INT4]: function (value) {\r\n    return vec4.array(_int4_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_FLOAT]: function (value) {\r\n    return value;\r\n  },\r\n\r\n  [enums.PARAM_FLOAT2]: function (value) {\r\n    return vec2.array(_float2_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_FLOAT3]: function (value) {\r\n    return vec3.array(_float3_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_FLOAT4]: function (value) {\r\n    return vec4.array(_float4_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_COLOR3]: function (value) {\r\n    return color3.array(_float3_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_COLOR4]: function (value) {\r\n    return color4.array(_float4_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_MAT2]: function (value) {\r\n    return mat2.array(_float4_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_MAT3]: function (value) {\r\n    return mat3.array(_float9_pool.add(), value);\r\n  },\r\n\r\n  [enums.PARAM_MAT4]: function (value) {\r\n    return mat4.array(_float16_pool.add(), value);\r\n  },\r\n\r\n  // [enums.PARAM_TEXTURE_2D]: function (value) {\r\n  // },\r\n\r\n  // [enums.PARAM_TEXTURE_CUBE]: function (value) {\r\n  // },\r\n};\r\n\r\nlet _type2uniformArrayValue = {\r\n  [enums.PARAM_INT]: {\r\n    func (values) {\r\n      let result = _int64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        result[i] = values[i];\r\n      }\r\n      return result;\r\n    },\r\n    size: 1,\r\n  },\r\n\r\n  [enums.PARAM_INT2]: {\r\n    func (values) {\r\n      let result = _int64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        result[2 * i] = values[i].x;\r\n        result[2 * i + 1] = values[i].y;\r\n      }\r\n      return result;\r\n    },\r\n    size: 2,\r\n  },\r\n\r\n  [enums.PARAM_INT3]: {\r\n    func: undefined,\r\n    size: 3,\r\n  },\r\n\r\n  [enums.PARAM_INT4]: {\r\n    func (values) {\r\n      let result = _int64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        let v = values[i];\r\n        result[4 * i] = v.x;\r\n        result[4 * i + 1] = v.y;\r\n        result[4 * i + 2] = v.z;\r\n        result[4 * i + 3] = v.w;\r\n      }\r\n      return result;\r\n    },\r\n    size: 4,\r\n  },\r\n\r\n  [enums.PARAM_FLOAT]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        result[i] = values[i];\r\n      }\r\n      return result;\r\n    },\r\n    size: 1\r\n  },\r\n\r\n  [enums.PARAM_FLOAT2]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        result[2 * i] = values[i].x;\r\n        result[2 * i + 1] = values[i].y;\r\n      }\r\n      return result;\r\n    },\r\n    size: 2,\r\n  },\r\n\r\n  [enums.PARAM_FLOAT3]: {\r\n    func: undefined,\r\n    size: 3,\r\n  },\r\n\r\n  [enums.PARAM_FLOAT4]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        let v = values[i];\r\n        result[4 * i] = v.x;\r\n        result[4 * i + 1] = v.y;\r\n        result[4 * i + 2] = v.z;\r\n        result[4 * i + 3] = v.w;\r\n      }\r\n      return result;\r\n    },\r\n    size: 4,\r\n  },\r\n\r\n  [enums.PARAM_COLOR3]: {\r\n    func: undefined,\r\n    size: 3,\r\n  },\r\n\r\n  [enums.PARAM_COLOR4]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        let v = values[i];\r\n        result[4 * i] = v.r;\r\n        result[4 * i + 1] = v.g;\r\n        result[4 * i + 2] = v.b;\r\n        result[4 * i + 3] = v.a;\r\n      }\r\n      return result;\r\n    },\r\n    size: 4,\r\n  },\r\n\r\n  [enums.PARAM_MAT2]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        let v = values[i];\r\n        result[4 * i] = v.m00;\r\n        result[4 * i + 1] = v.m01;\r\n        result[4 * i + 2] = v.m02;\r\n        result[4 * i + 3] = v.m03;\r\n      }\r\n      return result;\r\n    },\r\n    size: 4\r\n  },\r\n\r\n  [enums.PARAM_MAT3]: {\r\n    func: undefined,\r\n    size: 9\r\n  },\r\n\r\n\r\n  [enums.PARAM_MAT4]: {\r\n    func (values) {\r\n      let result = _float64_pool.add();\r\n      for (let i = 0; i < values.length; ++i) {\r\n        let v = values[i];\r\n        result[16 * i] = v.m00;\r\n        result[16 * i + 1] = v.m01;\r\n        result[16 * i + 2] = v.m02;\r\n        result[16 * i + 3] = v.m03;\r\n        result[16 * i + 4] = v.m04;\r\n        result[16 * i + 5] = v.m05;\r\n        result[16 * i + 6] = v.m06;\r\n        result[16 * i + 7] = v.m07;\r\n        result[16 * i + 8] = v.m08;\r\n        result[16 * i + 9] = v.m09;\r\n        result[16 * i + 10] = v.m10;\r\n        result[16 * i + 11] = v.m11;\r\n        result[16 * i + 12] = v.m12;\r\n        result[16 * i + 13] = v.m13;\r\n        result[16 * i + 14] = v.m14;\r\n        result[16 * i + 15] = v.m15;\r\n      }\r\n      return result;\r\n    },\r\n    size: 16\r\n  },\r\n\r\n  // [enums.PARAM_TEXTURE_2D]: function (value) {\r\n  // },\r\n\r\n  // [enums.PARAM_TEXTURE_CUBE]: function (value) {\r\n  // },\r\n};\r\n\r\nexport default class BaseRenderer {\r\n  /**\r\n   * @param {gfx.Device} device\r\n   * @param {Object} opts\r\n   * @param {gfx.Texture2D} opts.defaultTexture\r\n   * @param {gfx.TextureCube} opts.defaultTextureCube\r\n   * @param {Array} opts.programTemplates\r\n   * @param {Object} opts.programChunks\r\n   */\r\n  constructor(device, opts) {\r\n    this._device = device;\r\n    this._programLib = new ProgramLib(device, shaderTemplates, shaderChunks);\r\n    this._opts = opts;\r\n    this._type2defaultValue = {\r\n      [enums.PARAM_INT]: 0,\r\n      [enums.PARAM_INT2]: vec2.new(0, 0),\r\n      [enums.PARAM_INT3]: vec3.new(0, 0, 0),\r\n      [enums.PARAM_INT4]: vec4.new(0, 0, 0, 0),\r\n      [enums.PARAM_FLOAT]: 0.0,\r\n      [enums.PARAM_FLOAT2]: vec2.new(0, 0),\r\n      [enums.PARAM_FLOAT3]: vec3.new(0, 0, 0),\r\n      [enums.PARAM_FLOAT4]: vec4.new(0, 0, 0, 0),\r\n      [enums.PARAM_COLOR3]: color3.new(0, 0, 0),\r\n      [enums.PARAM_COLOR4]: color4.new(0, 0, 0, 1),\r\n      [enums.PARAM_MAT2]: mat2.create(),\r\n      [enums.PARAM_MAT3]: mat3.create(),\r\n      [enums.PARAM_MAT4]: mat4.create(),\r\n      [enums.PARAM_TEXTURE_2D]: opts.defaultTexture,\r\n      [enums.PARAM_TEXTURE_CUBE]: opts.defaultTextureCube,\r\n    };\r\n    this._stage2fn = {};\r\n    this._modelType2fn = {};\r\n    this._usedTextureUnits = 0;\r\n    this.frustum_test_func = intersect.box_frustum;\r\n    this._accurateFrustumCulling = false;\r\n\r\n    this._viewPools = new RecyclePool(() => {\r\n      return new View();\r\n    }, 8);\r\n\r\n    this._drawItemsPools = new RecyclePool(() => {\r\n      return {\r\n        model: null,\r\n        node: null,\r\n        ia: null,\r\n        effect: null,\r\n        defines: null,\r\n        dependencies: null,\r\n      };\r\n    }, 100);\r\n\r\n    this._stageItemsPools = new RecyclePool(() => {\r\n      return new RecyclePool(() => {\r\n        return {\r\n          model: null,\r\n          node: null,\r\n          ia: null,\r\n          effect: null,\r\n          defines: null,\r\n          dependencies: null,\r\n          technique: null,\r\n          sortKey: -1,\r\n        };\r\n      }, 100);\r\n    }, 16);\r\n  }\r\n\r\n  _resetTextureUnit() {\r\n    this._usedTextureUnits = 0;\r\n  }\r\n\r\n  _allocTextureUnit() {\r\n    const device = this._device;\r\n\r\n    let unit = this._usedTextureUnits;\r\n    if (unit >= device._caps.maxTextureUnits) {\r\n      console.warn(`Trying to use ${unit} texture units while this GPU supports only ${device._caps.maxTextureUnits}`);\r\n    }\r\n\r\n    this._usedTextureUnits += 1;\r\n    return unit;\r\n  }\r\n\r\n  _registerStage(name, fn) {\r\n    this._stage2fn[name] = fn;\r\n  }\r\n\r\n  _registerModel(name, fn) {\r\n    this._modelType2fn[name] = fn;\r\n  }\r\n\r\n  _reset() {\r\n    this._viewPools.reset();\r\n    this._stageItemsPools.reset();\r\n  }\r\n\r\n  _requestView() {\r\n    let view = this._viewPools.add();\r\n    view.fullUpdate = this._accurateFrustumCulling;\r\n    return view;\r\n  }\r\n\r\n  set accurateFrustumCulling(accurate) {\r\n    this._accurateFrustumCulling = accurate;\r\n    if (!accurate) this.frustum_test_func = intersect.box_frustum;\r\n    else this.frustum_test_func = intersect.box_frustum_accurate;\r\n  }\r\n\r\n  _render(view, scene) {\r\n    const device = this._device;\r\n\r\n    // setup framebuffer\r\n    device.setFrameBuffer(view._framebuffer);\r\n\r\n    // setup viewport\r\n    device.setViewport(\r\n      view._rect.x,\r\n      view._rect.y,\r\n      view._rect.w,\r\n      view._rect.h\r\n    );\r\n\r\n    // setup clear\r\n    let clearOpts = {};\r\n    if (view._clearFlags & enums.CLEAR_COLOR) {\r\n      clearOpts.color = [\r\n        view._color.r,\r\n        view._color.g,\r\n        view._color.b,\r\n        view._color.a\r\n      ];\r\n    }\r\n    if (view._clearFlags & enums.CLEAR_DEPTH) {\r\n      clearOpts.depth = view._depth;\r\n    }\r\n    if (view._clearFlags & enums.CLEAR_STENCIL) {\r\n      clearOpts.stencil = view._stencil;\r\n    }\r\n    device.clear(clearOpts);\r\n\r\n    // get all draw items\r\n    this._drawItemsPools.reset();\r\n\r\n    if ((view._clearFlags & enums.CLEAR_SKYBOX) && view._clearModel != null) {\r\n      let drawItem = this._drawItemsPools.add();\r\n      view._clearModel.extractDrawItem(drawItem);\r\n    }\r\n\r\n    for (let i = 0; i < scene._models.length; ++i) {\r\n      let model = scene._models.data[i];\r\n\r\n      // TODO: HACK: filter model by view\r\n      if (view._cullingByID) {\r\n        if (model._viewID !== view._id) {\r\n          continue;\r\n        }\r\n      } else {\r\n        if (model._viewID !== -1) {\r\n          continue;\r\n        }\r\n      }\r\n\r\n      // frustum culling\r\n      if (model._boundingBox !== null) { // if model does not have boundingBox, skip culling.\r\n        model._node._getWorldPRS(_v3_tmp, _qt_tmp, _v3_tmp2);\r\n        box.setTransform(model._boundingBox, _v3_tmp, _qt_tmp, _v3_tmp2, model._bbModelSpace);\r\n        if (!this.frustum_test_func(model._boundingBox, view._frustum)) {\r\n          // console.log('model is not in view frustum.');\r\n          continue;\r\n        }\r\n      }\r\n\r\n      let drawItem = this._drawItemsPools.add();\r\n      model.extractDrawItem(drawItem);\r\n    }\r\n\r\n    // dispatch draw items to different stage\r\n    _stageInfos.reset();\r\n\r\n    for (let i = 0; i < view._stages.length; ++i) {\r\n      let stage = view._stages[i];\r\n      let stageItems = this._stageItemsPools.add();\r\n      stageItems.reset();\r\n\r\n      for (let j = 0; j < this._drawItemsPools.length; ++j) {\r\n        let drawItem = this._drawItemsPools.data[j];\r\n        let tech = drawItem.effect.getTechnique(stage);\r\n\r\n        if (tech) {\r\n          let stageItem = stageItems.add();\r\n          stageItem.model = drawItem.model;\r\n          stageItem.node = drawItem.node;\r\n          stageItem.ia = drawItem.ia;\r\n          stageItem.effect = drawItem.effect;\r\n          stageItem.defines = drawItem.defines;\r\n          stageItem.dependencies = drawItem.dependencies;\r\n          stageItem.technique = tech;\r\n          stageItem.sortKey = -1;\r\n        }\r\n      }\r\n\r\n      let stageInfo = _stageInfos.add();\r\n      stageInfo.stage = stage;\r\n      stageInfo.items = stageItems;\r\n    }\r\n\r\n    // render stages\r\n    for (let i = 0; i < _stageInfos.length; ++i) {\r\n      let info = _stageInfos.data[i];\r\n      let stageFn = this._stage2fn[info.stage];\r\n\r\n      stageFn(view, info.items);\r\n    }\r\n  }\r\n\r\n  _drawModel(item) {\r\n    let model = item.model;\r\n    let drawFn = this._modelType2fn[model._type];\r\n\r\n    if (!drawFn) {\r\n      // console.warn(`Can not find draw function for modle type ${model.type}`);\r\n      return;\r\n    }\r\n\r\n    drawFn(item);\r\n  }\r\n\r\n  _draw(item) {\r\n    const device = this._device;\r\n    const programLib = this._programLib;\r\n    const { node, ia, effect, technique, defines, dependencies } = item;\r\n\r\n    // reset the pool\r\n    // NOTE: we can use drawCounter optimize this\r\n    // TODO: should be configurable\r\n    _float2_pool.reset();\r\n    _float3_pool.reset();\r\n    _float4_pool.reset();\r\n    _float9_pool.reset();\r\n    _float16_pool.reset();\r\n    _float64_pool.reset();\r\n    _int2_pool.reset();\r\n    _int3_pool.reset();\r\n    _int4_pool.reset();\r\n    _int64_pool.reset();\r\n\r\n    // set common uniforms\r\n    // TODO: try commit this depends on effect\r\n    // {\r\n    node.getWorldMatrix(_m4_tmp);\r\n    device.setUniform('model', mat4.array(_float16_pool.add(), _m4_tmp));\r\n\r\n    mat3.normalFromMat4(_m3_tmp, _m4_tmp);\r\n    device.setUniform('normalMatrix', mat3.array(_float9_pool.add(), _m3_tmp));\r\n    // }\r\n\r\n    // set technique uniforms\r\n    for (let i = 0; i < technique._parameters.length; ++i) {\r\n      let param = technique._parameters[i];\r\n      let prop = effect.getProperty(param.name);\r\n\r\n      if (prop === undefined || prop === null) {\r\n        prop = param.val;\r\n      }\r\n\r\n      if (prop === undefined || prop === null) {\r\n        prop = this._type2defaultValue[param.type];\r\n      }\r\n\r\n      if (prop === undefined || prop === null) {\r\n        console.warn(`Failed to set technique property ${param.name}, value not found.`);\r\n        continue;\r\n      }\r\n\r\n      if (\r\n        param.type === enums.PARAM_TEXTURE_2D ||\r\n        param.type === enums.PARAM_TEXTURE_CUBE\r\n      ) {\r\n        if (defines['USE_'+param.name.toUpperCase()] == false) continue;\r\n        if (param.size !== undefined) {\r\n          if (param.size !== prop.length) {\r\n            console.error(`The length of texture array (${prop.length}) is not corrent(expect ${param.size}).`);\r\n            continue;\r\n          }\r\n          let slots = _int64_pool.add();\r\n          for (let index = 0; index < prop.length; ++index) {\r\n            slots[index] = this._allocTextureUnit();\r\n          }\r\n          device.setTextureArray(param.name, prop, slots);\r\n        } else {\r\n          device.setTexture(param.name, prop, this._allocTextureUnit());\r\n        }\r\n      } else {\r\n        let convertedValue;\r\n        if (param.size !== undefined) {\r\n          let convertArray = _type2uniformArrayValue[param.type];\r\n          if (convertArray.func === undefined) {\r\n            console.error('Uniform array of color3/int3/float3/mat3 can not be supportted!');\r\n            continue;\r\n          }\r\n          if (param.size * convertArray.size > 64) {\r\n            console.error('Uniform array is too long!');\r\n            continue;\r\n          }\r\n          convertedValue = convertArray.func(prop);\r\n        } else {\r\n          let convertFn = _type2uniformValue[param.type];\r\n          convertedValue = convertFn(prop);\r\n        }\r\n        device.setUniform(param.name, convertedValue);\r\n      }\r\n    }\r\n\r\n    // for each pass\r\n    for (let i = 0; i < technique._passes.length; ++i) {\r\n      let pass = technique._passes[i];\r\n      let count = ia.count;\r\n\r\n      // set vertex buffer\r\n      device.setVertexBuffer(0, ia._vertexBuffer);\r\n\r\n      // set index buffer\r\n      if (ia._indexBuffer) {\r\n        device.setIndexBuffer(ia._indexBuffer);\r\n      }\r\n\r\n      // set primitive type\r\n      device.setPrimitiveType(ia._primitiveType);\r\n\r\n      // set program\r\n      let program = programLib.getProgram(pass._programName, defines, dependencies);\r\n      device.setProgram(program);\r\n\r\n      // cull mode\r\n      device.setCullMode(pass._cullMode);\r\n\r\n      // blend\r\n      if (pass._blend) {\r\n        device.enableBlend();\r\n        device.setBlendFuncSep(\r\n          pass._blendSrc,\r\n          pass._blendDst,\r\n          pass._blendSrcAlpha,\r\n          pass._blendDstAlpha\r\n        );\r\n        device.setBlendEqSep(\r\n          pass._blendEq,\r\n          pass._blendAlphaEq\r\n        );\r\n        device.setBlendColor32(pass._blendColor);\r\n      }\r\n\r\n      // depth test & write\r\n      if (pass._depthTest) {\r\n        device.enableDepthTest();\r\n        device.setDepthFunc(pass._depthFunc);\r\n      }\r\n      if (pass._depthWrite) {\r\n        device.enableDepthWrite();\r\n      }\r\n\r\n      // stencil\r\n      if (pass._stencilTest) {\r\n        device.enableStencilTest();\r\n\r\n        // front\r\n        device.setStencilFuncFront(\r\n          pass._stencilFuncFront,\r\n          pass._stencilRefFront,\r\n          pass._stencilMaskFront\r\n        );\r\n        device.setStencilOpFront(\r\n          pass._stencilFailOpFront,\r\n          pass._stencilZFailOpFront,\r\n          pass._stencilZPassOpFront,\r\n          pass._stencilWriteMaskFront\r\n        );\r\n\r\n        // back\r\n        device.setStencilFuncBack(\r\n          pass._stencilFuncBack,\r\n          pass._stencilRefBack,\r\n          pass._stencilMaskBack\r\n        );\r\n        device.setStencilOpBack(\r\n          pass._stencilFailOpBack,\r\n          pass._stencilZFailOpBack,\r\n          pass._stencilZPassOpBack,\r\n          pass._stencilWriteMaskBack\r\n        );\r\n      }\r\n\r\n      // draw pass\r\n      device.draw(ia._start, count);\r\n\r\n      this._resetTextureUnit();\r\n    }\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport enums from '../enums';\r\n\r\nfunction _defineProperty(target, name, internalName, arrayFn) {\r\n  target[internalName] = new arrayFn(target._data);\r\n  Object.defineProperty(target, name, {\r\n    get() {\r\n      return this[internalName];\r\n    },\r\n  });\r\n}\r\n\r\nexport default class ArrayBufferHelper {\r\n  constructor(size, viewTypes) {\r\n    this._data = new ArrayBuffer(size);\r\n\r\n    for (let i = 0; i < viewTypes.length; ++i) {\r\n      let type = viewTypes[i];\r\n\r\n      if (type === enums.BUFFER_VIEW_INT8) {\r\n        _defineProperty(this, 'int8View', '_int8View', Int8Array);\r\n      } else if (type === enums.BUFFER_VIEW_UINT8) {\r\n        _defineProperty(this, 'uint8View', '_uint8View', Uint8Array);\r\n      } else if (type === enums.BUFFER_VIEW_INT16) {\r\n        _defineProperty(this, 'int16View', '_int16View', Int16Array);\r\n      } else if (type === enums.BUFFER_VIEW_UINT16) {\r\n        _defineProperty(this, 'uint16View', '_uint16View', Uint16Array);\r\n      } else if (type === enums.BUFFER_VIEW_INT32) {\r\n        _defineProperty(this, 'int32View', '_int32View', Int32Array);\r\n      } else if (type === enums.BUFFER_VIEW_UINT32) {\r\n        _defineProperty(this, 'uint32View', '_uint32View', Uint32Array);\r\n      } else if (type === enums.BUFFER_VIEW_FLOAT32) {\r\n        _defineProperty(this, 'float32View', '_float32View', Float32Array);\r\n      }\r\n    }\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { bits } from '../../vmath';\r\nimport ArrayBufferHelper from './array-buffer-helper';\r\nimport enums from '../enums';\r\n\r\nconst _DEFAULT_MAX_BATCH_BYTES = 512000; // 500 kb\r\nconst _MIN_BATCH_BYTES = 64;\r\n\r\nlet _minLog = bits.log2(_MIN_BATCH_BYTES);\r\n\r\nexport default class BufferPool {\r\n  constructor(maxBytes = _DEFAULT_MAX_BATCH_BYTES, viewTypes = [enums.BUFFER_VIEW_FLOAT32]) {\r\n    this._buffers = [];\r\n    this._maxBytes = bits.nextPow2(maxBytes);\r\n    this._maxLog = bits.log2(this._maxBytes);\r\n\r\n    for (let i = _minLog; i <= this._maxLog; ++i) {\r\n      this._buffers.push(new ArrayBufferHelper(1 << i, viewTypes));\r\n    }\r\n  }\r\n\r\n  get maxBytes() {\r\n    return this._maxBytes;\r\n  }\r\n\r\n  request(size) {\r\n    let np2 = bits.nextPow2(size);\r\n    let curLog = bits.log2(np2);\r\n    if (curLog > this._maxLog) {\r\n      return this._buffers[this._maxLog - _minLog];\r\n    } else if (curLog < _minLog) {\r\n      return this._buffers[0];\r\n    } else {\r\n      return this._buffers[curLog - _minLog];\r\n    }\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\nimport { CircularPool } from '../../memop';\r\nimport InputAssembler from './input-assembler';\r\nimport BufferPool from './buffer-pool';\r\nimport enums from '../enums';\r\n\r\nlet _attr2bufviewType = {};\r\n_attr2bufviewType[gfx.ATTR_TYPE_INT8] = enums.BUFFER_VIEW_INT8;\r\n_attr2bufviewType[gfx.ATTR_TYPE_UINT8] = enums.BUFFER_VIEW_UINT8;\r\n_attr2bufviewType[gfx.ATTR_TYPE_INT16] = enums.BUFFER_VIEW_INT16;\r\n_attr2bufviewType[gfx.ATTR_TYPE_UINT16] = enums.BUFFER_VIEW_UINT16;\r\n_attr2bufviewType[gfx.ATTR_TYPE_INT32] = enums.BUFFER_VIEW_INT32;\r\n_attr2bufviewType[gfx.ATTR_TYPE_UINT32] = enums.BUFFER_VIEW_UINT32;\r\n_attr2bufviewType[gfx.ATTR_TYPE_FLOAT32] = enums.BUFFER_VIEW_FLOAT32;\r\n\r\nexport default class DynamicIAPool {\r\n  constructor(device, maxBuffers, pt, vfmt, maxVerts, ifmt = gfx.INDEX_FMT_UINT16, maxIndices = -1) {\r\n    // create vdata pool\r\n    let vbufviewTypes = [];\r\n    for (let i = 0; i < vfmt._elements.length; ++i) {\r\n      let attrType = vfmt._elements[i].type;\r\n      let bufviewType = _attr2bufviewType[attrType];\r\n      if (vbufviewTypes.indexOf(bufviewType) === -1) {\r\n        vbufviewTypes.push(bufviewType);\r\n      }\r\n    }\r\n    this._bytesPerVeretx = vfmt._bytes;\r\n    this._vdataPool = new BufferPool(this._bytesPerVeretx * maxVerts, vbufviewTypes);\r\n\r\n    // create idata pool\r\n    if (maxIndices !== -1) {\r\n      let ibufviewType = -1;\r\n\r\n      if (ifmt === gfx.INDEX_FMT_UINT8) {\r\n        ibufviewType = enums.BUFFER_VIEW_UINT8;\r\n        this._bytesPerIndex = 1;\r\n      } else if (ifmt === gfx.INDEX_FMT_UINT16) {\r\n        ibufviewType = enums.BUFFER_VIEW_UINT16;\r\n        this._bytesPerIndex = 2;\r\n      } else if (ifmt === gfx.INDEX_FMT_UINT32) {\r\n        ibufviewType = enums.BUFFER_VIEW_UINT32;\r\n        this._bytesPerIndex = 4;\r\n      }\r\n\r\n      this._idataPool = new BufferPool(\r\n        this._bytesPerIndex * maxIndices,\r\n        [ibufviewType]\r\n      );\r\n    }\r\n\r\n    this._maxVerts = maxVerts;\r\n    this._maxIndices = maxIndices;\r\n\r\n    this._IAs = new CircularPool(() => {\r\n      return new InputAssembler(\r\n        new gfx.VertexBuffer(\r\n          device,\r\n          vfmt,\r\n          gfx.USAGE_DYNAMIC,\r\n          null,\r\n          Math.ceil(this._vdataPool.maxBytes / this._bytesPerVeretx)\r\n        ),\r\n        maxIndices === -1 ? null : new gfx.IndexBuffer(\r\n          device,\r\n          ifmt,\r\n          gfx.USAGE_DYNAMIC,\r\n          null,\r\n          Math.ceil(this._idataPool.maxBytes / this._bytesPerIndex)\r\n        ),\r\n        pt\r\n      );\r\n    }, maxBuffers);\r\n  }\r\n\r\n  get maxVerts() {\r\n    return this._maxVerts;\r\n  }\r\n\r\n  get maxIndices() {\r\n    return this._maxIndices;\r\n  }\r\n\r\n  requestIA() {\r\n    return this._IAs.request();\r\n  }\r\n\r\n  requestVData(count) {\r\n    return this._vdataPool.request(count * this._bytesPerVeretx);\r\n  }\r\n\r\n  requestIData(count) {\r\n    return this._idataPool.request(count * this._bytesPerIndex);\r\n  }\r\n}","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport gfx from '../../gfx';\r\nimport { vec3, mat4 } from '../../vmath';\r\n\r\nimport BaseRenderer from '../core/base-renderer';\r\nimport DynamicIAPool from '../core/dynamic-ia-pool';\r\nimport enums from '../enums';\r\n\r\n// import GaussianBlur from './gaussian-blur';\r\n\r\nlet _camPos = vec3.zero();\r\nlet _camFwd = vec3.zero();\r\nlet _v3_tmp1 = vec3.zero();\r\n\r\nlet _a16_view = new Float32Array(16);\r\nlet _a16_proj = new Float32Array(16);\r\nlet _a16_viewProj = new Float32Array(16);\r\nlet _a16_lightViewProj = new Float32Array(16);\r\nlet _a3_camPos = new Float32Array(3);\r\n\r\nexport default class ForwardRenderer extends BaseRenderer {\r\n  constructor(device, builtin) {\r\n    super(device, builtin);\r\n    this._directionalLights = [];\r\n    this._pointLights = [];\r\n    this._spotLights = [];\r\n    this._shadowLights = [];\r\n    this._sceneAmbient = new Float32Array([0.5, 0.5, 0.5]);\r\n\r\n    this._registerStage('shadowcast', this._shadowStage.bind(this));\r\n    this._registerStage('opaque', this._opaqueStage.bind(this));\r\n    this._registerStage('transparent', this._transparentStage.bind(this));\r\n    this._registerStage('ui', this._uiStage.bind(this));\r\n\r\n    this._registerModel('default', this._draw.bind(this));\r\n    this._registerModel('line-batch', this._drawLineBatch.bind(this));\r\n    this._registerModel('sprite-batch', this._drawSpriteBatch.bind(this));\r\n    this._registerModel('particle-batch', this._drawParticleBatch.bind(this));\r\n    this._registerModel('skinning', this._drawSkinning.bind(this));\r\n\r\n    // this._blur = new GaussianBlur(device, this._programLib);\r\n\r\n    // lineIAs\r\n    this._lineIAs = new DynamicIAPool(\r\n      device, 2,\r\n      gfx.PT_LINES,\r\n      new gfx.VertexFormat([\r\n        { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n        { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_FLOAT32, num: 3 }\r\n      ]),\r\n      2000\r\n    );\r\n\r\n    // spriteIAs\r\n    this._spriteIAs = new DynamicIAPool(\r\n      device, 2,\r\n      gfx.PT_TRIANGLES,\r\n      new gfx.VertexFormat([\r\n        { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n        { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\r\n        { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_FLOAT32, num: 4 }\r\n      ]),\r\n      2000,\r\n      gfx.INDEX_FMT_UINT16,\r\n      2000\r\n    );\r\n  }\r\n\r\n  updateLights(scene) {\r\n    this._directionalLights.length = 0;\r\n    this._pointLights.length = 0;\r\n    this._spotLights.length = 0;\r\n    this._shadowLights.length = 0;\r\n    let lights = scene._lights;\r\n    for (let i = 0; i < lights.length; ++i) {\r\n      let light = lights.data[i];\r\n      light.update(this._device);\r\n      if (light.shadowType !== enums.SHADOW_NONE) {\r\n        this._shadowLights.push(light);\r\n        let view = this._requestView();\r\n        light.extractView(view, ['shadowcast']);\r\n      }\r\n      if (light._type === enums.LIGHT_DIRECTIONAL) {\r\n        this._directionalLights.push(light);\r\n      } else if (light._type === enums.LIGHT_POINT) {\r\n        this._pointLights.push(light);\r\n      } else {\r\n        this._spotLights.push(light);\r\n      }\r\n    }\r\n  }\r\n\r\n  render(scene) {\r\n    this._reset();\r\n\r\n    // extract views from cameras, lights and so on\r\n    const canvas = this._device._gl.canvas;\r\n\r\n    // update lights, extract shadow view.\r\n    this.updateLights(scene);\r\n\r\n    if (scene._debugCamera) {\r\n      let view = this._requestView();\r\n      scene._debugCamera.extractView(view, canvas.width, canvas.height);\r\n    } else {\r\n      for (let i = 0; i < scene._cameras.length; ++i) {\r\n        let view = this._requestView();\r\n        scene._cameras.data[i].extractView(view, canvas.width, canvas.height);\r\n      }\r\n    }\r\n\r\n    // render by cameras\r\n    this._viewPools.sort((a, b) => {\r\n      return (a._priority - b._priority);\r\n    });\r\n    scene._views.sort((a, b) => {\r\n      return (a._priority - b._priority);\r\n    });\r\n    for (let i = 0; i < this._viewPools.length; ++i) {\r\n      let view = this._viewPools.data[i];\r\n      this._render(view, scene);\r\n    }\r\n\r\n    // render by views (ui)\r\n    for (let i = 0; i < scene._views.length; ++i) {\r\n      let view = scene._views[i];\r\n      this._render(view, scene);\r\n    }\r\n  }\r\n\r\n  _submitLightUniforms() {\r\n    this._device.setUniform('sceneAmbient', this._sceneAmbient);\r\n\r\n    if (this._directionalLights.length > 0) {\r\n      for (let index = 0; index < this._directionalLights.length; ++index) {\r\n        let light = this._directionalLights[index];\r\n        this._device.setUniform(`dir_light${index}_direction`, light._directionUniform);\r\n        this._device.setUniform(`dir_light${index}_color`, light._colorUniform);\r\n      }\r\n    }\r\n    if (this._pointLights.length > 0) {\r\n      for (let index = 0; index < this._pointLights.length; ++index) {\r\n        let light = this._pointLights[index];\r\n        this._device.setUniform(`point_light${index}_position`, light._positionUniform);\r\n        this._device.setUniform(`point_light${index}_color`, light._colorUniform);\r\n        this._device.setUniform(`point_light${index}_range`, light._range);\r\n      }\r\n    }\r\n\r\n    if (this._spotLights.length > 0) {\r\n      for (let index = 0; index < this._spotLights.length; ++index) {\r\n        let light = this._spotLights[index];\r\n        this._device.setUniform(`spot_light${index}_position`, light._positionUniform);\r\n        this._device.setUniform(`spot_light${index}_direction`, light._directionUniform);\r\n        this._device.setUniform(`spot_light${index}_color`, light._colorUniform);\r\n        this._device.setUniform(`spot_light${index}_range`, light._range);\r\n        this._device.setUniform(`spot_light${index}_spot`, light._spotUniform);\r\n      }\r\n    }\r\n  }\r\n\r\n  _submitShadowStageUniforms(view) {\r\n    let light = view._shadowLight;\r\n    this._device.setUniform('minDepth', light.shadowMinDepth);\r\n    this._device.setUniform('maxDepth', light.shadowMaxDepth);\r\n    this._device.setUniform('bias', light.shadowBias);\r\n    this._device.setUniform('depthScale', light.shadowDepthScale);\r\n  }\r\n\r\n  _submitOtherStagesUniforms() {\r\n    for (let index = 0; index < this._shadowLights.length; ++index) {\r\n      let light = this._shadowLights[index];\r\n      this._device.setUniform(`lightViewProjMatrix_${index}`, mat4.array(_a16_lightViewProj, light.viewProjMatrix));\r\n      this._device.setUniform(`minDepth_${index}`, light.shadowMinDepth);\r\n      this._device.setUniform(`maxDepth_${index}`, light.shadowMaxDepth);\r\n      this._device.setUniform(`bias_${index}`, light.shadowBias);\r\n      this._device.setUniform(`depthScale_${index}`, light.shadowDepthScale);\r\n      this._device.setUniform(`darkness_${index}`, light.shadowDarkness);\r\n      this._device.setUniform(`frustumEdgeFalloff_${index}`, light.frustumEdgeFalloff);\r\n      this._device.setUniform(`texelSize_${index}`, new Float32Array([1.0 / light.shadowResolution, 1.0 / light.shadowResolution]));\r\n    }\r\n  }\r\n\r\n  _updateShaderDefines(items) {\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n      let defines = item.defines;\r\n\r\n      defines.NUM_DIR_LIGHTS = Math.min(4, this._directionalLights.length);\r\n      defines.NUM_POINT_LIGHTS = Math.min(4, this._pointLights.length);\r\n      defines.NUM_SPOT_LIGHTS = Math.min(4, this._spotLights.length);\r\n\r\n      defines.NUM_SHADOW_LIGHTS = Math.min(4, this._shadowLights.length);\r\n    }\r\n  }\r\n\r\n  _uiStage(view, items) {\r\n    // update uniforms\r\n    this._device.setUniform('view', mat4.array(_a16_view, view._matView));\r\n    this._device.setUniform('proj', mat4.array(_a16_proj, view._matProj));\r\n    this._device.setUniform('viewProj', mat4.array(_a16_viewProj, view._matViewProj));\r\n\r\n    // sort items\r\n    items.sort((a, b) => {\r\n      return a.model._userKey - b.model._userKey;\r\n    });\r\n\r\n    // draw it\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n      this._drawModel(item);\r\n    }\r\n  }\r\n\r\n  _shadowStage(view, items) {\r\n    const programLib = this._programLib;\r\n    this._device.setUniform('lightViewProjMatrix', mat4.array(_a16_viewProj, view._matViewProj));\r\n\r\n    // update rendering\r\n    this._submitLightUniforms();\r\n    this._submitShadowStageUniforms(view);\r\n    this._updateShaderDefines(items);\r\n\r\n    // calculate sorting key\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n      item.sortKey = programLib.getKey(\r\n        item.technique._passes[0]._programName,\r\n        item.defines\r\n      );\r\n    }\r\n\r\n    // sort items\r\n    items.sort((a, b) => {\r\n      let techA = a.technique;\r\n      let techB = b.technique;\r\n\r\n      if (techA._layer !== techB._layer) {\r\n        return techA._layer - techB._layer;\r\n      }\r\n\r\n      if (techA._passes.length !== techB._passes.length) {\r\n        return techA._passes.length - techB._passes.length;\r\n      }\r\n\r\n      return a.sortKey - b.sortKey;\r\n    });\r\n\r\n    // draw it\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n      if (item.model._castShadow) {\r\n        this._drawModel(item);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  _opaqueStage(view, items) {\r\n    const programLib = this._programLib;\r\n    view.getPosition(_camPos);\r\n\r\n    // update uniforms\r\n    this._device.setUniform('view', mat4.array(_a16_view, view._matView));\r\n    this._device.setUniform('proj', mat4.array(_a16_proj, view._matProj));\r\n    this._device.setUniform('viewProj', mat4.array(_a16_viewProj, view._matViewProj));\r\n    this._device.setUniform('eye', vec3.array(_a3_camPos, _camPos));\r\n\r\n    // update rendering\r\n    this._submitLightUniforms();\r\n    this._submitOtherStagesUniforms();\r\n    this._updateShaderDefines(items);\r\n\r\n    // calculate sorting key\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n      item.sortKey = programLib.getKey(\r\n        item.technique._passes[0]._programName,\r\n        item.defines\r\n      );\r\n    }\r\n\r\n    // sort items\r\n    items.sort((a, b) => {\r\n      let techA = a.technique;\r\n      let techB = b.technique;\r\n\r\n      if (techA._layer !== techB._layer) {\r\n        return techA._layer - techB._layer;\r\n      }\r\n\r\n      if (techA._passes.length !== techB._passes.length) {\r\n        return techA._passes.length - techB._passes.length;\r\n      }\r\n\r\n      return a.sortKey - b.sortKey;\r\n    });\r\n\r\n    // draw it\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n\r\n      for (let index = 0; index < this._shadowLights.length; ++index) {\r\n        let light = this._shadowLights[index];\r\n        this._device.setTexture(`shadowMap_${index}`, light.shadowMap, this._allocTextureUnit());\r\n      }\r\n\r\n      this._drawModel(item);\r\n    }\r\n  }\r\n\r\n  _transparentStage(view, items) {\r\n    view.getPosition(_camPos);\r\n    view.getForward(_camFwd);\r\n\r\n    // update uniforms\r\n    this._device.setUniform('view', mat4.array(_a16_view, view._matView));\r\n    this._device.setUniform('proj', mat4.array(_a16_proj, view._matProj));\r\n    this._device.setUniform('viewProj', mat4.array(_a16_viewProj, view._matViewProj));\r\n    this._device.setUniform('eye', vec3.array(_a3_camPos, _camPos));\r\n\r\n    // calculate zdist\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n\r\n      // TODO: we should use mesh center instead!\r\n      item.node.getWorldPos(_v3_tmp1);\r\n\r\n      vec3.sub(_v3_tmp1, _v3_tmp1, _camPos);\r\n      item.sortKey = vec3.dot(_v3_tmp1, _camFwd);\r\n    }\r\n\r\n    // update rendering\r\n    this._submitLightUniforms();\r\n    this._submitOtherStagesUniforms();\r\n    this._updateShaderDefines(items);\r\n\r\n    // sort items\r\n    items.sort((a, b) => {\r\n      if (a.technique._layer !== b.technique._layer) {\r\n        return a.technique._layer - b.technique._layer;\r\n      }\r\n\r\n      return b.sortKey - a.sortKey;\r\n    });\r\n\r\n    // draw it\r\n    for (let i = 0; i < items.length; ++i) {\r\n      let item = items.data[i];\r\n\r\n      for (let index = 0; index < this._shadowLights.length; ++index) {\r\n        let light = this._shadowLights[index];\r\n        this._device.setTexture(`shadowMap_${index}`, light.shadowMap, this._allocTextureUnit());\r\n      }\r\n\r\n      this._drawModel(item);\r\n    }\r\n  }\r\n\r\n  _drawSkinning(item) {\r\n    let { model, defines } = item;\r\n\r\n    defines.USE_SKINNING = true;\r\n    this._device.setTexture('u_jointsTexture', model._jointsTexture, this._allocTextureUnit());\r\n    this._device.setUniform('u_jointsTextureSize', model._jointsTexture._width);\r\n\r\n    this._draw(item);\r\n  }\r\n\r\n  _drawLineBatch(item) {\r\n    let model = item.model;\r\n    let curVertCount = 0;\r\n    let vdata = this._lineIAs.requestVData(model.vertCount);\r\n    let vdataF32 = vdata.float32View;\r\n\r\n    for (let i = model.lineCount - 1; i >= 0; --i) {\r\n      let line = model.getLine(i);\r\n\r\n      // flush when verts exceeds\r\n      if (curVertCount + 2 >= this._lineIAs.maxVerts) {\r\n        let ia = this._lineIAs.requestIA();\r\n        ia._vertexBuffer.update(0, vdataF32);\r\n        ia._start = 0;\r\n        ia._count = curVertCount;\r\n\r\n        item.ia = ia;\r\n        this._draw(item);\r\n        curVertCount = 0;\r\n      }\r\n\r\n      //\r\n      let idx = curVertCount * 6;\r\n      vdataF32[idx] = line.start.x;\r\n      vdataF32[idx + 1] = line.start.y;\r\n      vdataF32[idx + 2] = line.start.z;\r\n      vdataF32[idx + 3] = line.color.r;\r\n      vdataF32[idx + 4] = line.color.g;\r\n      vdataF32[idx + 5] = line.color.b;\r\n\r\n      vdataF32[idx + 6] = line.end.x;\r\n      vdataF32[idx + 7] = line.end.y;\r\n      vdataF32[idx + 8] = line.end.z;\r\n      vdataF32[idx + 9] = line.color.r;\r\n      vdataF32[idx + 10] = line.color.g;\r\n      vdataF32[idx + 11] = line.color.b;\r\n\r\n      curVertCount += 2;\r\n    }\r\n\r\n    // flush rest verts\r\n    if (curVertCount > 0) {\r\n      let ia = this._lineIAs.requestIA();\r\n      ia._vertexBuffer.update(0, vdataF32);\r\n      ia._start = 0;\r\n      ia._count = curVertCount;\r\n\r\n      item.ia = ia;\r\n      this._draw(item);\r\n    }\r\n  }\r\n\r\n  _drawSpriteBatch(item) {\r\n    let model = item.model;\r\n    let curVertOffset = 0;\r\n    let curVertCount = 0;\r\n    let curIndexCount = 0;\r\n    let vdata = this._spriteIAs.requestVData(model.vertCount);\r\n    let idata = this._spriteIAs.requestIData(model.indexCount);\r\n    let vdataF32 = vdata.float32View;\r\n    let idataU16 = idata.uint16View;\r\n\r\n    for (let i = 0; i < model.spriteCount; ++i) {\r\n      let sprite = model.getSprite(i);\r\n      let vcount = sprite.refPositions.length;\r\n      let icount = sprite.refIndices.length;\r\n\r\n      // flush when verts exceeds\r\n      if (\r\n        curVertCount + vcount >= this._spriteIAs.maxVerts ||\r\n        curIndexCount + icount >= this._spriteIAs.maxIndices\r\n      ) {\r\n        let ia = this._spriteIAs.requestIA();\r\n        ia._vertexBuffer.update(0, vdataF32);\r\n        ia._indexBuffer.update(0, idataU16);\r\n\r\n        ia._start = 0;\r\n        ia._count = curIndexCount;\r\n\r\n        item.ia = ia;\r\n        this._draw(item);\r\n\r\n        curVertOffset = 0;\r\n        curVertCount = 0;\r\n        curIndexCount = 0;\r\n      }\r\n\r\n      //\r\n      for (let j = 0; j < vcount; ++j) {\r\n        let idx = curVertCount * 9;\r\n\r\n        vdataF32[idx] = sprite.refPositions[j].x;\r\n        vdataF32[idx + 1] = sprite.refPositions[j].y;\r\n        vdataF32[idx + 2] = sprite.refPositions[j].z;\r\n        vdataF32[idx + 3] = sprite.refUVs[j].x;\r\n        vdataF32[idx + 4] = sprite.refUVs[j].y;\r\n        vdataF32[idx + 5] = sprite.refColor.r;\r\n        vdataF32[idx + 6] = sprite.refColor.g;\r\n        vdataF32[idx + 7] = sprite.refColor.b;\r\n        vdataF32[idx + 8] = sprite.refColor.a;\r\n\r\n        curVertCount += 1;\r\n      }\r\n\r\n      for (let j = 0; j < icount; ++j) {\r\n        let idx = curIndexCount;\r\n\r\n        idataU16[idx] = curVertOffset + sprite.refIndices[j];\r\n\r\n        curIndexCount += 1;\r\n      }\r\n\r\n      curVertOffset += vcount;\r\n    }\r\n\r\n    // flush rest verts & indices\r\n    if (curIndexCount > 0) {\r\n      let ia = this._spriteIAs.requestIA();\r\n      ia._vertexBuffer.update(0, vdataF32);\r\n      ia._indexBuffer.update(0, idataU16);\r\n      ia._start = 0;\r\n      ia._count = curIndexCount;\r\n\r\n      item.ia = ia;\r\n      this._draw(item);\r\n    }\r\n  }\r\n\r\n  _drawParticleBatch(item) {\r\n    item.ia = item.model._ia;\r\n    this._draw(item);\r\n  }\r\n}","import enums from './enums';\r\nimport { createIA } from './utils';\r\nimport config from './config';\r\n\r\nimport Pass from './core/pass';\r\nimport Technique from './core/technique';\r\nimport Effect from './core/effect';\r\nimport InputAssembler from './core/input-assembler';\r\nimport View from './core/view';\r\n\r\nimport Light from './scene/light';\r\nimport Camera from './scene/camera';\r\nimport Model from './scene/model';\r\nimport Scene from './scene/scene';\r\n\r\nimport LineBatchModel from './models/line-batch-model';\r\nimport SpriteBatchModel from './models/sprite-batch-model';\r\nimport ParticleBatchModel from './models/particle-batch-model';\r\nimport SkinningModel from './models/skinning-model';\r\n\r\nimport ForwardRenderer from './renderers/forward-renderer';\r\n\r\nlet renderer = {\r\n  // config\r\n  addStage: config.addStage,\r\n\r\n  // utils\r\n  createIA,\r\n\r\n  // core\r\n  Pass,\r\n  Technique,\r\n  Effect,\r\n  InputAssembler,\r\n  View,\r\n\r\n  // scene\r\n  Light,\r\n  Camera,\r\n  Model,\r\n  Scene,\r\n\r\n  // models\r\n  LineBatchModel,\r\n  SpriteBatchModel,\r\n  ParticleBatchModel,\r\n  SkinningModel,\r\n\r\n  // renderers\r\n  ForwardRenderer,\r\n};\r\nObject.assign(renderer, enums);\r\n\r\nexport default renderer;","import { LinkedArray, RecyclePool } from '../memop';\r\n\r\nconst enums = {\r\n  KEY_NONE: 0,\r\n  KEY_DOWN: 1,\r\n  KEY_PRESSING: 2,\r\n  KEY_UP: 3,\r\n\r\n  TOUCH_START: 0,\r\n  TOUCH_PRESSING: 1,\r\n  TOUCH_END: 2,\r\n  TOUCH_CANCEL: 3,\r\n\r\n  LOCK_NEVER: 0,\r\n  LOCK_WHEN_PRESSED: 1,\r\n  LOCK_ALWAYS: 2,\r\n};\r\n\r\nlet _dragMask = null;\r\nlet _phases = [\r\n  'start',\r\n  'pressing',\r\n  'end',\r\n  'cancel'\r\n];\r\n\r\nlet _states = [\r\n  'none',\r\n  'down',\r\n  'pressing',\r\n  'up',\r\n];\r\n\r\nexport default class Input {\r\n  /**\r\n   * @method constructor\r\n   * @param {HTMLElement} [element]\r\n   * @param {object} [opts]\r\n   * @param {boolean} [opts.enabled] - enable input. default is true\r\n   * @param {boolean} [opts.lock] - lock cursor when mouse down. default is false.\r\n   * @param {boolean} [opts.useMask] - use drag mask (for prevent cursor changes).\r\n   * @param {string} [opts.maskCursor] - the cursor for drag mask.\r\n   * @param {string} [opts.invertY] - invert Y coordinate (start from bottom-left instead)\r\n   */\r\n  constructor(element, opts) {\r\n    opts = opts || {};\r\n\r\n    if (!_dragMask && opts.useMask) {\r\n      _dragMask = document.createElement('div');\r\n      _dragMask.classList.add('drag-mask');\r\n      _dragMask.style.position = 'fixed';\r\n      _dragMask.style.zIndex = '9999';\r\n      _dragMask.style.top = '0';\r\n      _dragMask.style.right = '0';\r\n      _dragMask.style.bottom = '0';\r\n      _dragMask.style.left = '0';\r\n      _dragMask.oncontextmenu = function () { return false; };\r\n    }\r\n\r\n    this._element = element || document.body;\r\n    this._element.requestPointerLock = this._element.requestPointerLock || this._element.mozRequestPointerLock;\r\n    this._element.exitPointerLock = this._element.exitPointerLock || this._element.mozExitPointerLock;\r\n\r\n    // setup options\r\n\r\n    this._enabled = true;\r\n    if (opts.enabled !== undefined) {\r\n      this._enabled = opts.enabled;\r\n    }\r\n\r\n    this._lock = enums.LOCK_NEVER;\r\n    if (opts.lock !== undefined) {\r\n      this._lock = opts.lock;\r\n    }\r\n\r\n    this._useMask = false;\r\n    if (opts.useMask !== undefined) {\r\n      this._useMask = opts.useMask;\r\n    }\r\n\r\n    this._maskCursor = 'default';\r\n    if (opts.maskCursor !== undefined) {\r\n      this._maskCursor = opts.maskCursor;\r\n    }\r\n\r\n    this._invertY = false;\r\n    if (opts.invertY !== undefined) {\r\n      this._invertY = opts.invertY;\r\n    }\r\n\r\n    //\r\n    let ua = navigator.userAgent.toLowerCase();\r\n    if (/mobile|android|iphone|ipad|phone/i.test(ua)) {\r\n      this._hasTouch = true;\r\n    }\r\n\r\n    // mouse internal states\r\n    this._globalEventInstalled = false;\r\n    this._pointerLocked = false;\r\n    this._mouseGrabbed = false;\r\n\r\n    this._bcr = element.getBoundingClientRect();\r\n\r\n    // the mouse state\r\n    this._mouse = {\r\n      x: 0,\r\n      y: 0,\r\n      dx: 0,\r\n      dy: 0,\r\n      prevX: 0,\r\n      prevY: 0,\r\n\r\n      // mouse wheel (delta)\r\n      scrollX: 0,\r\n      scrollY: 0,\r\n\r\n      // buttons\r\n      left: enums.KEY_NONE,\r\n      right: enums.KEY_NONE,\r\n      middle: enums.KEY_NONE,\r\n    };\r\n\r\n    // the keyboard state\r\n    this._keys = new LinkedArray(() => {\r\n      return {\r\n        _next: null,\r\n        _prev: null,\r\n        _state: 0,\r\n        key: '',\r\n        get state () {\r\n          return _states[this._state];\r\n        }\r\n      };\r\n    }, 100);\r\n\r\n    //the touch state\r\n    this._touches = new RecyclePool(() => {\r\n      return {\r\n        id: -1, // touch.identifier\r\n        x: 0,\r\n        y: 0,\r\n        dx: 0,\r\n        dy: 0,\r\n        prevX: 0,\r\n        prevY: 0,\r\n        get phase() {\r\n          return _phases[this._phase];\r\n        },\r\n        _phase: -1, // 0: START, 1: PRESSING, 2: END\r\n      };\r\n    }, 16);\r\n\r\n    // mousemove\r\n    this._mousemoveHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this._mouse.dx = event.movementX;\r\n      this._mouse.dy = event.movementY;\r\n\r\n      if (this._pointerLocked) {\r\n        this._mouse.x += event.movementX;\r\n        if (this._invertY) {\r\n          this._mouse.y -= event.movementY;\r\n        } else {\r\n          this._mouse.y += event.movementY;\r\n        }\r\n      } else {\r\n        this._mouse.x = this._calcOffsetX(event.clientX);\r\n        this._mouse.y = this._calcOffsetY(event.clientY);\r\n      }\r\n    };\r\n\r\n    // mousewheel\r\n    this._mousewheelHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this._mouse.scrollX = event.deltaX;\r\n      this._mouse.scrollY = event.deltaY;\r\n    };\r\n\r\n    this._domMouseWheelHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      // No horizon scrolling current.\r\n      this._mouse.scrollX = 0;\r\n      // When scroll forward, it's multiply of -3,\r\n      // otherwise when scroll backward, it's multiply of 3.\r\n      this._mouse.scrollY = event.detail / 3;\r\n    };\r\n\r\n    // mousedown\r\n    this._mousedownHandle = event => {\r\n      // NOTE: this will prevent mouse enter the text selection state.\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      if (this._lock) {\r\n        this._lockPointer(true);\r\n      }\r\n\r\n      this._installGlobalEvents();\r\n      this._element.focus();\r\n\r\n      // handle mouse button\r\n      switch (event.button) {\r\n        // left mouse down\r\n        case 0:\r\n          // NOTE: do not reset KEY_DOWN when it already pressed\r\n          if (this._mouse.left !== enums.KEY_PRESSING) {\r\n            this._mouse.left = enums.KEY_DOWN;\r\n          }\r\n          break;\r\n\r\n        // middle mouse down\r\n        case 1:\r\n          // NOTE: do not reset KEY_DOWN when it already pressed\r\n          if (this._mouse.middle !== enums.KEY_PRESSING) {\r\n            this._mouse.middle = enums.KEY_DOWN;\r\n          }\r\n          break;\r\n\r\n        // right mouse down\r\n        case 2:\r\n          // NOTE: do not reset KEY_DOWN when it already pressed\r\n          if (this._mouse.right !== enums.KEY_PRESSING) {\r\n            this._mouse.right = enums.KEY_DOWN;\r\n          }\r\n          break;\r\n      }\r\n    };\r\n\r\n    // mouseup\r\n    this._mouseupHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      // reset mouse position\r\n      this._mouse.dx = event.movementX;\r\n      this._mouse.dy = event.movementY;\r\n      this._mouse.prevX = this._mouse.x = this._calcOffsetX(event.clientX);\r\n      this._mouse.prevY = this._mouse.y = this._calcOffsetY(event.clientY);\r\n\r\n      // handle mouse button\r\n      switch (event.button) {\r\n        // left mouse up\r\n        case 0:\r\n          this._mouse.left = enums.KEY_UP;\r\n          break;\r\n\r\n        // middle mouse up\r\n        case 1:\r\n          this._mouse.middle = enums.KEY_UP;\r\n          break;\r\n\r\n        // right mouse up\r\n        case 2:\r\n          this._mouse.right = enums.KEY_UP;\r\n          break;\r\n      }\r\n    };\r\n\r\n    // mouseenter\r\n    this._mouseenterHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      this._mouse.dx = 0.0;\r\n      this._mouse.dy = 0.0;\r\n      this._mouse.prevX = this._mouse.x = this._calcOffsetX(event.clientX);\r\n      this._mouse.prevY = this._mouse.y = this._calcOffsetY(event.clientY);\r\n    };\r\n\r\n    // mouseleave\r\n    this._mouseleaveHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n\r\n      if (this._mouseGrabbed) {\r\n        return;\r\n      }\r\n\r\n      this._uninstallGlobalEvents();\r\n\r\n      this._mouse.dx = event.movementX;\r\n      this._mouse.dy = event.movementY;\r\n      this._mouse.prevX = this._mouse.x = this._calcOffsetX(event.clientX);\r\n      this._mouse.prevY = this._mouse.y = this._calcOffsetY(event.clientY);\r\n    };\r\n\r\n    // keydown\r\n    this._keydownHandle = event => {\r\n      event.stopPropagation();\r\n\r\n      let iter = this._keys.head;\r\n      while (iter) {\r\n        if (iter.key === event.key) {\r\n          break;\r\n        }\r\n        iter = iter._next;\r\n      }\r\n\r\n      // NOTE: do not reset KEY_DOWN when it already pressed\r\n      if (iter && iter._state === enums.KEY_PRESSING) {\r\n        return;\r\n      }\r\n\r\n      if (!iter) {\r\n        iter = this._keys.add();\r\n      }\r\n      iter.key = event.key;\r\n      iter._state = enums.KEY_DOWN;\r\n    };\r\n\r\n    // keyup\r\n    this._keyupHandle = event => {\r\n      event.stopPropagation();\r\n\r\n      let iter = this._keys.head;\r\n      while (iter) {\r\n        if (iter.key === event.key) {\r\n          break;\r\n        }\r\n        iter = iter._next;\r\n      }\r\n\r\n      if (iter) {\r\n        this._keys.remove(iter);\r\n      }\r\n\r\n      iter = this._keys.add();\r\n      iter.key = event.key;\r\n      iter._state = enums.KEY_UP;\r\n    };\r\n\r\n    // touchstart\r\n    this._touchstartHandle = event => {\r\n      event.preventDefault();\r\n\r\n      for (let i = 0; i < event.changedTouches.length; i++) {\r\n        let changedTouch = event.changedTouches[i];\r\n        let touch = this._touches.add();\r\n\r\n        touch.id = changedTouch.identifier;\r\n        touch._phase = enums.TOUCH_START;\r\n        touch.x = this._calcOffsetX(changedTouch.clientX);\r\n        touch.y = this._calcOffsetY(changedTouch.clientY);\r\n        touch.dx = 0;\r\n        touch.dy = 0;\r\n        touch.prevX = 0;\r\n        touch.prevY = 0;\r\n      }\r\n    };\r\n\r\n    // touchmove\r\n    this._touchmoveHandle = event => {\r\n      event.preventDefault();\r\n\r\n      for (let i = 0; i < this._touches.length; i++) {\r\n        for (let j = 0; j < event.changedTouches.length; j++) {\r\n          let touch = this._touches.data[i];\r\n          let changedTouch = event.changedTouches[j];\r\n\r\n          if (touch.id === changedTouch.identifier) {\r\n            touch._phase = enums.TOUCH_PRESSING;\r\n            touch.x = this._calcOffsetX(changedTouch.clientX);\r\n            touch.y = this._calcOffsetY(changedTouch.clientY);\r\n            touch.dx = touch.x - touch.prevX;\r\n            touch.dy = touch.y - touch.prevY;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // touchend\r\n    this._touchendHandle = event => {\r\n      event.preventDefault();\r\n\r\n      for (let i = 0; i < this._touches.length; i++) {\r\n        for (let j = 0; j < event.changedTouches.length; j++) {\r\n          let touch = this._touches.data[i];\r\n          let changedTouch = event.changedTouches[j];\r\n\r\n          if (touch.id === changedTouch.identifier) {\r\n            touch._phase = enums.TOUCH_END;\r\n            touch.prevX = touch.x = this._calcOffsetX(changedTouch.clientX);\r\n            touch.prevY = touch.y = this._calcOffsetY(changedTouch.clientY);\r\n            touch.dx = 0;\r\n            touch.dy = 0;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // touchcancel\r\n    this._touchcancelHandle = event => {\r\n      event.preventDefault();\r\n\r\n      for (let i = 0; i < this._touches.length; i++) {\r\n        for (let j = 0; j < event.changedTouches.length; j++) {\r\n          let touch = this._touches.data[i];\r\n          let changedTouch = event.changedTouches[j];\r\n\r\n          if (touch.id === changedTouch.identifier) {\r\n            touch._phase = enums.TOUCH_CANCEL;\r\n            touch.prevX = touch.x = this._calcOffsetX(changedTouch.clientX);\r\n            touch.prevY = touch.y = this._calcOffsetY(changedTouch.clientY);\r\n            touch.dx = 0;\r\n            touch.dy = 0;\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // contextmenu\r\n    this._contextmenuHandle = event => {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    };\r\n\r\n    this._lockChangeHandle = () => {\r\n      if(document.pointerLockElement === this._element ||\r\n      document.mozPointerLockElement === this._element) {\r\n        this._pointerLocked = true;\r\n      } else {\r\n        this._pointerLocked = false;\r\n      }\r\n    };\r\n\r\n    if (this._enabled) {\r\n      this._registerEvents();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Firefox use 'DOMMouseScroll' as their mouse wheel event name.\r\n   * Other browsers(Safari, Chrome, Edge have been tested) use 'mousewheel' instead.\r\n  */\r\n\r\n  _registerMousewheelEvent() {\r\n    this._element.addEventListener('mousewheel', this._mousewheelHandle, { passive: false });\r\n    this._element.addEventListener('DOMMouseScroll', this._domMouseWheelHandle, { passive: false });\r\n  }\r\n\r\n  _unregisterMousewheelEvent() {\r\n    this._element.removeEventListener('mousewheel', this._mousewheelHandle, { passive: true });\r\n    this._element.removeEventListener('DOMMouseScroll', this._domMouseWheelHandle, { passive: true });\r\n  }\r\n\r\n  destroy() {\r\n    this._element.removeEventListener('mousedown', this._mousedownHandle);\r\n    this._element.removeEventListener('mouseenter', this._mouseenterHandle);\r\n    this._element.removeEventListener('mouseleave', this._mouseleaveHandle);\r\n    this._element.removeEventListener('mousemove', this._mousemoveHandle);\r\n    this._unregisterMousewheelEvent();\r\n    this._element.removeEventListener('keydown', this._keydownHandle);\r\n    this._element.removeEventListener('keyup', this._keyupHandle);\r\n    this._element.removeEventListener('touchstart', this._touchstartHandle);\r\n    this._element.removeEventListener('touchend', this._touchendHandle);\r\n    this._element.removeEventListener('touchcancel', this._touchcancelHandle);\r\n    this._element.removeEventListener('touchmove', this._touchmoveHandle);\r\n\r\n    this._element.removeEventListener('contextmenu', this._contextmenuHandle);\r\n    document.removeEventListener('pointerlockchange', this._lockChangeHandle);\r\n\r\n    this._uninstallGlobalEvents();\r\n  }\r\n\r\n  _registerEvents() {\r\n    this._element.addEventListener('mousedown', this._mousedownHandle);\r\n    this._element.addEventListener('mouseenter', this._mouseenterHandle);\r\n    this._element.addEventListener('mouseleave', this._mouseleaveHandle);\r\n    this._element.addEventListener('mousemove', this._mousemoveHandle);\r\n    this._registerMousewheelEvent();\r\n    this._element.addEventListener('keydown', this._keydownHandle);\r\n    this._element.addEventListener('keyup', this._keyupHandle);\r\n    this._element.addEventListener('touchstart', this._touchstartHandle, false);\r\n    this._element.addEventListener('touchend', this._touchendHandle, false);\r\n    this._element.addEventListener('touchcancel', this._touchcancelHandle, false);\r\n    this._element.addEventListener('touchmove', this._touchmoveHandle, false);\r\n\r\n    this._element.addEventListener('contextmenu', this._contextmenuHandle);\r\n    document.addEventListener('pointerlockchange', this._lockChangeHandle, false);\r\n  }\r\n\r\n  _installGlobalEvents() {\r\n    if (this._globalEventInstalled) {\r\n      return;\r\n    }\r\n\r\n    document.addEventListener('mouseup', this._mouseupHandle);\r\n    document.addEventListener('mousemove', this._mousemoveHandle);\r\n    document.addEventListener('mousewheel', this._mousewheelHandle, { passive: true });\r\n\r\n    if (this._useMask) {\r\n      _dragMask.style.cursor = this._maskCursor || 'default';\r\n      document.body.appendChild(_dragMask);\r\n    }\r\n\r\n    this._globalEventInstalled = true;\r\n  }\r\n\r\n  _uninstallGlobalEvents() {\r\n    if (!this._globalEventInstalled) {\r\n      return;\r\n    }\r\n\r\n    // if we have mouse key pressed, skip it\r\n    if (\r\n      (this._mouse.left !== enums.KEY_NONE && this._mouse.left !== enums.KEY_UP) ||\r\n      (this._mouse.right !== enums.KEY_NONE && this._mouse.right !== enums.KEY_UP) ||\r\n      (this._mouse.middle !== enums.KEY_NONE && this._mouse.middle !== enums.KEY_UP)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // unlock mouse here\r\n    if (this._lock === enums.LOCK_WHEN_PRESSED) {\r\n      this._lockPointer(false);\r\n    }\r\n\r\n    // if we are grabbing mouse, skip it\r\n    if (this._mouseGrabbed) {\r\n      return;\r\n    }\r\n\r\n    document.removeEventListener('mouseup', this._mouseupHandle);\r\n    document.removeEventListener('mousemove', this._mousemoveHandle);\r\n    document.removeEventListener('mousewheel', this._mousewheelHandle, { passive: true });\r\n\r\n    if (this._useMask) {\r\n      _dragMask.remove();\r\n    }\r\n\r\n    this._globalEventInstalled = false;\r\n  }\r\n\r\n  // NOTE: in web-browser, requestPointerLock only works in mousedown event\r\n  _lockPointer(locked) {\r\n    if (locked) {\r\n      if (this._pointerLocked) {\r\n        return;\r\n      }\r\n\r\n      if (this._element.requestPointerLock) {\r\n        this._element.requestPointerLock();\r\n        this._pointerLocked = true;\r\n      }\r\n\r\n      return;\r\n    } else {\r\n      if (!this._pointerLocked) {\r\n        return;\r\n      }\r\n\r\n      if (document.exitPointerLock) {\r\n        document.exitPointerLock();\r\n        this._pointerLocked = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  _calcOffsetX (clientX) {\r\n    return clientX - this._bcr.left;\r\n  }\r\n\r\n  _calcOffsetY (clientY) {\r\n    if (this._invertY) {\r\n      return this._bcr.height - (clientY - this._bcr.top);\r\n    }\r\n\r\n    return clientY - this._bcr.top;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} enabled\r\n   */\r\n  get enabled() {\r\n    return this._enabled;\r\n  }\r\n  set enabled(val) {\r\n    if (this._enabled !== val) {\r\n      this._enabled = val;\r\n\r\n      if (this._enabled) {\r\n        this._registerEvents();\r\n        if (this._mouseGrabbed) {\r\n          this._installGlobalEvents();\r\n        }\r\n      } else {\r\n        this.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} hasTouch\r\n   */\r\n  get hasTouch() {\r\n    return this._hasTouch;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseX\r\n   */\r\n  get mouseX() {\r\n    return this._mouse.x;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseY\r\n   */\r\n  get mouseY() {\r\n    return this._mouse.y;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseDeltaX\r\n   */\r\n  get mouseDeltaX() {\r\n    return this._mouse.dx;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseDeltaY\r\n   */\r\n  get mouseDeltaY() {\r\n    return this._mouse.dy;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mousePrevX\r\n   */\r\n  get mousePrevX() {\r\n    return this._mouse.prevX;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mousePrevY\r\n   */\r\n  get mousePrevY() {\r\n    return this._mouse.prevY;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseScrollX\r\n   */\r\n  get mouseScrollX() {\r\n    return this._mouse.scrollX;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseScrollY\r\n   */\r\n  get mouseScrollY() {\r\n    return this._mouse.scrollY;\r\n  }\r\n\r\n  /**\r\n   * @property {number} mouseButtons - mouse buttons in pressing states\r\n   */\r\n  get mouseButtons() {\r\n    let buttons = 0;\r\n\r\n    let btn = this._mouse.left;\r\n    if (btn === enums.KEY_DOWN || btn === enums.KEY_PRESSING) {\r\n      buttons |= 1;\r\n    }\r\n\r\n    btn = this._mouse.right;\r\n    if (btn === enums.KEY_DOWN || btn === enums.KEY_PRESSING) {\r\n      buttons |= 2;\r\n    }\r\n\r\n    btn = this._mouse.middle;\r\n    if (btn === enums.KEY_DOWN || btn === enums.KEY_PRESSING) {\r\n      buttons |= 4;\r\n    }\r\n\r\n    return buttons;\r\n  }\r\n\r\n  /**\r\n   * @property {number} touchCount\r\n   */\r\n  get touchCount() {\r\n    return this._touches.length;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} hasKeyDown\r\n   */\r\n  get hasKeyDown() {\r\n    let iter = this._keys.head;\r\n    while (iter) {\r\n      if (iter._state === enums.KEY_DOWN || iter._state === enums.KEY_PRESSING) {\r\n        return true;\r\n      }\r\n      iter = iter._next;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} hasKeyUp\r\n   */\r\n  get hasKeyUp() {\r\n    let iter = this._keys.head;\r\n    while (iter) {\r\n      if (iter._state === enums.KEY_UP) {\r\n        return true;\r\n      }\r\n      iter = iter._next;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} hasMouseDown\r\n   */\r\n  get hasMouseDown() {\r\n    if (\r\n      this._mouse.left === enums.KEY_DOWN ||\r\n      this._mouse.middle === enums.KEY_DOWN ||\r\n      this._mouse.right === enums.KEY_DOWN\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} hasMouseUp\r\n   */\r\n  get hasMouseUp() {\r\n    if (\r\n      this._mouse.left === enums.KEY_UP ||\r\n      this._mouse.middle === enums.KEY_UP ||\r\n      this._mouse.right === enums.KEY_UP\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method getTouchInfo\r\n   * @param {number} idx\r\n   */\r\n  getTouchInfo(idx) {\r\n    return this._touches.data[idx];\r\n  }\r\n\r\n  /**\r\n   * @method reset\r\n   *\r\n   * Reset the input states.\r\n   * NOTE: you should call this at the end of your frame.\r\n   */\r\n  reset() {\r\n    if (this._enabled === false) {\r\n      return;\r\n    }\r\n\r\n    // update mouse states\r\n    this._mouse.prevX = this._mouse.x;\r\n    this._mouse.prevY = this._mouse.y;\r\n\r\n    this._mouse.dx = 0;\r\n    this._mouse.dy = 0;\r\n\r\n    this._mouse.scrollX = 0;\r\n    this._mouse.scrollY = 0;\r\n\r\n    if (this._mouse.left === enums.KEY_DOWN) {\r\n      this._mouse.left = enums.KEY_PRESSING;\r\n    } else if (this._mouse.left === enums.KEY_UP) {\r\n      this._mouse.left = enums.KEY_NONE;\r\n    }\r\n\r\n    if (this._mouse.middle === enums.KEY_DOWN) {\r\n      this._mouse.middle = enums.KEY_PRESSING;\r\n    } else if (this._mouse.middle === enums.KEY_UP) {\r\n      this._mouse.middle = enums.KEY_NONE;\r\n    }\r\n\r\n    if (this._mouse.right === enums.KEY_DOWN) {\r\n      this._mouse.right = enums.KEY_PRESSING;\r\n    } else if (this._mouse.right === enums.KEY_UP) {\r\n      this._mouse.right = enums.KEY_NONE;\r\n    }\r\n\r\n    // update keyboard states\r\n    let iter = this._keys.head;\r\n    let next = iter;\r\n    while (next) {\r\n      iter = next;\r\n      next = iter._next;\r\n\r\n      if (iter._state === enums.KEY_DOWN) {\r\n        iter._state = enums.KEY_PRESSING;\r\n      } else if (iter._state === enums.KEY_UP) {\r\n        this._keys.remove(iter);\r\n      }\r\n    }\r\n\r\n    // update touch states\r\n    for (let i = 0; i < this._touches.length; i++) {\r\n      this._touches.data[i].prevX = this._touches.data[i].x;\r\n      this._touches.data[i].prevY = this._touches.data[i].y;\r\n      this._touches.data[i].dx = 0;\r\n      this._touches.data[i].dy = 0;\r\n      if (this._touches.data[i]._phase === enums.TOUCH_START) {\r\n        this._touches.data[i]._phase = enums.TOUCH_PRESSING;\r\n      }\r\n      if (this._touches.data[i]._phase === enums.TOUCH_END || this._touches.data[i]._phase === enums.TOUCH_CANCEL) {\r\n        this._touches.remove(i);\r\n      }\r\n    }\r\n\r\n    // check if uninstall global events\r\n    this._uninstallGlobalEvents();\r\n  }\r\n\r\n  /**\r\n   * @method resize\r\n   *\r\n   * Update cached bounding client size.\r\n   */\r\n  resize() {\r\n    this._bcr = this._element.getBoundingClientRect();\r\n  }\r\n\r\n  /**\r\n   * @method grabMouse\r\n   * @param {boolean} grabbed\r\n   *\r\n   * Keep tracing mouse move event when mouse leave the target element.\r\n   */\r\n  grabMouse(grabbed) {\r\n    this._mouseGrabbed = grabbed;\r\n\r\n    // NOTE: we can mark mouse grabbed, but don't register events for it.\r\n    if (this._enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (grabbed) {\r\n      this._installGlobalEvents();\r\n    } else {\r\n      this._uninstallGlobalEvents();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @method mousedown\r\n   * @param {string} name - 'left', 'right' or 'middle'\r\n   */\r\n  mousedown(name) {\r\n    let btn = this._mouse[name];\r\n    if (btn !== undefined) {\r\n      return btn === enums.KEY_DOWN;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method mousepress\r\n   * @param {string} name - 'left', 'right' or 'middle'\r\n   */\r\n  mousepress(name) {\r\n    let btn = this._mouse[name];\r\n    if (btn !== undefined) {\r\n      return btn === enums.KEY_DOWN || btn === enums.KEY_PRESSING;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method mouseup\r\n   * @param {string} name - 'left', 'right' or 'middle'\r\n   */\r\n  mouseup(name) {\r\n    let btn = this._mouse[name];\r\n    if (btn !== undefined) {\r\n      return btn === enums.KEY_UP;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method keydown\r\n   * @param {string} name\r\n   */\r\n  keydown(name) {\r\n    let iter = this._keys.head;\r\n    while (iter) {\r\n      if (iter.key === name && iter._state === enums.KEY_DOWN) {\r\n        return true;\r\n      }\r\n      iter = iter._next;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method keyup\r\n   * @param {string} name\r\n   */\r\n  keyup(name) {\r\n    let iter = this._keys.head;\r\n    while (iter) {\r\n      if (iter.key === name && iter._state === enums.KEY_UP) {\r\n        return true;\r\n      }\r\n      iter = iter._next;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * @method keypress\r\n   * @param {string} name\r\n   */\r\n  keypress(name) {\r\n    let iter = this._keys.head;\r\n    while (iter) {\r\n      if (iter.key === name &&\r\n        (iter._state === enums.KEY_DOWN || iter._state === enums.KEY_PRESSING)\r\n      ) {\r\n        return true;\r\n      }\r\n      iter = iter._next;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nObject.assign(Input, enums);\r\n","/**\r\n * @class Event\r\n */\r\nexport default class Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts = {}) {\r\n    this.name = name;\r\n    this.detail = opts.detail;\r\n    this.bubbles = !!opts.bubbles;\r\n\r\n    // NOTE: DO NOT set target from opts,\r\n    // the target must be set manually from the user who create the event.\r\n    this.target = null;\r\n    this._stopped = false;\r\n  }\r\n\r\n  /**\r\n   * @method stop\r\n   *\r\n   * Stop propgation\r\n   */\r\n  stop() {\r\n    this._stopped = true;\r\n  }\r\n}","import Event from './event';\r\n\r\n// forked from: https://github.com/primus/eventemitter3\r\n\r\nconst has = Object.prototype.hasOwnProperty;\r\n\r\n/**\r\n * An event-table is a plain object whose properties are event names.\r\n */\r\nfunction _createTable() {\r\n  let obj = Object.create(null);\r\n  obj.__tmp__ = undefined;\r\n  delete obj.__tmp__;\r\n\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Representation of a single event listener.\r\n *\r\n * @param {Function} fn The listener function.\r\n * @param {*} context The context to invoke the listener with.\r\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n * @constructor\r\n * @private\r\n */\r\nfunction _EE(fn, context, once) {\r\n  this.fn = fn;\r\n  this.context = context;\r\n  this.once = once || false;\r\n}\r\n\r\n/**\r\n * Add a listener for a given event.\r\n *\r\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n * @param {(String|Symbol)} evt event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {*} context The context to invoke the listener with.\r\n * @param {Boolean} once Specify if the listener is a one-time listener.\r\n * @returns {EventEmitter}\r\n * @private\r\n */\r\nfunction _addListener(emitter, evt, fn, context, once) {\r\n  let listener = new _EE(fn, context || emitter, once);\r\n\r\n  if (!emitter._events[evt]) {\r\n    emitter._events[evt] = listener;\r\n    emitter._eventsCount++;\r\n  } else if (!emitter._events[evt].fn) {\r\n    emitter._events[evt].push(listener);\r\n  } else {\r\n    emitter._events[evt] = [emitter._events[evt], listener];\r\n  }\r\n\r\n  return emitter;\r\n}\r\n\r\n/**\r\n * Clear event by name.\r\n *\r\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\r\n * @param {(String|Symbol)} evt The Event name.\r\n * @private\r\n */\r\nfunction _clearEvent(emitter, evt) {\r\n  if (--emitter._eventsCount === 0) {\r\n    emitter._events = _createTable();\r\n  } else {\r\n    delete emitter._events[evt];\r\n  }\r\n}\r\n\r\n/**\r\n * bubble event\r\n *\r\n * @param {Event} event\r\n * @private\r\n */\r\nfunction _dispatchEvent(event) {\r\n  let emitter = event.target;\r\n\r\n  while (emitter) {\r\n    emitter.emit(event.name, event);\r\n\r\n    if (!event.bubbles || event._stopped) {\r\n      break;\r\n    }\r\n\r\n    emitter = emitter.parent;\r\n  }\r\n}\r\n\r\n/**\r\n * @class EventEmitter\r\n */\r\nexport default class EventEmitter {\r\n  static mixin (cls) {\r\n    Object.getOwnPropertyNames(EventEmitter.prototype).forEach(function (name) {\r\n      if (cls.prototype.hasOwnProperty(name) === false) {\r\n        Object.defineProperty(\r\n          cls.prototype,\r\n          name,\r\n          Object.getOwnPropertyDescriptor(EventEmitter.prototype, name)\r\n        );\r\n      }\r\n    });\r\n    cls.prototype.__initEventEmitter = function () {\r\n      this._events = _createTable();\r\n      this._eventsCount = 0;\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n    this._events = _createTable();\r\n    this._eventsCount = 0;\r\n  }\r\n\r\n  /**\r\n   * Return an array listing the events for which the emitter has registered\r\n   * listeners.\r\n   *\r\n   * @returns {Array}\r\n   */\r\n  eventNames() {\r\n    let names = [], events, name;\r\n\r\n    if (this._eventsCount === 0) {\r\n      return names;\r\n    }\r\n\r\n    for (name in (events = this._events)) {\r\n      if (has.call(events, name)) {\r\n        names.push(name);\r\n      }\r\n    }\r\n\r\n    if (Object.getOwnPropertySymbols) {\r\n      return names.concat(Object.getOwnPropertySymbols(events));\r\n    }\r\n\r\n    return names;\r\n  }\r\n\r\n  /**\r\n   * Return the listeners registered for a given event.\r\n   *\r\n   * @param {(String|Symbol)} evt The event name.\r\n   * @param {Boolean} exists Only check if there are listeners.\r\n   * @returns {(Array|Boolean)}\r\n   */\r\n  listeners(evt, exists) {\r\n    let available = this._events[evt];\r\n\r\n    if (exists) {\r\n      return !!available;\r\n    }\r\n\r\n    if (!available) {\r\n      return [];\r\n    }\r\n\r\n    if (available.fn) {\r\n      return [available.fn];\r\n    }\r\n\r\n    let l = available.length;\r\n    let ee = new Array(l);\r\n\r\n    for (let i = 0; i < l; ++i) {\r\n      ee[i] = available[i].fn;\r\n    }\r\n\r\n    return ee;\r\n  }\r\n\r\n  /**\r\n   * Calls each of the listeners registered for a given event.\r\n   *\r\n   * @param {(String|Symbol)} evt The event name.\r\n   * @param {*} a1\r\n   * @param {*} a2\r\n   * @param {*} a3\r\n   * @param {*} a4\r\n   * @param {*} a5\r\n   * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n   */\r\n  emit(evt, a1, a2, a3, a4, a5) {\r\n    if (!this._events[evt]) {\r\n      return false;\r\n    }\r\n\r\n    let listeners = this._events[evt]\r\n      , len = arguments.length\r\n      , args\r\n      , i;\r\n\r\n    if (listeners.fn) {\r\n      if (listeners.once) {\r\n        this.off(evt, listeners.fn, undefined, true);\r\n      }\r\n\r\n      switch (len) {\r\n        case 1: return listeners.fn.call(listeners.context), true;\r\n        case 2: return listeners.fn.call(listeners.context, a1), true;\r\n        case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n      }\r\n\r\n      for (i = 1, args = new Array(len - 1); i < len; i++) {\r\n        args[i - 1] = arguments[i];\r\n      }\r\n\r\n      listeners.fn.apply(listeners.context, args);\r\n    } else {\r\n      let length = listeners.length, j;\r\n\r\n      for (i = 0; i < length; i++) {\r\n        if (listeners[i].once) {\r\n          this.off(evt, listeners[i].fn, undefined, true);\r\n        }\r\n\r\n        switch (len) {\r\n          case 1: listeners[i].fn.call(listeners[i].context); break;\r\n          case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n          default:\r\n            if (!args) {\r\n              for (j = 1, args = new Array(len - 1); j < len; j++) {\r\n                args[j - 1] = arguments[j];\r\n              }\r\n            }\r\n\r\n            listeners[i].fn.apply(listeners[i].context, args);\r\n        }\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Add a listener for a given event.\r\n   *\r\n   * @param {(String|Symbol)} evt The event name.\r\n   * @param {Function} fn The listener function.\r\n   * @param {*} [context=this] The context to invoke the listener with.\r\n   * @returns {EventEmitter} `this`.\r\n   * @public\r\n   */\r\n  on(evt, fn, context) {\r\n    return _addListener(this, evt, fn, context, false);\r\n  }\r\n\r\n  /**\r\n   * Add a one-time listener for a given event.\r\n   *\r\n   * @param {(String|Symbol)} evt The event name.\r\n   * @param {Function} fn The listener function.\r\n   * @param {*} [context=this] The context to invoke the listener with.\r\n   * @returns {EventEmitter} `this`.\r\n   * @public\r\n   */\r\n  once(evt, fn, context) {\r\n    return _addListener(this, evt, fn, context, true);\r\n  }\r\n\r\n  /**\r\n   * Remove the listeners of a given event.\r\n   *\r\n   * @param {(String|Symbol)} evt The event name.\r\n   * @param {Function} fn Only remove the listeners that match this function.\r\n   * @param {*} context Only remove the listeners that have this context.\r\n   * @param {Boolean} once Only remove one-time listeners.\r\n   * @returns {EventEmitter} `this`.\r\n   * @public\r\n   */\r\n  off(evt, fn, context, once) {\r\n    if (!this._events[evt]) {\r\n      return this;\r\n    }\r\n\r\n    if (!fn) {\r\n      _clearEvent(this, evt);\r\n      return this;\r\n    }\r\n\r\n    let listeners = this._events[evt];\r\n\r\n    if (listeners.fn) {\r\n      if (\r\n        listeners.fn === fn &&\r\n        (!once || listeners.once) &&\r\n        (!context || listeners.context === context)\r\n      ) {\r\n        _clearEvent(this, evt);\r\n      }\r\n    } else {\r\n      let events = [];\r\n      for (let i = 0, l = listeners.length; i < l; i++) {\r\n        if (\r\n          listeners[i].fn !== fn ||\r\n          (once && !listeners[i].once) ||\r\n          (context && listeners[i].context !== context)\r\n        ) {\r\n          events.push(listeners[i]);\r\n        }\r\n      }\r\n\r\n      //\r\n      // Reset the array, or remove it completely if we have no more listeners.\r\n      //\r\n      if (events.length) {\r\n        this._events[evt] = events.length === 1 ? events[0] : events;\r\n      } else {\r\n        _clearEvent(this, evt);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Remove all listeners, or those of the specified event.\r\n   *\r\n   * @param {(String|Symbol)} [evt] The event name.\r\n   * @returns {EventEmitter} `this`.\r\n   * @public\r\n   */\r\n  removeAllListeners(evt) {\r\n    if (evt) {\r\n      if (this._events[evt]) {\r\n        _clearEvent(this, evt);\r\n      }\r\n    } else {\r\n      this._events = _createTable();\r\n      this._eventsCount = 0;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {Event|string} evt\r\n   * @param {object} [opts]\r\n   */\r\n  dispatch(evt, opts) {\r\n    let event = evt;\r\n    if (typeof evt === 'string') {\r\n      event = new Event(evt, opts);\r\n    }\r\n\r\n    event.target = this;\r\n    _dispatchEvent(event);\r\n  }\r\n}\r\n","import { Event } from '../event-sys';\r\n\r\nexport default class ComponentEvent extends Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts) {\r\n    super(name, opts);\r\n\r\n    this.component = null;\r\n  }\r\n}","import ComponentEvent from './event';\r\n\r\nexport default class Component {\r\n  constructor() {\r\n    this._enabled = true;\r\n    this._destroyed = false;\r\n    this._inited = false;\r\n\r\n    // app internal data\r\n    this._app = null;\r\n    this._system = null;\r\n    this._entity = null;\r\n  }\r\n\r\n  get enabled() {\r\n    return this._entity.activeInHierarchy && this._enabled;\r\n  }\r\n  set enabled(val) {\r\n    if (this._enabled !== val) {\r\n      this._enabled = val;\r\n\r\n      if (this._entity.activeInHierarchy) {\r\n        if (this._enabled) {\r\n          this.onEnable && this.onEnable();\r\n        } else {\r\n          this.onDisable && this.onDisable();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _onEntityActiveChanged(active) {\r\n    // todo add implementation\r\n    if (!this._inited) {\r\n      this._inited = true;\r\n      if (this.onInit) {\r\n        this.onInit();\r\n      }\r\n    }\r\n    if (this._enabled) {\r\n      if (active) {\r\n        this.onEnable && this.onEnable();\r\n      } else {\r\n        this.onDisable && this.onDisable();\r\n      }\r\n    }\r\n  }\r\n\r\n  _onComponentNeedDestroy() {\r\n    if(this._inited) {\r\n      this.onDestroy && this.onDestroy();\r\n      this._inited = false;\r\n    }\r\n  }\r\n\r\n  get destroyed() {\r\n    return this._entity.destroyed || this._destroyed;\r\n  }\r\n\r\n  get system() {\r\n    return this._system;\r\n  }\r\n\r\n  get entity() {\r\n    return this._entity;\r\n  }\r\n\r\n  dispatch(evt, opts) {\r\n    let event = evt;\r\n    if (typeof evt === 'string') {\r\n      event = new ComponentEvent(evt, opts);\r\n    }\r\n\r\n    event.target = this._entity;\r\n    event.component = this;\r\n    this._entity.dispatch(event);\r\n  }\r\n\r\n  destroy() {\r\n    if (this._destroyed) {\r\n      return;\r\n    }\r\n\r\n    // mark as destroyed\r\n    this._destroyed = true;\r\n    // call entityInactive\r\n    let ent = this._entity;\r\n\r\n    if (this.enabled) {\r\n      this.onDisable && this.onDisable();\r\n    }\r\n\r\n    // submit destroy request\r\n    this._app._destroyComp(this);\r\n  }\r\n}\r\n\r\n/**\r\n * callbacks:\r\n *\r\n *  - onInit()\r\n *  - onDestroy()\r\n *  - onEnable()\r\n *  - onDisable()\r\n *  - onClone(src)\r\n *\r\n * static members:\r\n *\r\n *  - events: {\r\n *    'foo': 'onFoo',\r\n *    'bar': 'onBar'\r\n *  }\r\n *\r\n *  - schema: {\r\n *    'foo': { default: 'hello', type: 'string', array: false }\r\n *  }\r\n */\r\n","import { Node, utils } from '../scene-graph';\r\nimport { EventEmitter } from '../event-sys';\r\n\r\n// const _setParent = Node.prototype.setParent;\r\nexport default class Entity {\r\n  constructor(name) {\r\n    this.__initNode();\r\n    this.__initEventEmitter();\r\n\r\n    this.name = name || '';\r\n    this._active = false;\r\n    // NOTE: _ancestorActive not include self\r\n    this._ancestorActive = false;\r\n    this._destroyed = false;\r\n    this._comps = [];\r\n\r\n    // app internal data\r\n    this._app = null;\r\n    this._poolID = -1;\r\n  }\r\n\r\n  /**\r\n   * @property {boolean} active\r\n   */\r\n  get active() {\r\n    return this._active;\r\n  }\r\n  set active(val) {\r\n    val = !!val;\r\n    if (this._active !== val) {\r\n      if (val) {\r\n        this.activate();\r\n      } else {\r\n        this.deactivate();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  get activeInHierarchy() {\r\n    return this._active && this._ancestorActive;\r\n  }\r\n\r\n  get destroyed() {\r\n    return this._destroyed;\r\n  }\r\n\r\n  activate() {\r\n    if (this._active === true) {\r\n      return;\r\n    }\r\n    this._active = true;\r\n    if (this._ancestorActive) {\r\n      this._notifyComponents(true);\r\n      this._notifyChildren(true);\r\n    }\r\n  }\r\n\r\n  deactivate() {\r\n    if (this._active === false) {\r\n      return;\r\n    }\r\n    this._active = false;\r\n    if (this._ancestorActive) {\r\n      this._notifyComponents(false);\r\n      this._notifyChildren(false);\r\n    }\r\n  }\r\n\r\n  _notifyComponents(active) {\r\n\r\n    this.emit(active ? 'active' : 'inactive');\r\n\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let comp = this._comps[i];\r\n      comp._onEntityActiveChanged(active);\r\n    }\r\n  }\r\n\r\n  _notifyChildren(active) {\r\n    for (let i = 0; i < this._children.length; ++i) {\r\n      let child = this._children[i];\r\n      child._ancestorActive = active;\r\n      // do not need to set if child is inactive\r\n      if (child.active) {\r\n        child._notifyComponents(active);\r\n        child._notifyChildren(active);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    if (this._destroyed) {\r\n      return;\r\n    }\r\n\r\n    // mark as destroyed\r\n    this._destroyed = true;\r\n\r\n    // recursively destroy child entities\r\n    for (let i = 0; i < this._children.length; ++i) {\r\n      let child = this._children[i];\r\n      child.destroy();\r\n    }\r\n\r\n    // remove all components\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let comp = this._comps[i];\r\n      comp.destroy();\r\n    }\r\n    // emit disable\r\n    if (this.activeInHierarchy) {\r\n      this.emit('inactive');\r\n    }\r\n    // submit destroy request\r\n    this._app._destroyEntity(this);\r\n  }\r\n\r\n  _onParentChanged(oldParent, newParent) {\r\n    let oldAncestorState = !!(oldParent && oldParent.activeInHierarchy);\r\n    this._ancestorActive = !!(newParent && newParent.activeInHierarchy);\r\n    if (this._active && this._ancestorActive !== oldAncestorState) {\r\n      this._notifyComponents(this._ancestorActive);\r\n      this._notifyChildren(this._ancestorActive);\r\n    }\r\n    this.emit('parent-changed', oldParent, newParent);\r\n  }\r\n\r\n  clone() {\r\n    return this._app.cloneEntity(this);\r\n  }\r\n\r\n  deepClone() {\r\n    return this._app.deepCloneEntity(this);\r\n  }\r\n\r\n  getComp(classname) {\r\n    const ctor = this._app.getClass(classname);\r\n\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let comp = this._comps[i];\r\n      if (comp instanceof ctor) {\r\n        return comp;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getComps(classname) {\r\n    const ctor = this._app.getClass(classname);\r\n    let results = [];\r\n\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let comp = this._comps[i];\r\n      if (comp instanceof ctor) {\r\n        results.push(comp);\r\n      }\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  getCompsInChildren(classname) {\r\n    const ctor = this._app.getClass(classname);\r\n    let results = [];\r\n\r\n    utils.walk(this, function (n) {\r\n      for (let i = 0; i < n._comps.length; ++i) {\r\n        let comp = n._comps[i];\r\n        if (comp instanceof ctor) {\r\n          results.push(comp);\r\n        }\r\n      }\r\n    });\r\n\r\n    return results;\r\n  }\r\n\r\n  addComp(classname, data) {\r\n    const ctor = this._app.getClass(classname);\r\n\r\n    if (!ctor.multiple) {\r\n      if (this.getComp(classname)) {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    let comp = this._app._createComp(ctor, this, data);\r\n    this._comps.push(comp);\r\n    if (this.activeInHierarchy) {\r\n      comp._onEntityActiveChanged(true);\r\n    }\r\n    return comp;\r\n  }\r\n\r\n  // call by app\r\n  _removeComp(comp) {\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let c = this._comps[i];\r\n      if (c === comp) {\r\n        this._comps.splice(i, 1);\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nNode.mixin(Entity);\r\nEventEmitter.mixin(Entity);","import Entity from './entity';\r\n\r\nexport default class Level extends Entity {\r\n  constructor(name) {\r\n    super(name);\r\n  }\r\n\r\n  addComp() {\r\n    console.warn('Can not add component in level');\r\n  }\r\n\r\n  setParent() {\r\n    console.error('Can not set parent to level');\r\n  }\r\n\r\n  activate() {\r\n    if (this._active === true && this._ancestorActive === true) {\r\n      return;\r\n    }\r\n    this._ancestorActive = true;\r\n    super.activate();\r\n  }\r\n\r\n  deactivate() {\r\n    if (this._active === false && this._ancestorActive === false) {\r\n      return;\r\n    }\r\n    this._ancestorActive = false;\r\n    super.deactivate();\r\n  }\r\n}","export default class System {\r\n  constructor() {\r\n    this._enabled = true;\r\n\r\n    // set by app\r\n    this._id = '';\r\n    this._app = null;\r\n    this._priority = 0;\r\n    this._componentCls = null;\r\n  }\r\n\r\n  init() {\r\n    // Example:\r\n    // this._components = new FixedArray(this._poolSize);\r\n  }\r\n\r\n  add(/*comp*/) {\r\n    // Example:\r\n    // this._components.push(comp);\r\n  }\r\n\r\n  remove(/*comp*/) {\r\n    // Example:\r\n    // for (let i = 0; i < this._components.length; ++i) {\r\n    //   let component = this._components.data[i];\r\n    //   if (component === comp) {\r\n    //     this._components.fastRemove(i);\r\n    //     break;\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  tick() {\r\n    // Example:\r\n    // for (let i = 0; i < this._components.length; ++i) {\r\n    //   let comp = this._components[i];\r\n    //   comp.update();\r\n    // }\r\n  }\r\n\r\n  postTick() {\r\n    // Example:\r\n    // for (let i = 0; i < this._components.length; ++i) {\r\n    //   let comp = this._components[i];\r\n    //   comp.postUpdate();\r\n    // }\r\n  }\r\n}","function _getClassParser(typename) {\r\n  return function (app, data, propInfo, entities) {\r\n    let ctor = app.getClass(typename);\r\n    if (ctor === undefined) {\r\n      console.warn(`Can not find class ${typename}.`);\r\n      return null;\r\n    }\r\n\r\n    data = data || {};\r\n\r\n    if (data instanceof ctor) {\r\n      return data;\r\n    }\r\n\r\n    if (data.constructor && data.constructor.__classname__) {\r\n      console.warn(`Invalid class instance, it is not instanceof ${typename}.`);\r\n      return null;\r\n    }\r\n\r\n    let obj = new ctor();\r\n    parse(app, obj, data, entities);\r\n\r\n    return obj;\r\n  };\r\n}\r\n\r\nfunction _getArrayParser(elementParser) {\r\n  if (elementParser) {\r\n    return function (app, data, propInfo, entities) {\r\n      if(data === null)\r\n        return [];\r\n      let result = new Array(data.length);\r\n\r\n      for (let i = 0; i < data.length; ++i) {\r\n        result[i] = elementParser(app, data[i], propInfo, entities);\r\n      }\r\n\r\n      return result;\r\n    };\r\n  }\r\n\r\n  return function (app, data) {\r\n    return data;\r\n  };\r\n}\r\n\r\nfunction _getParser(app, propInfo) {\r\n  if (propInfo.parse) {\r\n    return propInfo.parse;\r\n  }\r\n\r\n  let parser = null;\r\n\r\n  // get parser\r\n  let typeInfo = app.getType(propInfo.type);\r\n  if (typeInfo) {\r\n    parser = typeInfo.parse || null;\r\n  } else {\r\n    parser = _getClassParser(propInfo.type);\r\n  }\r\n\r\n  // if this is an array, get array parser\r\n  if (propInfo.array) {\r\n    return _getArrayParser(parser);\r\n  }\r\n\r\n  return parser;\r\n}\r\n\r\nfunction _wrapSet(app, name, propInfo, parser) {\r\n  // if we have parser\r\n  if (parser) {\r\n    // if we have set\r\n    if (propInfo.set) {\r\n      return function (val) {\r\n        propInfo.set.call(this, parser(app, val, propInfo));\r\n      };\r\n    }\r\n\r\n    // default\r\n    return function (val) {\r\n      this[name] = parser(app, val, propInfo);\r\n    };\r\n  }\r\n\r\n  // if we have set\r\n  if (propInfo.set) {\r\n    return propInfo.set;\r\n  }\r\n\r\n  // default\r\n  return function (val) {\r\n    this[name] = val;\r\n  };\r\n}\r\n\r\nfunction _wrapGet(app, name, propInfo) {\r\n  // if we have get\r\n  if (propInfo.get) {\r\n    return propInfo.get;\r\n  }\r\n\r\n  // default\r\n  return function () {\r\n    return this[name];\r\n  };\r\n}\r\n\r\nfunction createPrototypeAccessors(app, schema) {\r\n  let prototypeAccessors = {};\r\n\r\n  for (let name in schema) {\r\n    let propInfo = schema[name];\r\n\r\n    // type & default syntax validation\r\n    if (propInfo.type === undefined && propInfo.default === undefined) {\r\n      console.warn(`Invalid property ${name}: you must provide 'default' or 'type'.`);\r\n      continue;\r\n    }\r\n\r\n    // confirm array attributes in propInfo\r\n    if (propInfo.array === undefined) {\r\n      // propInfo.array = Array.isArray(propInfo.default);\r\n      propInfo.array = false;\r\n    }\r\n\r\n    // array syntax validation\r\n    if (propInfo.array && propInfo.type === undefined) {\r\n      console.warn(`Invalid property ${name}: array value must have a 'type'.`);\r\n      continue;\r\n    }\r\n\r\n    // confirm type attributes in propInfo\r\n    let typename = propInfo.type;\r\n    if (typename === undefined) {\r\n      propInfo.type = typeof propInfo.default;\r\n    }\r\n\r\n    // confirm default attributes in propInfo\r\n    if (propInfo.default === undefined) {\r\n      let typeInfo = app.getType(propInfo.type);\r\n      if (typeInfo) {\r\n        propInfo.default = typeInfo.default;\r\n      } else {\r\n        propInfo.default = null;\r\n      }\r\n    }\r\n\r\n    // get parser\r\n    let parser = _getParser(app, propInfo);\r\n\r\n    // create get & set function\r\n    let interName = `_${name}`;\r\n    let getFn = _wrapGet(app, interName, propInfo);\r\n    let setFn = _wrapSet(app, interName, propInfo, parser);\r\n\r\n    prototypeAccessors[name] = {\r\n      configurable: true,\r\n      enumerable: true,\r\n      get: getFn,\r\n      set: setFn,\r\n    };\r\n  }\r\n\r\n  return prototypeAccessors;\r\n}\r\n\r\nfunction parse(app, obj, data, entities) {\r\n  let proto = obj.constructor;\r\n\r\n  while (proto.__classname__ !== undefined) {\r\n    if (proto.hasOwnProperty('schema') === false) {\r\n      proto = Object.getPrototypeOf(proto);\r\n      continue;\r\n    }\r\n\r\n    for (let name in proto.schema) {\r\n      let interName = `_${name}`;\r\n      if (obj[interName] !== undefined) {\r\n        continue;\r\n      }\r\n\r\n      let propInfo = proto.schema[name];\r\n\r\n      // get parser and parse value\r\n      let parser = _getParser(app, propInfo);\r\n      let value = data && data[name];\r\n      if (value === undefined) {\r\n        value = propInfo.default;\r\n      }\r\n\r\n      //\r\n      if (parser) {\r\n        let result = parser(app, value, propInfo, entities);\r\n        obj[interName] = result;\r\n      } else {\r\n        obj[interName] = value;\r\n      }\r\n    }\r\n\r\n    proto = Object.getPrototypeOf(proto);\r\n  }\r\n}\r\n\r\nexport default {\r\n  createPrototypeAccessors,\r\n  parse,\r\n};","import { FixedArray } from '../memop';\r\nimport { utils } from '../scene-graph';\r\nimport Entity from './entity';\r\nimport Level from './level';\r\nimport Schema from './schema';\r\n\r\nexport default class App {\r\n  /**\r\n   * @param {object} opts\r\n   * @param {number} opts.poolSize\r\n   * @param {Array} opts.systems\r\n   */\r\n  constructor(opts = {}) {\r\n    const poolSize = opts.poolSize || 100;\r\n\r\n    this._types = {};\r\n    this._classes = {};\r\n    this._systems = [];\r\n\r\n    this._activeLevel = new Level();\r\n    this._activeLevel._app = this;\r\n    this._activeLevel.activate();\r\n\r\n    // NOTE: we don't use recycles pool here because reused entity may be refereced by others\r\n    this._entities = new FixedArray(poolSize);\r\n    this._deadComponents = new FixedArray(poolSize);\r\n    this._deadEntities = new FixedArray(poolSize);\r\n\r\n    //\r\n    if (opts.systems) {\r\n      for (let i = 0; i < opts.systems.length; ++i) {\r\n        let info = opts.systems[i];\r\n        this.registerSystem(\r\n          info.id,\r\n          info.system,\r\n          info.component,\r\n          info.priority\r\n        );\r\n      }\r\n    }\r\n    this._sortSystems();\r\n  }\r\n\r\n  /**\r\n   * @property {Level} activeLevel\r\n   */\r\n  get activeLevel() {\r\n    return this._activeLevel;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} info\r\n   */\r\n  registerType(name, info) {\r\n    this._types[name] = info;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {class} cls\r\n   */\r\n  registerClass(name, cls) {\r\n    cls.__classname__ = name;\r\n\r\n    let schema = null;\r\n    if (cls.hasOwnProperty('schema')) {\r\n      schema = cls.schema;\r\n    }\r\n\r\n    if (schema) {\r\n      let prototypeAccessors = Schema.createPrototypeAccessors(this, schema);\r\n      Object.defineProperties(cls.prototype, prototypeAccessors);\r\n    }\r\n\r\n    // add name to cls\r\n    this._classes[name] = cls;\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @param {string} systemCls\r\n   * @param {string} compClsName\r\n   * @param {number} priority\r\n   */\r\n  registerSystem(id, systemCls, compClsName, priority = 0) {\r\n    let sys = new systemCls();\r\n\r\n    sys._id = id;\r\n    sys._app = this;\r\n    sys._priority = priority;\r\n    sys._componentCls = this.getClass(compClsName);\r\n    if (!sys._componentCls) {\r\n      console.warn(`Failed to get class ${compClsName}, please register it first.`);\r\n    }\r\n\r\n    sys.init();\r\n\r\n    this._systems.push(sys);\r\n\r\n    return sys;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   */\r\n  getType(name) {\r\n    return this._types[name];\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   */\r\n  getClass(name) {\r\n    return this._classes[name];\r\n  }\r\n\r\n  /**\r\n   * @param {function|object} clsOrInst\r\n   */\r\n  getClassName(clsOrInst) {\r\n    if (typeof clsOrInst === 'function') {\r\n      return clsOrInst.__classname__;\r\n    }\r\n\r\n    return clsOrInst.constructor.__classname__;\r\n  }\r\n\r\n  /**\r\n   * @param {string} classname\r\n   * @param {object} data\r\n   */\r\n  createObject(classname, data) {\r\n    const ctor = this.getClass(classname);\r\n    let obj = new ctor();\r\n    Schema.parse(this, obj, data || {});\r\n\r\n    return obj;\r\n  }\r\n\r\n  /**\r\n   * @param {string} name\r\n   * @param {Level} level\r\n   */\r\n  createEntity(name, level = null) {\r\n    let ent = new Entity(name);\r\n    ent._app = this;\r\n    ent._active = true;\r\n    this._entities.push(ent);\r\n\r\n    let lv = level || this._activeLevel;\r\n    if (lv) {\r\n      ent.setParent(lv);\r\n    }\r\n\r\n    return ent;\r\n  }\r\n\r\n  /**\r\n   * @param {Entity} ent\r\n   */\r\n  cloneEntity(ent) {\r\n    // clone & deepClone will mute the event and component callback\r\n    return utils.clone(ent, Entity, (newEnt, src) => {\r\n      newEnt._app = this;\r\n      newEnt._active = src._active;\r\n\r\n      // clone components\r\n      for (let i = 0; i < src._comps.length; ++i) {\r\n        let comp = src._comps[i];\r\n\r\n        // skip destroyed component\r\n        if (comp._destroyed) {\r\n          continue;\r\n        }\r\n\r\n        // create & clone the component\r\n        let newComp = this._createComp(comp.constructor, newEnt, comp);\r\n        newComp._enabled = comp._enabled;\r\n\r\n        // invoke onClone\r\n        if (newComp.onClone) {\r\n          newComp.onClone(comp);\r\n        }\r\n\r\n        // add component to entity\r\n        newEnt._comps.push(newComp);\r\n      }\r\n      this._entities.push(newEnt);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {Entity} ent\r\n   */\r\n  deepCloneEntity(ent) {\r\n    // clone & deepClone will mute the event and component callback\r\n    return utils.deepClone(ent, Entity, (newEnt, src) => {\r\n      newEnt._app = this;\r\n      newEnt._active = src._active;\r\n\r\n      // clone components\r\n      for (let i = 0; i < src._comps.length; ++i) {\r\n        let comp = src._comps[i];\r\n\r\n        // skip destroyed component\r\n        if (comp._destroyed) {\r\n          continue;\r\n        }\r\n\r\n        // create & clone the component\r\n        let newComp = this._createComp(comp.constructor, newEnt, comp);\r\n        newComp._enabled = comp._enabled;\r\n\r\n        // invoke onClone\r\n        if (newComp.onClone) {\r\n          newComp.onClone(comp);\r\n        }\r\n\r\n        // add component to entity\r\n        newEnt._comps.push(newComp);\r\n      }\r\n      this._entities.push(newEnt);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * @param {Level} level\r\n   */\r\n  loadLevel(level) {\r\n    if (this._activeLevel) {\r\n      utils.walk(this._activeLevel, ent => {\r\n        ent.destroy();\r\n      });\r\n    }\r\n\r\n    this._activeLevel = level;\r\n    this._activeLevel._app = this;\r\n    this._activeLevel.activate();\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  tick() {\r\n    // tick all systems\r\n    for (let i = 0; i < this._systems.length; ++i) {\r\n      let sys = this._systems[i];\r\n      sys.tick();\r\n    }\r\n\r\n    // post-tick all systems\r\n    for (let i = 0; i < this._systems.length; ++i) {\r\n      let sys = this._systems[i];\r\n      sys.postTick();\r\n    }\r\n\r\n    // handle dead components\r\n    for (let i = 0; i < this._deadComponents.length; ++i) {\r\n      let comp = this._deadComponents.data[i];\r\n\r\n      comp._onComponentNeedDestroy();\r\n      comp._entity._removeComp(comp);\r\n\r\n      for (let j = 0; j < comp.__events__.length; ++j) {\r\n        let evt = comp.__events__[j];\r\n        comp._entity.off(evt.name, evt.fn);\r\n      }\r\n\r\n      // de-reference\r\n      comp._app = null;\r\n      comp._system = null;\r\n      comp._entity = null;\r\n    }\r\n\r\n    // handle dead entities\r\n    for (let i = 0; i < this._deadEntities.length; ++i) {\r\n      let ent = this._deadEntities.data[i];\r\n\r\n      // emit destroy event\r\n      ent.emit('destroy');\r\n\r\n      // removed from parent\r\n      if (ent._parent && ent._parent._destroyed === false) {\r\n        ent.setParent(null);\r\n      }\r\n\r\n      // unmanage it\r\n      let lastEnt = this._entities.data[this._entities.length - 1];\r\n      this._entities.fastRemove(ent._poolID);\r\n      lastEnt._poolID = ent._poolID;\r\n\r\n      // de-reference\r\n      ent._poolID = -1;\r\n      ent._app = null;\r\n      ent._parent = null;\r\n      ent._children.length = 0;\r\n      ent._comps.length = 0;\r\n    }\r\n\r\n    // reset pool\r\n    this._deadComponents.reset();\r\n    this._deadEntities.reset();\r\n  }\r\n\r\n  /**\r\n   * @param {string} id\r\n   */\r\n  system(id) {\r\n    for (let i = 0; i < this._systems.length; ++i) {\r\n      let sys = this._systems[i];\r\n      if (sys._id === id) {\r\n        return sys;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  // ====================\r\n  // internal\r\n  // ====================\r\n\r\n  _getSystem(comp) {\r\n    for (let i = 0; i < this._systems.length; ++i) {\r\n      let sys = this._systems[i];\r\n      if (comp instanceof sys._componentCls) {\r\n        return sys;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  _destroyEntity(ent) {\r\n\r\n    this._deadEntities.push(ent);\r\n  }\r\n\r\n  _finalizeComp(comp, data, entities) {\r\n    let ent = comp._entity;\r\n    let proto = comp.constructor;\r\n\r\n    // add event listeners\r\n    while (proto.__classname__ !== undefined) {\r\n      if (proto.hasOwnProperty('events')) {\r\n        for (let name in proto.events) {\r\n          let method = proto.events[name];\r\n          let fn = comp[method];\r\n          if (fn) {\r\n            fn = fn.bind(comp);\r\n            ent.on(name, fn);\r\n            comp.__events__.push({ name, fn });\r\n          }\r\n        }\r\n      }\r\n      proto = Object.getPrototypeOf(proto);\r\n    }\r\n\r\n    // parse schema data\r\n    Schema.parse(this, comp, data, entities);\r\n  }\r\n\r\n  _createComp(ctor, ent, data = {}) {\r\n    let comp = new ctor();\r\n    comp._app = this;\r\n    comp._system = this._getSystem(comp);\r\n    comp._entity = ent;\r\n    comp.__events__ = [];\r\n\r\n    this._finalizeComp(comp, data, null);\r\n\r\n    return comp;\r\n  }\r\n\r\n  _destroyComp(comp) {\r\n    //\r\n    this._deadComponents.push(comp);\r\n  }\r\n\r\n  _sortSystems() {\r\n    this._systems.sort((a, b) => {\r\n      return a._priority - b._priority;\r\n    });\r\n  }\r\n}","let _loaderInfos = [];\r\nlet _classInfos = [];\r\nlet _typeInfos = [];\r\nlet _systemInfos = [];\r\n\r\nexport default {\r\n  registerLoader(id, def) {\r\n    _loaderInfos.push({\r\n      id, def\r\n    });\r\n  },\r\n\r\n  registerType(id, def) {\r\n    _typeInfos.push({\r\n      id, def\r\n    });\r\n  },\r\n\r\n  registerClass(id, def) {\r\n    _classInfos.push({\r\n      id, def\r\n    });\r\n  },\r\n\r\n  registerSystem(id, system, component, priority) {\r\n    _systemInfos.push({\r\n      id, system, component, priority\r\n    });\r\n  },\r\n\r\n  _init (app) {\r\n    for (let i = 0; i < _loaderInfos.length; ++i) {\r\n      let info = _loaderInfos[i];\r\n      app._assetMng.registerLoader(info.id, info.def);\r\n    }\r\n\r\n    for (let i = 0; i < _typeInfos.length; ++i) {\r\n      let info = _typeInfos[i];\r\n      app.registerType(info.id, info.def);\r\n    }\r\n\r\n    for (let i = 0; i < _classInfos.length; ++i) {\r\n      let info = _classInfos[i];\r\n      app.registerClass(info.id, info.def);\r\n    }\r\n\r\n    for (let i = 0; i < _systemInfos.length; ++i) {\r\n      let info = _systemInfos[i];\r\n      app.registerSystem(info.id, info.system, info.component, info.priority);\r\n    }\r\n  }\r\n};","/**\r\n * (c) 2016 Mikola Lysenko. MIT License\r\n * https://github.com/regl-project/resl\r\n */\r\n\r\n/* global XMLHttpRequest */\r\nconst configParameters = [\r\n  'manifest',\r\n  'onDone',\r\n  'onProgress',\r\n  'onError'\r\n];\r\n\r\nconst manifestParameters = [\r\n  'type',\r\n  'src',\r\n  'stream',\r\n  'credentials',\r\n  'parser'\r\n];\r\n\r\nconst parserParameters = [\r\n  'onData',\r\n  'onDone'\r\n];\r\n\r\nconst STATE_ERROR = -1;\r\nconst STATE_DATA = 0;\r\nconst STATE_COMPLETE = 1;\r\n\r\nfunction raise(message) {\r\n  throw new Error('resl: ' + message);\r\n}\r\n\r\nfunction checkType(object, parameters, name) {\r\n  Object.keys(object).forEach(function (param) {\r\n    if (parameters.indexOf(param) < 0) {\r\n      raise('invalid parameter \"' + param + '\" in ' + name);\r\n    }\r\n  });\r\n}\r\n\r\nfunction Loader(name, cancel) {\r\n  this.state = STATE_DATA;\r\n  this.ready = false;\r\n  this.progress = 0;\r\n  this.name = name;\r\n  this.cancel = cancel;\r\n}\r\n\r\nexport default function resl(config) {\r\n  if (typeof config !== 'object' || !config) {\r\n    raise('invalid or missing configuration');\r\n  }\r\n\r\n  checkType(config, configParameters, 'config');\r\n\r\n  let manifest = config.manifest;\r\n  if (typeof manifest !== 'object' || !manifest) {\r\n    raise('missing manifest');\r\n  }\r\n\r\n  function getFunction(name) {\r\n    if (name in config) {\r\n      let func = config[name];\r\n      if (typeof func !== 'function') {\r\n        raise('invalid callback \"' + name + '\"');\r\n      }\r\n      return func;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  let onDone = getFunction('onDone');\r\n  if (!onDone) {\r\n    raise('missing onDone() callback');\r\n  }\r\n\r\n  let onProgress = getFunction('onProgress');\r\n  let onError = getFunction('onError');\r\n\r\n  let assets = {};\r\n\r\n  let state = STATE_DATA;\r\n\r\n  function loadXHR(request) {\r\n    let name = request.name;\r\n    let stream = request.stream;\r\n    let binary = request.type === 'binary';\r\n    let parser = request.parser;\r\n\r\n    let xhr = new XMLHttpRequest();\r\n    let asset = null;\r\n\r\n    let loader = new Loader(name, cancel);\r\n\r\n    if (stream) {\r\n      xhr.onreadystatechange = onReadyStateChange;\r\n    } else {\r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) {\r\n          onReadyStateChange();\r\n        }\r\n      };\r\n    }\r\n\r\n    if (binary) {\r\n      xhr.responseType = 'arraybuffer';\r\n    }\r\n\r\n    function onReadyStateChange() {\r\n      if (xhr.readyState < 2 ||\r\n        loader.state === STATE_COMPLETE ||\r\n        loader.state === STATE_ERROR) {\r\n        return;\r\n      }\r\n      if (xhr.status !== 200) {\r\n        return abort('error loading resource \"' + request.name + '\"');\r\n      }\r\n      if (xhr.readyState > 2 && loader.state === STATE_DATA) {\r\n        let response;\r\n        if (request.type === 'binary') {\r\n          response = xhr.response;\r\n        } else {\r\n          response = xhr.responseText;\r\n        }\r\n        if (parser.data) {\r\n          try {\r\n            asset = parser.data(response);\r\n          } catch (e) {\r\n            return abort(e);\r\n          }\r\n        } else {\r\n          asset = response;\r\n        }\r\n      }\r\n      if (xhr.readyState > 3 && loader.state === STATE_DATA) {\r\n        if (parser.done) {\r\n          try {\r\n            asset = parser.done();\r\n          } catch (e) {\r\n            return abort(e);\r\n          }\r\n        }\r\n        loader.state = STATE_COMPLETE;\r\n      }\r\n      assets[name] = asset;\r\n      loader.progress = 0.75 * loader.progress + 0.25;\r\n      loader.ready =\r\n        (request.stream && !!asset) ||\r\n        loader.state === STATE_COMPLETE;\r\n      notifyProgress();\r\n    }\r\n\r\n    function cancel() {\r\n      if (loader.state === STATE_COMPLETE || loader.state === STATE_ERROR) {\r\n        return;\r\n      }\r\n      xhr.onreadystatechange = null;\r\n      xhr.abort();\r\n      loader.state = STATE_ERROR;\r\n    }\r\n\r\n    // set up request\r\n    if (request.credentials) {\r\n      xhr.withCredentials = true;\r\n    }\r\n    xhr.open('GET', request.src, true);\r\n    xhr.send();\r\n\r\n    return loader;\r\n  }\r\n\r\n  function loadElement(request, element) {\r\n    let name = request.name;\r\n    let parser = request.parser;\r\n\r\n    let loader = new Loader(name, cancel);\r\n    let asset = element;\r\n\r\n    function handleProgress() {\r\n      if (loader.state === STATE_DATA) {\r\n        if (parser.data) {\r\n          try {\r\n            asset = parser.data(element);\r\n          } catch (e) {\r\n            return abort(e);\r\n          }\r\n        } else {\r\n          asset = element;\r\n        }\r\n      }\r\n    }\r\n\r\n    function onProgress(e) {\r\n      handleProgress();\r\n      assets[name] = asset;\r\n      if (e.lengthComputable) {\r\n        loader.progress = Math.max(loader.progress, e.loaded / e.total);\r\n      } else {\r\n        loader.progress = 0.75 * loader.progress + 0.25;\r\n      }\r\n      notifyProgress(name);\r\n    }\r\n\r\n    function onComplete() {\r\n      handleProgress();\r\n      if (loader.state === STATE_DATA) {\r\n        if (parser.done) {\r\n          try {\r\n            asset = parser.done();\r\n          } catch (e) {\r\n            return abort(e);\r\n          }\r\n        }\r\n        loader.state = STATE_COMPLETE;\r\n      }\r\n      loader.progress = 1;\r\n      loader.ready = true;\r\n      assets[name] = asset;\r\n      removeListeners();\r\n      notifyProgress('finish ' + name);\r\n    }\r\n\r\n    function onError() {\r\n      abort('error loading asset \"' + name + '\"');\r\n    }\r\n\r\n    if (request.stream) {\r\n      element.addEventListener('progress', onProgress);\r\n    }\r\n    if (request.type === 'image') {\r\n      element.addEventListener('load', onComplete);\r\n    } else {\r\n      let canPlay = false;\r\n      let loadedMetaData = false;\r\n      element.addEventListener('loadedmetadata', function () {\r\n        loadedMetaData = true;\r\n        if (canPlay) {\r\n          onComplete();\r\n        }\r\n      });\r\n      element.addEventListener('canplay', function () {\r\n        canPlay = true;\r\n        if (loadedMetaData) {\r\n          onComplete();\r\n        }\r\n      });\r\n    }\r\n    element.addEventListener('error', onError);\r\n\r\n    function removeListeners() {\r\n      if (request.stream) {\r\n        element.removeEventListener('progress', onProgress);\r\n      }\r\n      if (request.type === 'image') {\r\n        element.addEventListener('load', onComplete);\r\n      } else {\r\n        element.addEventListener('canplay', onComplete);\r\n      }\r\n      element.removeEventListener('error', onError);\r\n    }\r\n\r\n    function cancel() {\r\n      if (loader.state === STATE_COMPLETE || loader.state === STATE_ERROR) {\r\n        return;\r\n      }\r\n\r\n      loader.state = STATE_ERROR;\r\n      removeListeners();\r\n      element.src = '';\r\n    }\r\n\r\n    // set up request\r\n    if (request.credentials) {\r\n      element.crossOrigin = 'use-credentials';\r\n    } else {\r\n      element.crossOrigin = 'anonymous';\r\n    }\r\n    element.src = request.src;\r\n\r\n    return loader;\r\n  }\r\n\r\n  let loaders = {\r\n    text: loadXHR,\r\n    binary: function (request) {\r\n      // TODO use fetch API for streaming if supported\r\n      return loadXHR(request);\r\n    },\r\n    image: function (request) {\r\n      return loadElement(request, document.createElement('img'));\r\n    },\r\n    video: function (request) {\r\n      return loadElement(request, document.createElement('video'));\r\n    },\r\n    audio: function (request) {\r\n      return loadElement(request, document.createElement('audio'));\r\n    }\r\n  };\r\n\r\n  // First we parse all objects in order to verify that all type information\r\n  // is correct\r\n  let pending = Object.keys(manifest).map(function (name) {\r\n    let request = manifest[name];\r\n    if (typeof request === 'string') {\r\n      request = {\r\n        src: request\r\n      };\r\n    } else if (typeof request !== 'object' || !request) {\r\n      raise('invalid asset definition \"' + name + '\"');\r\n    }\r\n\r\n    checkType(request, manifestParameters, 'asset \"' + name + '\"');\r\n\r\n    function getParameter(prop, accepted, init) {\r\n      let value = init;\r\n      if (prop in request) {\r\n        value = request[prop];\r\n      }\r\n      if (accepted.indexOf(value) < 0) {\r\n        raise('invalid ' + prop + ' \"' + value + '\" for asset \"' + name + '\", possible values: ' + accepted);\r\n      }\r\n      return value;\r\n    }\r\n\r\n    function getString(prop, required, init) {\r\n      let value = init;\r\n      if (prop in request) {\r\n        value = request[prop];\r\n      } else if (required) {\r\n        raise('missing ' + prop + ' for asset \"' + name + '\"');\r\n      }\r\n      if (typeof value !== 'string') {\r\n        raise('invalid ' + prop + ' for asset \"' + name + '\", must be a string');\r\n      }\r\n      return value;\r\n    }\r\n\r\n    function getParseFunc(name, dflt) {\r\n      if (name in request.parser) {\r\n        let result = request.parser[name];\r\n        if (typeof result !== 'function') {\r\n          raise('invalid parser callback ' + name + ' for asset \"' + name + '\"');\r\n        }\r\n        return result;\r\n      } else {\r\n        return dflt;\r\n      }\r\n    }\r\n\r\n    let parser = {};\r\n    if ('parser' in request) {\r\n      if (typeof request.parser === 'function') {\r\n        parser = {\r\n          data: request.parser\r\n        };\r\n      } else if (typeof request.parser === 'object' && request.parser) {\r\n        checkType(request.parser, parserParameters, 'parser for asset \"' + name + '\"');\r\n        if (!('onData' in request.parser)) {\r\n          raise('missing onData callback for parser in asset \"' + name + '\"');\r\n        }\r\n        parser = {\r\n          data: getParseFunc('onData'),\r\n          done: getParseFunc('onDone')\r\n        };\r\n      } else {\r\n        raise('invalid parser for asset \"' + name + '\"');\r\n      }\r\n    }\r\n\r\n    return {\r\n      name: name,\r\n      type: getParameter('type', Object.keys(loaders), 'text'),\r\n      stream: !!request.stream,\r\n      credentials: !!request.credentials,\r\n      src: getString('src', true, ''),\r\n      parser: parser\r\n    };\r\n  }).map(function (request) {\r\n    return (loaders[request.type])(request);\r\n  });\r\n\r\n  function abort(message) {\r\n    if (state === STATE_ERROR || state === STATE_COMPLETE) {\r\n      return;\r\n    }\r\n    state = STATE_ERROR;\r\n    pending.forEach(function (loader) {\r\n      loader.cancel();\r\n    });\r\n    if (onError) {\r\n      if (typeof message === 'string') {\r\n        onError(new Error('resl: ' + message));\r\n      } else {\r\n        onError(message);\r\n      }\r\n    } else {\r\n      console.error('resl error:', message);\r\n    }\r\n  }\r\n\r\n  function notifyProgress(message) {\r\n    if (state === STATE_ERROR || state === STATE_COMPLETE) {\r\n      return;\r\n    }\r\n\r\n    let progress = 0;\r\n    let numReady = 0;\r\n    pending.forEach(function (loader) {\r\n      if (loader.ready) {\r\n        numReady += 1;\r\n      }\r\n      progress += loader.progress;\r\n    });\r\n\r\n    if (numReady === pending.length) {\r\n      state = STATE_COMPLETE;\r\n      onDone(assets);\r\n    } else {\r\n      if (onProgress) {\r\n        onProgress(progress / pending.length, message);\r\n      }\r\n    }\r\n  }\r\n\r\n  if (pending.length === 0) {\r\n    setTimeout(function () {\r\n      notifyProgress('done');\r\n    }, 1);\r\n  }\r\n}","let _internal_id = -1;\r\n\r\nexport default class Asset {\r\n  constructor() {\r\n    ++_internal_id;\r\n\r\n    this._uuid = `internal-${_internal_id}`;\r\n    this._name = '';\r\n    this._loaded = false;\r\n\r\n    // TODO\r\n    // this._caches = {}; // downloaded caches (for reload)\r\n  }\r\n\r\n  get uuid() {\r\n    return this._uuid;\r\n  }\r\n\r\n  get name() {\r\n    return this._name;\r\n  }\r\n\r\n  /**\r\n   * Overwrite this if you have sub-assets\r\n   */\r\n  subAsset(/*localID*/) {\r\n    return null;\r\n  }\r\n\r\n  unload() {\r\n    this._loaded = false;\r\n  }\r\n\r\n  reload() {\r\n  }\r\n\r\n  clone() {\r\n  }\r\n}","import Asset from './asset';\r\n\r\nexport default class Mesh extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._subMeshes = null; // [renderer.InputAssemblers]\r\n    this._skinning = null; // {jointIndices, bindposes}\r\n\r\n    this._minPos = null; // vec3\r\n    this._maxPos = null; // vec3\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    // destroy vertex buffer\r\n    this._subMeshes[0]._vertexBuffer.destroy();\r\n\r\n    // destroy index buffers\r\n    for (let i = 0; i < this._subMeshes.length; ++i) {\r\n      let mesh = this._subMeshes[i];\r\n      mesh._indexBuffer.destroy();\r\n    }\r\n\r\n    this._subMeshes = null;\r\n\r\n    super.unload();\r\n  }\r\n\r\n  get skinning() {\r\n    return this._skinning;\r\n  }\r\n\r\n  get subMeshCount() {\r\n    return this._subMeshes.length;\r\n  }\r\n\r\n  getSubMesh(idx) {\r\n    return this._subMeshes[idx];\r\n  }\r\n\r\n  // TODO\r\n  // updateData () {\r\n  //   // store the data\r\n  //   if (this._persist) {\r\n  //     if (this._data) {\r\n  //       this._data.set(data, offset);\r\n  //     } else {\r\n  //       this._data = data;\r\n  //     }\r\n  //   }\r\n  // }\r\n}","import Asset from './asset';\r\n\r\nexport default class Texture extends Asset {\r\n  constructor(device) {\r\n    super();\r\n\r\n    this._device = device;\r\n    this._texture = null; // gfx.Texture2D | gfx.TextureCube\r\n  }\r\n}\r\n","import gfx from '../gfx';\r\n\r\nexport const gfxFilters = {\r\n  'linear': gfx.FILTER_LINEAR,\r\n  'nearest': gfx.FILTER_NEAREST,\r\n};\r\n\r\nexport const gfxWraps = {\r\n  'repeat': gfx.WRAP_REPEAT,\r\n  'clamp': gfx.WRAP_CLAMP,\r\n  'mirror': gfx.WRAP_MIRROR,\r\n};\r\n\r\nexport const gfxTextureFmts = {\r\n  // compress formats\r\n  'rgb-dxt1': gfx.TEXTURE_FMT_RGB_DXT1,\r\n  'rgba-dxt1': gfx.TEXTURE_FMT_RGBA_DXT1,\r\n  'rgba-dxt3': gfx.TEXTURE_FMT_RGBA_DXT3,\r\n  'rgba-dxt5': gfx.TEXTURE_FMT_RGBA_DXT5,\r\n  'rgb-etc1': gfx.TEXTURE_FMT_RGB_ETC1,\r\n  'rgb-pvrtc-2bppv1': gfx.TEXTURE_FMT_RGB_PVRTC_2BPPV1,\r\n  'rgba-pvrtc-2bppv1': gfx.TEXTURE_FMT_RGBA_PVRTC_2BPPV1,\r\n  'rgb-pvrtc-4bppv1': gfx.TEXTURE_FMT_RGB_PVRTC_4BPPV1,\r\n  'rgba-pvrtc-4bppv1': gfx.TEXTURE_FMT_RGBA_PVRTC_4BPPV1,\r\n\r\n  // normal formats\r\n  'a8': gfx.TEXTURE_FMT_A8,\r\n  'l8': gfx.TEXTURE_FMT_L8,\r\n  'l8-a8': gfx.TEXTURE_FMT_L8_A8,\r\n  'r5-g6-b5': gfx.TEXTURE_FMT_R5_G6_B5,\r\n  'r5-g5-b5-a1': gfx.TEXTURE_FMT_R5_G5_B5_A1,\r\n  'r4-g4-b4-a4': gfx.TEXTURE_FMT_R4_G4_B4_A4,\r\n  'rgb8': gfx.TEXTURE_FMT_RGB8,\r\n  'rgba8': gfx.TEXTURE_FMT_RGBA8,\r\n  'rgb16f': gfx.TEXTURE_FMT_RGB16F,\r\n  'rgba16f': gfx.TEXTURE_FMT_RGBA16F,\r\n  'rgb32f': gfx.TEXTURE_FMT_RGB32F,\r\n  'rgba32f': gfx.TEXTURE_FMT_RGBA32F,\r\n  'r32f': gfx.TEXTURE_FMT_R32F,\r\n  '111110f': gfx.TEXTURE_FMT_111110F,\r\n  'srgb': gfx.TEXTURE_FMT_SRGB,\r\n  'srgba': gfx.TEXTURE_FMT_SRGBA,\r\n\r\n  // depth formats\r\n  'd16': gfx.TEXTURE_FMT_D16,\r\n  'd32': gfx.TEXTURE_FMT_D32,\r\n  'd24s8': gfx.TEXTURE_FMT_D24S8,\r\n};","import Texture from './texture';\r\nimport gfx from '../gfx';\r\nimport { gfxFilters, gfxWraps, gfxTextureFmts } from '../misc/mappings';\r\n\r\nlet _opts = {\r\n  images: [],\r\n  mipmap: true,\r\n  width: 2,\r\n  height: 2,\r\n  format: gfx.TEXTURE_FMT_RGBA8,\r\n  anisotropy: 1,\r\n  wrapS: gfx.WRAP_REPEAT,\r\n  wrapT: gfx.WRAP_REPEAT,\r\n  minFilter: gfx.FILTER_LINEAR,\r\n  magFilter: gfx.FILTER_LINEAR,\r\n  mipFilter: gfx.FILTER_LINEAR,\r\n  premultiplyAlpha: false,\r\n};\r\n\r\nfunction _updateOpts(out, texture) {\r\n  if (texture._writable) {\r\n    out.images = [texture._data];\r\n  } else {\r\n    out.images = texture._images;\r\n  }\r\n\r\n  out.mipmap = texture._mipmap;\r\n  out.width = texture._width;\r\n  out.height = texture._height;\r\n  out.format = gfxTextureFmts[texture._format];\r\n  out.anisotropy = texture._anisotropy;\r\n  out.wrapS = gfxWraps[texture._wrapS];\r\n  out.wrapT = gfxWraps[texture._wrapT];\r\n  out.minFilter = gfxFilters[texture._minFilter];\r\n  out.magFilter = gfxFilters[texture._magFilter];\r\n  out.mipFilter = gfxFilters[texture._mipFilter];\r\n  out.premultiplyAlpha = texture._premultiplyAlpha;\r\n}\r\n\r\nfunction _allocData(texture) {\r\n  if (texture._format === 'a8') {\r\n    return new Uint8Array(texture._width * texture._height);\r\n  } else if (texture._format === 'rgb8') {\r\n    return new Uint8Array(texture._width * texture._height * 3);\r\n  } else if (texture._format === 'rgba8') {\r\n    return new Uint8Array(texture._width * texture._height * 4);\r\n  } else if (texture._format === 'rgba32f') {\r\n    return new Float32Array(texture._width * texture._height * 4);\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default class Texture2D extends Texture {\r\n  constructor(device, width = 2, height = 2, fmt = 'rgba8') {\r\n    super(device);\r\n\r\n    //\r\n    this._writable = false;\r\n    this._data = null;\r\n\r\n    // opts\r\n    this._images = [];\r\n    this._mipmap = true;\r\n    this._width = width;\r\n    this._height = height;\r\n    this._format = fmt;\r\n    this._anisotropy = 1;\r\n    this._wrapS = 'repeat';\r\n    this._wrapT = 'repeat';\r\n    this._minFilter = 'linear';\r\n    this._magFilter = 'linear';\r\n    this._mipFilter = 'linear';\r\n    this._premultiplyAlpha = false;\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    this._texture.destroy();\r\n    super.unload();\r\n  }\r\n\r\n  setImage(level, img) {\r\n    if (\r\n      img instanceof HTMLCanvasElement ||\r\n      img instanceof HTMLImageElement ||\r\n      img instanceof HTMLVideoElement\r\n    ) {\r\n      this._images[level] = img;\r\n\r\n      if (level === 0) {\r\n        this.resize(img.width, img.height);\r\n      }\r\n\r\n      // TODO: if writable, get data by canvas.drawImage(), canvas.getImageData();\r\n    }\r\n  }\r\n\r\n  setImages(imgs) {\r\n    this._images = imgs;\r\n    this.resize(imgs[0].width, imgs[0].height);\r\n  }\r\n\r\n  resize(width, height) {\r\n    this._width = width;\r\n    this._height = height;\r\n\r\n    if (this._writable) {\r\n      this._data = _allocData(this);\r\n    }\r\n  }\r\n\r\n  get width() {\r\n    return this._width;\r\n  }\r\n\r\n  get height() {\r\n    return this._height;\r\n  }\r\n\r\n  get format() {\r\n    return this._format;\r\n  }\r\n\r\n  get data() {\r\n    return this._data;\r\n  }\r\n\r\n  set writable(val) {\r\n    this._writable = val;\r\n\r\n    if (this._writable) {\r\n      this._data = _allocData(this);\r\n    } else {\r\n      this._data = null;\r\n    }\r\n  }\r\n  get writable() {\r\n    return this._writable;\r\n  }\r\n\r\n  set mipmap(val) {\r\n    this._mipmap = val;\r\n  }\r\n  get mipmap() {\r\n    return this._mipmap;\r\n  }\r\n\r\n  set anisotropy(val) {\r\n    this._anisotropy = val;\r\n  }\r\n  get anisotropy() {\r\n    return this._anisotropy;\r\n  }\r\n\r\n  set wrapS(val) {\r\n    this._wrapS = val;\r\n  }\r\n  get wrapS() {\r\n    return this._wrapS;\r\n  }\r\n\r\n  set wrapT(val) {\r\n    this._wrapT = val;\r\n  }\r\n  get wrapT() {\r\n    return this._wrapT;\r\n  }\r\n\r\n  set minFilter(val) {\r\n    this._minFilter = val;\r\n  }\r\n  get minFilter() {\r\n    return this._minFilter;\r\n  }\r\n\r\n  set magFilter(val) {\r\n    this._magFilter = val;\r\n  }\r\n  get magFilter() {\r\n    return this._magFilter;\r\n  }\r\n\r\n  set mipFilter(val) {\r\n    this._mipFilter = val;\r\n  }\r\n  get mipFilter() {\r\n    return this._mipFilter;\r\n  }\r\n\r\n  set premultiplyAlpha(val) {\r\n    this._premultiplyAlpha = val;\r\n  }\r\n  get premultiplyAlpha() {\r\n    return this._premultiplyAlpha;\r\n  }\r\n\r\n  commit() {\r\n    _updateOpts(_opts, this);\r\n    if (!this._texture) {\r\n      this._texture = new gfx.Texture2D(this._device, _opts);\r\n    } else {\r\n      this._texture.update(_opts);\r\n    }\r\n    this._images = [];\r\n  }\r\n}\r\n","function parallel(tasks, callback) {\r\n  let length = tasks.length;\r\n  if (length === 0) {\r\n    callback(null);\r\n  }\r\n\r\n  let completed = 0;\r\n\r\n  for (let i = 0; i < tasks.length; ++i) {\r\n    let task = tasks[i];\r\n    task(err => {\r\n      if (err) {\r\n        callback(err);\r\n      } else if (++completed === length) {\r\n        callback(null);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport default {\r\n  parallel\r\n};","import { Component, Entity } from '../../ecs';\r\nimport { vec3, quat } from '../../vmath';\r\nimport async from '../../misc/async';\r\n\r\n// UNUSED code\r\n// function _mainUuid(uuid) {\r\n//   let idx = uuid.indexOf('@');\r\n//   if (idx === -1) {\r\n//     return uuid;\r\n//   }\r\n//   return uuid.substring(idx+1);\r\n// }\r\n\r\n// NOTE: the json is prefab's json\r\nfunction _applyModifications(json, modifications) {\r\n  for (let i = 0; i < modifications.length; i++) {\r\n    let mod = modifications[i];\r\n    let ent = json.entities[mod.entity];\r\n    let words = mod.property.split('.');\r\n\r\n    if (words.length === 1) {\r\n      ent[mod.property] = mod.value;\r\n      continue;\r\n    }\r\n\r\n    let compInfo = null;\r\n    for (let j = 0; j < ent.components.length; j++) {\r\n      let expectType = words[0];\r\n      let curComp = ent.components[j];\r\n      if (curComp.type === expectType) {\r\n        compInfo = curComp;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (compInfo === null) {\r\n      console.warn(`Failed to apply modification for entity ${ent.name}: component ${words[0]} not found.`);\r\n      continue;\r\n    }\r\n\r\n    // TODO: generic the solution by:\r\n    // let words = propPath.split('.')\r\n    // foreach words: word.match(/(.*)\\[(\\d+)\\]/)\r\n    let propPath = words[1];\r\n    let results = propPath.match(/(.*)\\[(\\d+)\\]/);\r\n    if (results) {\r\n      let propName = results[1];\r\n      let idx = parseInt(results[2]);\r\n      compInfo.properties[propName][idx] = mod.value;\r\n    } else {\r\n      if (words[1] === 'enabled') {\r\n        compInfo[words[1]] = mod.value;\r\n      } else {\r\n        compInfo.properties[words[1]] = mod.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return json;\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Entity} ent\r\n * @param {Object} info\r\n */\r\nfunction createComponent(app, ent, info) {\r\n  const ctor = app.getClass(info.type);\r\n  if (!ctor) {\r\n    let comp = new Component();\r\n    comp._app = app;\r\n    comp._system = null;\r\n    comp._entity = ent;\r\n    comp.__events__ = [];\r\n    if (info.enabled !== undefined) {\r\n      comp._enabled = info.enabled;\r\n    }\r\n    console.error(`component type ${info.type} not found.`);\r\n    return comp;\r\n  }\r\n\r\n  // DELME\r\n  // const data = info.properties;\r\n  // let comp = app._createComp(ctor, ent, data);\r\n  let comp = new ctor();\r\n  comp._app = app;\r\n  comp._system = app._getSystem(comp);\r\n  comp._entity = ent;\r\n  comp.__events__ = [];\r\n  if (info.enabled !== undefined) {\r\n    comp._enabled = info.enabled;\r\n  }\r\n\r\n  // console.warn(`Failed to load component ${info.type}, parser not found.`);\r\n  return comp;\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Object} info\r\n * @param {Level} level\r\n */\r\nfunction createEntity(app, info, level) {\r\n  // let ent = new Entity(info.name);\r\n  // ent._app = app;\r\n  let ent = app.createEntity(info.name, level);\r\n\r\n  if (info.enabled !== undefined) {\r\n    ent._active = info.enabled;\r\n  }\r\n\r\n  // if we don't have component, just return\r\n  if (!info.components) {\r\n    return ent;\r\n  }\r\n\r\n  // load components (async)\r\n  ent._comps = new Array(info.components.length);\r\n\r\n  for (let i = 0; i < info.components.length; ++i) {\r\n    let compInfo = info.components[i];\r\n    ent._comps[i] = createComponent(app, ent, compInfo);\r\n  }\r\n\r\n  return ent;\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Object} json\r\n * @param {Object[]} modifications\r\n * @param {Level} level\r\n */\r\nfunction createPrefab(app, json, modifications, level) {\r\n  // apply modificiations\r\n  if (modifications) {\r\n    json = JSON.parse(JSON.stringify(json));\r\n    json = _applyModifications(json, modifications);\r\n  }\r\n\r\n  let entInfos = json.entities;\r\n  let entities = new Array(json.entities.length);\r\n\r\n  for (let i = 0; i < entInfos.length; ++i) {\r\n    let entInfo = entInfos[i];\r\n    if (entInfo.prefab) {\r\n      // TODO: implement nested prefab\r\n      // TODO: nested prefab needs prefabTree, which can help for detecting recursive reference\r\n      console.warn('nested prefab have not implemented.');\r\n    } else {\r\n      entities[i] = createEntity(app, entInfo, level);\r\n    }\r\n  }\r\n\r\n  finalize(app, entities, entInfos);\r\n\r\n  return entities[0];\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {object} json\r\n * @param {function} callback\r\n */\r\nfunction preloadAssets(app, json, callback) {\r\n  let assets = {};\r\n  let uuids = json.preloads;\r\n  let tasks = [];\r\n\r\n  // push tasks\r\n  for (let i = 0; i < uuids.length; ++i) {\r\n    let uuid = uuids[i];\r\n    tasks.push(done => {\r\n      app.assets.load(uuid, (err, asset) => {\r\n        if (err) {\r\n          console.error(err);\r\n          done();\r\n          return;\r\n        }\r\n\r\n        assets[uuid] = asset;\r\n        done();\r\n      });\r\n    });\r\n  }\r\n\r\n  // load assets\r\n  async.parallel(tasks, err => {\r\n    callback(err, assets);\r\n  });\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Array} entities\r\n * @param {Array} entityInfos\r\n */\r\nfunction finalize(app, entities, entityInfos) {\r\n  for (let i = 0; i < entityInfos.length; ++i) {\r\n    let ent = entities[i];\r\n    let entInfo = entityInfos[i];\r\n\r\n    if (!ent) {\r\n      continue;\r\n    }\r\n\r\n    if (entInfo.translation) {\r\n      vec3.set(\r\n        ent.lpos,\r\n        entInfo.translation[0],\r\n        entInfo.translation[1],\r\n        entInfo.translation[2]\r\n      );\r\n    } else {\r\n      vec3.set(ent.lpos, 0, 0, 0);\r\n    }\r\n\r\n    if (entInfo.rotation) {\r\n      quat.set(\r\n        ent.lrot,\r\n        entInfo.rotation[0],\r\n        entInfo.rotation[1],\r\n        entInfo.rotation[2],\r\n        entInfo.rotation[3]\r\n      );\r\n    } else {\r\n      quat.set(ent.lrot, 0, 0, 0, 1);\r\n    }\r\n\r\n    if (entInfo.scale) {\r\n      vec3.set(\r\n        ent.lscale,\r\n        entInfo.scale[0],\r\n        entInfo.scale[1],\r\n        entInfo.scale[2]\r\n      );\r\n    } else {\r\n      vec3.set(ent.lscale, 1, 1, 1);\r\n    }\r\n\r\n    // append children\r\n    if (entInfo.children) {\r\n      for (let j = 0; j < entInfo.children.length; ++j) {\r\n        let index = entInfo.children[j];\r\n        ent.append(entities[index]);\r\n      }\r\n    }\r\n\r\n    // init comps (events, schema)\r\n    if (entInfo.components) {\r\n      for (let i = 0; i < entInfo.components.length; ++i) {\r\n        let comp = ent._comps[i];\r\n        let compInfo = entInfo.components[i];\r\n\r\n        app._finalizeComp(comp, compInfo.properties, entities);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  createComponent,\r\n  createEntity,\r\n  createPrefab,\r\n  preloadAssets,\r\n  finalize,\r\n};","import { Level } from '../../ecs';\r\nimport ecsUtils from './ecs-utils';\r\n\r\nexport default function (app, json, callback) {\r\n  ecsUtils.preloadAssets(app, json, () => {\r\n    let entInfos = json.entities;\r\n    let entities = new Array(json.entities.length);\r\n    // add them to level\r\n    let level = new Level();\r\n\r\n    // create entities and prefabs\r\n    for (let i = 0; i < entInfos.length; ++i) {\r\n      let entInfo = entInfos[i];\r\n      if (entInfo.prefab) {\r\n        let prefab = app.assets.get(entInfo.prefab);\r\n        if (!prefab) {\r\n          console.error(`Failed to load prefab ${entInfo.prefab}`);\r\n          continue;\r\n        }\r\n\r\n        entities[i] = prefab.instantiate(entInfo.modifications, level);\r\n      } else {\r\n        entities[i] = ecsUtils.createEntity(app, entInfo, level);\r\n      }\r\n\r\n      console.log(`${entInfo.name} loaded`);\r\n    }\r\n\r\n    // finalize entities\r\n    ecsUtils.finalize(app, entities, json.entities);\r\n\r\n    for (let i = 0; i < json.children.length; ++i) {\r\n      let idx = json.children[i];\r\n      level.append(entities[idx]);\r\n    }\r\n\r\n    if (callback) {\r\n      callback(null, level);\r\n    }\r\n  });\r\n}","import renderer from '../renderer';\r\nimport { utils as sceneUtils, Layers } from '../scene-graph';\r\nimport Mesh from '../assets/mesh';\r\nimport Texture2D from '../assets/texture-2d';\r\nimport parseLevel from '../loaders/utils/level-parser';\r\n\r\nfunction createJointsTexture(app, skinning) {\r\n  const jointCount = skinning.jointIndices.length;\r\n\r\n  // set jointsTexture\r\n  let size;\r\n  if (jointCount > 256) {\r\n    size = 64;\r\n  } else if (jointCount > 64) {\r\n    size = 32;\r\n  } else if (jointCount > 16) {\r\n    size = 16;\r\n  } else {\r\n    size = 8;\r\n  }\r\n\r\n  let texture = new Texture2D(app.device, size, size, 'rgba32f');\r\n  texture.minFilter = 'nearest';\r\n  texture.magFilter = 'nearest';\r\n  texture.wrapS = 'clamp';\r\n  texture.wrapT = 'clamp';\r\n  texture.mipmap = false;\r\n  texture.writable = true;\r\n  texture.commit();\r\n\r\n  return texture;\r\n}\r\n\r\nfunction createMesh(app, data) {\r\n  let ia = renderer.createIA(app.device, data);\r\n  let meshAsset = new Mesh();\r\n  meshAsset._subMeshes = [ia];\r\n  meshAsset._minPos = data.minPos;\r\n  meshAsset._maxPos = data.maxPos;\r\n\r\n  return meshAsset;\r\n}\r\n\r\nexport default {\r\n  createJointsTexture,\r\n  createMesh,\r\n\r\n  parseLevel,\r\n\r\n  walk: sceneUtils.walk,\r\n  flat: sceneUtils.flat,\r\n  find: sceneUtils.find,\r\n  Layers: Layers,\r\n};","import { EventEmitter } from '../event-sys';\r\nimport resl from '../misc/resl';\r\nimport utils from '../misc/utils';\r\n\r\nfunction _createTable() {\r\n  let obj = Object.create(null);\r\n  obj.__tmp__ = undefined;\r\n  delete obj.__tmp__;\r\n\r\n  return obj;\r\n}\r\n\r\nfunction _wrapCallback(localID, callback) {\r\n  return function (err, asset) {\r\n    if (err) {\r\n      if (callback) {\r\n        callback(err);\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (callback) {\r\n      // if we are requesting subAsset, go get it.\r\n      if (localID) {\r\n        asset = asset.subAsset(localID);\r\n        if (!asset) {\r\n          callback(new Error(`subasset ${localID} not found.`));\r\n          return;\r\n        }\r\n      }\r\n      callback(null, asset);\r\n    }\r\n  };\r\n}\r\n\r\nclass AssetTask extends EventEmitter {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  run(assetMng, uuid, info) {\r\n    assetMng.loadUrls(info.type, info.urls, (err, asset) => {\r\n      // remove loadings\r\n      delete assetMng._loadings[uuid];\r\n\r\n      // emit error\r\n      if (err) {\r\n        this.emit('loaded', err);\r\n        return;\r\n      }\r\n\r\n      // emit loaded\r\n      asset._uuid = uuid;\r\n      asset._loaded = true;\r\n      assetMng.add(uuid, asset);\r\n\r\n      this.emit('loaded', null, asset);\r\n    });\r\n  }\r\n}\r\n\r\nexport default class AssetMng {\r\n  constructor(app) {\r\n    this._app = app;\r\n    this._loaders = _createTable(); // asset type to loader\r\n    this._assetInfos = _createTable(); // uuid to asset-infos\r\n    this._assets = _createTable(); // uuid to asset\r\n    this._loadings = _createTable(); // uuid to loading tasks\r\n    this._levelInfos = _createTable(); // sceneName to scene file\r\n  }\r\n\r\n  registerLoader(type, loader) {\r\n    this._loaders[type] = loader;\r\n  }\r\n\r\n  registerAsset(uuid, info) {\r\n    if (this._assetInfos[uuid]) {\r\n      console.warn(`asset ${uuid} already registerred.`);\r\n      return;\r\n    }\r\n\r\n    this._assetInfos[uuid] = info;\r\n  }\r\n\r\n  registerLevel(name, file) {\r\n    if (this._levelInfos[name]) {\r\n      console.warn(`level ${name} is already registerred.`);\r\n      return;\r\n    }\r\n\r\n    this._levelInfos[name] = file;\r\n  }\r\n\r\n  loadLevel(name, callback) {\r\n    if (!this._levelInfos[name]) {\r\n      console.error(`Cannot load scene ${name}`);\r\n      callback && callback(new Error('loadFail'), null);\r\n    } else {\r\n      let app = this._app;\r\n      resl({\r\n        manifest: {\r\n          sceneJson: {\r\n            type: 'text',\r\n            parser: JSON.parse,\r\n            src: this._levelInfos[name]\r\n          }\r\n        },\r\n        onDone(data) {\r\n          utils.parseLevel(\r\n            app,\r\n            data.sceneJson,\r\n            (err, level) => {\r\n              callback && callback(err, level);\r\n            }\r\n          );\r\n        },\r\n        onError(err) {\r\n          callback && callback(err, null);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  add(uuid, asset) {\r\n    if (this._assets[uuid]) {\r\n      console.warn(`Failed to add asset ${uuid}, already exists.`);\r\n      return;\r\n    }\r\n    this._assets[uuid] = asset;\r\n  }\r\n\r\n  get(uuid) {\r\n    // if this is a sub-asset\r\n    let subIdx = uuid.indexOf('@');\r\n\r\n    if (subIdx === -1) {\r\n      return this._assets[uuid];\r\n    }\r\n\r\n    let localID = uuid.substring(0, subIdx);\r\n    uuid = uuid.substring(subIdx + 1);\r\n\r\n    let asset = this._assets[uuid];\r\n    if (asset && localID) {\r\n      return asset.subAsset(localID);\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  load(uuid, callback) {\r\n    // if this is a sub-asset\r\n    let subIdx = uuid.indexOf('@');\r\n    let localID;\r\n\r\n    if (subIdx !== -1) {\r\n      localID = uuid.substring(0, subIdx);\r\n      uuid = uuid.substring(subIdx + 1);\r\n    }\r\n\r\n    // check if asset loaded\r\n    let asset = this._assets[uuid];\r\n    if (asset) {\r\n      // if we already loaded\r\n      if (callback) {\r\n        // if we are requesting subAsset, go get it.\r\n        if (localID) {\r\n          asset = asset.subAsset(localID);\r\n          if (!asset) {\r\n            callback(new Error(`subasset ${localID} not found.`));\r\n            return;\r\n          }\r\n        }\r\n\r\n        callback(null, asset);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // if this is a loading task\r\n    let task = this._loadings[uuid];\r\n    let taskCallback = _wrapCallback(localID, callback);\r\n    if (task) {\r\n      task.once('loaded', taskCallback);\r\n      return;\r\n    }\r\n\r\n    // check if we have asset-info for loading asset\r\n    let info = this._assetInfos[uuid];\r\n    if (!info) {\r\n      if (callback) {\r\n        callback(new Error(`asset info ${uuid} not found, please add it first.`));\r\n      }\r\n      return;\r\n    }\r\n\r\n    // create new task\r\n    task = new AssetTask(this);\r\n    this._loadings[uuid] = task;\r\n\r\n    task.once('loaded', _wrapCallback(localID, callback));\r\n    task.run(this, uuid, info);\r\n  }\r\n\r\n  loadUrls(type, urls, callback) {\r\n    let loader = this._loaders[type];\r\n    if (!loader) {\r\n      if (callback) {\r\n        callback(new Error(`can not find loader for asset type ${type}, please register it first.`));\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    loader(this._app, urls, callback);\r\n  }\r\n}","'use strict';\r\n\r\nimport { Node } from '../scene-graph';\r\nimport { vec3, mat3, quat } from '../vmath';\r\n\r\nconst damping = 10.0;\r\nconst moveSpeed = 10.0;\r\n\r\nconst v3_f = vec3.new(0, 0, -1);\r\nconst v3_r = vec3.new(1, 0, 0);\r\nconst v3_u = vec3.new(0, 1, 0);\r\n\r\nlet rot3x3 = mat3.create();\r\n\r\nlet front = vec3.zero();\r\nlet right = vec3.zero();\r\nlet up = vec3.new(0, 1, 0);\r\nlet front2 = vec3.zero();\r\nlet right2 = vec3.zero();\r\n\r\nexport default class OrbitCamera {\r\n  constructor(input) {\r\n    this._input = input;\r\n    this._node = new Node('debug-camera');\r\n    vec3.set(this._node.lpos, 10, 10, 10);\r\n    this._node.lookAt(vec3.new(0, 0, 0));\r\n\r\n    this._df = 0;\r\n    this._dr = 0;\r\n    this._panX = 0;\r\n    this._panY = 0;\r\n    this._panZ = 0;\r\n    this._rotX = 0;\r\n    this._rotY = 0;\r\n\r\n    this._curRot = quat.create();\r\n    this._destRot = quat.create();\r\n\r\n    this._curEye = vec3.zero();\r\n    this._destEye = vec3.zero();\r\n\r\n    this._node.getWorldRot(this._curRot);\r\n    this._destRot = quat.clone(this._curRot);\r\n\r\n    this._node.getWorldPos(this._curEye);\r\n    this._destEye = vec3.clone(this._curEye);\r\n  }\r\n\r\n  reset() {\r\n    this._df = 0;\r\n    this._dr = 0;\r\n    this._du = 0;\r\n    this._panX = 0;\r\n    this._panY = 0;\r\n    this._panZ = 0;\r\n    this._rotX = 0;\r\n    this._rotY = 0;\r\n\r\n    this._node.getWorldRot(this._curRot);\r\n    this._destRot = quat.clone(this._curRot);\r\n\r\n    this._node.getWorldPos(this._curEye);\r\n    this._destEye = vec3.clone(this._curEye);\r\n  }\r\n\r\n  tick(dt) {\r\n    let input = this._input;\r\n\r\n    this._handleMouseAndKeyboard();\r\n\r\n    if (input.hasTouch) {\r\n      this._handleTouches();\r\n    }\r\n    this._lerp(dt);\r\n  }\r\n\r\n  _handleMouseAndKeyboard() {\r\n    let input = this._input;\r\n\r\n    this._df = 0;\r\n    this._dr = 0;\r\n    this._du = 0;\r\n    this._panX = 0;\r\n    this._panY = 0;\r\n    this._panZ = 0;\r\n    this._rotX = 0;\r\n    this._rotY = 0;\r\n\r\n    if (input.mousepress('left') && input.mousepress('right')) {\r\n      let dx = input.mouseDeltaX;\r\n      let dy = input.mouseDeltaY;\r\n\r\n      this._panX = dx;\r\n      this._panY = -dy;\r\n\r\n    } else if (input.mousepress('left')) {\r\n      let dx = input.mouseDeltaX;\r\n      let dy = input.mouseDeltaY;\r\n\r\n      this._rotY = -dx * 0.002;\r\n      this._panZ = -dy;\r\n\r\n    } else if (input.mousepress('right')) {\r\n      let dx = input.mouseDeltaX;\r\n      let dy = input.mouseDeltaY;\r\n\r\n      this._rotY = -dx * 0.002;\r\n      this._rotX = -dy * 0.002;\r\n    }\r\n\r\n    if (input.keypress('w')) {\r\n      this._df += 1;\r\n    }\r\n    if (input.keypress('s')) {\r\n      this._df -= 1;\r\n    }\r\n    if (input.keypress('a')) {\r\n      this._dr -= 1;\r\n    }\r\n    if (input.keypress('d')) {\r\n      this._dr += 1;\r\n    }\r\n    if (input.keypress('q')) {\r\n      this._du -= 1;\r\n    }\r\n    if (input.keypress('e')) {\r\n      this._du += 1;\r\n    }\r\n\r\n    if (input.mouseScrollY) {\r\n      this._df -= input.mouseScrollY * 0.05;\r\n    }\r\n  }\r\n\r\n  _handleTouches() {\r\n    let input = this._input;\r\n\r\n    this._df = 0;\r\n    this._dr = 0;\r\n    this._panX = 0;\r\n    this._panY = 0;\r\n    this._panZ = 0;\r\n    this._rotX = 0;\r\n    this._rotY = 0;\r\n\r\n    if (input.touchCount === 1) {\r\n      let touch = input.getTouchInfo(0);\r\n      let dx = touch.dx;\r\n      let dy = touch.dy;\r\n\r\n      if (touch.prevX === 0 && touch.prevY === 0) {\r\n        dx = 0;\r\n        dy = 0;\r\n      }\r\n\r\n      this._rotY = -dx * 0.002;\r\n      this._rotX = dy * 0.002;\r\n\r\n    } else if (input.touchCount === 2) {\r\n      let touch0 = input.getTouchInfo(0);\r\n      let touch1 = input.getTouchInfo(1);\r\n      let lenCur = Math.sqrt((touch0.x - touch1.x) * (touch0.x - touch1.x) + (touch0.y - touch1.y) * (touch0.y - touch1.y));\r\n      let lenPrev = Math.sqrt((touch0.prevX - touch1.prevX) * (touch0.prevX - touch1.prevX) + (touch0.prevY - touch1.prevY) * (touch0.prevY - touch1.prevY));\r\n      let dLen = Math.abs(lenCur - lenPrev);\r\n\r\n      if ((touch0.dx != 0 || touch0.dy != 0) && (touch1.dx != 0 || touch1.dy != 0) && dLen < 100) {\r\n        if (lenCur > lenPrev) {\r\n          this._df += dLen;\r\n        } else {\r\n          this._df -= dLen;\r\n        }\r\n      }\r\n\r\n      if (touch1.phase === 2 || touch0.phase === 2) {\r\n        input.touchCount = 2;\r\n      }\r\n\r\n    } else if (input.touchCount === 3) {\r\n      let touch0 = input.getTouchInfo(0);\r\n      let dx = touch0.dx;\r\n      let dy = touch0.dy;\r\n      if (dx < 100 && dy < 100) {\r\n        this._rotY = -dx * 0.002;\r\n        this._panZ = -dy;\r\n      }\r\n    }\r\n  }\r\n\r\n  _lerp(dt) {\r\n    const panX = this._panX;\r\n    const panY = this._panY;\r\n    const panZ = this._panZ;\r\n    let eye = this._destEye;\r\n    let rot = this._destRot;\r\n\r\n    // calculate curRot\r\n    quat.rotateX(rot, rot, this._rotX);\r\n    quat.rotateAround(rot, rot, v3_u, this._rotY);\r\n    quat.slerp(this._curRot, this._curRot, rot, dt * damping);\r\n\r\n    // calculate curEye\r\n    mat3.fromQuat(rot3x3, this._curRot);\r\n\r\n    vec3.transformMat3(front, v3_f, rot3x3);\r\n    vec3.transformMat3(right, v3_r, rot3x3);\r\n\r\n    //\r\n    if (this._df !== 0) {\r\n      vec3.scaleAndAdd(eye, eye, front, this._df * dt * moveSpeed);\r\n    }\r\n\r\n    if (this._dr !== 0) {\r\n      vec3.scaleAndAdd(eye, eye, right, this._dr * dt * moveSpeed);\r\n    }\r\n\r\n    if (this._du !== 0) {\r\n      vec3.scaleAndAdd(eye, eye, up, this._du * dt * moveSpeed);\r\n    }\r\n\r\n    if (panZ !== 0) {\r\n      vec3.copy(front2, front);\r\n      front2.y = 0.0;\r\n      vec3.normalize(front2, front2);\r\n      vec3.scaleAndAdd(eye, eye, front2, panZ * dt * moveSpeed);\r\n    }\r\n\r\n    if (panX !== 0) {\r\n      vec3.copy(right2, right);\r\n      right2.y = 0.0;\r\n      vec3.normalize(right2, right2);\r\n      vec3.scaleAndAdd(eye, eye, right2, panX * dt * moveSpeed);\r\n    }\r\n\r\n    if (panY !== 0) {\r\n      vec3.scaleAndAdd(eye, eye, v3_u, panY * dt * moveSpeed);\r\n    }\r\n\r\n    vec3.lerp(this._curEye, this._curEye, eye, dt * damping);\r\n\r\n    //\r\n    this._node.setWorldPos(this._curEye);\r\n    this._node.setWorldRot(this._curRot);\r\n  }\r\n\r\n}","/**\r\n * @param {Array} indices\r\n */\r\nexport function wireframe(indices) {\r\n  const offsets = [[0, 1], [1, 2], [2, 0]];\r\n  let lines = [];\r\n  let lineIDs = {};\r\n\r\n  for (let i = 0; i < indices.length; i += 3) {\r\n    for (let k = 0; k < 3; ++k) {\r\n      let i1 = indices[i + offsets[k][0]];\r\n      let i2 = indices[i + offsets[k][1]];\r\n\r\n      // check if we already have the line in our lines\r\n      let id = (i1 > i2) ? ((i2 << 16) | i1) : ((i1 << 16) | i2);\r\n      if (lineIDs[id] === undefined) {\r\n        lineIDs[id] = 0;\r\n        lines.push(i1, i2);\r\n      }\r\n    }\r\n  }\r\n\r\n  return lines;\r\n}\r\n\r\n/**\r\n * @param {Array} positions\r\n * @param {Array} normals\r\n * @param {Number} length\r\n */\r\nexport function normals(positions, normals, length = 1) {\r\n  let verts = new Array(2 * positions.length);\r\n\r\n  for (let i = 0; i < positions.length/3; ++i) {\r\n    let i3 = 3*i;\r\n    let i6 = 6*i;\r\n\r\n    // line start\r\n    verts[i6 + 0] = positions[i3 + 0];\r\n    verts[i6 + 1] = positions[i3 + 1];\r\n    verts[i6 + 2] = positions[i3 + 2];\r\n\r\n    // line end\r\n    verts[i6 + 3] = positions[i3 + 0] + normals[i3 + 0] * length;\r\n    verts[i6 + 4] = positions[i3 + 1] + normals[i3 + 1] * length;\r\n    verts[i6 + 5] = positions[i3 + 2] + normals[i3 + 2] * length;\r\n  }\r\n\r\n  return verts;\r\n}\r\n","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\nlet temp1 = vec3.zero();\r\nlet temp2 = vec3.zero();\r\nlet temp3 = vec3.zero();\r\nlet r = vec3.zero();\r\nlet c0 = vec3.zero();\r\nlet c1 = vec3.zero();\r\nlet c2 = vec3.zero();\r\nlet c3 = vec3.zero();\r\nlet c4 = vec3.zero();\r\nlet c5 = vec3.zero();\r\nlet c6 = vec3.zero();\r\nlet c7 = vec3.zero();\r\n\r\n/**\r\n * @param {Number} width\r\n * @param {Number} height\r\n * @param {Number} length\r\n * @param {Object} opts\r\n * @param {Number} opts.widthSegments\r\n * @param {Number} opts.heightSegments\r\n * @param {Number} opts.lengthSegments\r\n */\r\nexport default function (width = 2, height = 2, length = 2, opts = {}) {\r\n  let ws = opts.widthSegments !== undefined ? opts.widthSegments : 1;\r\n  let hs = opts.heightSegments !== undefined ? opts.heightSegments : 1;\r\n  let ls = opts.lengthSegments !== undefined ? opts.lengthSegments : 1;\r\n  let inv = opts.invWinding !== undefined ? opts.invWinding : false;\r\n\r\n  let hw = width * 0.5;\r\n  let hh = height * 0.5;\r\n  let hl = length * 0.5;\r\n\r\n  let corners = [\r\n    vec3.set(c0, -hw, -hh,  hl),\r\n    vec3.set(c1,  hw, -hh,  hl),\r\n    vec3.set(c2,  hw,  hh,  hl),\r\n    vec3.set(c3, -hw,  hh,  hl),\r\n    vec3.set(c4,  hw, -hh, -hl),\r\n    vec3.set(c5, -hw, -hh, -hl),\r\n    vec3.set(c6, -hw,  hh, -hl),\r\n    vec3.set(c7,  hw,  hh, -hl),\r\n  ];\r\n\r\n  let faceAxes = [\r\n    [ 0, 1, 3 ], // FRONT\r\n    [ 4, 5, 7 ], // BACK\r\n    [ 3, 2, 6 ], // TOP\r\n    [ 1, 0, 4 ], // BOTTOM\r\n    [ 1, 4, 2 ], // RIGHT\r\n    [ 5, 0, 6 ]  // LEFT\r\n  ];\r\n\r\n  let faceNormals = [\r\n    [  0,  0,  1 ], // FRONT\r\n    [  0,  0, -1 ], // BACK\r\n    [  0,  1,  0 ], // TOP\r\n    [  0, -1,  0 ], // BOTTOM\r\n    [  1,  0,  0 ], // RIGHT\r\n    [ -1,  0,  0 ]  // LEFT\r\n  ];\r\n\r\n  let positions = [];\r\n  let normals = [];\r\n  let uvs = [];\r\n  let indices = [];\r\n  let minPos = vec3.new(-hw, -hh, -hl);\r\n  let maxPos = vec3.new(hw, hh, hl);\r\n\r\n  function _buildPlane (side, uSegments, vSegments) {\r\n    let u, v;\r\n    let ix, iy;\r\n    let offset = positions.length / 3;\r\n    let faceAxe = faceAxes[side];\r\n    let faceNormal = faceNormals[side];\r\n\r\n    for (iy = 0; iy <= vSegments; iy++) {\r\n      for (ix = 0; ix <= uSegments; ix++) {\r\n        u = ix / uSegments;\r\n        v = iy / vSegments;\r\n\r\n        vec3.lerp(temp1, corners[faceAxe[0]], corners[faceAxe[1]], u);\r\n        vec3.lerp(temp2, corners[faceAxe[0]], corners[faceAxe[2]], v);\r\n        vec3.sub(temp3, temp2, corners[faceAxe[0]]);\r\n        vec3.add(r, temp1, temp3);\r\n\r\n        positions.push(r.x, r.y, r.z);\r\n        normals.push(faceNormal[0], faceNormal[1], faceNormal[2]);\r\n        uvs.push(u, v);\r\n\r\n        if ((ix < uSegments) && (iy < vSegments)) {\r\n          let useg1 = uSegments + 1;\r\n          let a = ix + iy * useg1;\r\n          let b = ix + (iy + 1) * useg1;\r\n          let c = (ix + 1) + (iy + 1) * useg1;\r\n          let d = (ix + 1) + iy * useg1;\r\n\r\n          if (inv) {\r\n            indices.push(offset + a, offset + b, offset + d);\r\n            indices.push(offset + d, offset + b, offset + c);\r\n          } else {\r\n            indices.push(offset + a, offset + d, offset + b);\r\n            indices.push(offset + b, offset + d, offset + c);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  _buildPlane(0, ws, hs); // FRONT\r\n  _buildPlane(4, ls, hs); // RIGHT\r\n  _buildPlane(1, ws, hs); // BACK\r\n  _buildPlane(5, ls, hs); // LEFT\r\n  _buildPlane(3, ws, ls); // BOTTOM\r\n  _buildPlane(2, ws, ls); // TOP\r\n\r\n  return {\r\n    positions,\r\n    normals,\r\n    uvs,\r\n    indices,\r\n    minPos,\r\n    maxPos\r\n  };\r\n}\r\n","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\nlet temp1 = vec3.zero();\r\nlet temp2 = vec3.zero();\r\n\r\n/**\r\n * @param {Number} radiusTop\r\n * @param {Number} radiusBottom\r\n * @param {Number} height\r\n * @param {Object} opts\r\n * @param {Number} opts.radialSegments\r\n * @param {Number} opts.heightSegments\r\n * @param {Boolean} opts.capped\r\n * @param {Number} opts.arc\r\n */\r\nexport default function (radiusTop = 0.5, radiusBottom = 0.5, height = 2, opts = {}) {\r\n  let halfHeight = height * 0.5;\r\n  let radialSegments = opts.radialSegments || 8;\r\n  let heightSegments = opts.heightSegments || 1;\r\n  let capped = opts.capped !== undefined ? opts.capped : true;\r\n  let arc = opts.arc || 2.0 * Math.PI;\r\n\r\n  let cntCap = 0;\r\n  if (!capped) {\r\n    if (radiusTop > 0) {\r\n      cntCap++;\r\n    }\r\n\r\n    if (radiusBottom > 0) {\r\n      cntCap++;\r\n    }\r\n  }\r\n\r\n  // calculate vertex count\r\n  let vertCount = (radialSegments + 1) * (heightSegments + 1);\r\n  if (capped) {\r\n    vertCount += ((radialSegments + 1) * cntCap) + (radialSegments * cntCap);\r\n  }\r\n\r\n  // calculate index count\r\n  let indexCount = radialSegments * heightSegments * 2 * 3;\r\n  if (capped) {\r\n    indexCount += radialSegments * cntCap * 3;\r\n  }\r\n\r\n  let indices = new Array(indexCount);\r\n  let positions = new Array(vertCount * 3);\r\n  let normals = new Array(vertCount * 3);\r\n  let uvs = new Array(vertCount * 2);\r\n  let maxRadius = Math.max(radiusTop, radiusBottom);\r\n  let minPos = vec3.new(-maxRadius, -halfHeight, -maxRadius);\r\n  let maxPos = vec3.new(maxRadius, halfHeight, maxRadius);\r\n\r\n  let index = 0;\r\n  let indexOffset = 0;\r\n\r\n  generateTorso();\r\n\r\n  if (capped) {\r\n    if (radiusBottom > 0) {\r\n      generateCap(false);\r\n    }\r\n\r\n    if (radiusTop > 0) {\r\n      generateCap(true);\r\n    }\r\n  }\r\n\r\n  return {\r\n    positions,\r\n    normals,\r\n    uvs,\r\n    indices,\r\n    minPos,\r\n    maxPos\r\n  };\r\n\r\n  // =======================\r\n  // internal fucntions\r\n  // =======================\r\n\r\n  function generateTorso() {\r\n    let indexArray = [];\r\n\r\n    // this will be used to calculate the normal\r\n    let slope = (radiusTop - radiusBottom) / height;\r\n\r\n    // generate positions, normals and uvs\r\n    for (let y = 0; y <= heightSegments; y++) {\r\n      let indexRow = [];\r\n      let v = y / heightSegments;\r\n\r\n      // calculate the radius of the current row\r\n      let radius = v * (radiusTop - radiusBottom) + radiusBottom;\r\n\r\n      for (let x = 0; x <= radialSegments; ++x) {\r\n        let u = x / radialSegments;\r\n        let theta = u * arc;\r\n\r\n        let sinTheta = Math.sin(theta);\r\n        let cosTheta = Math.cos(theta);\r\n\r\n        // vertex\r\n        positions[3 * index] = radius * sinTheta;\r\n        positions[3 * index + 1] = v * height - halfHeight;\r\n        positions[3 * index + 2] = radius * cosTheta;\r\n\r\n        // normal\r\n        vec3.normalize(temp1, vec3.set(temp2, sinTheta, -slope, cosTheta));\r\n        normals[3 * index] = temp1.x;\r\n        normals[3 * index + 1] = temp1.y;\r\n        normals[3 * index + 2] = temp1.z;\r\n\r\n        // uv\r\n        uvs[2 * index] = u;\r\n        uvs[2 * index + 1] = v;\r\n\r\n        // save index of vertex in respective row\r\n        indexRow.push(index);\r\n\r\n        // increase index\r\n        ++index;\r\n      }\r\n\r\n      // now save positions of the row in our index array\r\n      indexArray.push(indexRow);\r\n    }\r\n\r\n    // generate indices\r\n    for (let y = 0; y < heightSegments; ++y) {\r\n      for (let x = 0; x < radialSegments; ++x) {\r\n        // we use the index array to access the correct indices\r\n        let i1 = indexArray[y][x];\r\n        let i2 = indexArray[y + 1][x];\r\n        let i3 = indexArray[y + 1][x + 1];\r\n        let i4 = indexArray[y][x + 1];\r\n\r\n        // face one\r\n        indices[indexOffset] = i1; ++indexOffset;\r\n        indices[indexOffset] = i4; ++indexOffset;\r\n        indices[indexOffset] = i2; ++indexOffset;\r\n\r\n        // face two\r\n        indices[indexOffset] = i4; ++indexOffset;\r\n        indices[indexOffset] = i3; ++indexOffset;\r\n        indices[indexOffset] = i2; ++indexOffset;\r\n      }\r\n    }\r\n  }\r\n\r\n  function generateCap(top) {\r\n    let centerIndexStart, centerIndexEnd;\r\n\r\n    let radius = top ? radiusTop : radiusBottom;\r\n    let sign = top ? 1 : - 1;\r\n\r\n    // save the index of the first center vertex\r\n    centerIndexStart = index;\r\n\r\n    // first we generate the center vertex data of the cap.\r\n    // because the geometry needs one set of uvs per face,\r\n    // we must generate a center vertex per face/segment\r\n\r\n    for (let x = 1; x <= radialSegments; ++x) {\r\n      // vertex\r\n      positions[3 * index] = 0;\r\n      positions[3 * index + 1] = halfHeight * sign;\r\n      positions[3 * index + 2] = 0;\r\n\r\n      // normal\r\n      normals[3 * index] = 0;\r\n      normals[3 * index + 1] = sign;\r\n      normals[3 * index + 2] = 0;\r\n\r\n      // uv\r\n      uvs[2 * index] = 0.5;\r\n      uvs[2 * index + 1] = 0.5;\r\n\r\n      // increase index\r\n      ++index;\r\n    }\r\n\r\n    // save the index of the last center vertex\r\n    centerIndexEnd = index;\r\n\r\n    // now we generate the surrounding positions, normals and uvs\r\n\r\n    for (let x = 0; x <= radialSegments; ++x) {\r\n      let u = x / radialSegments;\r\n      let theta = u * arc;\r\n\r\n      let cosTheta = Math.cos(theta);\r\n      let sinTheta = Math.sin(theta);\r\n\r\n      // vertex\r\n      positions[3 * index] = radius * sinTheta;\r\n      positions[3 * index + 1] = halfHeight * sign;\r\n      positions[3 * index + 2] = radius * cosTheta;\r\n\r\n      // normal\r\n      normals[3 * index] = 0;\r\n      normals[3 * index + 1] = sign;\r\n      normals[3 * index + 2] = 0;\r\n\r\n      // uv\r\n      uvs[2 * index] = 0.5 - (cosTheta * 0.5);\r\n      uvs[2 * index + 1] = (sinTheta * 0.5 * sign) + 0.5;\r\n\r\n      // increase index\r\n      ++index;\r\n    }\r\n\r\n    // generate indices\r\n\r\n    for (let x = 0; x < radialSegments; ++x) {\r\n      let c = centerIndexStart + x;\r\n      let i = centerIndexEnd + x;\r\n\r\n      if (top) {\r\n        // face top\r\n        indices[indexOffset] = i + 1; ++indexOffset;\r\n        indices[indexOffset] = c; ++indexOffset;\r\n        indices[indexOffset] = i; ++indexOffset;\r\n      } else {\r\n        // face bottom\r\n        indices[indexOffset] = c; ++indexOffset;\r\n        indices[indexOffset] = i + 1; ++indexOffset;\r\n        indices[indexOffset] = i; ++indexOffset;\r\n      }\r\n    }\r\n  }\r\n}\r\n","'use strict';\r\n\r\nimport cylinder from './cylinder';\r\n\r\n/**\r\n * @param {Number} radius\r\n * @param {Number} height\r\n * @param {Object} opts\r\n * @param {Number} opts.radialSegments\r\n * @param {Number} opts.heightSegments\r\n * @param {Boolean} opts.capped\r\n * @param {Number} opts.arc\r\n */\r\nexport default function (radius = 0.5, height = 1, opts = {}) {\r\n  return cylinder(0, radius, height, opts);\r\n}","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\nlet temp1 = vec3.zero();\r\nlet temp2 = vec3.zero();\r\nlet temp3 = vec3.zero();\r\nlet r = vec3.zero();\r\nlet c00 = vec3.zero();\r\nlet c10 = vec3.zero();\r\nlet c01 = vec3.zero();\r\n\r\n/**\r\n * @param {Number} width\r\n * @param {Number} length\r\n * @param {Object} opts\r\n * @param {Number} opts.widthSegments\r\n * @param {Number} opts.lengthSegments\r\n */\r\nexport default function (width, length, opts = {}) {\r\n  let uSegments = opts.widthSegments !== undefined ? opts.widthSegments : 5;\r\n  let vSegments = opts.lengthSegments !== undefined ? opts.lengthSegments : 5;\r\n\r\n  let hw = width * 0.5;\r\n  let hl = length * 0.5;\r\n\r\n  let positions = [];\r\n  let normals = [];\r\n  let uvs = [];\r\n  let indices = [];\r\n  let minPos = vec3.new(-hw, 0, -hl);\r\n  let maxPos = vec3.new(hw, 0, hl);\r\n\r\n  vec3.set(c00, -hw, 0,  hl);\r\n  vec3.set(c10,  hw, 0,  hl);\r\n  vec3.set(c01, -hw, 0, -hl);\r\n\r\n  for (let y = 0; y <= vSegments; y++) {\r\n    for (let x = 0; x <= uSegments; x++) {\r\n      let u = x / uSegments;\r\n      let v = y / vSegments;\r\n\r\n      vec3.lerp(temp1, c00, c10, u);\r\n      vec3.lerp(temp2, c00, c01, v);\r\n      vec3.sub(temp3, temp2, c00);\r\n      vec3.add(r, temp1, temp3);\r\n\r\n      positions.push(r.x, r.y, r.z);\r\n      normals.push(0, 1, 0);\r\n      uvs.push(u, v);\r\n\r\n      if ((x < uSegments) && (y < vSegments)) {\r\n        let useg1 = uSegments + 1;\r\n        let a = x + y * useg1;\r\n        let b = x + (y + 1) * useg1;\r\n        let c = (x + 1) + (y + 1) * useg1;\r\n        let d = (x + 1) + y * useg1;\r\n\r\n        indices.push(a, d, b);\r\n        indices.push(d, c, b);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    positions,\r\n    normals,\r\n    uvs,\r\n    indices,\r\n    minPos,\r\n    maxPos\r\n  };\r\n}\r\n","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\nlet positions = [\r\n  -0.5, -0.5, 0, // bottom-left\r\n  -0.5,  0.5, 0, // top-left\r\n   0.5,  0.5, 0, // top-right\r\n   0.5, -0.5, 0, // bottom-right\r\n];\r\n\r\nlet normals = [\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n  0, 0, 1,\r\n];\r\n\r\nlet uvs = [\r\n  0, 0,\r\n  0, 1,\r\n  1, 1,\r\n  1, 0,\r\n];\r\n\r\nlet indices = [\r\n  0, 3, 1,\r\n  3, 2, 1\r\n];\r\n\r\n// TODO: ?\r\nlet minPos = vec3.new(-0.5, -0.5, 0);\r\nlet maxPos = vec3.new(0.5, 0.5, 0);\r\n\r\nexport default function () {\r\n  return {\r\n    positions: positions,\r\n    indices: indices,\r\n    normals: normals,\r\n    uvs: uvs,\r\n    minPos: minPos,\r\n    maxPos: maxPos\r\n  };\r\n}\r\n","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\n/**\r\n * @param {Number} radius\r\n * @param {Object} opts\r\n * @param {Number} opts.segments\r\n */\r\nexport default function (radius = 1, opts = {}) {\r\n  let segments = opts.segments !== undefined ? opts.segments : 16;\r\n\r\n  // lat === latitude\r\n  // lon === longitude\r\n\r\n  let positions = [];\r\n  let normals = [];\r\n  let uvs = [];\r\n  let indices = [];\r\n  let minPos = vec3.new(-radius, -radius, -radius);\r\n  let maxPos = vec3.new(radius, radius, radius);\r\n\r\n  for (let lat = 0; lat <= segments; ++lat) {\r\n    let theta = lat * Math.PI / segments;\r\n    let sinTheta = Math.sin(theta);\r\n    let cosTheta = -Math.cos(theta);\r\n\r\n    for (let lon = 0; lon <= segments; ++lon) {\r\n      let phi = lon * 2 * Math.PI / segments - Math.PI / 2.0;\r\n      let sinPhi = Math.sin(phi);\r\n      let cosPhi = Math.cos(phi);\r\n\r\n      let x = sinPhi * sinTheta;\r\n      let y = cosTheta;\r\n      let z = cosPhi * sinTheta;\r\n      let u = lon / segments;\r\n      let v = lat / segments;\r\n\r\n      positions.push(x * radius, y * radius, z * radius);\r\n      normals.push(x, y, z);\r\n      uvs.push(u, v);\r\n\r\n\r\n      if ((lat < segments) && (lon < segments)) {\r\n        let seg1 = segments + 1;\r\n        let a = seg1 * lat + lon;\r\n        let b = seg1 * (lat + 1) + lon;\r\n        let c = seg1 * (lat + 1) + lon + 1;\r\n        let d = seg1 * lat + lon + 1;\r\n\r\n        indices.push(a, d, b);\r\n        indices.push(d, c, b);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    positions: positions,\r\n    indices: indices,\r\n    normals: normals,\r\n    uvs: uvs,\r\n    minPos: minPos,\r\n    maxPos: maxPos\r\n  };\r\n}","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n/**\r\n * @param {Number} radius\r\n * @param {Number} tube\r\n * @param {Object} opts\r\n * @param {Number} opts.radialSegments\r\n * @param {Number} opts.tubularSegments\r\n * @param {Number} opts.arc\r\n */\r\nexport default function (radius = 0.5, tube = 0.2, opts = {}) {\r\n  let radialSegments = opts.radialSegments || 30;\r\n  let tubularSegments = opts.tubularSegments || 20;\r\n  let arc = opts.arc || 2.0 * Math.PI;\r\n\r\n  let positions = [];\r\n  let normals = [];\r\n  let uvs = [];\r\n  let indices = [];\r\n  let minPos = vec3.new(-radius - tube, -tube, -radius - tube);\r\n  let maxPos = vec3.new(radius + tube, tube, radius + tube);\r\n\r\n  for (let j = 0; j <= radialSegments; j++) {\r\n    for (let i = 0; i <= tubularSegments; i++) {\r\n      let u = i / tubularSegments;\r\n      let v = j / radialSegments;\r\n\r\n      let u1 = u * arc;\r\n      let v1 = v * Math.PI * 2;\r\n\r\n      // vertex\r\n      let x = (radius + tube * Math.cos(v1)) * Math.sin(u1);\r\n      let y = tube * Math.sin(v1);\r\n      let z = (radius + tube * Math.cos(v1)) * Math.cos(u1);\r\n\r\n      // this vector is used to calculate the normal\r\n      let nx = Math.sin(u1) * Math.cos(v1);\r\n      let ny = Math.sin(v1);\r\n      let nz = Math.cos(u1) * Math.cos(v1);\r\n\r\n      positions.push(x, y, z);\r\n      normals.push(nx, ny, nz);\r\n      uvs.push(u, v);\r\n\r\n      if ((i < tubularSegments) && (j < radialSegments)) {\r\n        let seg1 = tubularSegments + 1;\r\n        let a = seg1 * j + i;\r\n        let b = seg1 * (j + 1) + i;\r\n        let c = seg1 * (j + 1) + i + 1;\r\n        let d = seg1 * j + i + 1;\r\n\r\n        indices.push(a, d, b);\r\n        indices.push(d, c, b);\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    positions,\r\n    normals,\r\n    uvs,\r\n    indices,\r\n    minPos,\r\n    maxPos\r\n  };\r\n}","'use strict';\r\n\r\nimport { vec3 } from '../vmath';\r\n\r\nlet temp1 = vec3.zero();\r\nlet temp2 = vec3.zero();\r\n\r\n/**\r\n * @param {Number} radiusTop\r\n * @param {Number} radiusBottom\r\n * @param {Number} height\r\n * @param {Object} opts\r\n * @param {Number} opts.sides\r\n * @param {Number} opts.heightSegments\r\n * @param {Boolean} opts.capped\r\n * @param {Number} opts.arc\r\n */\r\nexport default function (radiusTop = 0.5, radiusBottom = 0.5, height = 2, opts = {}) {\r\n  let torsoHeight = height - radiusTop - radiusBottom;\r\n  let sides = opts.sides || 16;\r\n  let heightSegments = opts.heightSegments || 10;\r\n  let bottomProp = radiusBottom / height;\r\n  let torProp = torsoHeight / height;\r\n  let topProp = radiusTop / height;\r\n  let bottomSegments = Math.floor(heightSegments * bottomProp);\r\n  let topSegments = Math.floor(heightSegments * topProp);\r\n  let torSegments = Math.floor(heightSegments * torProp);\r\n  let topOffset = torsoHeight + radiusBottom - height / 2;\r\n  let torOffset = radiusBottom - height / 2;\r\n  let bottomOffset = radiusBottom - height / 2;\r\n\r\n  let arc = opts.arc || 2.0 * Math.PI;\r\n\r\n  // calculate vertex count\r\n  let positions = [];\r\n  let normals = [];\r\n  let uvs = [];\r\n  let indices = [];\r\n  let maxRadius = Math.max(radiusTop, radiusBottom);\r\n  let minPos = vec3.new(-maxRadius, -height / 2, -maxRadius);\r\n  let maxPos = vec3.new(maxRadius, height / 2, maxRadius);\r\n\r\n  let index = 0;\r\n  let indexArray = [];\r\n\r\n  generateBottom();\r\n\r\n  generateTorso();\r\n\r\n  generateTop();\r\n\r\n  return {\r\n    positions,\r\n    normals,\r\n    uvs,\r\n    indices,\r\n    minPos,\r\n    maxPos\r\n  };\r\n\r\n  // =======================\r\n  // internal fucntions\r\n  // =======================\r\n\r\n  function generateTorso() {\r\n    // this will be used to calculate the normal\r\n    let slope = (radiusTop - radiusBottom) / torsoHeight;\r\n\r\n    // generate positions, normals and uvs\r\n    for (let y = 0; y <= torSegments; y++) {\r\n\r\n      let indexRow = [];\r\n      let lat = y / torSegments;\r\n      let radius = lat * (radiusTop - radiusBottom) + radiusBottom;\r\n\r\n      for (let x = 0; x <= sides; ++x) {\r\n        let u = x / sides;\r\n        let v = lat * torProp + bottomProp;\r\n        let theta = u * arc - (arc / 4);\r\n\r\n        let sinTheta = Math.sin(theta);\r\n        let cosTheta = Math.cos(theta);\r\n\r\n        // vertex\r\n        positions.push(radius * sinTheta);\r\n        positions.push(lat * torsoHeight + torOffset);\r\n        positions.push(radius * cosTheta);\r\n\r\n        // normal\r\n        vec3.normalize(temp1, vec3.set(temp2, sinTheta, -slope, cosTheta));\r\n        normals.push(temp1.x);\r\n        normals.push(temp1.y);\r\n        normals.push(temp1.z);\r\n\r\n        // uv\r\n        uvs.push(u,v);\r\n        // save index of vertex in respective row\r\n        indexRow.push(index);\r\n\r\n        // increase index\r\n        ++index;\r\n      }\r\n\r\n      // now save positions of the row in our index array\r\n      indexArray.push(indexRow);\r\n    }\r\n\r\n    // generate indices\r\n    for (let y = 0; y < torSegments; ++y) {\r\n      for (let x = 0; x < sides; ++x) {\r\n        // we use the index array to access the correct indices\r\n        let i1 = indexArray[y][x];\r\n        let i2 = indexArray[y + 1][x];\r\n        let i3 = indexArray[y + 1][x + 1];\r\n        let i4 = indexArray[y][x + 1];\r\n\r\n        // face one\r\n        indices.push(i1);\r\n        indices.push(i4);\r\n        indices.push(i2);\r\n\r\n        // face two\r\n        indices.push(i4);\r\n        indices.push(i3);\r\n        indices.push(i2);\r\n      }\r\n    }\r\n  }\r\n\r\n  function generateBottom() {\r\n    for (let lat = 0; lat <= bottomSegments; ++lat) {\r\n      let theta = lat * Math.PI / bottomSegments / 2;\r\n      let sinTheta = Math.sin(theta);\r\n      let cosTheta = -Math.cos(theta);\r\n\r\n      for (let lon = 0; lon <= sides; ++lon) {\r\n        let phi = lon * 2 * Math.PI / sides - Math.PI / 2.0;\r\n        let sinPhi = Math.sin(phi);\r\n        let cosPhi = Math.cos(phi);\r\n\r\n        let x = sinPhi * sinTheta;\r\n        let y = cosTheta;\r\n        let z = cosPhi * sinTheta;\r\n        let u = lon / sides;\r\n        let v = lat / heightSegments;\r\n\r\n        positions.push(x * radiusBottom, y * radiusBottom + bottomOffset, z * radiusBottom);\r\n        normals.push(x, y, z);\r\n        uvs.push(u, v);\r\n\r\n        if ((lat < bottomSegments) && (lon < sides)) {\r\n          let seg1 = sides + 1;\r\n          let a = seg1 * lat + lon;\r\n          let b = seg1 * (lat + 1) + lon;\r\n          let c = seg1 * (lat + 1) + lon + 1;\r\n          let d = seg1 * lat + lon + 1;\r\n\r\n          indices.push(a, d, b);\r\n          indices.push(d, c, b);\r\n        }\r\n\r\n        ++index;\r\n      }\r\n    }\r\n  }\r\n\r\n  function generateTop() {\r\n    for (let lat = 0; lat <= topSegments; ++lat) {\r\n      let theta = lat * Math.PI / topSegments / 2 + Math.PI / 2;\r\n      let sinTheta = Math.sin(theta);\r\n      let cosTheta = -Math.cos(theta);\r\n\r\n      for (let lon = 0; lon <= sides; ++lon) {\r\n        let phi = lon * 2 * Math.PI / sides - Math.PI / 2.0;\r\n        let sinPhi = Math.sin(phi);\r\n        let cosPhi = Math.cos(phi);\r\n\r\n        let x = sinPhi * sinTheta;\r\n        let y = cosTheta;\r\n        let z = cosPhi * sinTheta;\r\n        let u = lon / sides;\r\n        let v = lat / heightSegments + (1-topProp);\r\n\r\n        positions.push(x * radiusTop, y * radiusTop + topOffset, z * radiusTop);\r\n        normals.push(x, y, z);\r\n        uvs.push(u, v);\r\n\r\n        if ((lat < topSegments) && (lon < sides)) {\r\n          let seg1 = sides + 1;\r\n          let a = seg1 * lat + lon + indexArray[torSegments][sides] + 1;\r\n          let b = seg1 * (lat + 1) + lon + indexArray[torSegments][sides] + 1;\r\n          let c = seg1 * (lat + 1) + lon + 1 + indexArray[torSegments][sides] + 1;\r\n          let d = seg1 * lat + lon + 1 + indexArray[torSegments][sides] + 1;\r\n\r\n          indices.push(a, d, b);\r\n          indices.push(d, c, b);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { vec3, color3, mat4 } from '../vmath';\r\nimport { LinkedArray } from '../memop';\r\nimport { Node } from '../scene-graph';\r\nimport gfx from '../gfx';\r\nimport renderer from '../renderer';\r\nimport { sphere, wireframe } from '../primitives';\r\n\r\nlet _right = vec3.new(1, 0, 0);\r\nlet _up = vec3.new(0, 1, 0);\r\nlet _forward = vec3.new(0, 0, 1);\r\nlet _v3_tmp = vec3.zero();\r\nlet _v3_tmp2 = vec3.zero();\r\nlet _c3_tmp = color3.create();\r\n\r\nexport default class DrawMng {\r\n  constructor(app) {\r\n    this._app = app;\r\n\r\n    // debug view\r\n    this._view2D = new renderer.View();\r\n    this._view2D._clearFlags = 0;\r\n    this._view2D._cullingByID = true;\r\n    this._view2D._stages = [\r\n      'opaque'\r\n    ];\r\n\r\n    this._lines = new LinkedArray(() => {\r\n      return {\r\n        start: vec3.zero(),\r\n        end: vec3.zero(),\r\n        color: color3.create(),\r\n        duration: 0.0,\r\n        depthTest: false,\r\n        timer: 0.0,\r\n        is2D: false,\r\n\r\n        _prev: null,\r\n        _next: null,\r\n      };\r\n    }, 2000);\r\n\r\n    this._rects = new LinkedArray(() => {\r\n      return {\r\n        x: 0,\r\n        y: 0,\r\n        w: 1,\r\n        h: 1,\r\n        color: color3.create(),\r\n        duration: 0.0,\r\n        timer: 0.0,\r\n\r\n        _prev: null,\r\n        _next: null,\r\n      };\r\n    }, 2000);\r\n\r\n    this._axesList = new LinkedArray(() => {\r\n      return {\r\n        pos: vec3.zero(),\r\n        up: vec3.zero(),\r\n        right: vec3.zero(),\r\n        forward: vec3.zero(),\r\n        duration: 0.0,\r\n        depthTest: false,\r\n        timer: 0.0,\r\n        is2D: false,\r\n\r\n        _prev: null,\r\n        _next: null,\r\n      };\r\n    }, 2000);\r\n\r\n    let wireframePass = new renderer.Pass('wireframe');\r\n    wireframePass.setDepth(true, true);\r\n    let wireframeTech = new renderer.Technique(\r\n      ['opaque'],\r\n      [\r\n        { name: 'color', type: renderer.PARAM_COLOR3 }\r\n      ],\r\n      [wireframePass]\r\n    );\r\n    let wireframeEffect = new renderer.Effect([wireframeTech], {}, []);\r\n    wireframeEffect.setProperty('color', color3.new(1, 1, 1));\r\n\r\n    this._primitives = new LinkedArray(() => {\r\n      return {\r\n        model: (() => {\r\n          let model = new renderer.Model();\r\n          let node = new Node();\r\n          model.setNode(node);\r\n          model.setEffect(wireframeEffect);\r\n\r\n          return model;\r\n        })(),\r\n        duration: 0.0,\r\n        depthTest: false,\r\n        timer: 0.0,\r\n\r\n        _prev: null,\r\n        _next: null,\r\n      };\r\n    }, 2000);\r\n\r\n    let linePass = new renderer.Pass('line');\r\n    linePass.setDepth(true, true);\r\n    let lineTech = new renderer.Technique(\r\n      ['opaque'],\r\n      [],\r\n      [linePass]\r\n    );\r\n    let lineEffect = new renderer.Effect([lineTech], {}, []);\r\n\r\n    let lineBatchModel = new renderer.LineBatchModel();\r\n    lineBatchModel.setNode(new Node('debug-lines'));\r\n    lineBatchModel.setEffect(lineEffect);\r\n\r\n    //\r\n    let lineBatchModel2D = new renderer.LineBatchModel();\r\n    lineBatchModel2D.setNode(new Node('debug-lines-2d'));\r\n    lineBatchModel2D.setEffect(lineEffect);\r\n\r\n    //\r\n    let sphereData = sphere(1.0, {\r\n      segments: 20,\r\n    });\r\n    sphereData.uvs = null;\r\n    sphereData.indices = wireframe(sphereData.indices);\r\n    this._sphereIA = renderer.createIA(app.device, sphereData);\r\n    this._sphereIA._primitiveType = gfx.PT_LINES;\r\n\r\n    //\r\n    this._lineBatchModel = lineBatchModel;\r\n    this._lineBatchModel2D = lineBatchModel2D;\r\n  }\r\n\r\n  start () {\r\n    this._app.scene.addView(this._view2D);\r\n    this._app.scene.addModel(this._lineBatchModel);\r\n    this._app.scene.addModel(this._lineBatchModel2D);\r\n  }\r\n\r\n  stop () {\r\n    this._app.scene.removeView(this._view2D);\r\n    this._app.scene.removeModel(this._lineBatchModel);\r\n    this._app.scene.removeModel(this._lineBatchModel2D);\r\n\r\n    this._primitives.forEach(item => {\r\n      item.model.setInputAssembler(null);\r\n      this._app.scene.removeModel(item.model);\r\n      this._primitives.remove(item);\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   */\r\n  tick() {\r\n    let dt = this._app.deltaTime;\r\n    let canvasWidth = this._app._canvas.width;\r\n    let canvasHeight = this._app._canvas.height;\r\n\r\n    // update view\r\n    mat4.ortho(this._view2D._matProj, 0, canvasWidth, 0, canvasHeight, -100, 100);\r\n    mat4.copy(this._view2D._matViewProj, this._view2D._matProj);\r\n    mat4.invert(this._view2D._matInvViewProj, this._view2D._matProj);\r\n    this._view2D._rect.x = this._view2D._rect.y = 0;\r\n    this._view2D._rect.w = canvasWidth;\r\n    this._view2D._rect.h = canvasHeight;\r\n\r\n    //\r\n    this._lineBatchModel.clear();\r\n    this._lineBatchModel2D.clear();\r\n    this._lineBatchModel2D._viewID = this._view2D._id;\r\n\r\n    // lines\r\n    this._lines.forEach(item => {\r\n      if (item.timer > item.duration) {\r\n        this._lines.remove(item);\r\n        return;\r\n      }\r\n\r\n      if (item.is2D) {\r\n        this._lineBatchModel2D.addLine(item.start, item.end, item.color);\r\n      } else if (item.depthTest) {\r\n        this._lineBatchModel.addLine(item.start, item.end, item.color);\r\n      } else {\r\n        console.warn('We have not support it yet');\r\n        // this._lineBatchModelNoDepth.addLine(start, end, color, duration);\r\n      }\r\n\r\n      item.timer += dt;\r\n    });\r\n\r\n    // rects\r\n    this._rects.forEach(item => {\r\n      if (item.timer > item.duration) {\r\n        this._rects.remove(item);\r\n        return;\r\n      }\r\n\r\n      this._lineBatchModel2D.addLine(\r\n        vec3.set(_v3_tmp, item.x, item.y, 0.0),\r\n        vec3.set(_v3_tmp2, item.x, item.y + item.h, 0.0),\r\n        item.color\r\n      );\r\n      this._lineBatchModel2D.addLine(\r\n        vec3.set(_v3_tmp, item.x, item.y + item.h, 0.0),\r\n        vec3.set(_v3_tmp2, item.x + item.w, item.y + item.h, 0.0),\r\n        item.color\r\n      );\r\n      this._lineBatchModel2D.addLine(\r\n        vec3.set(_v3_tmp, item.x + item.w, item.y + item.h, 0.0),\r\n        vec3.set(_v3_tmp2, item.x + item.w, item.y, 0.0),\r\n        item.color\r\n      );\r\n      this._lineBatchModel2D.addLine(\r\n        vec3.set(_v3_tmp, item.x + item.w, item.y, 0.0),\r\n        vec3.set(_v3_tmp2, item.x, item.y, 0.0),\r\n        item.color\r\n      );\r\n\r\n      item.timer += dt;\r\n    });\r\n\r\n    // axes list\r\n    this._axesList.forEach(item => {\r\n      if (item.timer > item.duration) {\r\n        this._axesList.remove(item);\r\n        return;\r\n      }\r\n\r\n      if (item.is2D) {\r\n        this._lineBatchModel2D.addLine(item.pos, item.up, color3.set(_c3_tmp, 1, 0, 0));\r\n        this._lineBatchModel2D.addLine(item.pos, item.right, color3.set(_c3_tmp, 0, 1, 0));\r\n        this._lineBatchModel2D.addLine(item.pos, item.forward, color3.set(_c3_tmp, 0, 0, 1));\r\n      } else if (item.depthTest) {\r\n        this._lineBatchModel.addLine(item.pos, item.up, color3.set(_c3_tmp, 1, 0, 0));\r\n        this._lineBatchModel.addLine(item.pos, item.right, color3.set(_c3_tmp, 0, 1, 0));\r\n        this._lineBatchModel.addLine(item.pos, item.forward, color3.set(_c3_tmp, 0, 0, 1));\r\n      } else {\r\n        console.warn('We have not support it yet');\r\n        // this._linesModelNoDepth.addLine(start, end, color, duration);\r\n      }\r\n\r\n      item.timer += dt;\r\n    });\r\n\r\n    // primitives\r\n    this._primitives.forEach(item => {\r\n      if (item.timer > item.duration) {\r\n        item.model.setInputAssembler(null);\r\n        this._app.scene.removeModel(item.model);\r\n\r\n        this._primitives.remove(item);\r\n        return;\r\n      }\r\n\r\n      item.timer += dt;\r\n    });\r\n  }\r\n\r\n  addLine(start, end, color, duration = 0.0, depthTest = true, is2D = false) {\r\n    let line = this._lines.add();\r\n\r\n    vec3.copy(line.start, start);\r\n    vec3.copy(line.end, end);\r\n    color3.copy(line.color, color);\r\n    line.duration = duration;\r\n    line.depthTest = depthTest;\r\n    line.timer = 0.0;\r\n    line.is2D = is2D;\r\n\r\n    if (is2D) {\r\n      line.start.z = 0.0;\r\n      line.end.z = 0.0;\r\n    }\r\n  }\r\n\r\n  addRect2D(x, y, width, height, color, duration = 0.0) {\r\n    let rect = this._rects.add();\r\n\r\n    rect.x = x;\r\n    rect.y = y;\r\n    rect.w = width;\r\n    rect.h = height;\r\n    color3.copy(rect.color, color);\r\n    rect.duration = duration;\r\n    rect.timer = 0.0;\r\n  }\r\n\r\n  addAxes(pos, rotation, scale, duration = 0.0, depthTest = true, is2D = false) {\r\n    let axes = this._axesList.add();\r\n\r\n    vec3.copy(axes.pos, pos);\r\n\r\n    vec3.transformQuat(_v3_tmp, _right, rotation);\r\n    vec3.scaleAndAdd(_v3_tmp, pos, _v3_tmp, scale),\r\n    vec3.copy(axes.right, _v3_tmp);\r\n\r\n    vec3.transformQuat(_v3_tmp, _up, rotation);\r\n    vec3.scaleAndAdd(_v3_tmp, pos, _v3_tmp, scale),\r\n    vec3.copy(axes.up, _v3_tmp);\r\n\r\n    vec3.transformQuat(_v3_tmp, _forward, rotation);\r\n    vec3.scaleAndAdd(_v3_tmp, pos, _v3_tmp, scale),\r\n    vec3.copy(axes.forward, _v3_tmp);\r\n\r\n    axes.duration = duration;\r\n    axes.depthTest = depthTest;\r\n    axes.timer = 0.0;\r\n    axes.is2D = is2D;\r\n  }\r\n\r\n  addSphere(pos, radius, color, duration = 0.0, depthTest = true) {\r\n    let primitive = this._primitives.add();\r\n    primitive.model.setInputAssembler(this._sphereIA);\r\n    vec3.copy(primitive.model._node.lpos, pos);\r\n    vec3.set(primitive.model._node.lscale, radius, radius, radius);\r\n\r\n    primitive.duration = duration;\r\n    primitive.depthTest = depthTest;\r\n    primitive.timer = 0.0;\r\n\r\n    this._app.scene.addModel(primitive.model);\r\n  }\r\n}","import renderer from '../renderer';\r\nimport gfx from '../gfx';\r\nimport { color4 } from '../vmath';\r\nimport { Node } from '../scene-graph';\r\n\r\nexport function createGrid(app, width, length, seg) {\r\n  // create mesh\r\n  let vertices = [];\r\n  let hw = width * 0.5;\r\n  let hl = length * 0.5;\r\n  let dw = width / seg;\r\n  let dl = length / seg;\r\n\r\n  for (let x = -hw; x <= hw; x += dw) {\r\n    vertices.push(x, 0, -hl);\r\n    vertices.push(x, 0, hl);\r\n  }\r\n\r\n  for (let z = -hl; z <= hl; z += dl) {\r\n    vertices.push(-hw, 0, z);\r\n    vertices.push(hw, 0, z);\r\n  }\r\n\r\n  let ia = renderer.createIA(app.device, {\r\n    positions: vertices\r\n  });\r\n  ia._primitiveType = gfx.PT_LINES;\r\n\r\n  let simplePass = new renderer.Pass('simple');\r\n  simplePass.setDepth(true, true);\r\n  let simpleTech = new renderer.Technique(\r\n    ['opaque'],\r\n    [\r\n      { name: 'color', type: renderer.PARAM_COLOR4 }\r\n    ],\r\n    [simplePass]\r\n  );\r\n  let simpleEffect = new renderer.Effect(\r\n    [simpleTech],\r\n    {},\r\n    [\r\n      { name: 'USE_TEXTURE', value: false },\r\n      { name: 'USE_COLOR', value: true }\r\n    ]\r\n  );\r\n  simpleEffect.define('USE_COLOR', true);\r\n  simpleEffect.setProperty('color', color4.new(0.4, 0.4, 0.4, 1.0));\r\n\r\n  let model = new renderer.Model();\r\n  model.setInputAssembler(ia);\r\n  model.setEffect(simpleEffect);\r\n  model.setNode(new Node('debug-grid'));\r\n\r\n  return model;\r\n}","import { vec3, quat } from '../vmath';\r\nimport renderer from '../renderer';\r\nimport OrbitCamera from './orbit-camera';\r\nimport DrawMng from './draw-mng';\r\nimport { createGrid } from './utils';\r\nimport Input from '../input';\r\nimport utils from '../misc/utils';\r\n\r\nexport default class Debugger {\r\n  /**\r\n   * @param {App} app\r\n   */\r\n  constructor(app) {\r\n    this._state = 'sleep';\r\n    this._app = app;\r\n    this._drawMng = new DrawMng(app);\r\n    this._debugInput = new Input(app._canvas, {\r\n      lock: Input.LOCK_WHEN_PRESSED,\r\n      invertY: true,\r\n      enabled: false,\r\n    });\r\n\r\n    // debug camera\r\n    this._orbit = new OrbitCamera(this._debugInput);\r\n    this._camera = new renderer.Camera();\r\n    this._camera.setColor(0.3, 0.3, 0.3, 1);\r\n    this._camera.setNode(this._orbit._node);\r\n    this._camera.setStages([\r\n      'opaque',\r\n      'transparent'\r\n    ]);\r\n\r\n    // grid\r\n    this._grid = createGrid(app, 100, 100, 100);\r\n  }\r\n\r\n  start() {\r\n    if (this._state !== 'sleep') {\r\n      return;\r\n    }\r\n\r\n    this._state = 'enter';\r\n  }\r\n\r\n  stop() {\r\n    if (this._state === 'sleep') {\r\n      return;\r\n    }\r\n\r\n    this._state = 'fade2normal';\r\n  }\r\n\r\n  tick() {\r\n    if (this._state === 'sleep') {\r\n      return;\r\n    }\r\n\r\n    let name = `_${this._state}`;\r\n    let fn = this[name];\r\n    if (!fn) {\r\n      console.warn(`Unknown state ${this._state}`);\r\n      return;\r\n    }\r\n\r\n    this[name]();\r\n  }\r\n\r\n  postTick() {\r\n    // update draw-mng before rendering after all systems ticked\r\n    this._drawMng.tick();\r\n  }\r\n\r\n  // ====================\r\n  // debug draw\r\n  // ====================\r\n\r\n  drawLine(start, end, color, duration, depthTest) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addLine(start, end, color, duration, depthTest, false);\r\n  }\r\n\r\n  drawLine2D(start, end, color, duration) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addLine(start, end, color, duration, false, true);\r\n  }\r\n\r\n  drawRect(x, y, w, h, color, duration) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addRect2D(x, y, w, h, color, duration);\r\n  }\r\n\r\n  drawAxes(pos, rotation, scale, duration, depthTest) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addAxes(pos, rotation, scale, duration, depthTest, false);\r\n  }\r\n\r\n  drawAxes2D(pos, rotation, scale, duration) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addAxes(pos, rotation, scale, duration, false, true);\r\n  }\r\n\r\n  drawSphere(pos, radius, color, duration, depthTest) {\r\n    if ( this._state !== 'debug') {\r\n      return;\r\n    }\r\n    this._drawMng.addSphere(pos, radius, color, duration, depthTest);\r\n  }\r\n\r\n  // ====================\r\n  // internal states\r\n  // ====================\r\n\r\n  _enter() {\r\n    let mainCam = null;\r\n    utils.walk(this._app.activeLevel, ent => {\r\n      mainCam = ent.getComp('Camera');\r\n      if (mainCam) {\r\n        return false;\r\n      }\r\n      return true;\r\n    });\r\n\r\n    if (!mainCam) {\r\n      return;\r\n    }\r\n\r\n    this._app.input.enabled = false;\r\n    this._debugInput.enabled = true;\r\n\r\n    // setup debug camera\r\n    vec3.copy(this._orbit._node.lpos, mainCam._entity.lpos);\r\n    quat.copy(this._orbit._node.lrot, mainCam._entity.lrot);\r\n    vec3.copy(this._orbit._node.lscale, mainCam._entity.lscale);\r\n    this._orbit.reset();\r\n    this._app.scene.setDebugCamera(this._camera);\r\n\r\n    //\r\n    this._app.scene.addModel(this._grid);\r\n\r\n    //\r\n    this._drawMng.start();\r\n\r\n    //\r\n    this._state = 'fade2debug';\r\n  }\r\n\r\n  _fade2debug() {\r\n    this._state = 'debug';\r\n  }\r\n\r\n  _debug() {\r\n    let dt = this._app.deltaTime;\r\n\r\n    // update orbit camera\r\n    this._orbit.tick(dt);\r\n    this._debugInput.reset();\r\n  }\r\n\r\n  _fade2normal() {\r\n    this._state = 'exit';\r\n  }\r\n\r\n  _exit() {\r\n    this._debugInput.enabled = false;\r\n    this._app.input.enabled = true;\r\n\r\n    this._app.scene.removeModel(this._grid);\r\n\r\n    // restore runtime states\r\n    this._app.scene.setDebugCamera(null);\r\n\r\n    //\r\n    this._drawMng.stop();\r\n\r\n    //\r\n    this._state = 'sleep';\r\n  }\r\n}","import Asset from './asset';\r\nimport Texture from './texture';\r\nimport renderer from '../renderer';\r\nimport { vec2, vec3, vec4, color3, color4 } from '../vmath';\r\n\r\nfunction _objArrayClone(val) {\r\n  return val.map(obj => Object.assign({}, obj));\r\n}\r\n\r\nexport default class Material extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._props = {};\r\n    this._effectInst = null; // renderer.effect\r\n    this._effect = null; // effect asset\r\n  }\r\n\r\n  _updateEffectInst() {\r\n    let techNum = this._effect.techniques.length;\r\n    let techniques = new Array(techNum);\r\n    let props = {};\r\n\r\n    for (let j = 0; j < techNum; ++j) {\r\n      let tech = this._effect.techniques[j];\r\n\r\n      for (let k = 0; k < tech.params.length; ++k) {\r\n        let param = tech.params[k];\r\n        switch(param.type) {\r\n          case renderer.PARAM_FLOAT:\r\n            props[param.name] = param.value;\r\n            break;\r\n          case renderer.PARAM_FLOAT2:\r\n            props[param.name] = vec2.new(param.value[0], param.value[1]);\r\n            break;\r\n          case renderer.PARAM_FLOAT3:\r\n            props[param.name] = vec3.new(param.value[0], param.value[1], param.value[2]);\r\n            break;\r\n          case renderer.PARAM_FLOAT4:\r\n            props[param.name] = vec4.new(param.value[0], param.value[1], param.value[2], param.value[3]);\r\n            break;\r\n          case renderer.PARAM_COLOR3:\r\n            props[param.name] = color3.new(param.value[0], param.value[1], param.value[2]);\r\n            break;\r\n          case renderer.PARAM_COLOR4:\r\n            props[param.name] = color4.new(param.value[0], param.value[1], param.value[2], param.value[3]);\r\n            break;\r\n          case renderer.PARAM_TEXTURE_2D:\r\n          case renderer.PARAM_TEXTURE_CUBE:\r\n            props[param.name] = null;\r\n            break;\r\n          default:\r\n            console.warn('unsupport param type in effect json.');\r\n        }\r\n      }\r\n\r\n      let passNum = tech.passes.length;\r\n      let passes = new Array(passNum);\r\n      for (let k = 0; k < passNum; ++k) {\r\n        let pass = tech.passes[k];\r\n        passes[k] = new renderer.Pass(pass.program);\r\n        if (pass.depthTest !== undefined && pass.depthWrite !== undefined) {\r\n          passes[k].setDepth(pass.depthTest, pass.depthWrite);\r\n        }\r\n        if (pass.cullMode !== undefined) {\r\n          passes[k].setCullMode(pass.cullMode);\r\n        }\r\n        if (pass.blend === true) {\r\n          passes[k].setBlend(pass.blendEq, pass.blendSrc, pass.blendDst, pass.blendAlphaEq, pass.blendSrcAlpha, pass.blendDstAlpha);\r\n        }\r\n      }\r\n\r\n      techniques[j] = new renderer.Technique(tech.stages, tech.params, passes, tech.layer);\r\n    }\r\n\r\n    for (let name in props) {\r\n      this._props[name] = props[name];\r\n    }\r\n\r\n    // reset material's props\r\n    let defs = _objArrayClone(this._effect.defines);\r\n    let deps = _objArrayClone(this._effect.dependencies);\r\n\r\n    if (this._effectInst) {\r\n      this._effectInst.clear();\r\n      this._effectInst._techniques = techniques;\r\n      this._effectInst._properties = props;\r\n      this._effectInst._defines = defs;\r\n      this._effectInst._dependencies = deps;\r\n    } else {\r\n      this._effectInst = new renderer.Effect(techniques, props, defs, deps);\r\n    }\r\n  }\r\n\r\n  get effect() {\r\n    return this._effect;\r\n  }\r\n  set effect(val) {\r\n    if (this._effect !== val) {\r\n      this._effect = val;\r\n      this._updateEffectInst();\r\n    }\r\n  }\r\n\r\n  get effectInst() {\r\n    return this._effectInst;\r\n  }\r\n\r\n  copy(mat) {\r\n    if (this._effect !== mat._effect) {\r\n      this._effect = mat._effect;\r\n      this._updateEffectInst();\r\n    }\r\n\r\n    this._effectInst._defines = _objArrayClone(mat._effectInst._defines);\r\n    this._effectInst._dependencies = _objArrayClone(mat._effectInst._dependencies);\r\n    for (let name in mat._props) {\r\n      this.setProperty(name, mat._props[name]);\r\n    }\r\n  }\r\n\r\n  setProperty(name, val) {\r\n    this._props[name] = val;\r\n\r\n    if (val instanceof Texture) {\r\n      this._effectInst.setProperty(name, val._texture);\r\n    } else {\r\n      this._effectInst.setProperty(name, val);\r\n    }\r\n  }\r\n\r\n  define(name, val) {\r\n    this._effectInst.define(name, val);\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    // TODO: what should we do here ???\r\n\r\n    super.unload();\r\n  }\r\n}","import Texture from './texture';\r\nimport gfx from '../gfx';\r\nimport { gfxFilters, gfxWraps, gfxTextureFmts } from '../misc/mappings';\r\n\r\nlet _opts = {\r\n  images: [],\r\n  mipmap: true,\r\n  width: 2,\r\n  height: 2,\r\n  format: gfx.TEXTURE_FMT_RGBA8,\r\n  anisotropy: 1,\r\n  wrapS: gfx.WRAP_REPEAT,\r\n  wrapT: gfx.WRAP_REPEAT,\r\n  minFilter: gfx.FILTER_LINEAR,\r\n  magFilter: gfx.FILTER_LINEAR,\r\n  mipFilter: gfx.FILTER_LINEAR,\r\n};\r\n\r\nfunction _updateOpts(out, texture) {\r\n  out.images = texture._images;\r\n  out.mipmap = texture._mipmap;\r\n  out.width = texture._width;\r\n  out.height = texture._height;\r\n  out.format = gfxTextureFmts[texture._format];\r\n  out.anisotropy = texture._anisotropy;\r\n  out.wrapS = gfxWraps[texture._wrapS];\r\n  out.wrapT = gfxWraps[texture._wrapT];\r\n  out.minFilter = gfxFilters[texture._minFilter];\r\n  out.magFilter = gfxFilters[texture._magFilter];\r\n  out.mipFilter = gfxFilters[texture._mipFilter];\r\n}\r\n\r\nexport default class TextureCube extends Texture {\r\n  constructor(device, width = 2, height = 2, fmt = 'rgba8') {\r\n    super(device);\r\n\r\n    //\r\n    this._images = [];\r\n    this._mipmap = true;\r\n    this._width = width;\r\n    this._height = height;\r\n    this._format = fmt;\r\n    this._anisotropy = 1;\r\n    this._wrapS = 'repeat';\r\n    this._wrapT = 'repeat';\r\n    this._minFilter = 'linear';\r\n    this._magFilter = 'linear';\r\n    this._mipFilter = 'linear';\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    this._texture.destroy();\r\n    super.unload();\r\n  }\r\n\r\n  setImages(imgs) {\r\n    this._images = imgs;\r\n    this.resize(imgs[0][0].width, imgs[0][0].height);\r\n  }\r\n\r\n  resize(width, height) {\r\n    this._width = width;\r\n    this._height = height;\r\n  }\r\n\r\n  get width() {\r\n    return this._width;\r\n  }\r\n\r\n  get height() {\r\n    return this._height;\r\n  }\r\n\r\n  set mipmap(val) {\r\n    this._mipmap = val;\r\n  }\r\n  get mipmap() {\r\n    return this._mipmap;\r\n  }\r\n\r\n  set anisotropy(val) {\r\n    this._anisotropy = val;\r\n  }\r\n  get anisotropy() {\r\n    return this._anisotropy;\r\n  }\r\n\r\n  set wrapS(val) {\r\n    this._wrapS = val;\r\n  }\r\n  get wrapS() {\r\n    return this._wrapS;\r\n  }\r\n\r\n  set wrapT(val) {\r\n    this._wrapT = val;\r\n  }\r\n  get wrapT() {\r\n    return this._wrapT;\r\n  }\r\n\r\n  set minFilter(val) {\r\n    this._minFilter = val;\r\n  }\r\n  get minFilter() {\r\n    return this._minFilter;\r\n  }\r\n\r\n  set magFilter(val) {\r\n    this._magFilter = val;\r\n  }\r\n  get magFilter() {\r\n    return this._magFilter;\r\n  }\r\n\r\n  set mipFilter(val) {\r\n    this._mipFilter = val;\r\n  }\r\n  get mipFilter() {\r\n    return this._mipFilter;\r\n  }\r\n\r\n  commit() {\r\n    _updateOpts(_opts, this);\r\n    if (!this._texture) {\r\n      this._texture = new gfx.TextureCube(this._device, _opts);\r\n    } else {\r\n      this._texture.update(_opts);\r\n    }\r\n    this._images = [];\r\n  }\r\n}\r\n","import Asset from './asset';\r\n\r\nexport default class Effect extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    // effect disc\r\n    this._techniques = [];\r\n    this._properties = {};\r\n    this._defines = [];\r\n    this._dependencies = [];\r\n  }\r\n\r\n  set techniques(val) {\r\n    this._techniques = val;\r\n  }\r\n\r\n  get techniques() {\r\n    return this._techniques;\r\n  }\r\n\r\n  set properties(val) {\r\n    this._properties = val;\r\n  }\r\n\r\n  get properties() {\r\n    return this._properties;\r\n  }\r\n\r\n  set defines(val) {\r\n    this._defines = val;\r\n  }\r\n\r\n  get defines() {\r\n    return this._defines;\r\n  }\r\n\r\n  set dependencies(val) {\r\n    this._dependencies = val;\r\n  }\r\n\r\n  get dependencies() {\r\n    return this._dependencies;\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    // TODO: what should we do here ???\r\n\r\n    super.unload();\r\n  }\r\n}","import Asset from './asset';\r\nimport { vec3, mat4 } from '../vmath';\r\n\r\nlet _t_tmp = vec3.zero();\r\nlet _s_tmp = vec3.zero();\r\nlet _mat4_tmp = mat4.create();\r\nlet _textureMatrix = mat4.create();\r\n\r\nexport default class Sprite extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._texture = null;\r\n    this._x = 0;\r\n    this._y = 0;\r\n    this._width = 64;\r\n    this._height = 64;\r\n    this._rotated = false;\r\n\r\n    // sliced information\r\n    this._left = 0;\r\n    this._right = 0;\r\n    this._top = 0;\r\n    this._bottom = 0;\r\n\r\n    // cached 16 uvs\r\n    /**\r\n     * uv12  uv13  uv14  uv15\r\n     * uv08  uv09  uv10  uv11\r\n     * uv04  uv05  uv06  uv07\r\n     * uv00  uv01  uv02  uv03\r\n     */\r\n\r\n    // ues vec3 for uv to make it better use mat4 texture matrix\r\n    this._uvs = new Array(16);\r\n    for (let i = 0; i < 16; ++i) {\r\n      this._uvs[i] = vec3.zero();\r\n    }\r\n  }\r\n\r\n  get texture() {\r\n    return this._texture;\r\n  }\r\n  set texture(val) {\r\n    this._texture = val;\r\n  }\r\n\r\n  get x() {\r\n    return this._x;\r\n  }\r\n  set x(val) {\r\n    this._x = val;\r\n  }\r\n\r\n  get y() {\r\n    return this._y;\r\n  }\r\n  set y(val) {\r\n    this._y = val;\r\n  }\r\n\r\n  get width() {\r\n    return this._width;\r\n  }\r\n  set width(val) {\r\n    this._width = val;\r\n  }\r\n\r\n  get height() {\r\n    return this._height;\r\n  }\r\n  set height(val) {\r\n    this._height = val;\r\n  }\r\n\r\n  get rotated() {\r\n    return this._rotated;\r\n  }\r\n  set rotated(val) {\r\n    this._rotated = val;\r\n  }\r\n\r\n  get left() {\r\n    return this._left;\r\n  }\r\n  set left(val) {\r\n    this._left = val;\r\n  }\r\n\r\n  get right() {\r\n    return this._right;\r\n  }\r\n  set right(val) {\r\n    this._right = val;\r\n  }\r\n\r\n  get top() {\r\n    return this._top;\r\n  }\r\n  set top(val) {\r\n    this._top = val;\r\n  }\r\n\r\n  get bottom() {\r\n    return this._bottom;\r\n  }\r\n  set bottom(val) {\r\n    this._bottom = val;\r\n  }\r\n\r\n  get uvs() {\r\n    return this._uvs;\r\n  }\r\n\r\n  // commit values and calculated cached values\r\n  commit() {\r\n    // todo: check if some value exceeds the bounds, such as x < 0, or x + width > texture.width\r\n\r\n    let textureWidth = this._texture.width;\r\n    let textureHeight = this._texture.height;\r\n\r\n    // calculate texture matrix\r\n    /**\r\n     * if sprite is rotated\r\n     * 3----4  is rotated to 1----3\r\n     * |    |                |    |\r\n     * |    |                |    |\r\n     * 1----2                2----4\r\n     */\r\n    if (this._rotated) {\r\n      vec3.set(_s_tmp, this._width, this._height, 1.0);\r\n      mat4.fromScaling(_textureMatrix, _s_tmp);\r\n      mat4.fromZRotation(_mat4_tmp, -Math.PI / 2);\r\n      mat4.multiply(_textureMatrix, _mat4_tmp, _textureMatrix);\r\n\r\n      vec3.set(_t_tmp, this._x, textureHeight - this._y, 0.0);\r\n      mat4.fromTranslation(_mat4_tmp, _t_tmp);\r\n      mat4.multiply(_textureMatrix, _mat4_tmp, _textureMatrix);\r\n\r\n      vec3.set(_s_tmp, 1 / textureWidth, 1 / textureHeight, 1.0);\r\n      mat4.fromScaling(_mat4_tmp, _s_tmp);\r\n      mat4.multiply(_textureMatrix, _mat4_tmp, _textureMatrix);\r\n    } else {\r\n      vec3.set(_s_tmp, this._width, this._height, 1.0);\r\n      mat4.fromScaling(_textureMatrix, _s_tmp);\r\n\r\n      vec3.set(_t_tmp, this._x, textureHeight - (this._y + this._height), 0.0);\r\n      mat4.fromTranslation(_mat4_tmp, _t_tmp);\r\n      mat4.multiply(_textureMatrix, _mat4_tmp, _textureMatrix);\r\n\r\n      vec3.set(_s_tmp, 1 / textureWidth, 1 / textureHeight, 1.0);\r\n      mat4.fromScaling(_mat4_tmp, _s_tmp);\r\n      mat4.multiply(_textureMatrix, _mat4_tmp, _textureMatrix);\r\n    }\r\n\r\n    // calculate uvs\r\n    let uvs = this._uvs;\r\n    uvs[0].x = uvs[4].x = uvs[8].x = uvs[12].x = 0.0;\r\n    uvs[1].x = uvs[5].x = uvs[9].x = uvs[13].x = this._left / this._width;\r\n    uvs[2].x = uvs[6].x = uvs[10].x = uvs[14].x = 1.0 - this._right / this._width;\r\n    uvs[3].x = uvs[7].x = uvs[11].x = uvs[15].x = 1.0;\r\n\r\n    uvs[0].y = uvs[1].y = uvs[2].y = uvs[3].y = 0.0;\r\n    uvs[4].y = uvs[5].y = uvs[6].y = uvs[7].y = this._bottom / this._height;\r\n    uvs[8].y = uvs[9].y = uvs[10].y = uvs[11].y = 1.0 - this._top / this._height;\r\n    uvs[12].y = uvs[13].y = uvs[14].y = uvs[15].y = 1.0;\r\n\r\n    // multiply uv by texture matrix\r\n    for (let i = 0; i < this._uvs.length; ++i) {\r\n      vec3.transformMat4(this._uvs[i], this._uvs[i], _textureMatrix);\r\n    }\r\n  }\r\n}","export default [\n  {\n    name: 'font',\n    techniques: [{\"stages\":[\"ui\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null}],\"passes\":[{\"program\":\"sprite\",\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":1,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [],\n    dependencies: undefined\n  },\n  {\n    name: 'grid',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"tiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"baseColorWhite\",\"type\":8,\"value\":[1,1,1]},{\"name\":\"baseColorBlack\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"basePattern\",\"type\":13,\"value\":null},{\"name\":\"basePatternTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"basePatternOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"subPatternColor\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"subPattern\",\"type\":13,\"value\":null},{\"name\":\"subPatternTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"subPatternOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"subPatternColor2\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"subPattern2\",\"type\":13,\"value\":null},{\"name\":\"subPattern2Tiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"subPattern2Offset\",\"type\":5,\"value\":[0,0]}],\"passes\":[{\"program\":\"grid\"}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_WORLD_POS\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'line',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[],\"passes\":[{\"program\":\"line\",\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [],\n    dependencies: undefined\n  },\n  {\n    name: 'matcap',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"mainTex\",\"type\":13,\"value\":null},{\"name\":\"matcapTex\",\"type\":13,\"value\":null},{\"name\":\"colorFactor\",\"type\":4,\"value\":0.5},{\"name\":\"color\",\"type\":9,\"value\":[1,1,1,1]}],\"passes\":[{\"program\":\"matcap\",\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_MAIN_TEX\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'particle-add-multiply',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"tintColor\",\"type\":9,\"value\":[0.5,0.5,0.5,0.5]},{\"name\":\"frameTile\",\"type\":5,\"value\":[1,1]},{\"name\":\"velocityScale\",\"type\":4,\"value\":0},{\"name\":\"lengthScale\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"particle-add-multiply\",\"cullMode\":0,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":1,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_SOFT_PARTICLE\",\"value\":false},{\"name\":\"USE_BILLBOARD\",\"value\":false},{\"name\":\"USE_STRETCHED_BILLBOARD\",\"value\":false},{\"name\":\"USE_HORIZONTAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_VERTICAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_WORLD_SPACE\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'particle-add-smooth',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"frameTile\",\"type\":5,\"value\":[1,1]},{\"name\":\"velocityScale\",\"type\":4,\"value\":0},{\"name\":\"lengthScale\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"particle-add-smooth\",\"cullMode\":0,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":1,\"blendDst\":769,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":769}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_SOFT_PARTICLE\",\"value\":false},{\"name\":\"USE_BILLBOARD\",\"value\":false},{\"name\":\"USE_STRETCHED_BILLBOARD\",\"value\":false},{\"name\":\"USE_HORIZONTAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_VERTICAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_WORLD_SPACE\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'particle-add',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"tintColor\",\"type\":9,\"value\":[0.5,0.5,0.5,0.5]},{\"name\":\"frameTile\",\"type\":5,\"value\":[1,1]},{\"name\":\"velocityScale\",\"type\":4,\"value\":0},{\"name\":\"lengthScale\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"particle-add\",\"cullMode\":0,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":1,\"blendAlphaEq\":32774,\"blendSrcAlpha\":770,\"blendDstAlpha\":1}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_SOFT_PARTICLE\",\"value\":false},{\"name\":\"USE_BILLBOARD\",\"value\":false},{\"name\":\"USE_STRETCHED_BILLBOARD\",\"value\":false},{\"name\":\"USE_HORIZONTAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_VERTICAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_WORLD_SPACE\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'particle-alpha-blend',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"tintColor\",\"type\":9,\"value\":[0.5,0.5,0.5,0.5]},{\"name\":\"frameTile\",\"type\":5,\"value\":[1,1]},{\"name\":\"velocityScale\",\"type\":4,\"value\":0},{\"name\":\"lengthScale\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"particle-alpha-blend\",\"cullMode\":0,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":770,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_SOFT_PARTICLE\",\"value\":false},{\"name\":\"USE_BILLBOARD\",\"value\":false},{\"name\":\"USE_STRETCHED_BILLBOARD\",\"value\":false},{\"name\":\"USE_HORIZONTAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_VERTICAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_WORLD_SPACE\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'particle-premultiply-blend',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"frameTile\",\"type\":5,\"value\":[1,1]},{\"name\":\"velocityScale\",\"type\":4,\"value\":0},{\"name\":\"lengthScale\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"particle-premultiply-blend\",\"cullMode\":0,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":1,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_SOFT_PARTICLE\",\"value\":false},{\"name\":\"USE_BILLBOARD\",\"value\":false},{\"name\":\"USE_STRETCHED_BILLBOARD\",\"value\":false},{\"name\":\"USE_HORIZONTAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_VERTICAL_BILLBOARD\",\"value\":false},{\"name\":\"USE_WORLD_SPACE\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'pbr-transparent',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"albedo\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"albedo_texture\",\"type\":13,\"value\":null},{\"name\":\"metallic\",\"type\":4,\"value\":1},{\"name\":\"metallic_texture\",\"type\":13,\"value\":null},{\"name\":\"roughness\",\"type\":4,\"value\":0.5},{\"name\":\"roughness_texture\",\"type\":13,\"value\":null},{\"name\":\"ao\",\"type\":4,\"value\":0.2},{\"name\":\"ao_texture\",\"type\":13,\"value\":null},{\"name\":\"emissive\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"emissive_texture\",\"type\":13,\"value\":null},{\"name\":\"normal_texture\",\"type\":13,\"value\":null},{\"name\":\"diffuseEnvTexture\",\"type\":14,\"value\":null},{\"name\":\"specularEnvTexture\",\"type\":14,\"value\":null},{\"name\":\"brdfLUT\",\"type\":13,\"value\":null},{\"name\":\"maxReflectionLod\",\"type\":4,\"value\":9},{\"name\":\"alphaTestThreshold\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"pbr\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0},{\"stages\":[\"shadowcast\"],\"params\":[],\"passes\":[{\"program\":\"shadow-depth\",\"cullMode\":1029,\"blendMode\":0,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_NORMAL_TEXTURE\",\"value\":false},{\"name\":\"USE_ALBEDO_TEXTURE\",\"value\":false},{\"name\":\"USE_MRA_TEXTURE\",\"value\":false},{\"name\":\"USE_METALLIC_TEXTURE\",\"value\":false},{\"name\":\"USE_ROUGHNESS_TEXTURE\",\"value\":false},{\"name\":\"USE_AO_TEXTURE\",\"value\":false},{\"name\":\"USE_EMISSIVE\",\"value\":false},{\"name\":\"USE_EMISSIVE_TEXTURE\",\"value\":false},{\"name\":\"USE_IBL\",\"value\":false},{\"name\":\"USE_TEX_LOD\",\"value\":false},{\"name\":\"USE_ALPHA_TEST\",\"value\":false},{\"name\":\"USE_SHADOW_MAP\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false},{\"name\":\"NUM_DIR_LIGHTS\",\"value\":0},{\"name\":\"NUM_POINT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SPOT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SHADOW_LIGHTS\",\"value\":0}],\n    dependencies: [{\"define\":\"USE_NORMAL_TEXTURE\",\"extension\":\"OES_standard_derivatives\"},{\"define\":\"USE_TEX_LOD\",\"extension\":\"EXT_shader_texture_lod\"}]\n  },\n  {\n    name: 'pbr',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"albedo\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"albedo_texture\",\"type\":13,\"value\":null},{\"name\":\"metallic\",\"type\":4,\"value\":1},{\"name\":\"metallic_texture\",\"type\":13,\"value\":null},{\"name\":\"roughness\",\"type\":4,\"value\":0.5},{\"name\":\"roughness_texture\",\"type\":13,\"value\":null},{\"name\":\"ao\",\"type\":4,\"value\":0.2},{\"name\":\"ao_texture\",\"type\":13,\"value\":null},{\"name\":\"emissive\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"emissive_texture\",\"type\":13,\"value\":null},{\"name\":\"normal_texture\",\"type\":13,\"value\":null},{\"name\":\"diffuseEnvTexture\",\"type\":14,\"value\":null},{\"name\":\"specularEnvTexture\",\"type\":14,\"value\":null},{\"name\":\"brdfLUT\",\"type\":13,\"value\":null},{\"name\":\"maxReflectionLod\",\"type\":4,\"value\":9},{\"name\":\"alphaTestThreshold\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"pbr\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0},{\"stages\":[\"shadowcast\"],\"params\":[],\"passes\":[{\"program\":\"shadow-depth\",\"cullMode\":1029,\"blendMode\":0,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_NORMAL_TEXTURE\",\"value\":false},{\"name\":\"USE_ALBEDO_TEXTURE\",\"value\":false},{\"name\":\"USE_MRA_TEXTURE\",\"value\":false},{\"name\":\"USE_METALLIC_TEXTURE\",\"value\":false},{\"name\":\"USE_ROUGHNESS_TEXTURE\",\"value\":false},{\"name\":\"USE_AO_TEXTURE\",\"value\":false},{\"name\":\"USE_EMISSIVE\",\"value\":false},{\"name\":\"USE_EMISSIVE_TEXTURE\",\"value\":false},{\"name\":\"USE_IBL\",\"value\":false},{\"name\":\"USE_TEX_LOD\",\"value\":false},{\"name\":\"USE_ALPHA_TEST\",\"value\":false},{\"name\":\"USE_SHADOW_MAP\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false},{\"name\":\"NUM_DIR_LIGHTS\",\"value\":0},{\"name\":\"NUM_POINT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SPOT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SHADOW_LIGHTS\",\"value\":0},{\"name\":\"USE_RGBE_HDR_IBL_SPECULAR\",\"value\":false},{\"name\":\"USE_RGBE_HDR_IBL_DIFFUSE\",\"value\":false}],\n    dependencies: [{\"define\":\"USE_NORMAL_TEXTURE\",\"extension\":\"OES_standard_derivatives\"},{\"define\":\"USE_TEX_LOD\",\"extension\":\"EXT_shader_texture_lod\"}]\n  },\n  {\n    name: 'phong-transparent',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"diffuseColor\",\"type\":9,\"value\":[0.8,0.8,0.8,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"diffuse_texture\",\"type\":13,\"value\":null},{\"name\":\"specularColor\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"specular_texture\",\"type\":13,\"value\":null},{\"name\":\"emissiveColor\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"emissive_texture\",\"type\":13,\"value\":null},{\"name\":\"glossiness\",\"type\":4,\"value\":10},{\"name\":\"normal_texture\",\"type\":13,\"value\":null},{\"name\":\"alphaTestThreshold\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"phong\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0},{\"stages\":[\"shadowcast\"],\"params\":[],\"passes\":[{\"program\":\"shadow-depth\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_NORMAL_TEXTURE\",\"value\":false},{\"name\":\"USE_DIFFUSE_TEXTURE\",\"value\":false},{\"name\":\"USE_SPECULAR\",\"value\":false},{\"name\":\"USE_SPECULAR_TEXTURE\",\"value\":false},{\"name\":\"USE_EMISSIVE\",\"value\":false},{\"name\":\"USE_EMISSIVE_TEXTURE\",\"value\":false},{\"name\":\"USE_ALPHA_TEST\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false},{\"name\":\"USE_SHADOW_MAP\",\"value\":false},{\"name\":\"NUM_DIR_LIGHTS\",\"value\":0},{\"name\":\"NUM_POINT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SPOT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SHADOW_LIGHTS\",\"value\":0}],\n    dependencies: [{\"define\":\"USE_NORMAL_TEXTURE\",\"extension\":\"OES_standard_derivatives\"}]\n  },\n  {\n    name: 'phong',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"diffuseColor\",\"type\":9,\"value\":[0.8,0.8,0.8,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"diffuse_texture\",\"type\":13,\"value\":null},{\"name\":\"specularColor\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"specular_texture\",\"type\":13,\"value\":null},{\"name\":\"emissiveColor\",\"type\":8,\"value\":[0,0,0]},{\"name\":\"emissive_texture\",\"type\":13,\"value\":null},{\"name\":\"glossiness\",\"type\":4,\"value\":10},{\"name\":\"normal_texture\",\"type\":13,\"value\":null},{\"name\":\"alphaTestThreshold\",\"type\":4,\"value\":0}],\"passes\":[{\"program\":\"phong\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0},{\"stages\":[\"shadowcast\"],\"params\":[],\"passes\":[{\"program\":\"shadow-depth\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_NORMAL_TEXTURE\",\"value\":false},{\"name\":\"USE_DIFFUSE_TEXTURE\",\"value\":false},{\"name\":\"USE_SPECULAR\",\"value\":false},{\"name\":\"USE_SPECULAR_TEXTURE\",\"value\":false},{\"name\":\"USE_EMISSIVE\",\"value\":false},{\"name\":\"USE_EMISSIVE_TEXTURE\",\"value\":false},{\"name\":\"USE_ALPHA_TEST\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false},{\"name\":\"USE_SHADOW_MAP\",\"value\":false},{\"name\":\"NUM_DIR_LIGHTS\",\"value\":0},{\"name\":\"NUM_POINT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SPOT_LIGHTS\",\"value\":0},{\"name\":\"NUM_SHADOW_LIGHTS\",\"value\":0}],\n    dependencies: [{\"define\":\"USE_NORMAL_TEXTURE\",\"extension\":\"OES_standard_derivatives\"}]\n  },\n  {\n    name: 'simple',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"color\",\"type\":9,\"value\":[0.4,0.4,0.4,1]}],\"passes\":[{\"program\":\"simple\",\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_TEXTURE\",\"value\":false},{\"name\":\"USE_COLOR\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'skybox',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"cubeMap\",\"type\":14,\"value\":null}],\"passes\":[{\"program\":\"skybox\",\"cullMode\":0}],\"layer\":-1}],\n    properties: {},\n    defines: [{\"name\":\"USE_RGBE_HDR\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'sprite',\n    techniques: [{\"stages\":[\"ui\"],\"params\":[{\"name\":\"mainTexture\",\"type\":13,\"value\":null}],\"passes\":[{\"program\":\"sprite\",\"depthTest\":true,\"depthWrite\":false,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [],\n    dependencies: undefined\n  },\n  {\n    name: 'unlit-transparent',\n    techniques: [{\"stages\":[\"transparent\"],\"params\":[{\"name\":\"color\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"mainTexture\",\"type\":13,\"value\":null}],\"passes\":[{\"program\":\"unlit\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true,\"blend\":true,\"blendEq\":32774,\"blendSrc\":770,\"blendDst\":771,\"blendAlphaEq\":32774,\"blendSrcAlpha\":1,\"blendDstAlpha\":771}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_TEXTURE\",\"value\":false},{\"name\":\"USE_COLOR\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'unlit',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"color\",\"type\":9,\"value\":[1,1,1,1]},{\"name\":\"mainTiling\",\"type\":5,\"value\":[1,1]},{\"name\":\"mainOffset\",\"type\":5,\"value\":[0,0]},{\"name\":\"mainTexture\",\"type\":13,\"value\":null}],\"passes\":[{\"program\":\"unlit\",\"cullMode\":1029,\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [{\"name\":\"USE_TEXTURE\",\"value\":false},{\"name\":\"USE_COLOR\",\"value\":false},{\"name\":\"USE_SKINNING\",\"value\":false}],\n    dependencies: undefined\n  },\n  {\n    name: 'wireframe',\n    techniques: [{\"stages\":[\"opaque\"],\"params\":[{\"name\":\"color\",\"type\":8,\"value\":[1,1,1]}],\"passes\":[{\"program\":\"wireframe\",\"depthTest\":true,\"depthWrite\":true}],\"layer\":0}],\n    properties: {},\n    defines: [],\n    dependencies: undefined\n  },\n];","import renderer from '../renderer';\r\nimport * as primitives from '../primitives';\r\n\r\nimport Mesh from '../assets/mesh';\r\nimport Material from '../assets/material';\r\nimport Texture2D from '../assets/texture-2d';\r\nimport TextureCube from '../assets/texture-cube';\r\nimport Effect from '../assets/effect';\r\nimport Sprite from '../assets/sprite';\r\nimport vec3 from '../vmath/vec3';\r\nimport { EPSILON } from '../vmath/utils';\r\n\r\nimport effectJsons from './effects/index';\r\n\r\nexport default function (device) {\r\n  let canvas = document.createElement('canvas');\r\n  let context = canvas.getContext('2d');\r\n\r\n  // ============================\r\n  // builtin textures\r\n  // ============================\r\n\r\n  // default texture canvas fill\r\n  canvas.width = canvas.height = 128;\r\n  context.fillStyle = '#ddd';\r\n  context.fillRect(0, 0, 128, 128);\r\n  context.fillStyle = '#555';\r\n  context.fillRect(0, 0, 64, 64);\r\n  context.fillStyle = '#555';\r\n  context.fillRect(64, 64, 64, 64);\r\n\r\n  // default-texture\r\n  let defaultTexture = new Texture2D(device);\r\n  defaultTexture.mipmap = true;\r\n  defaultTexture.wrapS = 'repeat';\r\n  defaultTexture.wrapT = 'repeat';\r\n  defaultTexture.setImage(0, canvas);\r\n  defaultTexture.commit();\r\n  defaultTexture._uuid = 'default-texture';\r\n  defaultTexture._loaded = true;\r\n\r\n  // default-texture-cube\r\n  let defaultTextureCube = new TextureCube(device);\r\n  defaultTextureCube.setImages(\r\n    [[canvas, canvas, canvas, canvas, canvas, canvas]]\r\n  );\r\n  defaultTextureCube.commit();\r\n  defaultTextureCube._uuid = 'default-texture-cube';\r\n  defaultTextureCube._loaded = true;\r\n\r\n  // black texture canvas fill\r\n  canvas.width = canvas.height = 2;\r\n  context.fillStyle = '#000';\r\n  context.fillRect(0, 0, 2, 2);\r\n\r\n  // black-texture\r\n  let blackTexture = new Texture2D(device);\r\n  blackTexture.mipmap = false;\r\n  blackTexture.wrapS = 'repeat';\r\n  blackTexture.wrapT = 'repeat';\r\n  blackTexture.minFilter = 'nearest';\r\n  blackTexture.magFilter = 'nearest';\r\n  blackTexture.setImage(0, canvas);\r\n  blackTexture.commit();\r\n  blackTexture._uuid = 'black-texture';\r\n  blackTexture._loaded = true;\r\n\r\n  // white texture canvas fill\r\n  canvas.width = canvas.height = 2;\r\n  context.fillStyle = '#fff';\r\n  context.fillRect(0, 0, 2, 2);\r\n\r\n  // white-texture\r\n  let whiteTexture = new Texture2D(device);\r\n  whiteTexture.mipmap = false;\r\n  whiteTexture.wrapS = 'repeat';\r\n  whiteTexture.wrapT = 'repeat';\r\n  whiteTexture.minFilter = 'nearest';\r\n  whiteTexture.magFilter = 'nearest';\r\n  whiteTexture.setImage(0, canvas);\r\n  whiteTexture.commit();\r\n  whiteTexture._uuid = 'white-texture';\r\n  whiteTexture._loaded = true;\r\n\r\n  // ============================\r\n  // builtin sprites\r\n  // ============================\r\n\r\n  // default-sprites\r\n  let defaultSprite = new Sprite();\r\n  defaultSprite._texture = whiteTexture;\r\n  defaultSprite.width = whiteTexture.width;\r\n  defaultSprite.height = whiteTexture.height;\r\n  defaultSprite.commit();\r\n  defaultSprite._uuid = 'default-sprite';\r\n  defaultSprite._loaded = true;\r\n\r\n  // ============================\r\n  // builtin meshes\r\n  // ============================\r\n\r\n  // builtin-cube\r\n  let cubeMesh = new Mesh();\r\n  cubeMesh._subMeshes = new Array(1);\r\n  let cubeDesc = primitives.box(1, 1, 1, {\r\n    widthSegments: 1,\r\n    heightSegments: 1,\r\n    lengthSegments: 1,\r\n  });\r\n  cubeMesh._subMeshes[0] = renderer.createIA(device, cubeDesc);\r\n  cubeMesh._uuid = 'builtin-cube';\r\n  cubeMesh._loaded = true;\r\n  cubeMesh._minPos = vec3.clone(cubeDesc.minPos);\r\n  cubeMesh._maxPos = vec3.clone(cubeDesc.maxPos);\r\n\r\n  // builtin-sphere\r\n  let sphereMesh = new Mesh();\r\n  sphereMesh._subMeshes = new Array(1);\r\n  let sphereDesc = primitives.sphere(0.5, {\r\n    segments: 64,\r\n  });\r\n  sphereMesh._subMeshes[0] = renderer.createIA(device, sphereDesc);\r\n  sphereMesh._uuid = 'builtin-sphere';\r\n  sphereMesh._loaded = true;\r\n  sphereMesh._minPos = vec3.clone(sphereDesc.minPos);\r\n  sphereMesh._maxPos = vec3.clone(sphereDesc.maxPos);\r\n\r\n  // builtin-cylinder\r\n  let cylinderMesh = new Mesh();\r\n  cylinderMesh._subMeshes = new Array(1);\r\n  let cylinderDesc = primitives.cylinder(0.5, 0.5, 2, {\r\n    radialSegments: 20,\r\n    capped: true,\r\n  });\r\n  cylinderMesh._subMeshes[0] = renderer.createIA(device, cylinderDesc);\r\n  cylinderMesh._uuid = 'builtin-cylinder';\r\n  cylinderMesh._loaded = true;\r\n  cylinderMesh._minPos = vec3.clone(cylinderDesc.minPos);\r\n  cylinderMesh._maxPos = vec3.clone(cylinderDesc.maxPos);\r\n\r\n  // builtin-plane\r\n  let planeMesh = new Mesh();\r\n  planeMesh._subMeshes = new Array(1);\r\n  let planeDesc = primitives.plane(10, 10, {\r\n    uSegments: 10,\r\n    vSegments: 10,\r\n  });\r\n  planeMesh._subMeshes[0] = renderer.createIA(device, planeDesc);\r\n  planeMesh._uuid = 'builtin-plane';\r\n  planeMesh._loaded = true;\r\n  planeMesh._minPos = vec3.clone(planeDesc.minPos);\r\n  planeMesh._maxPos = vec3.clone(planeDesc.maxPos);\r\n\r\n  // builtin-capsule\r\n  let capsuleMesh = new Mesh();\r\n  capsuleMesh._subMeshes = new Array(1);\r\n  let capsuleDesc = primitives.capsule(0.5, 0.5, 2, {\r\n    heightSegments: 30,\r\n    sides: 20,\r\n  });\r\n  capsuleMesh._subMeshes[0] = renderer.createIA(device, capsuleDesc);\r\n  capsuleMesh._uuid = 'builtin-capsule';\r\n  capsuleMesh._loaded = true;\r\n  capsuleMesh._minPos = vec3.clone(capsuleDesc.minPos);\r\n  capsuleMesh._maxPos = vec3.clone(capsuleDesc.maxPos);\r\n\r\n  // ============================\r\n  // builtin effects\r\n  // ============================\r\n\r\n  let effects = {};\r\n  for (let i = 0; i < effectJsons.length; ++i) {\r\n    let effectJson = effectJsons[i];\r\n    let effect = new Effect();\r\n    effect._name = effectJson.name;\r\n    effect._uuid = `builtin-effect-${effectJson.name}`;\r\n    effect._loaded = true;\r\n    effect.techniques = effectJson.techniques;\r\n    effect.properties = effectJson.properties;\r\n    effect.defines = effectJson.defines;\r\n    effect.dependencies = effectJson.dependencies ? effectJson.dependencies : [];\r\n    effects[effect._uuid] = effect;\r\n  }\r\n\r\n  // ============================\r\n  // builtin materials\r\n  // ============================\r\n\r\n  let materials = {};\r\n  [\r\n    'sprite',\r\n    'font'\r\n  ].forEach(name => {\r\n    let mat = new Material();\r\n    mat.effect = effects[`builtin-effect-${name}`];\r\n    mat._uuid = `builtin-material-${name}`;\r\n    mat._loaded = true;\r\n    materials[mat._uuid] = mat;\r\n  });\r\n\r\n  //\r\n  return Object.assign({\r\n    [defaultTexture._uuid]: defaultTexture,\r\n    [defaultTextureCube._uuid]: defaultTextureCube,\r\n    [blackTexture._uuid]: blackTexture,\r\n    [whiteTexture._uuid]: whiteTexture,\r\n    [defaultSprite._uuid]: defaultSprite,\r\n    [cubeMesh._uuid]: cubeMesh,\r\n    [sphereMesh._uuid]: sphereMesh,\r\n    [cylinderMesh._uuid]: cylinderMesh,\r\n    [planeMesh._uuid]: planeMesh,\r\n    [capsuleMesh._uuid]: capsuleMesh,\r\n  }, effects, materials);\r\n}","import { color3, color4, vec2, vec3, vec4, quat, mat3, mat4 } from '../vmath';\r\n\r\nexport default {\r\n  // int\r\n  int: {\r\n    default: 0,\r\n    parse(app, data, propInfo) {\r\n      let result = data;\r\n\r\n      if (typeof data === 'string') {\r\n        result = parseInt(data);\r\n      }\r\n\r\n      if (propInfo.min !== undefined) {\r\n        result = Math.max(propInfo.min, result);\r\n      }\r\n\r\n      if (propInfo.max !== undefined) {\r\n        result = Math.min(propInfo.max, result);\r\n      }\r\n\r\n      return result;\r\n    }\r\n  },\r\n\r\n  // number\r\n  number: {\r\n    default: 0.0,\r\n    parse(app, data, propInfo) {\r\n      let result = data;\r\n\r\n      if (typeof data === 'string') {\r\n        result = parseFloat(data);\r\n      }\r\n\r\n      if (propInfo.min !== undefined) {\r\n        result = Math.max(propInfo.min, result);\r\n      }\r\n\r\n      if (propInfo.max !== undefined) {\r\n        result = Math.min(propInfo.max, result);\r\n      }\r\n\r\n      return result;\r\n    }\r\n  },\r\n\r\n  // string\r\n  string: {\r\n    default: '',\r\n    parse(app, data) {\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // boolean\r\n  boolean: {\r\n    default: true,\r\n    parse(app, data) {\r\n      return !!data;\r\n    }\r\n  },\r\n\r\n  // object\r\n  object: {\r\n    default: null,\r\n    parse(app, data) {\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // enums\r\n  enums: {\r\n    default: '',\r\n    parse(app, data, propInfo) {\r\n      if (propInfo.options.indexOf(data) === -1) {\r\n        console.log(`Invalid option: ${data}`);\r\n\r\n        if (propInfo.default !== undefined) {\r\n          return propInfo.default;\r\n        }\r\n\r\n        return '';\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // color3\r\n  color3: {\r\n    default: [1, 1, 1],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return color3.new(data[0], data[1], data[2]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // color4\r\n  color4: {\r\n    default: [1, 1, 1, 1],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return color4.new(data[0], data[1], data[2], data[3]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // vec2\r\n  vec2: {\r\n    default: [0, 0],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return vec2.new(data[0], data[1]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // vec3\r\n  vec3: {\r\n    default: [0, 0, 0],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return vec3.new(data[0], data[1], data[2]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // vec4\r\n  vec4: {\r\n    default: [0, 0, 0, 0],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return vec4.new(data[0], data[1], data[2], data[3]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // quat\r\n  quat: {\r\n    default: [0, 0, 0, 1],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return quat.new(data[0], data[1], data[2], data[3]);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // mat3\r\n  mat3: {\r\n    default: [\r\n      1, 0, 0,\r\n      0, 1, 0,\r\n      0, 0, 1\r\n    ],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return mat3.new(\r\n          data[0], data[1], data[2],\r\n          data[3], data[4], data[5],\r\n          data[6], data[7], data[8]\r\n        );\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // mat4\r\n  mat4: {\r\n    default: [\r\n      1, 0, 0, 0,\r\n      0, 1, 0, 0,\r\n      0, 0, 1, 0,\r\n      0, 0, 0, 1\r\n    ],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return mat4.new(\r\n          data[0],  data[1],  data[2],  data[3],\r\n          data[4],  data[5],  data[6],  data[7],\r\n          data[8],  data[9],  data[10], data[11],\r\n          data[12], data[13], data[14], data[15]\r\n        );\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // asset\r\n  asset: {\r\n    default: null,\r\n    parse(app, data) {\r\n      if (typeof data === 'string') {\r\n        return app.assets.get(data);\r\n      }\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // rect\r\n  rect: {\r\n    default: [0, 0, 1, 1],\r\n    parse(app, data) {\r\n      if (Array.isArray(data)) {\r\n        return data;\r\n      }\r\n      return [data.x, data.y, data.w, data.h];\r\n    }\r\n  },\r\n\r\n  // entity\r\n  entity: {\r\n    default: null,\r\n    parse(app, data, propInfo, entities) {\r\n      if (typeof data === 'string') {\r\n        let results = data.match(/e(\\d+)/);\r\n        if (results) {\r\n          let entIdx = parseInt(results[1]);\r\n          return entities[entIdx];\r\n        }\r\n      }\r\n\r\n      return data;\r\n    }\r\n  },\r\n\r\n  // component\r\n  component: {\r\n    default: null,\r\n    parse(app, data, propInfo, entities) {\r\n      if (typeof data === 'string') {\r\n        let results = data.match(/e(\\d+)c(\\d+)/);\r\n        if (results) {\r\n          let entIdx = parseInt(results[0]);\r\n          let compIdx = parseInt(results[1]);\r\n\r\n          let ent = entities[entIdx];\r\n          let comp = ent._comps[compIdx];\r\n\r\n          return comp;\r\n        }\r\n      }\r\n\r\n      return data;\r\n    }\r\n  },\r\n};","import { vec3, quat, clamp } from '../vmath';\r\nimport Asset from './asset';\r\n\r\nfunction _binaryIndexOf(array, key) {\r\n  let lo = 0;\r\n  let hi = array.length - 1;\r\n  let mid;\r\n\r\n  while (lo <= hi) {\r\n    mid = ((lo + hi) >> 1);\r\n    let val = array[mid];\r\n\r\n    if (val < key) {\r\n      lo = mid + 1;\r\n    } else if (val > key) {\r\n      hi = mid - 1;\r\n    } else {\r\n      return mid;\r\n    }\r\n  }\r\n\r\n  return lo;\r\n}\r\n\r\nexport default class AnimationClip extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    /**\r\n     * framesList: [{\r\n     *   name: '',\r\n     *   times: [0.0, ...],\r\n     *   jionts: [{ id: -1, translations: [], rotations: [], scales: [] }, ...],\r\n     * }, ...]\r\n     */\r\n    this._framesList = null;\r\n    this._length = 0.0;\r\n\r\n    // TODO:\r\n    // this._events = []\r\n  }\r\n\r\n  get length() {\r\n    return this._length;\r\n  }\r\n\r\n  sample(skeleton, t) {\r\n    clamp(t, 0, this._length);\r\n\r\n    for (let i = 0; i < this._framesList.length; ++i) {\r\n      let frames = this._framesList[i];\r\n\r\n      if (frames.times.length === 1) {\r\n        for (let j = 0; j < frames.joints.length; ++j) {\r\n          let jointFrames = frames.joints[j];\r\n          let joint = skeleton._joints[jointFrames.id];\r\n\r\n          if (jointFrames.translations) {\r\n            vec3.copy(joint.lpos, jointFrames.translations[0]);\r\n          }\r\n\r\n          if (jointFrames.rotations) {\r\n            quat.copy(joint.lrot, jointFrames.rotations[0]);\r\n          }\r\n\r\n          if (jointFrames.scales) {\r\n            vec3.copy(joint.lscale, jointFrames.scales[0]);\r\n          }\r\n        }\r\n      } else {\r\n        let idx = _binaryIndexOf(frames.times, t);\r\n        if (idx === 0) {\r\n          for (let j = 0; j < frames.joints.length; ++j) {\r\n            let jointFrames = frames.joints[j];\r\n            let joint = skeleton._joints[jointFrames.id];\r\n\r\n            if (jointFrames.translations) {\r\n              vec3.copy(joint.lpos, jointFrames.translations[0]);\r\n            }\r\n\r\n            if (jointFrames.rotations) {\r\n              quat.copy(joint.lrot, jointFrames.rotations[0]);\r\n            }\r\n\r\n            if (jointFrames.scales) {\r\n              vec3.copy(joint.lscale, jointFrames.scales[0]);\r\n            }\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        let loIdx = Math.max(idx - 1, 0);\r\n        let hiIdx = Math.min(idx, frames.times.length);\r\n        let ratio = (t - frames.times[loIdx]) / (frames.times[hiIdx] - frames.times[loIdx]);\r\n\r\n        for (let j = 0; j < frames.joints.length; ++j) {\r\n          let jointFrames = frames.joints[j];\r\n          let joint = skeleton._joints[jointFrames.id];\r\n\r\n          if (jointFrames.translations) {\r\n            let a = jointFrames.translations[loIdx];\r\n            let b = jointFrames.translations[hiIdx];\r\n\r\n            vec3.lerp(joint.lpos, a, b, ratio);\r\n          }\r\n\r\n          if (jointFrames.rotations) {\r\n            let a = jointFrames.rotations[loIdx];\r\n            let b = jointFrames.rotations[hiIdx];\r\n\r\n            quat.slerp(joint.lrot, a, b, ratio);\r\n          }\r\n\r\n          if (jointFrames.scales) {\r\n            let a = jointFrames.scales[loIdx];\r\n            let b = jointFrames.scales[hiIdx];\r\n\r\n            vec3.lerp(joint.lscale, a, b, ratio);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    skeleton.updateMatrices();\r\n  }\r\n}","import { utils } from '../scene-graph';\r\nimport { vec3, quat, mat4 } from '../vmath';\r\n\r\nexport default class Skeleton {\r\n  constructor() {\r\n    this._root = null;\r\n    this._joints = null;\r\n    this._matrices = null;\r\n  }\r\n\r\n  setRoot(root) {\r\n    this._root = root;\r\n    this._joints = utils.flat(this._root);\r\n    this._matrices = new Array(this._joints.length);\r\n\r\n    for (let i = 0; i < this._joints.length; ++i) {\r\n      this._matrices[i] = mat4.create();\r\n    }\r\n    this.updateMatrices();\r\n  }\r\n\r\n  blend(fromSkel, toSkel, alpha) {\r\n    for (let i = 0; i < this._joints.length; ++i) {\r\n      let joint = this._joints[i];\r\n      let jointFrom = fromSkel._joints[i];\r\n      let jointTo = toSkel._joints[i];\r\n\r\n      vec3.lerp(joint.lpos, jointFrom.lpos, jointTo.lpos, alpha);\r\n      vec3.lerp(joint.lscale, jointFrom.lscale, jointTo.lscale, alpha);\r\n      quat.slerp(joint.lrot, jointFrom.lrot, jointTo.lrot, alpha);\r\n    }\r\n  }\r\n\r\n  updateMatrices() {\r\n    for (let i = 0; i < this._joints.length; ++i) {\r\n      this._joints[i].getWorldMatrix(this._matrices[i]);\r\n    }\r\n  }\r\n\r\n  getWorldMatrix(i) {\r\n    return this._matrices[i];\r\n  }\r\n\r\n  clone() {\r\n    let newSkeleton = new Skeleton();\r\n    newSkeleton.setRoot(utils.deepClone(this._root));\r\n\r\n    return newSkeleton;\r\n  }\r\n}","import Asset from './asset';\r\nimport gltfUtils from '../loaders/utils/gltf-utils';\r\nimport Skeleton from '../framework/skeleton';\r\n\r\nexport default class Joints extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._nodes = null;\r\n  }\r\n\r\n  instantiate() {\r\n    let joints = gltfUtils.createNodes(this._nodes);\r\n\r\n    // create skeleton\r\n    let skeleton = new Skeleton();\r\n    skeleton.setRoot(joints[0]);\r\n\r\n    return skeleton;\r\n  }\r\n}","import gfx from '../../gfx';\r\nimport renderer from '../../renderer';\r\nimport { vec3, quat, mat4 } from '../../vmath';\r\nimport { Node } from '../../scene-graph';\r\nimport Mesh from '../../assets/mesh';\r\nimport AnimationClip from '../../assets/animation-clip';\r\nimport Joints from '../../assets/joints';\r\n\r\nconst _type2size = {\r\n  SCALAR: 1,\r\n  VEC2: 2,\r\n  VEC3: 3,\r\n  VEC4: 4,\r\n  MAT2: 4,\r\n  MAT3: 9,\r\n  MAT4: 16,\r\n};\r\n\r\nconst _compType2Array = {\r\n  5120: Int8Array,\r\n  5121: Uint8Array,\r\n  5122: Int16Array,\r\n  5123: Uint16Array,\r\n  5124: Int32Array,\r\n  5125: Uint32Array,\r\n  5126: Float32Array,\r\n};\r\n\r\n/**\r\n * @param {object} gltf\r\n * @param {ArrayBuffer} bin\r\n * @param {number} accessorID\r\n */\r\nfunction createArray(gltf, bin, accessorID) {\r\n  let acc = gltf.accessors[accessorID];\r\n  let bufView = gltf.bufferViews[acc.bufferView];\r\n\r\n  let num = _type2size[acc.type];\r\n  let typedArray = _compType2Array[acc.componentType];\r\n  let result = new typedArray(bin, bufView.byteOffset + acc.byteOffset, acc.count * num);\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * @param {Array} gltfNodes\r\n */\r\nfunction createNodes(gltfNodes) {\r\n  let nodes = new Array(gltfNodes.length);\r\n\r\n  for (let i = 0; i < gltfNodes.length; ++i) {\r\n    let gltfNode = gltfNodes[i];\r\n    let node = new Node(gltfNode.name);\r\n\r\n    if (gltfNode.translation) {\r\n      vec3.set(\r\n        node.lpos,\r\n        gltfNode.translation[0],\r\n        gltfNode.translation[1],\r\n        gltfNode.translation[2]\r\n      );\r\n    }\r\n\r\n    if (gltfNode.rotation) {\r\n      quat.set(\r\n        node.lrot,\r\n        gltfNode.rotation[0],\r\n        gltfNode.rotation[1],\r\n        gltfNode.rotation[2],\r\n        gltfNode.rotation[3]\r\n      );\r\n    }\r\n\r\n    if (gltfNode.scale) {\r\n      vec3.set(\r\n        node.lscale,\r\n        gltfNode.scale[0],\r\n        gltfNode.scale[1],\r\n        gltfNode.scale[2]\r\n      );\r\n    }\r\n\r\n    nodes[i] = node;\r\n  }\r\n\r\n  for (let i = 0; i < gltfNodes.length; ++i) {\r\n    let gltfNode = gltfNodes[i];\r\n    let node = nodes[i];\r\n\r\n    if (gltfNode.children) {\r\n      for (let j = 0; j < gltfNode.children.length; ++j) {\r\n        let index = gltfNode.children[j];\r\n        node.append(nodes[index]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return nodes;\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Array} gltfNodes\r\n */\r\nfunction createEntities(app, gltfNodes) {\r\n  let nodes = new Array(gltfNodes.length);\r\n\r\n  for (let i = 0; i < gltfNodes.length; ++i) {\r\n    let gltfNode = gltfNodes[i];\r\n    let node = app.createEntity(gltfNode.name);\r\n\r\n    if (gltfNode.translation) {\r\n      vec3.set(\r\n        node.lpos,\r\n        gltfNode.translation[0],\r\n        gltfNode.translation[1],\r\n        gltfNode.translation[2]\r\n      );\r\n    }\r\n\r\n    if (gltfNode.rotation) {\r\n      quat.set(\r\n        node.lrot,\r\n        gltfNode.rotation[0],\r\n        gltfNode.rotation[1],\r\n        gltfNode.rotation[2],\r\n        gltfNode.rotation[3]\r\n      );\r\n    }\r\n\r\n    if (gltfNode.scale) {\r\n      vec3.set(\r\n        node.lscale,\r\n        gltfNode.scale[0],\r\n        gltfNode.scale[1],\r\n        gltfNode.scale[2]\r\n      );\r\n    }\r\n\r\n    nodes[i] = node;\r\n  }\r\n\r\n  for (let i = 0; i < gltfNodes.length; ++i) {\r\n    let gltfNode = gltfNodes[i];\r\n    let node = nodes[i];\r\n\r\n    if (gltfNode.children) {\r\n      for (let j = 0; j < gltfNode.children.length; ++j) {\r\n        let index = gltfNode.children[j];\r\n        node.append(nodes[index]);\r\n      }\r\n    }\r\n  }\r\n\r\n  return nodes;\r\n}\r\n\r\n/**\r\n * @param {App} app\r\n * @param {Object} gltf\r\n * @param {ArrayBuffer} bin\r\n * @param {number} index\r\n */\r\nfunction createMesh(app, gltf, bin, index) {\r\n  if (index >= gltf.meshes.length) {\r\n    return null;\r\n  }\r\n\r\n  const gltfMesh = gltf.meshes[index];\r\n  const accessors = gltf.accessors;\r\n  const attributes = gltfMesh.primitives[0].attributes;\r\n  let vbView = null;\r\n\r\n  // create mesh-asset\r\n  let meshAsset = new Mesh();\r\n  meshAsset._name = gltfMesh.name;\r\n  meshAsset._subMeshes = new Array(gltfMesh.primitives.length);\r\n\r\n  // create vertex-format\r\n  let vfmt = [];\r\n  let vcount = 0;\r\n\r\n  if (attributes.POSITION !== undefined) {\r\n    let acc = accessors[attributes.POSITION];\r\n    vfmt.push({ name: gfx.ATTR_POSITION, type: acc.componentType, num: _type2size[acc.type] });\r\n\r\n    vcount = acc.count;\r\n    vbView = gltf.bufferViews[acc.bufferView];\r\n\r\n    meshAsset._minPos = vec3.new(acc.min[0], acc.min[1], acc.min[2]);\r\n    meshAsset._maxPos = vec3.new(acc.max[0], acc.max[1], acc.max[2]);\r\n  }\r\n\r\n  if (attributes.NORMAL !== undefined) {\r\n    let acc = accessors[attributes.NORMAL];\r\n    vfmt.push({ name: gfx.ATTR_NORMAL, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.TANGENT !== undefined) {\r\n    let acc = accessors[attributes.TANGENT];\r\n    vfmt.push({ name: gfx.ATTR_TANGENT, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.COLOR_0 !== undefined) {\r\n    let acc = accessors[attributes.COLOR_0];\r\n    vfmt.push({ name: gfx.ATTR_COLOR0, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.TEXCOORD_0 !== undefined) {\r\n    let acc = accessors[attributes.TEXCOORD_0];\r\n    vfmt.push({ name: gfx.ATTR_UV0, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.TEXCOORD_1 !== undefined) {\r\n    let acc = accessors[attributes.TEXCOORD_1];\r\n    vfmt.push({ name: gfx.ATTR_UV1, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.TEXCOORD_2 !== undefined) {\r\n    let acc = accessors[attributes.TEXCOORD_2];\r\n    vfmt.push({ name: gfx.ATTR_UV2, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.TEXCOORD_3 !== undefined) {\r\n    let acc = accessors[attributes.TEXCOORD_3];\r\n    vfmt.push({ name: gfx.ATTR_UV3, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.JOINTS_0 !== undefined) {\r\n    let acc = accessors[attributes.JOINTS_0];\r\n    vfmt.push({ name: gfx.ATTR_JOINTS, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  if (attributes.WEIGHTS_0 !== undefined) {\r\n    let acc = accessors[attributes.WEIGHTS_0];\r\n    vfmt.push({ name: gfx.ATTR_WEIGHTS, type: acc.componentType, num: _type2size[acc.type] });\r\n  }\r\n\r\n  // create vertex-buffer\r\n  let vbData = new Uint8Array(bin, vbView.byteOffset, vbView.byteLength);\r\n  let vb = new gfx.VertexBuffer(\r\n    app.device,\r\n    new gfx.VertexFormat(vfmt),\r\n    gfx.USAGE_STATIC,\r\n    vbData,\r\n    vcount\r\n  );\r\n\r\n  // create index-buffer\r\n  for (let i = 0; i < gltfMesh.primitives.length; ++i) {\r\n    let primitive = gltfMesh.primitives[i];\r\n    let ib = null;\r\n\r\n    if (primitive.indices !== undefined) {\r\n      let ibAcc = accessors[primitive.indices];\r\n      let ibView = gltf.bufferViews[ibAcc.bufferView];\r\n      let ibData = new Uint8Array(bin, ibView.byteOffset, ibView.byteLength);\r\n\r\n      ib = new gfx.IndexBuffer(\r\n        app.device,\r\n        ibAcc.componentType,\r\n        gfx.USAGE_STATIC,\r\n        ibData,\r\n        ibAcc.count\r\n      );\r\n    }\r\n\r\n    meshAsset._subMeshes[i] = new renderer.InputAssembler(vb, ib);\r\n  }\r\n\r\n  // create skinning if we found\r\n  if (gltf.skins) {\r\n    for (let i = 0; i < gltf.skins.length; ++i) {\r\n      if (gltf.skins[i].name === gltfMesh.name) {\r\n        meshAsset._skinning = createSkinning(gltf, bin, i);\r\n      }\r\n    }\r\n  }\r\n\r\n  return meshAsset;\r\n}\r\n\r\n/**\r\n * @param {Object} gltf\r\n * @param {ArrayBuffer} bin\r\n * @param {number} index\r\n */\r\nfunction createSkinning(gltf, bin, index) {\r\n  if (index >= gltf.skins.length) {\r\n    return null;\r\n  }\r\n\r\n  let gltfSkin = gltf.skins[index];\r\n\r\n  // extract bindposes mat4 data\r\n  let accessor = gltf.accessors[gltfSkin.inverseBindMatrices];\r\n  let bufView = gltf.bufferViews[accessor.bufferView];\r\n  let data = new Float32Array(bin, bufView.byteOffset + accessor.byteOffset, accessor.count * 16);\r\n  let bindposes = new Array(accessor.count);\r\n\r\n  for (let i = 0; i < accessor.count; ++i) {\r\n    bindposes[i] = mat4.new(\r\n      data[16 * i + 0], data[16 * i + 1], data[16 * i + 2], data[16 * i + 3],\r\n      data[16 * i + 4], data[16 * i + 5], data[16 * i + 6], data[16 * i + 7],\r\n      data[16 * i + 8], data[16 * i + 9], data[16 * i + 10], data[16 * i + 11],\r\n      data[16 * i + 12], data[16 * i + 13], data[16 * i + 14], data[16 * i + 15]\r\n    );\r\n  }\r\n\r\n  return {\r\n    jointIndices: gltfSkin.joints,\r\n    bindposes,\r\n  };\r\n}\r\n\r\n/**\r\n * @param {Object} gltf\r\n * @param {ArrayBuffer} bin\r\n * @param {number} index\r\n */\r\nfunction createAnimationClip(gltf, bin, index) {\r\n  if (index >= gltf.animations.length) {\r\n    return null;\r\n  }\r\n\r\n  let gltfAnimation = gltf.animations[index];\r\n  let framesList = [];\r\n  let maxLength = -1;\r\n\r\n  for (let i = 0; i < gltfAnimation.channels.length; ++i) {\r\n    let gltfChannel = gltfAnimation.channels[i];\r\n    let inputAcc = gltf.accessors[gltfChannel.input];\r\n\r\n    // find frames by input name\r\n    let frames;\r\n    for (let j = 0; j < framesList.length; ++j) {\r\n      if (framesList[j].name === inputAcc.name) {\r\n        frames = framesList[j];\r\n        break;\r\n      }\r\n    }\r\n\r\n    // if not found, create one\r\n    if (!frames) {\r\n      let inArray = createArray(gltf, bin, gltfChannel.input);\r\n      let inputs = new Array(inArray.length);\r\n      for (let i = 0; i < inArray.length; ++i) {\r\n        let t = inArray[i];\r\n        inputs[i] = t;\r\n\r\n        if (maxLength < t) {\r\n          maxLength = t;\r\n        }\r\n      }\r\n\r\n      frames = {\r\n        name: inputAcc.name,\r\n        times: inputs,\r\n        joints: [],\r\n      };\r\n      framesList.push(frames);\r\n    }\r\n\r\n    // find output frames by node id\r\n    let jointFrames;\r\n    for (let j = 0; j < frames.joints.length; ++j) {\r\n      if (frames.joints[j].id === gltfChannel.node) {\r\n        jointFrames = frames.joints[j];\r\n        break;\r\n      }\r\n    }\r\n\r\n    // if not found, create one\r\n    if (!jointFrames) {\r\n      jointFrames = {\r\n        id: gltfChannel.node\r\n      };\r\n      frames.joints.push(jointFrames);\r\n    }\r\n\r\n    let outArray = createArray(gltf, bin, gltfChannel.output);\r\n    if (gltfChannel.path === 'translation') {\r\n      let cnt = outArray.length / 3;\r\n      jointFrames.translations = new Array(cnt);\r\n      for (let i = 0; i < cnt; ++i) {\r\n        jointFrames.translations[i] = vec3.new(\r\n          outArray[3 * i + 0],\r\n          outArray[3 * i + 1],\r\n          outArray[3 * i + 2]\r\n        );\r\n      }\r\n    } else if (gltfChannel.path === 'rotation') {\r\n      let cnt = outArray.length / 4;\r\n      jointFrames.rotations = new Array(cnt);\r\n      for (let i = 0; i < cnt; ++i) {\r\n        jointFrames.rotations[i] = quat.new(\r\n          outArray[4 * i + 0],\r\n          outArray[4 * i + 1],\r\n          outArray[4 * i + 2],\r\n          outArray[4 * i + 3]\r\n        );\r\n      }\r\n    } else if (gltfChannel.path === 'scale') {\r\n      let cnt = outArray.length / 3;\r\n      jointFrames.scales = new Array(cnt);\r\n      for (let i = 0; i < cnt; ++i) {\r\n        jointFrames.scales[i] = vec3.new(\r\n          outArray[3 * i + 0],\r\n          outArray[3 * i + 1],\r\n          outArray[3 * i + 2]\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  let animClip = new AnimationClip();\r\n  animClip._name = gltfAnimation.name;\r\n  animClip._framesList = framesList;\r\n  animClip._length = maxLength;\r\n\r\n  return animClip;\r\n}\r\n\r\n/**\r\n * @param {object} gltf\r\n */\r\nfunction createJoints(gltf) {\r\n  let joints = new Joints();\r\n  joints._name = gltf.joints[0].name;\r\n  joints._nodes = gltf.joints;\r\n\r\n  return joints;\r\n}\r\n\r\nexport default {\r\n  createArray,\r\n  createNodes,\r\n  createEntities,\r\n  createMesh,\r\n  createSkinning,\r\n  createAnimationClip,\r\n  createJoints,\r\n};","import gltfUtils from './utils/gltf-utils';\r\nimport resl from '../misc/resl';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      mesh: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.mesh,\r\n      },\r\n      bin: {\r\n        type: 'binary',\r\n        src: urls.bin\r\n      }\r\n    },\r\n\r\n    onDone(data) {\r\n      const { mesh, bin } = data;\r\n\r\n      if (!mesh.meshes.length) {\r\n        callback(new Error('No mesh in the gltf.'));\r\n        return;\r\n      }\r\n\r\n      let meshAsset = gltfUtils.createMesh(app, mesh, bin, 0);\r\n      callback(null, meshAsset);\r\n    }\r\n  });\r\n}","import { vec2, color3, color4 } from '../vmath';\r\nimport Material from '../assets/material';\r\nimport resl from '../misc/resl';\r\nimport async from '../misc/async';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      json: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.json,\r\n      },\r\n    },\r\n\r\n    onDone(data) {\r\n      const { json } = data;\r\n\r\n      let material = new Material();\r\n      const props = json.properties;\r\n\r\n      if (json.type === 'unlit') {\r\n        material.effect = app.assets.get('builtin-effect-unlit');\r\n\r\n        // values\r\n        if (props.color) {\r\n          material.setProperty('color', color4.new(\r\n              props.color[0],\r\n              props.color[1],\r\n              props.color[2],\r\n              props.color[3]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainTiling) {\r\n          material.setProperty('mainTiling', vec2.new(\r\n              props.mainTiling[0],\r\n              props.mainTiling[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainOffset) {\r\n          material.setProperty('mainOffset', vec2.new(\r\n              props.mainOffset[0],\r\n              props.mainOffset[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        let tasks = [];\r\n\r\n        // assets\r\n        if (props.mainTexture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.mainTexture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('mainTexture', asset);\r\n              material.define('USE_TEXTURE', true);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n\r\n      } else if (json.type === 'phong') {\r\n        material.effect = app.assets.get('builtin-effect-phong');\r\n\r\n        // values\r\n        if (props.diffuseColor) {\r\n          material.setProperty('diffuseColor', color4.new(\r\n              props.diffuseColor[0],\r\n              props.diffuseColor[1],\r\n              props.diffuseColor[2],\r\n              props.diffuseColor[3]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainTiling) {\r\n          material.setProperty('mainTiling', vec2.new(\r\n              props.mainTiling[0],\r\n              props.mainTiling[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainOffset) {\r\n          material.setProperty('mainOffset', vec2.new(\r\n              props.mainOffset[0],\r\n              props.mainOffset[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        material.define('USE_SPECULAR', props.USE_SPECULAR);\r\n        if (props.specularColor) {\r\n          material.setProperty('specularColor', color4.new(\r\n              props.specularColor[0],\r\n              props.specularColor[1],\r\n              props.specularColor[2],\r\n              props.specularColor[3]\r\n            )\r\n          );\r\n        }\r\n\r\n        material.define('USE_EMISSIVE', props.USE_EMISSIVE);\r\n        if (props.emissiveColor) {\r\n          material.setProperty('emissiveColor', color3.new(\r\n              props.emissiveColor[0],\r\n              props.emissiveColor[1],\r\n              props.emissiveColor[2]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.glossiness) {\r\n          material.setProperty('glossiness', props.glossiness);\r\n        }\r\n\r\n        let tasks = [];\r\n\r\n        // assets\r\n        material.define('USE_DIFFUSE_TEXTURE', props.USE_DIFFUSE_TEXTURE);\r\n        if (props.diffuse_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.diffuse_texture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('diffuse_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_SPECULAR_TEXTURE', props.USE_SPECULAR_TEXTURE);\r\n        if (props.specular_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.specular_texture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('specular_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_EMISSIVE_TEXTURE', props.USE_EMISSIVE_TEXTURE);\r\n        if (props.emissive_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.emissive_texture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('emissive_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_NORMAL_TEXTURE', props.USE_NORMAL_TEXTURE);\r\n        if (props.normal_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.normal_texture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('normal_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n      } else if (json.type === 'grid') {\r\n        material.effect = app.assets.get('builtin-effect-grid');\r\n\r\n        material.define('USE_WORLD_POS', props.useWorldPos);\r\n        material.setProperty('tiling', vec2.new(props.tilingX, props.tilingY));\r\n        material.setProperty('baseColorBlack', color4.new(\r\n            props.baseColorBlack[0],\r\n            props.baseColorBlack[1],\r\n            props.baseColorBlack[2],\r\n            props.baseColorBlack[3]\r\n          )\r\n        );\r\n        material.setProperty('baseColorWhite', color4.new(\r\n            props.baseColorWhite[0],\r\n            props.baseColorWhite[1],\r\n            props.baseColorWhite[2],\r\n            props.baseColorWhite[3]\r\n          )\r\n        );\r\n        material.setProperty('subPatternColor', color4.new(\r\n            props.subPatternColor[0],\r\n            props.subPatternColor[1],\r\n            props.subPatternColor[2],\r\n            props.subPatternColor[3]\r\n          )\r\n        );\r\n        material.setProperty('subPatternColor2', color4.new(\r\n            props.subPatternColor2[0],\r\n            props.subPatternColor2[1],\r\n            props.subPatternColor2[2],\r\n            props.subPatternColor2[3]\r\n          )\r\n        );\r\n\r\n        material.setProperty('basePatternTiling', vec2.new(\r\n            props.basePatternTiling[0],\r\n            props.basePatternTiling[1]\r\n          )\r\n        );\r\n        material.setProperty('basePatternOffset', vec2.new(\r\n            props.basePatternOffset[0],\r\n            props.basePatternOffset[1]\r\n          )\r\n        );\r\n\r\n        material.setProperty('subPatternTiling', vec2.new(\r\n            props.subPatternTiling[0],\r\n            props.subPatternTiling[1]\r\n          )\r\n        );\r\n        material.setProperty('subPatternOffset', vec2.new(\r\n            props.subPatternOffset[0],\r\n            props.subPatternOffset[1]\r\n          )\r\n        );\r\n\r\n        material.setProperty('subPattern2Tiling', vec2.new(\r\n            props.subPattern2Tiling[0],\r\n            props.subPattern2Tiling[1]\r\n          )\r\n        );\r\n        material.setProperty('subPattern2Offset', vec2.new(\r\n            props.subPattern2Offset[0],\r\n            props.subPattern2Offset[1]\r\n          )\r\n        );\r\n\r\n        // HACK: we should have a way to set default texture\r\n        app.assets.load('black-texture', (err, asset) => {\r\n          material.setProperty('basePattern', asset);\r\n          material.setProperty('subPattern', asset);\r\n          material.setProperty('subPattern2', asset);\r\n        });\r\n\r\n        // textures\r\n        let tasks = [];\r\n        if (props.basePattern) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.basePattern, (err, asset) => {\r\n              material.setProperty('basePattern', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        if (props.subPattern) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.subPattern, (err, asset) => {\r\n              material.setProperty('subPattern', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        if (props.subPattern2) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.subPattern2, (err, asset) => {\r\n              material.setProperty('subPattern2', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        //\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n      } else if (json.type === 'matcap') {\r\n        material.effect = app.assets.get('builtin-effect-matcap');\r\n\r\n        // values\r\n        if (props.colorFactor) {\r\n          material.setProperty('colorFactor', props.colorFactor);\r\n        }\r\n        if (props.color) {\r\n          material.setProperty('color', color4.new(\r\n              props.color[0],\r\n              props.color[1],\r\n              props.color[2],\r\n              props.color[3]\r\n            )\r\n          );\r\n        }\r\n\r\n        // textures\r\n        let tasks = [];\r\n\r\n        if (props.mainTex) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.mainTex, (err, asset) => {\r\n              material.setProperty('mainTex', asset);\r\n              material.define('USE_MAIN_TEX', true);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        if (props.matcapTex) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.matcapTex, (err, asset) => {\r\n              material.setProperty('matcapTex', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n      } else if (json.type === 'pbr') {\r\n        material.effect = app.assets.get('builtin-effect-pbr');\r\n\r\n        material.setProperty('albedo', color4.new(\r\n            props.albedo[0],\r\n            props.albedo[1],\r\n            props.albedo[2],\r\n            props.albedo[3]\r\n          )\r\n        );\r\n\r\n        if (props.mainTiling) {\r\n          material.setProperty('mainTiling', vec2.new(\r\n              props.mainTiling[0],\r\n              props.mainTiling[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainOffset) {\r\n          material.setProperty('mainOffset', vec2.new(\r\n              props.mainOffset[0],\r\n              props.mainOffset[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.metallic) {\r\n          material.setProperty('metallic', props.metallic);\r\n        }\r\n\r\n        if (props.roughness) {\r\n          material.setProperty('roughness', props.roughness);\r\n        }\r\n\r\n        if (props.ao) {\r\n          material.setProperty('ao', props.ao);\r\n        }\r\n\r\n        material.define('USE_EMISSIVE', props.USE_EMISSIVE);\r\n        if (props.emissive) {\r\n          material.setProperty('emissive', color3.new(\r\n              props.emissive[0],\r\n              props.emissive[1],\r\n              props.emissive[2]\r\n            )\r\n          );\r\n        }\r\n\r\n        // textures\r\n        let tasks = [];\r\n\r\n        material.define('USE_ALBEDO_TEXTURE', props.USE_ALBEDO_TEXTURE);\r\n        if (props.albedo_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.albedo_texture, (err, asset) => {\r\n              material.setProperty('albedo_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_METALLIC_TEXTURE', props.USE_METALLIC_TEXTURE);\r\n        if (props.metallic_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.metallic_texture, (err, asset) => {\r\n              material.setProperty('metallic_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_ROUGHNESS_TEXTURE', props.USE_ROUGHNESS_TEXTURE);\r\n        if (props.roughness_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.roughness_texture, (err, asset) => {\r\n              material.setProperty('roughness_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_NORMAL_TEXTURE', props.USE_NORMAL_TEXTURE);\r\n        if (props.normal_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.normal_texture, (err, asset) => {\r\n              material.setProperty('normal_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_AO_TEXTURE', props.USE_AO_TEXTURE);\r\n        if (props.ao_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.ao_texture, (err, asset) => {\r\n              material.setProperty('ao_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        material.define('USE_EMISSIVE_TEXTURE', props.USE_EMISSIVE_TEXTURE);\r\n        if (props.emissive_texture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.emissive_texture, (err, asset) => {\r\n              material.setProperty('emissive_texture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n\r\n      } else if (json.type.startsWith('particle')) {\r\n        material.effect = app.assets.get(`builtin-effect-${json.type}`);\r\n\r\n        // values\r\n        if (props.tintColor) {\r\n          material.setProperty('tintColor', color4.new(\r\n              props.tintColor[0],\r\n              props.tintColor[1],\r\n              props.tintColor[2],\r\n              props.tintColor[3]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainTiling) {\r\n          material.setProperty('mainTiling', vec2.new(\r\n              props.mainTiling[0],\r\n              props.mainTiling[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        if (props.mainOffset) {\r\n          material.setProperty('mainOffset', vec2.new(\r\n              props.mainOffset[0],\r\n              props.mainOffset[1]\r\n            )\r\n          );\r\n        }\r\n\r\n        let tasks = [];\r\n\r\n        // assets\r\n        if (props.mainTexture) {\r\n          tasks.push(done => {\r\n            app.assets.load(props.mainTexture, (err, asset) => {\r\n              // TODO: just set the texture instead\r\n              material.setProperty('mainTexture', asset);\r\n              done();\r\n            });\r\n          });\r\n        }\r\n        async.parallel(tasks, err => {\r\n          if (err) {\r\n            console.error(err);\r\n          }\r\n\r\n          callback(null, material);\r\n        });\r\n      } else { // TODO: support other materials that maybe loaded from assets.\r\n        console.error('unsupported material loading');\r\n      }\r\n    }\r\n  });\r\n}","import Texture2D from './texture-2d';\r\n\r\nexport default class TextureSprite extends Texture2D {\r\n  constructor(device) {\r\n    super(device);\r\n\r\n    this._sprites = {};\r\n  }\r\n\r\n  get sprites() {\r\n    return this._sprites;\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    // unload all sprites\r\n    for (let name in this._sprites) {\r\n      this._sprites[name].unload();\r\n    }\r\n\r\n    super.unload();\r\n  }\r\n\r\n  subAsset(localID) {\r\n    let sprite = this._sprites[localID];\r\n    return sprite || null;\r\n  }\r\n}\r\n\r\n","import resl from '../misc/resl';\r\nimport Texture2D from '../assets/texture-2d';\r\nimport TextureCube from '../assets/texture-cube';\r\nimport TextureSprite from '../assets/texture-sprite';\r\nimport Sprite from '../assets/sprite';\r\n\r\nfunction createTexture2D(device, imgs, json) {\r\n  let texture = new Texture2D(device);\r\n\r\n  if (json) {\r\n    texture.mipmap = json.mipmap;\r\n    texture.anisotropy = json.anisotropy;\r\n    texture.minFilter = json.minFilter;\r\n    texture.magFilter = json.magFilter;\r\n    texture.mipFilter = json.mipFilter;\r\n    texture.wrapS = json.wrapS;\r\n    texture.wrapT = json.wrapT;\r\n  }\r\n\r\n  texture.setImages(imgs);\r\n  texture.commit();\r\n\r\n  return texture;\r\n}\r\n\r\nfunction createTextureCube(device, imgs, json) {\r\n  let texture = new TextureCube(device);\r\n\r\n  if (json) {\r\n    texture.mipmap = json.mipmap;\r\n    texture.anisotropy = json.anisotropy;\r\n    texture.minFilter = json.minFilter;\r\n    texture.magFilter = json.magFilter;\r\n    texture.mipFilter = json.mipFilter;\r\n    texture.wrapS = json.wrapS;\r\n    texture.wrapT = json.wrapT;\r\n  }\r\n\r\n  texture.setImages(imgs);\r\n  texture.commit();\r\n\r\n  return texture;\r\n}\r\n\r\nfunction createTextureSprite(device, imgs, json) {\r\n  let texture = new TextureSprite(device);\r\n\r\n  if (json) {\r\n    texture.mipmap = json.mipmap;\r\n    texture.anisotropy = json.anisotropy;\r\n    texture.minFilter = json.minFilter;\r\n    texture.magFilter = json.magFilter;\r\n    texture.mipFilter = json.mipFilter;\r\n    texture.wrapS = json.wrapS;\r\n    texture.wrapT = json.wrapT;\r\n  }\r\n\r\n  texture.setImages(imgs);\r\n  // NOTE: we need to commit texture first to get width & height so that sprites can commit correctly\r\n  texture.commit();\r\n\r\n  // create & commit sprites (asset)\r\n  if (json && json.sprites) {\r\n    for (let name in json.sprites) {\r\n      let spriteJson = json.sprites[name];\r\n      let sprite = new Sprite();\r\n      sprite._name = name;\r\n      sprite._rotated = spriteJson.rotated;\r\n      sprite._x = spriteJson.x;\r\n      sprite._y = spriteJson.y;\r\n      sprite._width = spriteJson.width;\r\n      sprite._height = spriteJson.height;\r\n      sprite._left = spriteJson.left || 0;\r\n      sprite._right = spriteJson.right || 0;\r\n      sprite._top = spriteJson.top || 0;\r\n      sprite._bottom = spriteJson.bottom || 0;\r\n      sprite._texture = texture;\r\n      sprite.commit();\r\n\r\n      texture._sprites[name] = sprite;\r\n    }\r\n  }\r\n\r\n  return texture;\r\n}\r\n\r\nexport default function (app, urls, callback) {\r\n  let manifest = {};\r\n  let maxLevel = 0;\r\n\r\n  for (let name in urls) {\r\n    if (name.indexOf('image') === 0) {\r\n      let l = parseInt(name.split('@')[1]);\r\n      if (l > maxLevel) {\r\n        maxLevel = l;\r\n      }\r\n\r\n      manifest[name] = {\r\n        type: 'image',\r\n        src: urls[name]\r\n      };\r\n    }\r\n  }\r\n  maxLevel += 1;\r\n\r\n  if (urls.json) {\r\n    manifest.json = {\r\n      type: 'text',\r\n      parser: JSON.parse,\r\n      src: urls.json,\r\n    };\r\n  }\r\n\r\n  resl({\r\n    manifest,\r\n    onDone(data) {\r\n      let json = data.json;\r\n      let images = [];\r\n      let textureAsset;\r\n      let type = json ? json.type : '2d';\r\n\r\n      if (type === '2d' || type === 'sprite') {\r\n        for (let l = 0; l < maxLevel; ++l) {\r\n          if (l === 0) {\r\n            images.push(\r\n              data.image\r\n            );\r\n          } else {\r\n            images.push(\r\n              data[`image@${l}`]\r\n            );\r\n          }\r\n        }\r\n\r\n        if (type === '2d') {\r\n          textureAsset = createTexture2D(app.device, images, json);\r\n        } else if (type === 'sprite') {\r\n          textureAsset = createTextureSprite(app.device, images, json);\r\n        }\r\n      } else if (type === 'cube') {\r\n        for (let l = 0; l < maxLevel; ++l) {\r\n          if (l === 0) {\r\n            images.push([\r\n              data.imagePosX,\r\n              data.imageNegX,\r\n              data.imagePosY,\r\n              data.imageNegY,\r\n              data.imagePosZ,\r\n              data.imageNegZ\r\n            ]);\r\n          } else {\r\n            images.push([\r\n              data[`imagePosX@${l}`],\r\n              data[`imageNegX@${l}`],\r\n              data[`imagePosY@${l}`],\r\n              data[`imageNegY@${l}`],\r\n              data[`imagePosZ@${l}`],\r\n              data[`imageNegZ@${l}`]\r\n            ]);\r\n          }\r\n        }\r\n\r\n        // const { json, imagePosX, imageNegX, imagePosY, imageNegY, imagePosZ, imageNegZ } = data;\r\n        textureAsset = createTextureCube(app.device, images, json);\r\n      }\r\n\r\n      callback(null, textureAsset);\r\n    }\r\n  });\r\n}\r\n","import Asset from './asset';\r\nimport ecsUtils from '../loaders/utils/ecs-utils';\r\n\r\nexport default class Prefab extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._app = null;\r\n    this._json = null;\r\n    this._assets = null;\r\n  }\r\n\r\n  unload() {\r\n    if (!this._loaded) {\r\n      return;\r\n    }\r\n\r\n    // TODO: unload all assets referenced by the prefab ??\r\n\r\n    super.unload();\r\n  }\r\n\r\n  instantiate(modifications, level = null) {\r\n    return ecsUtils.createPrefab(this._app, this._json, modifications, level);\r\n  }\r\n}","import resl from '../misc/resl';\r\nimport Prefab from '../assets/prefab';\r\nimport ecsUtils from './utils/ecs-utils';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      json: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.json,\r\n      },\r\n    },\r\n    onDone(data) {\r\n      ecsUtils.preloadAssets(app, data.json, (err, assets) => {\r\n        let prefab = new Prefab();\r\n        prefab._app = app;\r\n        prefab._json = data.json;\r\n        prefab._assets = assets;\r\n\r\n        if (err) {\r\n          callback(err);\r\n          return;\r\n        }\r\n\r\n        callback(null, prefab);\r\n      });\r\n    }\r\n  });\r\n}","import Asset from './asset';\r\n\r\n// TODO:\r\n// import gltfUtils from '../loaders/utils/gltf-utils';\r\n// import ModelComponent from '../framework/model-component';\r\n// import SkinningModelComponent from '../framework/skinning-model-component';\r\n\r\nexport default class Gltf extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._nodes = null; // [gltfNode, ...]\r\n    this._meshes = null; // [Mesh, ...]\r\n    this._joints = null; // Joints\r\n  }\r\n\r\n  subAsset(localID) {\r\n    let id = parseInt(localID.substring(1));\r\n    if (localID[0] === 'm') {\r\n      return this._meshes[id];\r\n    }\r\n\r\n    if (localID === 'joints') {\r\n      return this._joints;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  // TODO:\r\n  // instantiate(app) {\r\n  //   let entities = gltfUtils.createEntities(this._app, this._nodes);\r\n  //   for (let i = 0; i < this._nodes.length; ++i) {\r\n  //     let gltfNode = this._nodes[i];\r\n  //     if (gltfNode.mesh) {\r\n  //       let mesh = this._meshes[gltfNode.mesh];\r\n\r\n  //       let ctor = ModelComponent;\r\n  //       if (mesh.skinning) {\r\n  //         ctor = SkinningModelComponent;\r\n  //       }\r\n\r\n  //       let comp = new ctor();\r\n  //       comp._app = app;\r\n  //       comp._entity = entities[i];\r\n  //       comp.mesh = mesh;\r\n\r\n  //       // invoke onInit\r\n  //       if (comp.onInit) {\r\n  //         comp.onInit();\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n}","import gltfUtils from './utils/gltf-utils';\r\nimport resl from '../misc/resl';\r\nimport Gltf from '../assets/gltf';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      gltf: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.gltf,\r\n      },\r\n      bin: {\r\n        type: 'binary',\r\n        src: urls.bin\r\n      }\r\n    },\r\n\r\n    onDone(data) {\r\n      const {gltf, bin} = data;\r\n\r\n      let gltfAsset = new Gltf();\r\n\r\n      gltfAsset._nodes = gltf.nodes;\r\n\r\n      if (gltf.meshes) {\r\n        gltfAsset._meshes = new Array(gltf.meshes.length);\r\n        for (let i = 0; i < gltf.meshes.length; ++i) {\r\n          gltfAsset._meshes[i] = gltfUtils.createMesh(app, gltf, bin, i);\r\n        }\r\n      }\r\n\r\n      if (gltf.joints) {\r\n        gltfAsset._joints = gltfUtils.createJoints(gltf);\r\n      }\r\n\r\n      callback(null, gltfAsset);\r\n    }\r\n  });\r\n}","import gltfUtils from './utils/gltf-utils';\r\nimport resl from '../misc/resl';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      // a gltf-like json file\r\n      anim: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.anim,\r\n      },\r\n      bin: {\r\n        type: 'binary',\r\n        src: urls.bin\r\n      }\r\n    },\r\n\r\n    onDone(data) {\r\n      const { anim, bin } = data;\r\n\r\n      if (!anim.animations.length) {\r\n        callback(new Error('No animation in the gltf.'));\r\n        return;\r\n      }\r\n\r\n      let animClip = gltfUtils.createAnimationClip(anim, bin, 0);\r\n      callback(null, animClip);\r\n    }\r\n  });\r\n}","import Asset from './asset';\r\nimport { EventEmitter } from '../event-sys';\r\n\r\n/**\r\n * Enums indicating the load mode of an audio clip\r\n * @property {number} WEB_AUDIO load through Web Audio API interface\r\n * @property {number} DOM_AUDIO load through an audio DOM element\r\n */\r\nconst enums = {\r\n  WEB_AUDIO: 0,\r\n  DOM_AUDIO: 1,\r\n};\r\n\r\n/**\r\n * The wrapper class holding the clip resource\r\n */\r\nexport default class AudioClip extends Asset {\r\n  /**\r\n   * Create an empty clip\r\n   */\r\n  constructor() {\r\n    super();\r\n    this.__initEventEmitter();\r\n    this._audio = null;\r\n    /**\r\n     * Current load mode, using Web Audio API by default\r\n     * @type {number}\r\n     */\r\n    this.loadMode = enums.WEB_AUDIO;\r\n  }\r\n\r\n  /**\r\n   * Get the actual audio asset, is either\r\n   * the AudioBuffer from Web Audio API in WEB_MODE, \r\n   * or the audio DOM element in DOM_MODE\r\n   * @return {AudioBuffer|HTMLAudioElement}\r\n   */\r\n  get nativeAsset() {\r\n    return this._audio;\r\n  }\r\n\r\n  /**\r\n   * Set the actual audio asset\r\n   * @param {AudioBuffer|HTMLAudioElement} value\r\n   */\r\n  set nativeAsset(value) {\r\n    this._audio = value;\r\n    if (value) {\r\n      this._loaded = true;\r\n    }\r\n  }\r\n}\r\n\r\nEventEmitter.mixin(AudioClip);\r\nObject.assign(AudioClip, enums);","import AudioClip from '../assets/audio-clip';\r\nlet sys = null;\r\n\r\n/**\r\n * Load the audio resource at the specified URL\r\n * @param {App} app the global app instance\r\n * @param {{bin:string}} urls URL where the resource is located\r\n * @param {function(e:Error, c:AudioClip)} callback the callback after resource loaded or failed\r\n * @return {?Error} error message if there is one\r\n */\r\nexport default function (app, urls, callback) {\r\n  sys = app.system('audio');\r\n\r\n  if (sys.__audioSupport.format.length === 0) {\r\n    return new Error('no audio file format available.');\r\n  }\r\n  let audioID = sys.getIDByURL(urls.bin);\r\n  if (audioID) {\r\n    sys._getClipByID(audioID).once('load', function () {\r\n      callback(null, sys._getClipByID(audioID));\r\n    });\r\n    return;\r\n  }\r\n\r\n  let loader = null;\r\n  if (!sys.__audioSupport.WEB_AUDIO) {\r\n    // If WebAudio is not supported, load using DOM mode\r\n    loader = loadDomAudio;\r\n  }\r\n  else {\r\n    // TODO: urls end with ?useDom=1\r\n    loader = loadWebAudio;\r\n  }\r\n  urls.url = urls.bin;\r\n  loader(urls, callback);\r\n}\r\n\r\n// TODO: merge with resl solution\r\nfunction loadDomAudio (item, callback) {\r\n  let dom = document.createElement('audio');\r\n  dom.src = item.url;\r\n\r\n  // if (CC_WECHATGAME) {\r\n  //   callback(null, dom);\r\n  //   return;\r\n  // }\r\n\r\n  let clearEvent = function () {\r\n    clearTimeout(timer);\r\n    dom.removeEventListener('canplaythrough', success, false);\r\n    dom.removeEventListener('error', failure, false);\r\n    if(sys.__audioSupport.USE_LOADER_EVENT)\r\n      dom.removeEventListener(sys.__audioSupport.USE_LOADER_EVENT, success, false);\r\n  };\r\n  let timer = setTimeout(function () {\r\n    if (dom.readyState === 0)\r\n      failure();\r\n    else\r\n      success();\r\n  }, 8000);\r\n  let clip = new AudioClip();\r\n  clip.url = item.url;\r\n  sys.addClip(item.url, clip);\r\n  let success = function () {\r\n    clearEvent();\r\n    clip.nativeAsset = dom;\r\n    clip.loadMode = AudioClip.DOM_AUDIO;\r\n    clip.emit('load');\r\n    callback(null, clip);\r\n  };\r\n  let failure = function () {\r\n    clearEvent();\r\n    let message = 'load audio failure - ' + item.url;\r\n    console.log(message);\r\n    sys.removeClip(item.url);\r\n    callback(message);\r\n  };\r\n  dom.addEventListener('canplaythrough', success, false);\r\n  dom.addEventListener('error', failure, false);\r\n  if(sys.__audioSupport.USE_LOADER_EVENT)\r\n    dom.addEventListener(sys.__audioSupport.USE_LOADER_EVENT, success, false);\r\n}\r\n\r\nfunction loadWebAudio (item, callback) {\r\n  if (!sys.__audioSupport.context) callback(new Error('audio context not found.'));\r\n\r\n  let request = getXMLHttpRequest();\r\n  request.open('GET', item.url, true);\r\n  request.responseType = 'arraybuffer';\r\n\r\n  // fist add reference to audio system\r\n  let clip = new AudioClip();\r\n  clip.url = item.url;\r\n  sys.addClip(item.url, clip);\r\n  // Our asynchronous callback\r\n  request.onload = function () {\r\n    sys.__audioSupport.context['decodeAudioData'](request.response, function(buffer){\r\n      clip.nativeAsset = buffer;\r\n      //success\r\n      clip.emit('load');\r\n      callback(null, clip);\r\n    }, function(){\r\n      //error\r\n      sys.removeClip(item.url);\r\n      callback('decode error', null);\r\n    });\r\n  };\r\n\r\n  request.onerror = function(){\r\n    sys.removeClip(item.url);\r\n    callback('request error', null);\r\n  };\r\n\r\n  request.send();\r\n}\r\n\r\nfunction getXMLHttpRequest () {\r\n  return window.XMLHttpRequest ? new window.XMLHttpRequest() : new window.ActiveXObject('MSXML2.XMLHTTP');\r\n}\r\n","import Asset from './asset';\r\n\r\nexport default class Font extends Asset {\r\n  constructor() {\r\n    super();\r\n\r\n    this._size = 32; // font size\r\n    this._type = 'unknow'; // font type: bitmap or opentype\r\n    // bitmap font glyph: {char, x, y, width, height, xoffset, yoffset, xadvance}\r\n    // opentype font glyph: {id, x, y, width, height, xoffset, yoffset, xadvance}\r\n    this._glyphs = {};\r\n    this._lineHeight = 32;\r\n    this._useKerning = false;\r\n  }\r\n\r\n  get size() {\r\n    return this._size;\r\n  }\r\n\r\n  get lineHeight() {\r\n    return this._lineHeight;\r\n  }\r\n\r\n  get type() {\r\n    return this._type;\r\n  }\r\n\r\n}","import Font from './font';\r\nimport { vec2 } from '../vmath';\r\n\r\nexport default class BMFont extends Font {\r\n  constructor() {\r\n    super();\r\n\r\n    this._texture = null;\r\n    this._face = '';\r\n    this._defaultGlyph = {\r\n      char: ' ',\r\n      x: 0,\r\n      y: 0,\r\n      width: 16,\r\n      height: 16,\r\n      xoffset: 0,\r\n      yoffset: 0,\r\n      xadvance: 16,\r\n      uvs: [\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0)\r\n      ],\r\n    };\r\n    this._type = 'bitmap';\r\n  }\r\n\r\n  get texture() {\r\n    return this._texture;\r\n  }\r\n\r\n  get face() {\r\n    return this._face;\r\n  }\r\n\r\n}","import resl from '../misc/resl';\r\nimport BMFont from '../assets/bmfont';\r\nimport { vec2 } from '../vmath';\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      json: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.json,\r\n      },\r\n    },\r\n\r\n    onDone(data) {\r\n      const { json } = data;\r\n      let font = new BMFont();\r\n      app.assets.load(json.texture, (err, asset) => {\r\n        if (err) {\r\n          console.error(err);\r\n          callback(err, null);\r\n          return;\r\n        }\r\n\r\n        let textureWidth = asset._texture._width;\r\n        let textureHeight = asset._texture._height;\r\n\r\n        font._texture = asset;\r\n        font._face = json.face;\r\n        font._size = json.size;\r\n        font._lineHeight = json.lineHeight;\r\n\r\n        // TODO: add kernings here\r\n        // json.kernings.forEach(kerning => {\r\n        //   font._kernings[kerning.first] = font._kernings[kerning.first] || {};\r\n        //   font._kernings[kerning.first][kerning.second] = kerning.amount;\r\n        // });\r\n\r\n        /**\r\n         * v2------v3\r\n         * |       |\r\n         * |       |\r\n         * |       |\r\n         * v0      v1\r\n         */\r\n        for (let charCode in json.chars) {\r\n          let glyph = json.chars[charCode];\r\n          let u0 = glyph.x / textureWidth;\r\n          let u1 = (glyph.x + glyph.width) / textureWidth;\r\n          let v0 = 1.0 - (glyph.y + glyph.height) / textureHeight;\r\n          let v1 = 1.0 - glyph.y / textureHeight;\r\n\r\n          font._glyphs[charCode] = {\r\n            char: String.fromCharCode(charCode),\r\n            x: glyph.x,\r\n            y: glyph.y,\r\n            width: glyph.width,\r\n            height: glyph.height,\r\n            xoffset: glyph.xoffset,\r\n            yoffset: glyph.yoffset,\r\n            xadvance: glyph.xadvance\r\n          };\r\n          font._glyphs[charCode].uvs = [\r\n            vec2.new(u0, v0),\r\n            vec2.new(u1, v0),\r\n            vec2.new(u0, v1),\r\n            vec2.new(u1, v1)\r\n          ];\r\n        }\r\n\r\n        callback(null, font);\r\n      });\r\n    }\r\n  });\r\n}\r\n","var TINF_OK = 0;\nvar TINF_DATA_ERROR = -3;\n\nfunction Tree() {\n  this.table = new Uint16Array(16);   /* table of code length counts */\n  this.trans = new Uint16Array(288);  /* code -> symbol translation table */\n}\n\nfunction Data(source, dest) {\n  this.source = source;\n  this.sourceIndex = 0;\n  this.tag = 0;\n  this.bitcount = 0;\n  \n  this.dest = dest;\n  this.destLen = 0;\n  \n  this.ltree = new Tree();  /* dynamic length/symbol tree */\n  this.dtree = new Tree();  /* dynamic distance tree */\n}\n\n/* --------------------------------------------------- *\n * -- uninitialized global data (static structures) -- *\n * --------------------------------------------------- */\n\nvar sltree = new Tree();\nvar sdtree = new Tree();\n\n/* extra bits and base tables for length codes */\nvar length_bits = new Uint8Array(30);\nvar length_base = new Uint16Array(30);\n\n/* extra bits and base tables for distance codes */\nvar dist_bits = new Uint8Array(30);\nvar dist_base = new Uint16Array(30);\n\n/* special ordering of code length codes */\nvar clcidx = new Uint8Array([\n  16, 17, 18, 0, 8, 7, 9, 6,\n  10, 5, 11, 4, 12, 3, 13, 2,\n  14, 1, 15\n]);\n\n/* used by tinf_decode_trees, avoids allocations every call */\nvar code_tree = new Tree();\nvar lengths = new Uint8Array(288 + 32);\n\n/* ----------------------- *\n * -- utility functions -- *\n * ----------------------- */\n\n/* build extra bits and base tables */\nfunction tinf_build_bits_base(bits, base, delta, first) {\n  var i, sum;\n\n  /* build bits table */\n  for (i = 0; i < delta; ++i) bits[i] = 0;\n  for (i = 0; i < 30 - delta; ++i) bits[i + delta] = i / delta | 0;\n\n  /* build base table */\n  for (sum = first, i = 0; i < 30; ++i) {\n    base[i] = sum;\n    sum += 1 << bits[i];\n  }\n}\n\n/* build the fixed huffman trees */\nfunction tinf_build_fixed_trees(lt, dt) {\n  var i;\n\n  /* build fixed length tree */\n  for (i = 0; i < 7; ++i) lt.table[i] = 0;\n\n  lt.table[7] = 24;\n  lt.table[8] = 152;\n  lt.table[9] = 112;\n\n  for (i = 0; i < 24; ++i) lt.trans[i] = 256 + i;\n  for (i = 0; i < 144; ++i) lt.trans[24 + i] = i;\n  for (i = 0; i < 8; ++i) lt.trans[24 + 144 + i] = 280 + i;\n  for (i = 0; i < 112; ++i) lt.trans[24 + 144 + 8 + i] = 144 + i;\n\n  /* build fixed distance tree */\n  for (i = 0; i < 5; ++i) dt.table[i] = 0;\n\n  dt.table[5] = 32;\n\n  for (i = 0; i < 32; ++i) dt.trans[i] = i;\n}\n\n/* given an array of code lengths, build a tree */\nvar offs = new Uint16Array(16);\n\nfunction tinf_build_tree(t, lengths, off, num) {\n  var i, sum;\n\n  /* clear code length count table */\n  for (i = 0; i < 16; ++i) t.table[i] = 0;\n\n  /* scan symbol lengths, and sum code length counts */\n  for (i = 0; i < num; ++i) t.table[lengths[off + i]]++;\n\n  t.table[0] = 0;\n\n  /* compute offset table for distribution sort */\n  for (sum = 0, i = 0; i < 16; ++i) {\n    offs[i] = sum;\n    sum += t.table[i];\n  }\n\n  /* create code->symbol translation table (symbols sorted by code) */\n  for (i = 0; i < num; ++i) {\n    if (lengths[off + i]) t.trans[offs[lengths[off + i]]++] = i;\n  }\n}\n\n/* ---------------------- *\n * -- decode functions -- *\n * ---------------------- */\n\n/* get one bit from source stream */\nfunction tinf_getbit(d) {\n  /* check if tag is empty */\n  if (!d.bitcount--) {\n    /* load next tag */\n    d.tag = d.source[d.sourceIndex++];\n    d.bitcount = 7;\n  }\n\n  /* shift bit out of tag */\n  var bit = d.tag & 1;\n  d.tag >>>= 1;\n\n  return bit;\n}\n\n/* read a num bit value from a stream and add base */\nfunction tinf_read_bits(d, num, base) {\n  if (!num)\n    return base;\n\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n\n  var val = d.tag & (0xffff >>> (16 - num));\n  d.tag >>>= num;\n  d.bitcount -= num;\n  return val + base;\n}\n\n/* given a data stream and a tree, decode a symbol */\nfunction tinf_decode_symbol(d, t) {\n  while (d.bitcount < 24) {\n    d.tag |= d.source[d.sourceIndex++] << d.bitcount;\n    d.bitcount += 8;\n  }\n  \n  var sum = 0, cur = 0, len = 0;\n  var tag = d.tag;\n\n  /* get more bits while code value is above sum */\n  do {\n    cur = 2 * cur + (tag & 1);\n    tag >>>= 1;\n    ++len;\n\n    sum += t.table[len];\n    cur -= t.table[len];\n  } while (cur >= 0);\n  \n  d.tag = tag;\n  d.bitcount -= len;\n\n  return t.trans[sum + cur];\n}\n\n/* given a data stream, decode dynamic trees from it */\nfunction tinf_decode_trees(d, lt, dt) {\n  var hlit, hdist, hclen;\n  var i, num, length;\n\n  /* get 5 bits HLIT (257-286) */\n  hlit = tinf_read_bits(d, 5, 257);\n\n  /* get 5 bits HDIST (1-32) */\n  hdist = tinf_read_bits(d, 5, 1);\n\n  /* get 4 bits HCLEN (4-19) */\n  hclen = tinf_read_bits(d, 4, 4);\n\n  for (i = 0; i < 19; ++i) lengths[i] = 0;\n\n  /* read code lengths for code length alphabet */\n  for (i = 0; i < hclen; ++i) {\n    /* get 3 bits code length (0-7) */\n    var clen = tinf_read_bits(d, 3, 0);\n    lengths[clcidx[i]] = clen;\n  }\n\n  /* build code length tree */\n  tinf_build_tree(code_tree, lengths, 0, 19);\n\n  /* decode code lengths for the dynamic trees */\n  for (num = 0; num < hlit + hdist;) {\n    var sym = tinf_decode_symbol(d, code_tree);\n\n    switch (sym) {\n      case 16:\n        /* copy previous code length 3-6 times (read 2 bits) */\n        var prev = lengths[num - 1];\n        for (length = tinf_read_bits(d, 2, 3); length; --length) {\n          lengths[num++] = prev;\n        }\n        break;\n      case 17:\n        /* repeat code length 0 for 3-10 times (read 3 bits) */\n        for (length = tinf_read_bits(d, 3, 3); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      case 18:\n        /* repeat code length 0 for 11-138 times (read 7 bits) */\n        for (length = tinf_read_bits(d, 7, 11); length; --length) {\n          lengths[num++] = 0;\n        }\n        break;\n      default:\n        /* values 0-15 represent the actual code lengths */\n        lengths[num++] = sym;\n        break;\n    }\n  }\n\n  /* build dynamic trees */\n  tinf_build_tree(lt, lengths, 0, hlit);\n  tinf_build_tree(dt, lengths, hlit, hdist);\n}\n\n/* ----------------------------- *\n * -- block inflate functions -- *\n * ----------------------------- */\n\n/* given a stream and two trees, inflate a block of data */\nfunction tinf_inflate_block_data(d, lt, dt) {\n  while (1) {\n    var sym = tinf_decode_symbol(d, lt);\n\n    /* check for end of block */\n    if (sym === 256) {\n      return TINF_OK;\n    }\n\n    if (sym < 256) {\n      d.dest[d.destLen++] = sym;\n    } else {\n      var length, dist, offs;\n      var i;\n\n      sym -= 257;\n\n      /* possibly get more bits from length code */\n      length = tinf_read_bits(d, length_bits[sym], length_base[sym]);\n\n      dist = tinf_decode_symbol(d, dt);\n\n      /* possibly get more bits from distance code */\n      offs = d.destLen - tinf_read_bits(d, dist_bits[dist], dist_base[dist]);\n\n      /* copy match */\n      for (i = offs; i < offs + length; ++i) {\n        d.dest[d.destLen++] = d.dest[i];\n      }\n    }\n  }\n}\n\n/* inflate an uncompressed block of data */\nfunction tinf_inflate_uncompressed_block(d) {\n  var length, invlength;\n  var i;\n  \n  /* unread from bitbuffer */\n  while (d.bitcount > 8) {\n    d.sourceIndex--;\n    d.bitcount -= 8;\n  }\n\n  /* get length */\n  length = d.source[d.sourceIndex + 1];\n  length = 256 * length + d.source[d.sourceIndex];\n\n  /* get one's complement of length */\n  invlength = d.source[d.sourceIndex + 3];\n  invlength = 256 * invlength + d.source[d.sourceIndex + 2];\n\n  /* check length */\n  if (length !== (~invlength & 0x0000ffff))\n    return TINF_DATA_ERROR;\n\n  d.sourceIndex += 4;\n\n  /* copy block */\n  for (i = length; i; --i)\n    d.dest[d.destLen++] = d.source[d.sourceIndex++];\n\n  /* make sure we start next block on a byte boundary */\n  d.bitcount = 0;\n\n  return TINF_OK;\n}\n\n/* inflate stream from source to dest */\nfunction tinf_uncompress(source, dest) {\n  var d = new Data(source, dest);\n  var bfinal, btype, res;\n\n  do {\n    /* read final block flag */\n    bfinal = tinf_getbit(d);\n\n    /* read block type (2 bits) */\n    btype = tinf_read_bits(d, 2, 0);\n\n    /* decompress block */\n    switch (btype) {\n      case 0:\n        /* decompress uncompressed block */\n        res = tinf_inflate_uncompressed_block(d);\n        break;\n      case 1:\n        /* decompress block with fixed huffman trees */\n        res = tinf_inflate_block_data(d, sltree, sdtree);\n        break;\n      case 2:\n        /* decompress block with dynamic huffman trees */\n        tinf_decode_trees(d, d.ltree, d.dtree);\n        res = tinf_inflate_block_data(d, d.ltree, d.dtree);\n        break;\n      default:\n        res = TINF_DATA_ERROR;\n    }\n\n    if (res !== TINF_OK)\n      throw new Error('Data error');\n\n  } while (!bfinal);\n\n  if (d.destLen < d.dest.length) {\n    if (typeof d.dest.slice === 'function')\n      return d.dest.slice(0, d.destLen);\n    else\n      return d.dest.subarray(0, d.destLen);\n  }\n  \n  return d.dest;\n}\n\n/* -------------------- *\n * -- initialization -- *\n * -------------------- */\n\n/* build fixed huffman trees */\ntinf_build_fixed_trees(sltree, sdtree);\n\n/* build extra bits and base tables */\ntinf_build_bits_base(length_bits, length_base, 4, 3);\ntinf_build_bits_base(dist_bits, dist_base, 2, 1);\n\n/* fix a special case */\nlength_bits[28] = 0;\nlength_base[28] = 258;\n\nmodule.exports = tinf_uncompress;\n","// The Bounding Box object\n\nfunction derive(v0, v1, v2, v3, t) {\n    return Math.pow(1 - t, 3) * v0 +\n        3 * Math.pow(1 - t, 2) * t * v1 +\n        3 * (1 - t) * Math.pow(t, 2) * v2 +\n        Math.pow(t, 3) * v3;\n}\n/**\n * A bounding box is an enclosing box that describes the smallest measure within which all the points lie.\n * It is used to calculate the bounding box of a glyph or text path.\n *\n * On initialization, x1/y1/x2/y2 will be NaN. Check if the bounding box is empty using `isEmpty()`.\n *\n * @exports opentype.BoundingBox\n * @class\n * @constructor\n */\nfunction BoundingBox() {\n    this.x1 = Number.NaN;\n    this.y1 = Number.NaN;\n    this.x2 = Number.NaN;\n    this.y2 = Number.NaN;\n}\n\n/**\n * Returns true if the bounding box is empty, that is, no points have been added to the box yet.\n */\nBoundingBox.prototype.isEmpty = function() {\n    return isNaN(this.x1) || isNaN(this.y1) || isNaN(this.x2) || isNaN(this.y2);\n};\n\n/**\n * Add the point to the bounding box.\n * The x1/y1/x2/y2 coordinates of the bounding box will now encompass the given point.\n * @param {number} x - The X coordinate of the point.\n * @param {number} y - The Y coordinate of the point.\n */\nBoundingBox.prototype.addPoint = function(x, y) {\n    if (typeof x === 'number') {\n        if (isNaN(this.x1) || isNaN(this.x2)) {\n            this.x1 = x;\n            this.x2 = x;\n        }\n        if (x < this.x1) {\n            this.x1 = x;\n        }\n        if (x > this.x2) {\n            this.x2 = x;\n        }\n    }\n    if (typeof y === 'number') {\n        if (isNaN(this.y1) || isNaN(this.y2)) {\n            this.y1 = y;\n            this.y2 = y;\n        }\n        if (y < this.y1) {\n            this.y1 = y;\n        }\n        if (y > this.y2) {\n            this.y2 = y;\n        }\n    }\n};\n\n/**\n * Add a X coordinate to the bounding box.\n * This extends the bounding box to include the X coordinate.\n * This function is used internally inside of addBezier.\n * @param {number} x - The X coordinate of the point.\n */\nBoundingBox.prototype.addX = function(x) {\n    this.addPoint(x, null);\n};\n\n/**\n * Add a Y coordinate to the bounding box.\n * This extends the bounding box to include the Y coordinate.\n * This function is used internally inside of addBezier.\n * @param {number} y - The Y coordinate of the point.\n */\nBoundingBox.prototype.addY = function(y) {\n    this.addPoint(null, y);\n};\n\n/**\n * Add a Bézier curve to the bounding box.\n * This extends the bounding box to include the entire Bézier.\n * @param {number} x0 - The starting X coordinate.\n * @param {number} y0 - The starting Y coordinate.\n * @param {number} x1 - The X coordinate of the first control point.\n * @param {number} y1 - The Y coordinate of the first control point.\n * @param {number} x2 - The X coordinate of the second control point.\n * @param {number} y2 - The Y coordinate of the second control point.\n * @param {number} x - The ending X coordinate.\n * @param {number} y - The ending Y coordinate.\n */\nBoundingBox.prototype.addBezier = function(x0, y0, x1, y1, x2, y2, x, y) {\n    // This code is based on http://nishiohirokazu.blogspot.com/2009/06/how-to-calculate-bezier-curves-bounding.html\n    // and https://github.com/icons8/svg-path-bounding-box\n\n    const p0 = [x0, y0];\n    const p1 = [x1, y1];\n    const p2 = [x2, y2];\n    const p3 = [x, y];\n\n    this.addPoint(x0, y0);\n    this.addPoint(x, y);\n\n    for (let i = 0; i <= 1; i++) {\n        const b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n        const a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n        const c = 3 * p1[i] - 3 * p0[i];\n\n        if (a === 0) {\n            if (b === 0) continue;\n            const t = -c / b;\n            if (0 < t && t < 1) {\n                if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t));\n                if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t));\n            }\n            continue;\n        }\n\n        const b2ac = Math.pow(b, 2) - 4 * c * a;\n        if (b2ac < 0) continue;\n        const t1 = (-b + Math.sqrt(b2ac)) / (2 * a);\n        if (0 < t1 && t1 < 1) {\n            if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t1));\n            if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t1));\n        }\n        const t2 = (-b - Math.sqrt(b2ac)) / (2 * a);\n        if (0 < t2 && t2 < 1) {\n            if (i === 0) this.addX(derive(p0[i], p1[i], p2[i], p3[i], t2));\n            if (i === 1) this.addY(derive(p0[i], p1[i], p2[i], p3[i], t2));\n        }\n    }\n};\n\n/**\n * Add a quadratic curve to the bounding box.\n * This extends the bounding box to include the entire quadratic curve.\n * @param {number} x0 - The starting X coordinate.\n * @param {number} y0 - The starting Y coordinate.\n * @param {number} x1 - The X coordinate of the control point.\n * @param {number} y1 - The Y coordinate of the control point.\n * @param {number} x - The ending X coordinate.\n * @param {number} y - The ending Y coordinate.\n */\nBoundingBox.prototype.addQuad = function(x0, y0, x1, y1, x, y) {\n    const cp1x = x0 + 2 / 3 * (x1 - x0);\n    const cp1y = y0 + 2 / 3 * (y1 - y0);\n    const cp2x = cp1x + 1 / 3 * (x - x0);\n    const cp2y = cp1y + 1 / 3 * (y - y0);\n    this.addBezier(x0, y0, cp1x, cp1y, cp2x, cp2y, x, y);\n};\n\nexport default BoundingBox;\n","// Geometric objects\n\nimport BoundingBox from './bbox';\n\n/**\n * A bézier path containing a set of path commands similar to a SVG path.\n * Paths can be drawn on a context using `draw`.\n * @exports opentype.Path\n * @class\n * @constructor\n */\nfunction Path() {\n    this.commands = [];\n    this.fill = 'black';\n    this.stroke = null;\n    this.strokeWidth = 1;\n}\n\n/**\n * @param  {number} x\n * @param  {number} y\n */\nPath.prototype.moveTo = function(x, y) {\n    this.commands.push({\n        type: 'M',\n        x: x,\n        y: y\n    });\n};\n\n/**\n * @param  {number} x\n * @param  {number} y\n */\nPath.prototype.lineTo = function(x, y) {\n    this.commands.push({\n        type: 'L',\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Draws cubic curve\n * @function\n * curveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control 1\n * @param  {number} y1 - y of control 1\n * @param  {number} x2 - x of control 2\n * @param  {number} y2 - y of control 2\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\n\n/**\n * Draws cubic curve\n * @function\n * bezierCurveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control 1\n * @param  {number} y1 - y of control 1\n * @param  {number} x2 - x of control 2\n * @param  {number} y2 - y of control 2\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n * @see curveTo\n */\nPath.prototype.curveTo = Path.prototype.bezierCurveTo = function(x1, y1, x2, y2, x, y) {\n    this.commands.push({\n        type: 'C',\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Draws quadratic curve\n * @function\n * quadraticCurveTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control\n * @param  {number} y1 - y of control\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\n\n/**\n * Draws quadratic curve\n * @function\n * quadTo\n * @memberof opentype.Path.prototype\n * @param  {number} x1 - x of control\n * @param  {number} y1 - y of control\n * @param  {number} x - x of path point\n * @param  {number} y - y of path point\n */\nPath.prototype.quadTo = Path.prototype.quadraticCurveTo = function(x1, y1, x, y) {\n    this.commands.push({\n        type: 'Q',\n        x1: x1,\n        y1: y1,\n        x: x,\n        y: y\n    });\n};\n\n/**\n * Closes the path\n * @function closePath\n * @memberof opentype.Path.prototype\n */\n\n/**\n * Close the path\n * @function close\n * @memberof opentype.Path.prototype\n */\nPath.prototype.close = Path.prototype.closePath = function() {\n    this.commands.push({\n        type: 'Z'\n    });\n};\n\n/**\n * Add the given path or list of commands to the commands of this path.\n * @param  {Array} pathOrCommands - another opentype.Path, an opentype.BoundingBox, or an array of commands.\n */\nPath.prototype.extend = function(pathOrCommands) {\n    if (pathOrCommands.commands) {\n        pathOrCommands = pathOrCommands.commands;\n    } else if (pathOrCommands instanceof BoundingBox) {\n        const box = pathOrCommands;\n        this.moveTo(box.x1, box.y1);\n        this.lineTo(box.x2, box.y1);\n        this.lineTo(box.x2, box.y2);\n        this.lineTo(box.x1, box.y2);\n        this.close();\n        return;\n    }\n\n    Array.prototype.push.apply(this.commands, pathOrCommands);\n};\n\n/**\n * Calculate the bounding box of the path.\n * @returns {opentype.BoundingBox}\n */\nPath.prototype.getBoundingBox = function() {\n    const box = new BoundingBox();\n\n    let startX = 0;\n    let startY = 0;\n    let prevX = 0;\n    let prevY = 0;\n    for (let i = 0; i < this.commands.length; i++) {\n        const cmd = this.commands[i];\n        switch (cmd.type) {\n            case 'M':\n                box.addPoint(cmd.x, cmd.y);\n                startX = prevX = cmd.x;\n                startY = prevY = cmd.y;\n                break;\n            case 'L':\n                box.addPoint(cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'Q':\n                box.addQuad(prevX, prevY, cmd.x1, cmd.y1, cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'C':\n                box.addBezier(prevX, prevY, cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n                prevX = cmd.x;\n                prevY = cmd.y;\n                break;\n            case 'Z':\n                prevX = startX;\n                prevY = startY;\n                break;\n            default:\n                throw new Error('Unexpected path command ' + cmd.type);\n        }\n    }\n    if (box.isEmpty()) {\n        box.addPoint(0, 0);\n    }\n    return box;\n};\n\n/**\n * Draw the path to a 2D context.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context.\n */\nPath.prototype.draw = function(ctx) {\n    ctx.beginPath();\n    for (let i = 0; i < this.commands.length; i += 1) {\n        const cmd = this.commands[i];\n        if (cmd.type === 'M') {\n            ctx.moveTo(cmd.x, cmd.y);\n        } else if (cmd.type === 'L') {\n            ctx.lineTo(cmd.x, cmd.y);\n        } else if (cmd.type === 'C') {\n            ctx.bezierCurveTo(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n        } else if (cmd.type === 'Q') {\n            ctx.quadraticCurveTo(cmd.x1, cmd.y1, cmd.x, cmd.y);\n        } else if (cmd.type === 'Z') {\n            ctx.closePath();\n        }\n    }\n\n    if (this.fill) {\n        ctx.fillStyle = this.fill;\n        ctx.fill();\n    }\n\n    if (this.stroke) {\n        ctx.strokeStyle = this.stroke;\n        ctx.lineWidth = this.strokeWidth;\n        ctx.stroke();\n    }\n};\n\n/**\n * Convert the Path to a string of path data instructions\n * See http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {string}\n */\nPath.prototype.toPathData = function(decimalPlaces) {\n    decimalPlaces = decimalPlaces !== undefined ? decimalPlaces : 2;\n\n    function floatToString(v) {\n        if (Math.round(v) === v) {\n            return '' + Math.round(v);\n        } else {\n            return v.toFixed(decimalPlaces);\n        }\n    }\n\n    function packValues() {\n        let s = '';\n        for (let i = 0; i < arguments.length; i += 1) {\n            const v = arguments[i];\n            if (v >= 0 && i > 0) {\n                s += ' ';\n            }\n\n            s += floatToString(v);\n        }\n\n        return s;\n    }\n\n    let d = '';\n    for (let i = 0; i < this.commands.length; i += 1) {\n        const cmd = this.commands[i];\n        if (cmd.type === 'M') {\n            d += 'M' + packValues(cmd.x, cmd.y);\n        } else if (cmd.type === 'L') {\n            d += 'L' + packValues(cmd.x, cmd.y);\n        } else if (cmd.type === 'C') {\n            d += 'C' + packValues(cmd.x1, cmd.y1, cmd.x2, cmd.y2, cmd.x, cmd.y);\n        } else if (cmd.type === 'Q') {\n            d += 'Q' + packValues(cmd.x1, cmd.y1, cmd.x, cmd.y);\n        } else if (cmd.type === 'Z') {\n            d += 'Z';\n        }\n    }\n\n    return d;\n};\n\n/**\n * Convert the path to an SVG <path> element, as a string.\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {string}\n */\nPath.prototype.toSVG = function(decimalPlaces) {\n    let svg = '<path d=\"';\n    svg += this.toPathData(decimalPlaces);\n    svg += '\"';\n    if (this.fill && this.fill !== 'black') {\n        if (this.fill === null) {\n            svg += ' fill=\"none\"';\n        } else {\n            svg += ' fill=\"' + this.fill + '\"';\n        }\n    }\n\n    if (this.stroke) {\n        svg += ' stroke=\"' + this.stroke + '\" stroke-width=\"' + this.strokeWidth + '\"';\n    }\n\n    svg += '/>';\n    return svg;\n};\n\n/**\n * Convert the path to a DOM element.\n * @param  {number} [decimalPlaces=2] - The amount of decimal places for floating-point values\n * @return {SVGPathElement}\n */\nPath.prototype.toDOMElement = function(decimalPlaces) {\n    const temporaryPath = this.toPathData(decimalPlaces);\n    const newPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n\n    newPath.setAttribute('d', temporaryPath);\n\n    return newPath;\n};\n\nexport default Path;\n","// Run-time checking of preconditions.\n\nfunction fail(message) {\n    throw new Error(message);\n}\n\n// Precondition function that checks if the given predicate is true.\n// If not, it will throw an error.\nfunction argument(predicate, message) {\n    if (!predicate) {\n        fail(message);\n    }\n}\n\nexport { fail, argument, argument as assert };\nexport default { fail, argument, assert: argument };\n","// Data types used in the OpenType font file.\n// All OpenType fonts use Motorola-style byte ordering (Big Endian)\n\nimport check from './check';\n\nconst LIMIT16 = 32768; // The limit at which a 16-bit number switches signs == 2^15\nconst LIMIT32 = 2147483648; // The limit at which a 32-bit number switches signs == 2 ^ 31\n\n/**\n * @exports opentype.decode\n * @class\n */\nconst decode = {};\n/**\n * @exports opentype.encode\n * @class\n */\nconst encode = {};\n/**\n * @exports opentype.sizeOf\n * @class\n */\nconst sizeOf = {};\n\n// Return a function that always returns the same value.\nfunction constant(v) {\n    return function() {\n        return v;\n    };\n}\n\n// OpenType data types //////////////////////////////////////////////////////\n\n/**\n * Convert an 8-bit unsigned integer to a list of 1 byte.\n * @param {number}\n * @returns {Array}\n */\nencode.BYTE = function(v) {\n    check.argument(v >= 0 && v <= 255, 'Byte value should be between 0 and 255.');\n    return [v];\n};\n/**\n * @constant\n * @type {number}\n */\nsizeOf.BYTE = constant(1);\n\n/**\n * Convert a 8-bit signed integer to a list of 1 byte.\n * @param {string}\n * @returns {Array}\n */\nencode.CHAR = function(v) {\n    return [v.charCodeAt(0)];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.CHAR = constant(1);\n\n/**\n * Convert an ASCII string to a list of bytes.\n * @param {string}\n * @returns {Array}\n */\nencode.CHARARRAY = function(v) {\n    const b = [];\n    for (let i = 0; i < v.length; i += 1) {\n        b[i] = v.charCodeAt(i);\n    }\n\n    return b;\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.CHARARRAY = function(v) {\n    return v.length;\n};\n\n/**\n * Convert a 16-bit unsigned integer to a list of 2 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.USHORT = function(v) {\n    return [(v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.USHORT = constant(2);\n\n/**\n * Convert a 16-bit signed integer to a list of 2 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.SHORT = function(v) {\n    // Two's complement\n    if (v >= LIMIT16) {\n        v = -(2 * LIMIT16 - v);\n    }\n\n    return [(v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.SHORT = constant(2);\n\n/**\n * Convert a 24-bit unsigned integer to a list of 3 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.UINT24 = function(v) {\n    return [(v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.UINT24 = constant(3);\n\n/**\n * Convert a 32-bit unsigned integer to a list of 4 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.ULONG = function(v) {\n    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.ULONG = constant(4);\n\n/**\n * Convert a 32-bit unsigned integer to a list of 4 bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.LONG = function(v) {\n    // Two's complement\n    if (v >= LIMIT32) {\n        v = -(2 * LIMIT32 - v);\n    }\n\n    return [(v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.LONG = constant(4);\n\nencode.FIXED = encode.ULONG;\nsizeOf.FIXED = sizeOf.ULONG;\n\nencode.FWORD = encode.SHORT;\nsizeOf.FWORD = sizeOf.SHORT;\n\nencode.UFWORD = encode.USHORT;\nsizeOf.UFWORD = sizeOf.USHORT;\n\n/**\n * Convert a 32-bit Apple Mac timestamp integer to a list of 8 bytes, 64-bit timestamp.\n * @param {number}\n * @returns {Array}\n */\nencode.LONGDATETIME = function(v) {\n    return [0, 0, 0, 0, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.LONGDATETIME = constant(8);\n\n/**\n * Convert a 4-char tag to a list of 4 bytes.\n * @param {string}\n * @returns {Array}\n */\nencode.TAG = function(v) {\n    check.argument(v.length === 4, 'Tag should be exactly 4 ASCII characters.');\n    return [v.charCodeAt(0),\n            v.charCodeAt(1),\n            v.charCodeAt(2),\n            v.charCodeAt(3)];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.TAG = constant(4);\n\n// CFF data types ///////////////////////////////////////////////////////////\n\nencode.Card8 = encode.BYTE;\nsizeOf.Card8 = sizeOf.BYTE;\n\nencode.Card16 = encode.USHORT;\nsizeOf.Card16 = sizeOf.USHORT;\n\nencode.OffSize = encode.BYTE;\nsizeOf.OffSize = sizeOf.BYTE;\n\nencode.SID = encode.USHORT;\nsizeOf.SID = sizeOf.USHORT;\n\n// Convert a numeric operand or charstring number to a variable-size list of bytes.\n/**\n * Convert a numeric operand or charstring number to a variable-size list of bytes.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER = function(v) {\n    if (v >= -107 && v <= 107) {\n        return [v + 139];\n    } else if (v >= 108 && v <= 1131) {\n        v = v - 108;\n        return [(v >> 8) + 247, v & 0xFF];\n    } else if (v >= -1131 && v <= -108) {\n        v = -v - 108;\n        return [(v >> 8) + 251, v & 0xFF];\n    } else if (v >= -32768 && v <= 32767) {\n        return encode.NUMBER16(v);\n    } else {\n        return encode.NUMBER32(v);\n    }\n};\n\n/**\n * @param {number}\n * @returns {number}\n */\nsizeOf.NUMBER = function(v) {\n    return encode.NUMBER(v).length;\n};\n\n/**\n * Convert a signed number between -32768 and +32767 to a three-byte value.\n * This ensures we always use three bytes, but is not the most compact format.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER16 = function(v) {\n    return [28, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.NUMBER16 = constant(3);\n\n/**\n * Convert a signed number between -(2^31) and +(2^31-1) to a five-byte value.\n * This is useful if you want to be sure you always use four bytes,\n * at the expense of wasting a few bytes for smaller numbers.\n * @param {number}\n * @returns {Array}\n */\nencode.NUMBER32 = function(v) {\n    return [29, (v >> 24) & 0xFF, (v >> 16) & 0xFF, (v >> 8) & 0xFF, v & 0xFF];\n};\n\n/**\n * @constant\n * @type {number}\n */\nsizeOf.NUMBER32 = constant(5);\n\n/**\n * @param {number}\n * @returns {Array}\n */\nencode.REAL = function(v) {\n    let value = v.toString();\n\n    // Some numbers use an epsilon to encode the value. (e.g. JavaScript will store 0.0000001 as 1e-7)\n    // This code converts it back to a number without the epsilon.\n    const m = /\\.(\\d*?)(?:9{5,20}|0{5,20})\\d{0,2}(?:e(.+)|$)/.exec(value);\n    if (m) {\n        const epsilon = parseFloat('1e' + ((m[2] ? +m[2] : 0) + m[1].length));\n        value = (Math.round(v * epsilon) / epsilon).toString();\n    }\n\n    let nibbles = '';\n    for (let i = 0, ii = value.length; i < ii; i += 1) {\n        const c = value[i];\n        if (c === 'e') {\n            nibbles += value[++i] === '-' ? 'c' : 'b';\n        } else if (c === '.') {\n            nibbles += 'a';\n        } else if (c === '-') {\n            nibbles += 'e';\n        } else {\n            nibbles += c;\n        }\n    }\n\n    nibbles += (nibbles.length & 1) ? 'f' : 'ff';\n    const out = [30];\n    for (let i = 0, ii = nibbles.length; i < ii; i += 2) {\n        out.push(parseInt(nibbles.substr(i, 2), 16));\n    }\n\n    return out;\n};\n\n/**\n * @param {number}\n * @returns {number}\n */\nsizeOf.REAL = function(v) {\n    return encode.REAL(v).length;\n};\n\nencode.NAME = encode.CHARARRAY;\nsizeOf.NAME = sizeOf.CHARARRAY;\n\nencode.STRING = encode.CHARARRAY;\nsizeOf.STRING = sizeOf.CHARARRAY;\n\n/**\n * @param {DataView} data\n * @param {number} offset\n * @param {number} numBytes\n * @returns {string}\n */\ndecode.UTF8 = function(data, offset, numBytes) {\n    const codePoints = [];\n    const numChars = numBytes;\n    for (let j = 0; j < numChars; j++, offset += 1) {\n        codePoints[j] = data.getUint8(offset);\n    }\n\n    return String.fromCharCode.apply(null, codePoints);\n};\n\n/**\n * @param {DataView} data\n * @param {number} offset\n * @param {number} numBytes\n * @returns {string}\n */\ndecode.UTF16 = function(data, offset, numBytes) {\n    const codePoints = [];\n    const numChars = numBytes / 2;\n    for (let j = 0; j < numChars; j++, offset += 2) {\n        codePoints[j] = data.getUint16(offset);\n    }\n\n    return String.fromCharCode.apply(null, codePoints);\n};\n\n/**\n * Convert a JavaScript string to UTF16-BE.\n * @param {string}\n * @returns {Array}\n */\nencode.UTF16 = function(v) {\n    const b = [];\n    for (let i = 0; i < v.length; i += 1) {\n        const codepoint = v.charCodeAt(i);\n        b[b.length] = (codepoint >> 8) & 0xFF;\n        b[b.length] = codepoint & 0xFF;\n    }\n\n    return b;\n};\n\n/**\n * @param {string}\n * @returns {number}\n */\nsizeOf.UTF16 = function(v) {\n    return v.length * 2;\n};\n\n// Data for converting old eight-bit Macintosh encodings to Unicode.\n// This representation is optimized for decoding; encoding is slower\n// and needs more memory. The assumption is that all opentype.js users\n// want to open fonts, but saving a font will be comparatively rare\n// so it can be more expensive. Keyed by IANA character set name.\n//\n// Python script for generating these strings:\n//\n//     s = u''.join([chr(c).decode('mac_greek') for c in range(128, 256)])\n//     print(s.encode('utf-8'))\n/**\n * @private\n */\nconst eightBitMacEncodings = {\n    'x-mac-croatian':  // Python: 'mac_croatian'\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø' +\n    '¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ',\n    'x-mac-cyrillic':  // Python: 'mac_cyrillic'\n    'АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњ' +\n    'јЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю',\n    'x-mac-gaelic': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/GAELIC.TXT\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæø' +\n    'ṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ',\n    'x-mac-greek':  // Python: 'mac_greek'\n    'Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩ' +\n    'άΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ\\u00AD',\n    'x-mac-icelandic':  // Python: 'mac_iceland'\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n    'x-mac-inuit': // http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/INUIT.TXT\n    'ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗ' +\n    'ᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł',\n    'x-mac-ce':  // Python: 'mac_latin2'\n    'ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅ' +\n    'ņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ',\n    macintosh:  // Python: 'mac_roman'\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n    'x-mac-romanian':  // Python: 'mac_romanian'\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș' +\n    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ',\n    'x-mac-turkish':  // Python: 'mac_turkish'\n    'ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø' +\n    '¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ'\n};\n\n/**\n * Decodes an old-style Macintosh string. Returns either a Unicode JavaScript\n * string, or 'undefined' if the encoding is unsupported. For example, we do\n * not support Chinese, Japanese or Korean because these would need large\n * mapping tables.\n * @param {DataView} dataView\n * @param {number} offset\n * @param {number} dataLength\n * @param {string} encoding\n * @returns {string}\n */\ndecode.MACSTRING = function(dataView, offset, dataLength, encoding) {\n    const table = eightBitMacEncodings[encoding];\n    if (table === undefined) {\n        return undefined;\n    }\n\n    let result = '';\n    for (let i = 0; i < dataLength; i++) {\n        const c = dataView.getUint8(offset + i);\n        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n        // mapped to U+0000..U+007F; we only need to look up the others.\n        if (c <= 0x7F) {\n            result += String.fromCharCode(c);\n        } else {\n            result += table[c & 0x7F];\n        }\n    }\n\n    return result;\n};\n\n// Helper function for encode.MACSTRING. Returns a dictionary for mapping\n// Unicode character codes to their 8-bit MacOS equivalent. This table\n// is not exactly a super cheap data structure, but we do not care because\n// encoding Macintosh strings is only rarely needed in typical applications.\nconst macEncodingTableCache = typeof WeakMap === 'function' && new WeakMap();\nlet macEncodingCacheKeys;\nconst getMacEncodingTable = function (encoding) {\n    // Since we use encoding as a cache key for WeakMap, it has to be\n    // a String object and not a literal. And at least on NodeJS 2.10.1,\n    // WeakMap requires that the same String instance is passed for cache hits.\n    if (!macEncodingCacheKeys) {\n        macEncodingCacheKeys = {};\n        for (let e in eightBitMacEncodings) {\n            /*jshint -W053 */  // Suppress \"Do not use String as a constructor.\"\n            macEncodingCacheKeys[e] = new String(e);\n        }\n    }\n\n    const cacheKey = macEncodingCacheKeys[encoding];\n    if (cacheKey === undefined) {\n        return undefined;\n    }\n\n    // We can't do \"if (cache.has(key)) {return cache.get(key)}\" here:\n    // since garbage collection may run at any time, it could also kick in\n    // between the calls to cache.has() and cache.get(). In that case,\n    // we would return 'undefined' even though we do support the encoding.\n    if (macEncodingTableCache) {\n        const cachedTable = macEncodingTableCache.get(cacheKey);\n        if (cachedTable !== undefined) {\n            return cachedTable;\n        }\n    }\n\n    const decodingTable = eightBitMacEncodings[encoding];\n    if (decodingTable === undefined) {\n        return undefined;\n    }\n\n    const encodingTable = {};\n    for (let i = 0; i < decodingTable.length; i++) {\n        encodingTable[decodingTable.charCodeAt(i)] = i + 0x80;\n    }\n\n    if (macEncodingTableCache) {\n        macEncodingTableCache.set(cacheKey, encodingTable);\n    }\n\n    return encodingTable;\n};\n\n/**\n * Encodes an old-style Macintosh string. Returns a byte array upon success.\n * If the requested encoding is unsupported, or if the input string contains\n * a character that cannot be expressed in the encoding, the function returns\n * 'undefined'.\n * @param {string} str\n * @param {string} encoding\n * @returns {Array}\n */\nencode.MACSTRING = function(str, encoding) {\n    const table = getMacEncodingTable(encoding);\n    if (table === undefined) {\n        return undefined;\n    }\n\n    const result = [];\n    for (let i = 0; i < str.length; i++) {\n        let c = str.charCodeAt(i);\n\n        // In all eight-bit Mac encodings, the characters 0x00..0x7F are\n        // mapped to U+0000..U+007F; we only need to look up the others.\n        if (c >= 0x80) {\n            c = table[c];\n            if (c === undefined) {\n                // str contains a Unicode character that cannot be encoded\n                // in the requested encoding.\n                return undefined;\n            }\n        }\n        result[i] = c;\n        // result.push(c);\n    }\n\n    return result;\n};\n\n/**\n * @param {string} str\n * @param {string} encoding\n * @returns {number}\n */\nsizeOf.MACSTRING = function(str, encoding) {\n    const b = encode.MACSTRING(str, encoding);\n    if (b !== undefined) {\n        return b.length;\n    } else {\n        return 0;\n    }\n};\n\n// Helper for encode.VARDELTAS\nfunction isByteEncodable(value) {\n    return value >= -128 && value <= 127;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsZeroes(deltas, pos, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    while (pos < numDeltas && runLength < 64 && deltas[pos] === 0) {\n        ++pos;\n        ++runLength;\n    }\n    result.push(0x80 | (runLength - 1));\n    return pos;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsBytes(deltas, offset, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    let pos = offset;\n    while (pos < numDeltas && runLength < 64) {\n        const value = deltas[pos];\n        if (!isByteEncodable(value)) {\n            break;\n        }\n\n        // Within a byte-encoded run of deltas, a single zero is best\n        // stored literally as 0x00 value. However, if we have two or\n        // more zeroes in a sequence, it is better to start a new run.\n        // Fore example, the sequence of deltas [15, 15, 0, 15, 15]\n        // becomes 6 bytes (04 0F 0F 00 0F 0F) when storing the zero\n        // within the current run, but 7 bytes (01 0F 0F 80 01 0F 0F)\n        // when starting a new run.\n        if (value === 0 && pos + 1 < numDeltas && deltas[pos + 1] === 0) {\n            break;\n        }\n\n        ++pos;\n        ++runLength;\n    }\n    result.push(runLength - 1);\n    for (let i = offset; i < pos; ++i) {\n        result.push((deltas[i] + 256) & 0xff);\n    }\n    return pos;\n}\n\n// Helper for encode.VARDELTAS\nfunction encodeVarDeltaRunAsWords(deltas, offset, result) {\n    let runLength = 0;\n    const numDeltas = deltas.length;\n    let pos = offset;\n    while (pos < numDeltas && runLength < 64) {\n        const value = deltas[pos];\n\n        // Within a word-encoded run of deltas, it is easiest to start\n        // a new run (with a different encoding) whenever we encounter\n        // a zero value. For example, the sequence [0x6666, 0, 0x7777]\n        // needs 7 bytes when storing the zero inside the current run\n        // (42 66 66 00 00 77 77), and equally 7 bytes when starting a\n        // new run (40 66 66 80 40 77 77).\n        if (value === 0) {\n            break;\n        }\n\n        // Within a word-encoded run of deltas, a single value in the\n        // range (-128..127) should be encoded within the current run\n        // because it is more compact. For example, the sequence\n        // [0x6666, 2, 0x7777] becomes 7 bytes when storing the value\n        // literally (42 66 66 00 02 77 77), but 8 bytes when starting\n        // a new run (40 66 66 00 02 40 77 77).\n        if (isByteEncodable(value) && pos + 1 < numDeltas && isByteEncodable(deltas[pos + 1])) {\n            break;\n        }\n\n        ++pos;\n        ++runLength;\n    }\n    result.push(0x40 | (runLength - 1));\n    for (let i = offset; i < pos; ++i) {\n        const val = deltas[i];\n        result.push(((val + 0x10000) >> 8) & 0xff, (val + 0x100) & 0xff);\n    }\n    return pos;\n}\n\n/**\n * Encode a list of variation adjustment deltas.\n *\n * Variation adjustment deltas are used in ‘gvar’ and ‘cvar’ tables.\n * They indicate how points (in ‘gvar’) or values (in ‘cvar’) get adjusted\n * when generating instances of variation fonts.\n *\n * @see https://www.microsoft.com/typography/otspec/gvar.htm\n * @see https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6gvar.html\n * @param {Array}\n * @return {Array}\n */\nencode.VARDELTAS = function(deltas) {\n    let pos = 0;\n    const result = [];\n    while (pos < deltas.length) {\n        const value = deltas[pos];\n        if (value === 0) {\n            pos = encodeVarDeltaRunAsZeroes(deltas, pos, result);\n        } else if (value >= -128 && value <= 127) {\n            pos = encodeVarDeltaRunAsBytes(deltas, pos, result);\n        } else {\n            pos = encodeVarDeltaRunAsWords(deltas, pos, result);\n        }\n    }\n    return result;\n};\n\n// Convert a list of values to a CFF INDEX structure.\n// The values should be objects containing name / type / value.\n/**\n * @param {Array} l\n * @returns {Array}\n */\nencode.INDEX = function(l) {\n    //var offset, offsets, offsetEncoder, encodedOffsets, encodedOffset, data,\n    //    i, v;\n    // Because we have to know which data type to use to encode the offsets,\n    // we have to go through the values twice: once to encode the data and\n    // calculate the offsets, then again to encode the offsets using the fitting data type.\n    let offset = 1; // First offset is always 1.\n    const offsets = [offset];\n    const data = [];\n    for (let i = 0; i < l.length; i += 1) {\n        const v = encode.OBJECT(l[i]);\n        Array.prototype.push.apply(data, v);\n        offset += v.length;\n        offsets.push(offset);\n    }\n\n    if (data.length === 0) {\n        return [0, 0];\n    }\n\n    const encodedOffsets = [];\n    const offSize = (1 + Math.floor(Math.log(offset) / Math.log(2)) / 8) | 0;\n    const offsetEncoder = [undefined, encode.BYTE, encode.USHORT, encode.UINT24, encode.ULONG][offSize];\n    for (let i = 0; i < offsets.length; i += 1) {\n        const encodedOffset = offsetEncoder(offsets[i]);\n        Array.prototype.push.apply(encodedOffsets, encodedOffset);\n    }\n\n    return Array.prototype.concat(encode.Card16(l.length),\n                           encode.OffSize(offSize),\n                           encodedOffsets,\n                           data);\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.INDEX = function(v) {\n    return encode.INDEX(v).length;\n};\n\n/**\n * Convert an object to a CFF DICT structure.\n * The keys should be numeric.\n * The values should be objects containing name / type / value.\n * @param {Object} m\n * @returns {Array}\n */\nencode.DICT = function(m) {\n    let d = [];\n    const keys = Object.keys(m);\n    const length = keys.length;\n\n    for (let i = 0; i < length; i += 1) {\n        // Object.keys() return string keys, but our keys are always numeric.\n        const k = parseInt(keys[i], 0);\n        const v = m[k];\n        // Value comes before the key.\n        d = d.concat(encode.OPERAND(v.value, v.type));\n        d = d.concat(encode.OPERATOR(k));\n    }\n\n    return d;\n};\n\n/**\n * @param {Object}\n * @returns {number}\n */\nsizeOf.DICT = function(m) {\n    return encode.DICT(m).length;\n};\n\n/**\n * @param {number}\n * @returns {Array}\n */\nencode.OPERATOR = function(v) {\n    if (v < 1200) {\n        return [v];\n    } else {\n        return [12, v - 1200];\n    }\n};\n\n/**\n * @param {Array} v\n * @param {string}\n * @returns {Array}\n */\nencode.OPERAND = function(v, type) {\n    let d = [];\n    if (Array.isArray(type)) {\n        for (let i = 0; i < type.length; i += 1) {\n            check.argument(v.length === type.length, 'Not enough arguments given for type' + type);\n            d = d.concat(encode.OPERAND(v[i], type[i]));\n        }\n    } else {\n        if (type === 'SID') {\n            d = d.concat(encode.NUMBER(v));\n        } else if (type === 'offset') {\n            // We make it easy for ourselves and always encode offsets as\n            // 4 bytes. This makes offset calculation for the top dict easier.\n            d = d.concat(encode.NUMBER32(v));\n        } else if (type === 'number') {\n            d = d.concat(encode.NUMBER(v));\n        } else if (type === 'real') {\n            d = d.concat(encode.REAL(v));\n        } else {\n            throw new Error('Unknown operand type ' + type);\n            // FIXME Add support for booleans\n        }\n    }\n\n    return d;\n};\n\nencode.OP = encode.BYTE;\nsizeOf.OP = sizeOf.BYTE;\n\n// memoize charstring encoding using WeakMap if available\nconst wmm = typeof WeakMap === 'function' && new WeakMap();\n\n/**\n * Convert a list of CharString operations to bytes.\n * @param {Array}\n * @returns {Array}\n */\nencode.CHARSTRING = function(ops) {\n    // See encode.MACSTRING for why we don't do \"if (wmm && wmm.has(ops))\".\n    if (wmm) {\n        const cachedValue = wmm.get(ops);\n        if (cachedValue !== undefined) {\n            return cachedValue;\n        }\n    }\n\n    let d = [];\n    const length = ops.length;\n\n    for (let i = 0; i < length; i += 1) {\n        const op = ops[i];\n        d = d.concat(encode[op.type](op.value));\n    }\n\n    if (wmm) {\n        wmm.set(ops, d);\n    }\n\n    return d;\n};\n\n/**\n * @param {Array}\n * @returns {number}\n */\nsizeOf.CHARSTRING = function(ops) {\n    return encode.CHARSTRING(ops).length;\n};\n\n// Utility functions ////////////////////////////////////////////////////////\n\n/**\n * Convert an object containing name / type / value to bytes.\n * @param {Object}\n * @returns {Array}\n */\nencode.OBJECT = function(v) {\n    const encodingFunction = encode[v.type];\n    check.argument(encodingFunction !== undefined, 'No encoding function for type ' + v.type);\n    return encodingFunction(v.value);\n};\n\n/**\n * @param {Object}\n * @returns {number}\n */\nsizeOf.OBJECT = function(v) {\n    const sizeOfFunction = sizeOf[v.type];\n    check.argument(sizeOfFunction !== undefined, 'No sizeOf function for type ' + v.type);\n    return sizeOfFunction(v.value);\n};\n\n/**\n * Convert a table object to bytes.\n * A table contains a list of fields containing the metadata (name, type and default value).\n * The table itself has the field values set as attributes.\n * @param {opentype.Table}\n * @returns {Array}\n */\nencode.TABLE = function(table) {\n    let d = [];\n    const length = table.fields.length;\n    const subtables = [];\n    const subtableOffsets = [];\n\n    for (let i = 0; i < length; i += 1) {\n        const field = table.fields[i];\n        const encodingFunction = encode[field.type];\n        check.argument(encodingFunction !== undefined, 'No encoding function for field type ' + field.type + ' (' + field.name + ')');\n        let value = table[field.name];\n        if (value === undefined) {\n            value = field.value;\n        }\n\n        const bytes = encodingFunction(value);\n\n        if (field.type === 'TABLE') {\n            subtableOffsets.push(d.length);\n            d = d.concat([0, 0]);\n            subtables.push(bytes);\n        } else {\n            d = d.concat(bytes);\n        }\n    }\n\n    for (let i = 0; i < subtables.length; i += 1) {\n        const o = subtableOffsets[i];\n        const offset = d.length;\n        check.argument(offset < 65536, 'Table ' + table.tableName + ' too big.');\n        d[o] = offset >> 8;\n        d[o + 1] = offset & 0xff;\n        d = d.concat(subtables[i]);\n    }\n\n    return d;\n};\n\n/**\n * @param {opentype.Table}\n * @returns {number}\n */\nsizeOf.TABLE = function(table) {\n    let numBytes = 0;\n    const length = table.fields.length;\n\n    for (let i = 0; i < length; i += 1) {\n        const field = table.fields[i];\n        const sizeOfFunction = sizeOf[field.type];\n        check.argument(sizeOfFunction !== undefined, 'No sizeOf function for field type ' + field.type + ' (' + field.name + ')');\n        let value = table[field.name];\n        if (value === undefined) {\n            value = field.value;\n        }\n\n        numBytes += sizeOfFunction(value);\n\n        // Subtables take 2 more bytes for offsets.\n        if (field.type === 'TABLE') {\n            numBytes += 2;\n        }\n    }\n\n    return numBytes;\n};\n\nencode.RECORD = encode.TABLE;\nsizeOf.RECORD = sizeOf.TABLE;\n\n// Merge in a list of bytes.\nencode.LITERAL = function(v) {\n    return v;\n};\n\nsizeOf.LITERAL = function(v) {\n    return v.length;\n};\n\nexport { decode, encode, sizeOf };\n","// Table metadata\n\nimport check from './check';\nimport { encode, sizeOf } from './types';\n\n/**\n * @exports opentype.Table\n * @class\n * @param {string} tableName\n * @param {Array} fields\n * @param {Object} options\n * @constructor\n */\nfunction Table(tableName, fields, options) {\n    for (let i = 0; i < fields.length; i += 1) {\n        const field = fields[i];\n        this[field.name] = field.value;\n    }\n\n    this.tableName = tableName;\n    this.fields = fields;\n    if (options) {\n        const optionKeys = Object.keys(options);\n        for (let i = 0; i < optionKeys.length; i += 1) {\n            const k = optionKeys[i];\n            const v = options[k];\n            if (this[k] !== undefined) {\n                this[k] = v;\n            }\n        }\n    }\n}\n\n/**\n * Encodes the table and returns an array of bytes\n * @return {Array}\n */\nTable.prototype.encode = function() {\n    return encode.TABLE(this);\n};\n\n/**\n * Get the size of the table.\n * @return {number}\n */\nTable.prototype.sizeOf = function() {\n    return sizeOf.TABLE(this);\n};\n\n/**\n * @private\n */\nfunction ushortList(itemName, list, count) {\n    if (count === undefined) {\n        count = list.length;\n    }\n    const fields = new Array(list.length + 1);\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < list.length; i++) {\n        fields[i + 1] = {name: itemName + i, type: 'USHORT', value: list[i]};\n    }\n    return fields;\n}\n\n/**\n * @private\n */\nfunction tableList(itemName, records, itemCallback) {\n    const count = records.length;\n    const fields = new Array(count + 1);\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < count; i++) {\n        fields[i + 1] = {name: itemName + i, type: 'TABLE', value: itemCallback(records[i], i)};\n    }\n    return fields;\n}\n\n/**\n * @private\n */\nfunction recordList(itemName, records, itemCallback) {\n    const count = records.length;\n    let fields = [];\n    fields[0] = {name: itemName + 'Count', type: 'USHORT', value: count};\n    for (let i = 0; i < count; i++) {\n        fields = fields.concat(itemCallback(records[i], i));\n    }\n    return fields;\n}\n\n// Common Layout Tables\n\n/**\n * @exports opentype.Coverage\n * @class\n * @param {opentype.Table}\n * @constructor\n * @extends opentype.Table\n */\nfunction Coverage(coverageTable) {\n    if (coverageTable.format === 1) {\n        Table.call(this, 'coverageTable',\n            [{name: 'coverageFormat', type: 'USHORT', value: 1}]\n            .concat(ushortList('glyph', coverageTable.glyphs))\n        );\n    } else {\n        check.assert(false, 'Can\\'t create coverage table format 2 yet.');\n    }\n}\nCoverage.prototype = Object.create(Table.prototype);\nCoverage.prototype.constructor = Coverage;\n\nfunction ScriptList(scriptListTable) {\n    Table.call(this, 'scriptListTable',\n        recordList('scriptRecord', scriptListTable, function(scriptRecord, i) {\n            const script = scriptRecord.script;\n            let defaultLangSys = script.defaultLangSys;\n            check.assert(!!defaultLangSys, 'Unable to write GSUB: script ' + scriptRecord.tag + ' has no default language system.');\n            return [\n                {name: 'scriptTag' + i, type: 'TAG', value: scriptRecord.tag},\n                {name: 'script' + i, type: 'TABLE', value: new Table('scriptTable', [\n                    {name: 'defaultLangSys', type: 'TABLE', value: new Table('defaultLangSys', [\n                        {name: 'lookupOrder', type: 'USHORT', value: 0},\n                        {name: 'reqFeatureIndex', type: 'USHORT', value: defaultLangSys.reqFeatureIndex}]\n                        .concat(ushortList('featureIndex', defaultLangSys.featureIndexes)))}\n                    ].concat(recordList('langSys', script.langSysRecords, function(langSysRecord, i) {\n                        const langSys = langSysRecord.langSys;\n                        return [\n                            {name: 'langSysTag' + i, type: 'TAG', value: langSysRecord.tag},\n                            {name: 'langSys' + i, type: 'TABLE', value: new Table('langSys', [\n                                {name: 'lookupOrder', type: 'USHORT', value: 0},\n                                {name: 'reqFeatureIndex', type: 'USHORT', value: langSys.reqFeatureIndex}\n                                ].concat(ushortList('featureIndex', langSys.featureIndexes)))}\n                        ];\n                    })))}\n            ];\n        })\n    );\n}\nScriptList.prototype = Object.create(Table.prototype);\nScriptList.prototype.constructor = ScriptList;\n\n/**\n * @exports opentype.FeatureList\n * @class\n * @param {opentype.Table}\n * @constructor\n * @extends opentype.Table\n */\nfunction FeatureList(featureListTable) {\n    Table.call(this, 'featureListTable',\n        recordList('featureRecord', featureListTable, function(featureRecord, i) {\n            const feature = featureRecord.feature;\n            return [\n                {name: 'featureTag' + i, type: 'TAG', value: featureRecord.tag},\n                {name: 'feature' + i, type: 'TABLE', value: new Table('featureTable', [\n                    {name: 'featureParams', type: 'USHORT', value: feature.featureParams},\n                    ].concat(ushortList('lookupListIndex', feature.lookupListIndexes)))}\n            ];\n        })\n    );\n}\nFeatureList.prototype = Object.create(Table.prototype);\nFeatureList.prototype.constructor = FeatureList;\n\n/**\n * @exports opentype.LookupList\n * @class\n * @param {opentype.Table}\n * @param {Object}\n * @constructor\n * @extends opentype.Table\n */\nfunction LookupList(lookupListTable, subtableMakers) {\n    Table.call(this, 'lookupListTable', tableList('lookup', lookupListTable, function(lookupTable) {\n        let subtableCallback = subtableMakers[lookupTable.lookupType];\n        check.assert(!!subtableCallback, 'Unable to write GSUB lookup type ' + lookupTable.lookupType + ' tables.');\n        return new Table('lookupTable', [\n            {name: 'lookupType', type: 'USHORT', value: lookupTable.lookupType},\n            {name: 'lookupFlag', type: 'USHORT', value: lookupTable.lookupFlag}\n        ].concat(tableList('subtable', lookupTable.subtables, subtableCallback)));\n    }));\n}\nLookupList.prototype = Object.create(Table.prototype);\nLookupList.prototype.constructor = LookupList;\n\n// Record = same as Table, but inlined (a Table has an offset and its data is further in the stream)\n// Don't use offsets inside Records (probable bug), only in Tables.\nexport default {\n    Table,\n    Record: Table,\n    Coverage,\n    ScriptList,\n    FeatureList,\n    LookupList,\n    ushortList,\n    tableList,\n    recordList,\n};\n","// Parsing utility functions\n\nimport check from './check';\n\n// Retrieve an unsigned byte from the DataView.\nfunction getByte(dataView, offset) {\n    return dataView.getUint8(offset);\n}\n\n// Retrieve an unsigned 16-bit short from the DataView.\n// The value is stored in big endian.\nfunction getUShort(dataView, offset) {\n    return dataView.getUint16(offset, false);\n}\n\n// Retrieve a signed 16-bit short from the DataView.\n// The value is stored in big endian.\nfunction getShort(dataView, offset) {\n    return dataView.getInt16(offset, false);\n}\n\n// Retrieve an unsigned 32-bit long from the DataView.\n// The value is stored in big endian.\nfunction getULong(dataView, offset) {\n    return dataView.getUint32(offset, false);\n}\n\n// Retrieve a 32-bit signed fixed-point number (16.16) from the DataView.\n// The value is stored in big endian.\nfunction getFixed(dataView, offset) {\n    const decimal = dataView.getInt16(offset, false);\n    const fraction = dataView.getUint16(offset + 2, false);\n    return decimal + fraction / 65535;\n}\n\n// Retrieve a 4-character tag from the DataView.\n// Tags are used to identify tables.\nfunction getTag(dataView, offset) {\n    let tag = '';\n    for (let i = offset; i < offset + 4; i += 1) {\n        tag += String.fromCharCode(dataView.getInt8(i));\n    }\n\n    return tag;\n}\n\n// Retrieve an offset from the DataView.\n// Offsets are 1 to 4 bytes in length, depending on the offSize argument.\nfunction getOffset(dataView, offset, offSize) {\n    let v = 0;\n    for (let i = 0; i < offSize; i += 1) {\n        v <<= 8;\n        v += dataView.getUint8(offset + i);\n    }\n\n    return v;\n}\n\n// Retrieve a number of bytes from start offset to the end offset from the DataView.\nfunction getBytes(dataView, startOffset, endOffset) {\n    const bytes = [];\n    for (let i = startOffset; i < endOffset; i += 1) {\n        bytes.push(dataView.getUint8(i));\n    }\n\n    return bytes;\n}\n\n// Convert the list of bytes to a string.\nfunction bytesToString(bytes) {\n    let s = '';\n    for (let i = 0; i < bytes.length; i += 1) {\n        s += String.fromCharCode(bytes[i]);\n    }\n\n    return s;\n}\n\nconst typeOffsets = {\n    byte: 1,\n    uShort: 2,\n    short: 2,\n    uLong: 4,\n    fixed: 4,\n    longDateTime: 8,\n    tag: 4\n};\n\n// A stateful parser that changes the offset whenever a value is retrieved.\n// The data is a DataView.\nfunction Parser(data, offset) {\n    this.data = data;\n    this.offset = offset;\n    this.relativeOffset = 0;\n}\n\nParser.prototype.parseByte = function() {\n    const v = this.data.getUint8(this.offset + this.relativeOffset);\n    this.relativeOffset += 1;\n    return v;\n};\n\nParser.prototype.parseChar = function() {\n    const v = this.data.getInt8(this.offset + this.relativeOffset);\n    this.relativeOffset += 1;\n    return v;\n};\n\nParser.prototype.parseCard8 = Parser.prototype.parseByte;\n\nParser.prototype.parseUShort = function() {\n    const v = this.data.getUint16(this.offset + this.relativeOffset);\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseCard16 = Parser.prototype.parseUShort;\nParser.prototype.parseSID = Parser.prototype.parseUShort;\nParser.prototype.parseOffset16 = Parser.prototype.parseUShort;\n\nParser.prototype.parseShort = function() {\n    const v = this.data.getInt16(this.offset + this.relativeOffset);\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseF2Dot14 = function() {\n    const v = this.data.getInt16(this.offset + this.relativeOffset) / 16384;\n    this.relativeOffset += 2;\n    return v;\n};\n\nParser.prototype.parseULong = function() {\n    const v = getULong(this.data, this.offset + this.relativeOffset);\n    this.relativeOffset += 4;\n    return v;\n};\n\nParser.prototype.parseFixed = function() {\n    const v = getFixed(this.data, this.offset + this.relativeOffset);\n    this.relativeOffset += 4;\n    return v;\n};\n\nParser.prototype.parseString = function(length) {\n    const dataView = this.data;\n    const offset = this.offset + this.relativeOffset;\n    let string = '';\n    this.relativeOffset += length;\n    for (let i = 0; i < length; i++) {\n        string += String.fromCharCode(dataView.getUint8(offset + i));\n    }\n\n    return string;\n};\n\nParser.prototype.parseTag = function() {\n    return this.parseString(4);\n};\n\n// LONGDATETIME is a 64-bit integer.\n// JavaScript and unix timestamps traditionally use 32 bits, so we\n// only take the last 32 bits.\n// + Since until 2038 those bits will be filled by zeros we can ignore them.\nParser.prototype.parseLongDateTime = function() {\n    let v = getULong(this.data, this.offset + this.relativeOffset + 4);\n    // Subtract seconds between 01/01/1904 and 01/01/1970\n    // to convert Apple Mac timestamp to Standard Unix timestamp\n    v -= 2082844800;\n    this.relativeOffset += 8;\n    return v;\n};\n\nParser.prototype.parseVersion = function() {\n    const major = getUShort(this.data, this.offset + this.relativeOffset);\n\n    // How to interpret the minor version is very vague in the spec. 0x5000 is 5, 0x1000 is 1\n    // This returns the correct number if minor = 0xN000 where N is 0-9\n    const minor = getUShort(this.data, this.offset + this.relativeOffset + 2);\n    this.relativeOffset += 4;\n    return major + minor / 0x1000 / 10;\n};\n\nParser.prototype.skip = function(type, amount) {\n    if (amount === undefined) {\n        amount = 1;\n    }\n\n    this.relativeOffset += typeOffsets[type] * amount;\n};\n\n///// Parsing lists and records ///////////////////////////////\n\n// Parse a list of 16 bit unsigned integers. The length of the list can be read on the stream\n// or provided as an argument.\nParser.prototype.parseOffset16List =\nParser.prototype.parseUShortList = function(count) {\n    if (count === undefined) { count = this.parseUShort(); }\n    const offsets = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        offsets[i] = dataView.getUint16(offset);\n        offset += 2;\n    }\n\n    this.relativeOffset += count * 2;\n    return offsets;\n};\n\n// Parses a list of 16 bit signed integers.\nParser.prototype.parseShortList = function(count) {\n    const list = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        list[i] = dataView.getInt16(offset);\n        offset += 2;\n    }\n\n    this.relativeOffset += count * 2;\n    return list;\n};\n\n// Parses a list of bytes.\nParser.prototype.parseByteList = function(count) {\n    const list = new Array(count);\n    const dataView = this.data;\n    let offset = this.offset + this.relativeOffset;\n    for (let i = 0; i < count; i++) {\n        list[i] = dataView.getUint8(offset++);\n    }\n\n    this.relativeOffset += count;\n    return list;\n};\n\n/**\n * Parse a list of items.\n * Record count is optional, if omitted it is read from the stream.\n * itemCallback is one of the Parser methods.\n */\nParser.prototype.parseList = function(count, itemCallback) {\n    if (!itemCallback) {\n        itemCallback = count;\n        count = this.parseUShort();\n    }\n    const list = new Array(count);\n    for (let i = 0; i < count; i++) {\n        list[i] = itemCallback.call(this);\n    }\n    return list;\n};\n\n/**\n * Parse a list of records.\n * Record count is optional, if omitted it is read from the stream.\n * Example of recordDescription: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\n */\nParser.prototype.parseRecordList = function(count, recordDescription) {\n    // If the count argument is absent, read it in the stream.\n    if (!recordDescription) {\n        recordDescription = count;\n        count = this.parseUShort();\n    }\n    const records = new Array(count);\n    const fields = Object.keys(recordDescription);\n    for (let i = 0; i < count; i++) {\n        const rec = {};\n        for (let j = 0; j < fields.length; j++) {\n            const fieldName = fields[j];\n            const fieldType = recordDescription[fieldName];\n            rec[fieldName] = fieldType.call(this);\n        }\n        records[i] = rec;\n    }\n    return records;\n};\n\n// Parse a data structure into an object\n// Example of description: { sequenceIndex: Parser.uShort, lookupListIndex: Parser.uShort }\nParser.prototype.parseStruct = function(description) {\n    if (typeof description === 'function') {\n        return description.call(this);\n    } else {\n        const fields = Object.keys(description);\n        const struct = {};\n        for (let j = 0; j < fields.length; j++) {\n            const fieldName = fields[j];\n            const fieldType = description[fieldName];\n            struct[fieldName] = fieldType.call(this);\n        }\n        return struct;\n    }\n};\n\nParser.prototype.parsePointer = function(description) {\n    const structOffset = this.parseOffset16();\n    if (structOffset > 0) {                         // NULL offset => return undefined\n        return new Parser(this.data, this.offset + structOffset).parseStruct(description);\n    }\n    return undefined;\n};\n\n/**\n * Parse a list of offsets to lists of 16-bit integers,\n * or a list of offsets to lists of offsets to any kind of items.\n * If itemCallback is not provided, a list of list of UShort is assumed.\n * If provided, itemCallback is called on each item and must parse the item.\n * See examples in tables/gsub.js\n */\nParser.prototype.parseListOfLists = function(itemCallback) {\n    const offsets = this.parseOffset16List();\n    const count = offsets.length;\n    const relativeOffset = this.relativeOffset;\n    const list = new Array(count);\n    for (let i = 0; i < count; i++) {\n        const start = offsets[i];\n        if (start === 0) {                  // NULL offset\n            list[i] = undefined;            // Add i as owned property to list. Convenient with assert.\n            continue;\n        }\n        this.relativeOffset = start;\n        if (itemCallback) {\n            const subOffsets = this.parseOffset16List();\n            const subList = new Array(subOffsets.length);\n            for (let j = 0; j < subOffsets.length; j++) {\n                this.relativeOffset = start + subOffsets[j];\n                subList[j] = itemCallback.call(this);\n            }\n            list[i] = subList;\n        } else {\n            list[i] = this.parseUShortList();\n        }\n    }\n    this.relativeOffset = relativeOffset;\n    return list;\n};\n\n///// Complex tables parsing //////////////////////////////////\n\n// Parse a coverage table in a GSUB, GPOS or GDEF table.\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n// parser.offset must point to the start of the table containing the coverage.\nParser.prototype.parseCoverage = function() {\n    const startOffset = this.offset + this.relativeOffset;\n    const format = this.parseUShort();\n    const count = this.parseUShort();\n    if (format === 1) {\n        return {\n            format: 1,\n            glyphs: this.parseUShortList(count)\n        };\n    } else if (format === 2) {\n        const ranges = new Array(count);\n        for (let i = 0; i < count; i++) {\n            ranges[i] = {\n                start: this.parseUShort(),\n                end: this.parseUShort(),\n                index: this.parseUShort()\n            };\n        }\n        return {\n            format: 2,\n            ranges: ranges\n        };\n    }\n    throw new Error('0x' + startOffset.toString(16) + ': Coverage format must be 1 or 2.');\n};\n\n// Parse a Class Definition Table in a GSUB, GPOS or GDEF table.\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\nParser.prototype.parseClassDef = function() {\n    const startOffset = this.offset + this.relativeOffset;\n    const format = this.parseUShort();\n    if (format === 1) {\n        return {\n            format: 1,\n            startGlyph: this.parseUShort(),\n            classes: this.parseUShortList()\n        };\n    } else if (format === 2) {\n        return {\n            format: 2,\n            ranges: this.parseRecordList({\n                start: Parser.uShort,\n                end: Parser.uShort,\n                classId: Parser.uShort\n            })\n        };\n    }\n    throw new Error('0x' + startOffset.toString(16) + ': ClassDef format must be 1 or 2.');\n};\n\n///// Static methods ///////////////////////////////////\n// These convenience methods can be used as callbacks and should be called with \"this\" context set to a Parser instance.\n\nParser.list = function(count, itemCallback) {\n    return function() {\n        return this.parseList(count, itemCallback);\n    };\n};\n\nParser.recordList = function(count, recordDescription) {\n    return function() {\n        return this.parseRecordList(count, recordDescription);\n    };\n};\n\nParser.pointer = function(description) {\n    return function() {\n        return this.parsePointer(description);\n    };\n};\n\nParser.tag = Parser.prototype.parseTag;\nParser.byte = Parser.prototype.parseByte;\nParser.uShort = Parser.offset16 = Parser.prototype.parseUShort;\nParser.uShortList = Parser.prototype.parseUShortList;\nParser.struct = Parser.prototype.parseStruct;\nParser.coverage = Parser.prototype.parseCoverage;\nParser.classDef = Parser.prototype.parseClassDef;\n\n///// Script, Feature, Lookup lists ///////////////////////////////////////////////\n// https://www.microsoft.com/typography/OTSPEC/chapter2.htm\n\nconst langSysTable = {\n    reserved: Parser.uShort,\n    reqFeatureIndex: Parser.uShort,\n    featureIndexes: Parser.uShortList\n};\n\nParser.prototype.parseScriptList = function() {\n    return this.parsePointer(Parser.recordList({\n        tag: Parser.tag,\n        script: Parser.pointer({\n            defaultLangSys: Parser.pointer(langSysTable),\n            langSysRecords: Parser.recordList({\n                tag: Parser.tag,\n                langSys: Parser.pointer(langSysTable)\n            })\n        })\n    }));\n};\n\nParser.prototype.parseFeatureList = function() {\n    return this.parsePointer(Parser.recordList({\n        tag: Parser.tag,\n        feature: Parser.pointer({\n            featureParams: Parser.offset16,\n            lookupListIndexes: Parser.uShortList\n        })\n    }));\n};\n\nParser.prototype.parseLookupList = function(lookupTableParsers) {\n    return this.parsePointer(Parser.list(Parser.pointer(function() {\n        const lookupType = this.parseUShort();\n        check.argument(1 <= lookupType && lookupType <= 8, 'GSUB lookup type ' + lookupType + ' unknown.');\n        const lookupFlag = this.parseUShort();\n        const useMarkFilteringSet = lookupFlag & 0x10;\n        return {\n            lookupType: lookupType,\n            lookupFlag: lookupFlag,\n            subtables: this.parseList(Parser.pointer(lookupTableParsers[lookupType])),\n            markFilteringSet: useMarkFilteringSet ? this.parseUShort() : undefined\n        };\n    })));\n};\n\nexport default {\n    getByte,\n    getCard8: getByte,\n    getUShort,\n    getCard16: getUShort,\n    getShort,\n    getULong,\n    getFixed,\n    getTag,\n    getOffset,\n    getBytes,\n    bytesToString,\n    Parser,\n};\n\nexport { Parser };\n","// The `cmap` table stores the mappings from characters to glyphs.\n// https://www.microsoft.com/typography/OTSPEC/cmap.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction parseCmapTableFormat12(cmap, p) {\n    //Skip reserved.\n    p.parseUShort();\n\n    // Length in bytes of the sub-tables.\n    cmap.length = p.parseULong();\n    cmap.language = p.parseULong();\n\n    let groupCount;\n    cmap.groupCount = groupCount = p.parseULong();\n    cmap.glyphIndexMap = {};\n\n    for (let i = 0; i < groupCount; i += 1) {\n        const startCharCode = p.parseULong();\n        const endCharCode = p.parseULong();\n        let startGlyphId = p.parseULong();\n\n        for (let c = startCharCode; c <= endCharCode; c += 1) {\n            cmap.glyphIndexMap[c] = startGlyphId;\n            startGlyphId++;\n        }\n    }\n}\n\nfunction parseCmapTableFormat4(cmap, p, data, start, offset) {\n    // Length in bytes of the sub-tables.\n    cmap.length = p.parseUShort();\n    cmap.language = p.parseUShort();\n\n    // segCount is stored x 2.\n    let segCount;\n    cmap.segCount = segCount = p.parseUShort() >> 1;\n\n    // Skip searchRange, entrySelector, rangeShift.\n    p.skip('uShort', 3);\n\n    // The \"unrolled\" mapping from character codes to glyph indices.\n    cmap.glyphIndexMap = {};\n    const endCountParser = new parse.Parser(data, start + offset + 14);\n    const startCountParser = new parse.Parser(data, start + offset + 16 + segCount * 2);\n    const idDeltaParser = new parse.Parser(data, start + offset + 16 + segCount * 4);\n    const idRangeOffsetParser = new parse.Parser(data, start + offset + 16 + segCount * 6);\n    let glyphIndexOffset = start + offset + 16 + segCount * 8;\n    for (let i = 0; i < segCount - 1; i += 1) {\n        let glyphIndex;\n        const endCount = endCountParser.parseUShort();\n        const startCount = startCountParser.parseUShort();\n        const idDelta = idDeltaParser.parseShort();\n        const idRangeOffset = idRangeOffsetParser.parseUShort();\n        for (let c = startCount; c <= endCount; c += 1) {\n            if (idRangeOffset !== 0) {\n                // The idRangeOffset is relative to the current position in the idRangeOffset array.\n                // Take the current offset in the idRangeOffset array.\n                glyphIndexOffset = (idRangeOffsetParser.offset + idRangeOffsetParser.relativeOffset - 2);\n\n                // Add the value of the idRangeOffset, which will move us into the glyphIndex array.\n                glyphIndexOffset += idRangeOffset;\n\n                // Then add the character index of the current segment, multiplied by 2 for USHORTs.\n                glyphIndexOffset += (c - startCount) * 2;\n                glyphIndex = parse.getUShort(data, glyphIndexOffset);\n                if (glyphIndex !== 0) {\n                    glyphIndex = (glyphIndex + idDelta) & 0xFFFF;\n                }\n            } else {\n                glyphIndex = (c + idDelta) & 0xFFFF;\n            }\n\n            cmap.glyphIndexMap[c] = glyphIndex;\n        }\n    }\n}\n\n// Parse the `cmap` table. This table stores the mappings from characters to glyphs.\n// There are many available formats, but we only support the Windows format 4 and 12.\n// This function returns a `CmapEncoding` object or null if no supported format could be found.\nfunction parseCmapTable(data, start) {\n    const cmap = {};\n    cmap.version = parse.getUShort(data, start);\n    check.argument(cmap.version === 0, 'cmap table version should be 0.');\n\n    // The cmap table can contain many sub-tables, each with their own format.\n    // We're only interested in a \"platform 3\" table. This is a Windows format.\n    cmap.numTables = parse.getUShort(data, start + 2);\n    let offset = -1;\n    for (let i = cmap.numTables - 1; i >= 0; i -= 1) {\n        const platformId = parse.getUShort(data, start + 4 + (i * 8));\n        const encodingId = parse.getUShort(data, start + 4 + (i * 8) + 2);\n        if (platformId === 3 && (encodingId === 0 || encodingId === 1 || encodingId === 10)) {\n            offset = parse.getULong(data, start + 4 + (i * 8) + 4);\n            break;\n        }\n    }\n\n    if (offset === -1) {\n        // There is no cmap table in the font that we support.\n        throw new Error('No valid cmap sub-tables found.');\n    }\n\n    const p = new parse.Parser(data, start + offset);\n    cmap.format = p.parseUShort();\n\n    if (cmap.format === 12) {\n        parseCmapTableFormat12(cmap, p);\n    } else if (cmap.format === 4) {\n        parseCmapTableFormat4(cmap, p, data, start, offset);\n    } else {\n        throw new Error('Only format 4 and 12 cmap tables are supported (found format ' + cmap.format + ').');\n    }\n\n    return cmap;\n}\n\nfunction addSegment(t, code, glyphIndex) {\n    t.segments.push({\n        end: code,\n        start: code,\n        delta: -(code - glyphIndex),\n        offset: 0\n    });\n}\n\nfunction addTerminatorSegment(t) {\n    t.segments.push({\n        end: 0xFFFF,\n        start: 0xFFFF,\n        delta: 1,\n        offset: 0\n    });\n}\n\nfunction makeCmapTable(glyphs) {\n    const t = new table.Table('cmap', [\n        {name: 'version', type: 'USHORT', value: 0},\n        {name: 'numTables', type: 'USHORT', value: 1},\n        {name: 'platformID', type: 'USHORT', value: 3},\n        {name: 'encodingID', type: 'USHORT', value: 1},\n        {name: 'offset', type: 'ULONG', value: 12},\n        {name: 'format', type: 'USHORT', value: 4},\n        {name: 'length', type: 'USHORT', value: 0},\n        {name: 'language', type: 'USHORT', value: 0},\n        {name: 'segCountX2', type: 'USHORT', value: 0},\n        {name: 'searchRange', type: 'USHORT', value: 0},\n        {name: 'entrySelector', type: 'USHORT', value: 0},\n        {name: 'rangeShift', type: 'USHORT', value: 0}\n    ]);\n\n    t.segments = [];\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        for (let j = 0; j < glyph.unicodes.length; j += 1) {\n            addSegment(t, glyph.unicodes[j], i);\n        }\n\n        t.segments = t.segments.sort(function(a, b) {\n            return a.start - b.start;\n        });\n    }\n\n    addTerminatorSegment(t);\n\n    let segCount;\n    segCount = t.segments.length;\n    t.segCountX2 = segCount * 2;\n    t.searchRange = Math.pow(2, Math.floor(Math.log(segCount) / Math.log(2))) * 2;\n    t.entrySelector = Math.log(t.searchRange / 2) / Math.log(2);\n    t.rangeShift = t.segCountX2 - t.searchRange;\n\n    // Set up parallel segment arrays.\n    let endCounts = [];\n    let startCounts = [];\n    let idDeltas = [];\n    let idRangeOffsets = [];\n    let glyphIds = [];\n\n    for (let i = 0; i < segCount; i += 1) {\n        const segment = t.segments[i];\n        endCounts = endCounts.concat({name: 'end_' + i, type: 'USHORT', value: segment.end});\n        startCounts = startCounts.concat({name: 'start_' + i, type: 'USHORT', value: segment.start});\n        idDeltas = idDeltas.concat({name: 'idDelta_' + i, type: 'SHORT', value: segment.delta});\n        idRangeOffsets = idRangeOffsets.concat({name: 'idRangeOffset_' + i, type: 'USHORT', value: segment.offset});\n        if (segment.glyphId !== undefined) {\n            glyphIds = glyphIds.concat({name: 'glyph_' + i, type: 'USHORT', value: segment.glyphId});\n        }\n    }\n\n    t.fields = t.fields.concat(endCounts);\n    t.fields.push({name: 'reservedPad', type: 'USHORT', value: 0});\n    t.fields = t.fields.concat(startCounts);\n    t.fields = t.fields.concat(idDeltas);\n    t.fields = t.fields.concat(idRangeOffsets);\n    t.fields = t.fields.concat(glyphIds);\n\n    t.length = 14 + // Subtable header\n        endCounts.length * 2 +\n        2 + // reservedPad\n        startCounts.length * 2 +\n        idDeltas.length * 2 +\n        idRangeOffsets.length * 2 +\n        glyphIds.length * 2;\n\n    return t;\n}\n\nexport default { parse: parseCmapTable, make: makeCmapTable };\n","// Glyph encoding\n\nconst cffStandardStrings = [\n    '.notdef', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', 'exclamdown', 'cent', 'sterling',\n    'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle', 'quotedblleft', 'guillemotleft',\n    'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'endash', 'dagger', 'daggerdbl', 'periodcentered', 'paragraph',\n    'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright', 'guillemotright', 'ellipsis', 'perthousand',\n    'questiondown', 'grave', 'acute', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'dieresis', 'ring',\n    'cedilla', 'hungarumlaut', 'ogonek', 'caron', 'emdash', 'AE', 'ordfeminine', 'Lslash', 'Oslash', 'OE',\n    'ordmasculine', 'ae', 'dotlessi', 'lslash', 'oslash', 'oe', 'germandbls', 'onesuperior', 'logicalnot', 'mu',\n    'trademark', 'Eth', 'onehalf', 'plusminus', 'Thorn', 'onequarter', 'divide', 'brokenbar', 'degree', 'thorn',\n    'threequarters', 'twosuperior', 'registered', 'minus', 'eth', 'multiply', 'threesuperior', 'copyright',\n    'Aacute', 'Acircumflex', 'Adieresis', 'Agrave', 'Aring', 'Atilde', 'Ccedilla', 'Eacute', 'Ecircumflex',\n    'Edieresis', 'Egrave', 'Iacute', 'Icircumflex', 'Idieresis', 'Igrave', 'Ntilde', 'Oacute', 'Ocircumflex',\n    'Odieresis', 'Ograve', 'Otilde', 'Scaron', 'Uacute', 'Ucircumflex', 'Udieresis', 'Ugrave', 'Yacute',\n    'Ydieresis', 'Zcaron', 'aacute', 'acircumflex', 'adieresis', 'agrave', 'aring', 'atilde', 'ccedilla', 'eacute',\n    'ecircumflex', 'edieresis', 'egrave', 'iacute', 'icircumflex', 'idieresis', 'igrave', 'ntilde', 'oacute',\n    'ocircumflex', 'odieresis', 'ograve', 'otilde', 'scaron', 'uacute', 'ucircumflex', 'udieresis', 'ugrave',\n    'yacute', 'ydieresis', 'zcaron', 'exclamsmall', 'Hungarumlautsmall', 'dollaroldstyle', 'dollarsuperior',\n    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', '266 ff', 'onedotenleader',\n    'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle', 'fouroldstyle', 'fiveoldstyle', 'sixoldstyle',\n    'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'commasuperior', 'threequartersemdash', 'periodsuperior',\n    'questionsmall', 'asuperior', 'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', 'isuperior', 'lsuperior',\n    'msuperior', 'nsuperior', 'osuperior', 'rsuperior', 'ssuperior', 'tsuperior', 'ff', 'ffi', 'ffl',\n    'parenleftinferior', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', 'exclamdownsmall',\n    'centoldstyle', 'Lslashsmall', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall', 'Brevesmall', 'Caronsmall',\n    'Dotaccentsmall', 'Macronsmall', 'figuredash', 'hypheninferior', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall',\n    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds',\n    'zerosuperior', 'foursuperior', 'fivesuperior', 'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior',\n    'zeroinferior', 'oneinferior', 'twoinferior', 'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior',\n    'seveninferior', 'eightinferior', 'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior',\n    'commainferior', 'Agravesmall', 'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall',\n    'Aringsmall', 'AEsmall', 'Ccedillasmall', 'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall',\n    'Igravesmall', 'Iacutesmall', 'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall',\n    'Oacutesmall', 'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall',\n    'Uacutesmall', 'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall', '001.000',\n    '001.001', '001.002', '001.003', 'Black', 'Bold', 'Book', 'Light', 'Medium', 'Regular', 'Roman', 'Semibold'];\n\nconst cffStandardEncoding = [\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    '', '', '', '', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent', 'ampersand', 'quoteright',\n    'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash', 'zero', 'one', 'two',\n    'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less', 'equal', 'greater',\n    'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S',\n    'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright', 'asciicircum', 'underscore',\n    'quoteleft', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't',\n    'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde', '', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    'exclamdown', 'cent', 'sterling', 'fraction', 'yen', 'florin', 'section', 'currency', 'quotesingle',\n    'quotedblleft', 'guillemotleft', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', '', 'endash', 'dagger',\n    'daggerdbl', 'periodcentered', '', 'paragraph', 'bullet', 'quotesinglbase', 'quotedblbase', 'quotedblright',\n    'guillemotright', 'ellipsis', 'perthousand', '', 'questiondown', '', 'grave', 'acute', 'circumflex', 'tilde',\n    'macron', 'breve', 'dotaccent', 'dieresis', '', 'ring', 'cedilla', '', 'hungarumlaut', 'ogonek', 'caron',\n    'emdash', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'AE', '', 'ordfeminine', '', '', '',\n    '', 'Lslash', 'Oslash', 'OE', 'ordmasculine', '', '', '', '', '', 'ae', '', '', '', 'dotlessi', '', '',\n    'lslash', 'oslash', 'oe', 'germandbls'];\n\nconst cffExpertEncoding = [\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    '', '', '', '', 'space', 'exclamsmall', 'Hungarumlautsmall', '', 'dollaroldstyle', 'dollarsuperior',\n    'ampersandsmall', 'Acutesmall', 'parenleftsuperior', 'parenrightsuperior', 'twodotenleader', 'onedotenleader',\n    'comma', 'hyphen', 'period', 'fraction', 'zerooldstyle', 'oneoldstyle', 'twooldstyle', 'threeoldstyle',\n    'fouroldstyle', 'fiveoldstyle', 'sixoldstyle', 'sevenoldstyle', 'eightoldstyle', 'nineoldstyle', 'colon',\n    'semicolon', 'commasuperior', 'threequartersemdash', 'periodsuperior', 'questionsmall', '', 'asuperior',\n    'bsuperior', 'centsuperior', 'dsuperior', 'esuperior', '', '', 'isuperior', '', '', 'lsuperior', 'msuperior',\n    'nsuperior', 'osuperior', '', '', 'rsuperior', 'ssuperior', 'tsuperior', '', 'ff', 'fi', 'fl', 'ffi', 'ffl',\n    'parenleftinferior', '', 'parenrightinferior', 'Circumflexsmall', 'hyphensuperior', 'Gravesmall', 'Asmall',\n    'Bsmall', 'Csmall', 'Dsmall', 'Esmall', 'Fsmall', 'Gsmall', 'Hsmall', 'Ismall', 'Jsmall', 'Ksmall', 'Lsmall',\n    'Msmall', 'Nsmall', 'Osmall', 'Psmall', 'Qsmall', 'Rsmall', 'Ssmall', 'Tsmall', 'Usmall', 'Vsmall', 'Wsmall',\n    'Xsmall', 'Ysmall', 'Zsmall', 'colonmonetary', 'onefitted', 'rupiah', 'Tildesmall', '', '', '', '', '', '', '',\n    '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '',\n    'exclamdownsmall', 'centoldstyle', 'Lslashsmall', '', '', 'Scaronsmall', 'Zcaronsmall', 'Dieresissmall',\n    'Brevesmall', 'Caronsmall', '', 'Dotaccentsmall', '', '', 'Macronsmall', '', '', 'figuredash', 'hypheninferior',\n    '', '', 'Ogoneksmall', 'Ringsmall', 'Cedillasmall', '', '', '', 'onequarter', 'onehalf', 'threequarters',\n    'questiondownsmall', 'oneeighth', 'threeeighths', 'fiveeighths', 'seveneighths', 'onethird', 'twothirds', '',\n    '', 'zerosuperior', 'onesuperior', 'twosuperior', 'threesuperior', 'foursuperior', 'fivesuperior',\n    'sixsuperior', 'sevensuperior', 'eightsuperior', 'ninesuperior', 'zeroinferior', 'oneinferior', 'twoinferior',\n    'threeinferior', 'fourinferior', 'fiveinferior', 'sixinferior', 'seveninferior', 'eightinferior',\n    'nineinferior', 'centinferior', 'dollarinferior', 'periodinferior', 'commainferior', 'Agravesmall',\n    'Aacutesmall', 'Acircumflexsmall', 'Atildesmall', 'Adieresissmall', 'Aringsmall', 'AEsmall', 'Ccedillasmall',\n    'Egravesmall', 'Eacutesmall', 'Ecircumflexsmall', 'Edieresissmall', 'Igravesmall', 'Iacutesmall',\n    'Icircumflexsmall', 'Idieresissmall', 'Ethsmall', 'Ntildesmall', 'Ogravesmall', 'Oacutesmall',\n    'Ocircumflexsmall', 'Otildesmall', 'Odieresissmall', 'OEsmall', 'Oslashsmall', 'Ugravesmall', 'Uacutesmall',\n    'Ucircumflexsmall', 'Udieresissmall', 'Yacutesmall', 'Thornsmall', 'Ydieresissmall'];\n\nconst standardNames = [\n    '.notdef', '.null', 'nonmarkingreturn', 'space', 'exclam', 'quotedbl', 'numbersign', 'dollar', 'percent',\n    'ampersand', 'quotesingle', 'parenleft', 'parenright', 'asterisk', 'plus', 'comma', 'hyphen', 'period', 'slash',\n    'zero', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'colon', 'semicolon', 'less',\n    'equal', 'greater', 'question', 'at', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O',\n    'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'bracketleft', 'backslash', 'bracketright',\n    'asciicircum', 'underscore', 'grave', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o',\n    'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'braceleft', 'bar', 'braceright', 'asciitilde',\n    'Adieresis', 'Aring', 'Ccedilla', 'Eacute', 'Ntilde', 'Odieresis', 'Udieresis', 'aacute', 'agrave',\n    'acircumflex', 'adieresis', 'atilde', 'aring', 'ccedilla', 'eacute', 'egrave', 'ecircumflex', 'edieresis',\n    'iacute', 'igrave', 'icircumflex', 'idieresis', 'ntilde', 'oacute', 'ograve', 'ocircumflex', 'odieresis',\n    'otilde', 'uacute', 'ugrave', 'ucircumflex', 'udieresis', 'dagger', 'degree', 'cent', 'sterling', 'section',\n    'bullet', 'paragraph', 'germandbls', 'registered', 'copyright', 'trademark', 'acute', 'dieresis', 'notequal',\n    'AE', 'Oslash', 'infinity', 'plusminus', 'lessequal', 'greaterequal', 'yen', 'mu', 'partialdiff', 'summation',\n    'product', 'pi', 'integral', 'ordfeminine', 'ordmasculine', 'Omega', 'ae', 'oslash', 'questiondown',\n    'exclamdown', 'logicalnot', 'radical', 'florin', 'approxequal', 'Delta', 'guillemotleft', 'guillemotright',\n    'ellipsis', 'nonbreakingspace', 'Agrave', 'Atilde', 'Otilde', 'OE', 'oe', 'endash', 'emdash', 'quotedblleft',\n    'quotedblright', 'quoteleft', 'quoteright', 'divide', 'lozenge', 'ydieresis', 'Ydieresis', 'fraction',\n    'currency', 'guilsinglleft', 'guilsinglright', 'fi', 'fl', 'daggerdbl', 'periodcentered', 'quotesinglbase',\n    'quotedblbase', 'perthousand', 'Acircumflex', 'Ecircumflex', 'Aacute', 'Edieresis', 'Egrave', 'Iacute',\n    'Icircumflex', 'Idieresis', 'Igrave', 'Oacute', 'Ocircumflex', 'apple', 'Ograve', 'Uacute', 'Ucircumflex',\n    'Ugrave', 'dotlessi', 'circumflex', 'tilde', 'macron', 'breve', 'dotaccent', 'ring', 'cedilla', 'hungarumlaut',\n    'ogonek', 'caron', 'Lslash', 'lslash', 'Scaron', 'scaron', 'Zcaron', 'zcaron', 'brokenbar', 'Eth', 'eth',\n    'Yacute', 'yacute', 'Thorn', 'thorn', 'minus', 'multiply', 'onesuperior', 'twosuperior', 'threesuperior',\n    'onehalf', 'onequarter', 'threequarters', 'franc', 'Gbreve', 'gbreve', 'Idotaccent', 'Scedilla', 'scedilla',\n    'Cacute', 'cacute', 'Ccaron', 'ccaron', 'dcroat'];\n\n/**\n * This is the encoding used for fonts created from scratch.\n * It loops through all glyphs and finds the appropriate unicode value.\n * Since it's linear time, other encodings will be faster.\n * @exports opentype.DefaultEncoding\n * @class\n * @constructor\n * @param {opentype.Font}\n */\nfunction DefaultEncoding(font) {\n    this.font = font;\n}\n\nDefaultEncoding.prototype.charToGlyphIndex = function(c) {\n    const code = c.charCodeAt(0);\n    const glyphs = this.font.glyphs;\n    if (glyphs) {\n        for (let i = 0; i < glyphs.length; i += 1) {\n            const glyph = glyphs.get(i);\n            for (let j = 0; j < glyph.unicodes.length; j += 1) {\n                if (glyph.unicodes[j] === code) {\n                    return i;\n                }\n            }\n        }\n    }\n    return null;\n};\n\n/**\n * @exports opentype.CmapEncoding\n * @class\n * @constructor\n * @param {Object} cmap - a object with the cmap encoded data\n */\nfunction CmapEncoding(cmap) {\n    this.cmap = cmap;\n}\n\n/**\n * @param  {string} c - the character\n * @return {number} The glyph index.\n */\nCmapEncoding.prototype.charToGlyphIndex = function(c) {\n    return this.cmap.glyphIndexMap[c.charCodeAt(0)] || 0;\n};\n\n/**\n * @exports opentype.CffEncoding\n * @class\n * @constructor\n * @param {string} encoding - The encoding\n * @param {Array} charset - The character set.\n */\nfunction CffEncoding(encoding, charset) {\n    this.encoding = encoding;\n    this.charset = charset;\n}\n\n/**\n * @param  {string} s - The character\n * @return {number} The index.\n */\nCffEncoding.prototype.charToGlyphIndex = function(s) {\n    const code = s.charCodeAt(0);\n    const charName = this.encoding[code];\n    return this.charset.indexOf(charName);\n};\n\n/**\n * @exports opentype.GlyphNames\n * @class\n * @constructor\n * @param {Object} post\n */\nfunction GlyphNames(post) {\n    switch (post.version) {\n        case 1:\n            this.names = standardNames.slice();\n            break;\n        case 2:\n            this.names = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                if (post.glyphNameIndex[i] < standardNames.length) {\n                    this.names[i] = standardNames[post.glyphNameIndex[i]];\n                } else {\n                    this.names[i] = post.names[post.glyphNameIndex[i] - standardNames.length];\n                }\n            }\n\n            break;\n        case 2.5:\n            this.names = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                this.names[i] = standardNames[i + post.glyphNameIndex[i]];\n            }\n\n            break;\n        case 3:\n            this.names = [];\n            break;\n        default:\n            this.names = [];\n            break;\n    }\n}\n\n/**\n * Gets the index of a glyph by name.\n * @param  {string} name - The glyph name\n * @return {number} The index\n */\nGlyphNames.prototype.nameToGlyphIndex = function(name) {\n    return this.names.indexOf(name);\n};\n\n/**\n * @param  {number} gid\n * @return {string}\n */\nGlyphNames.prototype.glyphIndexToName = function(gid) {\n    return this.names[gid];\n};\n\n/**\n * @alias opentype.addGlyphNames\n * @param {opentype.Font}\n */\nfunction addGlyphNames(font) {\n    let glyph;\n    const glyphIndexMap = font.tables.cmap.glyphIndexMap;\n    const charCodes = Object.keys(glyphIndexMap);\n\n    for (let i = 0; i < charCodes.length; i += 1) {\n        const c = charCodes[i];\n        const glyphIndex = glyphIndexMap[c];\n        glyph = font.glyphs.get(glyphIndex);\n        glyph.addUnicode(parseInt(c));\n    }\n\n    for (let i = 0; i < font.glyphs.length; i += 1) {\n        glyph = font.glyphs.get(i);\n        if (font.cffEncoding) {\n            if (font.isCIDFont) {\n                glyph.name = 'gid' + i;\n            } else {\n                glyph.name = font.cffEncoding.charset[i];\n            }\n        } else if (font.glyphNames.names) {\n            glyph.name = font.glyphNames.glyphIndexToName(i);\n        }\n    }\n}\n\nexport {\n    cffStandardStrings,\n    cffStandardEncoding,\n    cffExpertEncoding,\n    standardNames,\n    DefaultEncoding,\n    CmapEncoding,\n    CffEncoding,\n    GlyphNames,\n    addGlyphNames\n};\n","// Drawing utility functions.\n\n// Draw a line on the given context from point `x1,y1` to point `x2,y2`.\nfunction line(ctx, x1, y1, x2, y2) {\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n}\n\nexport default { line };\n","// The `glyf` table describes the glyphs in TrueType outline format.\n// http://www.microsoft.com/typography/otspec/glyf.htm\n\nimport check from '../check';\nimport glyphset from '../glyphset';\nimport parse from '../parse';\nimport Path from '../path';\n\n// Parse the coordinate data for a glyph.\nfunction parseGlyphCoordinate(p, flag, previousValue, shortVectorBitMask, sameBitMask) {\n    let v;\n    if ((flag & shortVectorBitMask) > 0) {\n        // The coordinate is 1 byte long.\n        v = p.parseByte();\n        // The `same` bit is re-used for short values to signify the sign of the value.\n        if ((flag & sameBitMask) === 0) {\n            v = -v;\n        }\n\n        v = previousValue + v;\n    } else {\n        //  The coordinate is 2 bytes long.\n        // If the `same` bit is set, the coordinate is the same as the previous coordinate.\n        if ((flag & sameBitMask) > 0) {\n            v = previousValue;\n        } else {\n            // Parse the coordinate as a signed 16-bit delta value.\n            v = previousValue + p.parseShort();\n        }\n    }\n\n    return v;\n}\n\n// Parse a TrueType glyph.\nfunction parseGlyph(glyph, data, start) {\n    const p = new parse.Parser(data, start);\n    glyph.numberOfContours = p.parseShort();\n    glyph._xMin = p.parseShort();\n    glyph._yMin = p.parseShort();\n    glyph._xMax = p.parseShort();\n    glyph._yMax = p.parseShort();\n    let flags;\n    let flag;\n\n    if (glyph.numberOfContours > 0) {\n        // This glyph is not a composite.\n        const endPointIndices = glyph.endPointIndices = [];\n        for (let i = 0; i < glyph.numberOfContours; i += 1) {\n            endPointIndices.push(p.parseUShort());\n        }\n\n        glyph.instructionLength = p.parseUShort();\n        glyph.instructions = [];\n        for (let i = 0; i < glyph.instructionLength; i += 1) {\n            glyph.instructions.push(p.parseByte());\n        }\n\n        const numberOfCoordinates = endPointIndices[endPointIndices.length - 1] + 1;\n        flags = [];\n        for (let i = 0; i < numberOfCoordinates; i += 1) {\n            flag = p.parseByte();\n            flags.push(flag);\n            // If bit 3 is set, we repeat this flag n times, where n is the next byte.\n            if ((flag & 8) > 0) {\n                const repeatCount = p.parseByte();\n                for (let j = 0; j < repeatCount; j += 1) {\n                    flags.push(flag);\n                    i += 1;\n                }\n            }\n        }\n\n        check.argument(flags.length === numberOfCoordinates, 'Bad flags.');\n\n        if (endPointIndices.length > 0) {\n            const points = [];\n            let point;\n            // X/Y coordinates are relative to the previous point, except for the first point which is relative to 0,0.\n            if (numberOfCoordinates > 0) {\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = {};\n                    point.onCurve = !!(flag & 1);\n                    point.lastPointOfContour = endPointIndices.indexOf(i) >= 0;\n                    points.push(point);\n                }\n\n                let px = 0;\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = points[i];\n                    point.x = parseGlyphCoordinate(p, flag, px, 2, 16);\n                    px = point.x;\n                }\n\n                let py = 0;\n                for (let i = 0; i < numberOfCoordinates; i += 1) {\n                    flag = flags[i];\n                    point = points[i];\n                    point.y = parseGlyphCoordinate(p, flag, py, 4, 32);\n                    py = point.y;\n                }\n            }\n\n            glyph.points = points;\n        } else {\n            glyph.points = [];\n        }\n    } else if (glyph.numberOfContours === 0) {\n        glyph.points = [];\n    } else {\n        glyph.isComposite = true;\n        glyph.points = [];\n        glyph.components = [];\n        let moreComponents = true;\n        while (moreComponents) {\n            flags = p.parseUShort();\n            const component = {\n                glyphIndex: p.parseUShort(),\n                xScale: 1,\n                scale01: 0,\n                scale10: 0,\n                yScale: 1,\n                dx: 0,\n                dy: 0\n            };\n            if ((flags & 1) > 0) {\n                // The arguments are words\n                if ((flags & 2) > 0) {\n                    // values are offset\n                    component.dx = p.parseShort();\n                    component.dy = p.parseShort();\n                } else {\n                    // values are matched points\n                    component.matchedPoints = [p.parseUShort(), p.parseUShort()];\n                }\n\n            } else {\n                // The arguments are bytes\n                if ((flags & 2) > 0) {\n                    // values are offset\n                    component.dx = p.parseChar();\n                    component.dy = p.parseChar();\n                } else {\n                    // values are matched points\n                    component.matchedPoints = [p.parseByte(), p.parseByte()];\n                }\n            }\n\n            if ((flags & 8) > 0) {\n                // We have a scale\n                component.xScale = component.yScale = p.parseF2Dot14();\n            } else if ((flags & 64) > 0) {\n                // We have an X / Y scale\n                component.xScale = p.parseF2Dot14();\n                component.yScale = p.parseF2Dot14();\n            } else if ((flags & 128) > 0) {\n                // We have a 2x2 transformation\n                component.xScale = p.parseF2Dot14();\n                component.scale01 = p.parseF2Dot14();\n                component.scale10 = p.parseF2Dot14();\n                component.yScale = p.parseF2Dot14();\n            }\n\n            glyph.components.push(component);\n            moreComponents = !!(flags & 32);\n        }\n        if (flags & 0x100) {\n            // We have instructions\n            glyph.instructionLength = p.parseUShort();\n            glyph.instructions = [];\n            for (let i = 0; i < glyph.instructionLength; i += 1) {\n                glyph.instructions.push(p.parseByte());\n            }\n        }\n    }\n}\n\n// Transform an array of points and return a new array.\nfunction transformPoints(points, transform) {\n    const newPoints = [];\n    for (let i = 0; i < points.length; i += 1) {\n        const pt = points[i];\n        const newPt = {\n            x: transform.xScale * pt.x + transform.scale01 * pt.y + transform.dx,\n            y: transform.scale10 * pt.x + transform.yScale * pt.y + transform.dy,\n            onCurve: pt.onCurve,\n            lastPointOfContour: pt.lastPointOfContour\n        };\n        newPoints.push(newPt);\n    }\n\n    return newPoints;\n}\n\nfunction getContours(points) {\n    const contours = [];\n    let currentContour = [];\n    for (let i = 0; i < points.length; i += 1) {\n        const pt = points[i];\n        currentContour.push(pt);\n        if (pt.lastPointOfContour) {\n            contours.push(currentContour);\n            currentContour = [];\n        }\n    }\n\n    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n    return contours;\n}\n\n// Convert the TrueType glyph outline to a Path.\nfunction getPath(points) {\n    const p = new Path();\n    if (!points) {\n        return p;\n    }\n\n    const contours = getContours(points);\n\n    for (let contourIndex = 0; contourIndex < contours.length; ++contourIndex) {\n        const contour = contours[contourIndex];\n\n        let prev = null;\n        let curr = contour[contour.length - 1];\n        let next = contour[0];\n\n        if (curr.onCurve) {\n            p.moveTo(curr.x, curr.y);\n        } else {\n            if (next.onCurve) {\n                p.moveTo(next.x, next.y);\n            } else {\n                // If both first and last points are off-curve, start at their middle.\n                const start = {x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5};\n                p.moveTo(start.x, start.y);\n            }\n        }\n\n        for (let i = 0; i < contour.length; ++i) {\n            prev = curr;\n            curr = next;\n            next = contour[(i + 1) % contour.length];\n\n            if (curr.onCurve) {\n                // This is a straight line.\n                p.lineTo(curr.x, curr.y);\n            } else {\n                let prev2 = prev;\n                let next2 = next;\n\n                if (!prev.onCurve) {\n                    prev2 = { x: (curr.x + prev.x) * 0.5, y: (curr.y + prev.y) * 0.5 };\n                    p.lineTo(prev2.x, prev2.y);\n                }\n\n                if (!next.onCurve) {\n                    next2 = { x: (curr.x + next.x) * 0.5, y: (curr.y + next.y) * 0.5 };\n                }\n\n                p.lineTo(prev2.x, prev2.y);\n                p.quadraticCurveTo(curr.x, curr.y, next2.x, next2.y);\n            }\n        }\n\n        p.closePath();\n    }\n    return p;\n}\n\nfunction buildPath(glyphs, glyph) {\n    if (glyph.isComposite) {\n        for (let j = 0; j < glyph.components.length; j += 1) {\n            const component = glyph.components[j];\n            const componentGlyph = glyphs.get(component.glyphIndex);\n            // Force the ttfGlyphLoader to parse the glyph.\n            componentGlyph.getPath();\n            if (componentGlyph.points) {\n                let transformedPoints;\n                if (component.matchedPoints === undefined) {\n                    // component positioned by offset\n                    transformedPoints = transformPoints(componentGlyph.points, component);\n                } else {\n                    // component positioned by matched points\n                    if ((component.matchedPoints[0] > glyph.points.length - 1) ||\n                        (component.matchedPoints[1] > componentGlyph.points.length - 1)) {\n                        throw Error('Matched points out of range in ' + glyph.name);\n                    }\n                    const firstPt = glyph.points[component.matchedPoints[0]];\n                    let secondPt = componentGlyph.points[component.matchedPoints[1]];\n                    const transform = {\n                        xScale: component.xScale, scale01: component.scale01,\n                        scale10: component.scale10, yScale: component.yScale,\n                        dx: 0, dy: 0\n                    };\n                    secondPt = transformPoints([secondPt], transform)[0];\n                    transform.dx = firstPt.x - secondPt.x;\n                    transform.dy = firstPt.y - secondPt.y;\n                    transformedPoints = transformPoints(componentGlyph.points, transform);\n                }\n                glyph.points = glyph.points.concat(transformedPoints);\n            }\n        }\n    }\n\n    return getPath(glyph.points);\n}\n\n// Parse all the glyphs according to the offsets from the `loca` table.\nfunction parseGlyfTable(data, start, loca, font) {\n    const glyphs = new glyphset.GlyphSet(font);\n\n    // The last element of the loca table is invalid.\n    for (let i = 0; i < loca.length - 1; i += 1) {\n        const offset = loca[i];\n        const nextOffset = loca[i + 1];\n        if (offset !== nextOffset) {\n            glyphs.push(i, glyphset.ttfGlyphLoader(font, i, parseGlyph, data, start + offset, buildPath));\n        } else {\n            glyphs.push(i, glyphset.glyphLoader(font, i));\n        }\n    }\n\n    return glyphs;\n}\n\nexport default { getPath, parse: parseGlyfTable };\n","// The Glyph object\n\nimport check from './check';\nimport draw from './draw';\nimport Path from './path';\nimport glyf from './tables/glyf';\n\nfunction getPathDefinition(glyph, path) {\n    let _path = path || {commands: []};\n    return {\n        configurable: true,\n\n        get: function() {\n            if (typeof _path === 'function') {\n                _path = _path();\n            }\n\n            return _path;\n        },\n\n        set: function(p) {\n            _path = p;\n        }\n    };\n}\n/**\n * @typedef GlyphOptions\n * @type Object\n * @property {string} [name] - The glyph name\n * @property {number} [unicode]\n * @property {Array} [unicodes]\n * @property {number} [xMin]\n * @property {number} [yMin]\n * @property {number} [xMax]\n * @property {number} [yMax]\n * @property {number} [advanceWidth]\n */\n\n// A Glyph is an individual mark that often corresponds to a character.\n// Some glyphs, such as ligatures, are a combination of many characters.\n// Glyphs are the basic building blocks of a font.\n//\n// The `Glyph` class contains utility methods for drawing the path and its points.\n/**\n * @exports opentype.Glyph\n * @class\n * @param {GlyphOptions}\n * @constructor\n */\nfunction Glyph(options) {\n    // By putting all the code on a prototype function (which is only declared once)\n    // we reduce the memory requirements for larger fonts by some 2%\n    this.bindConstructorValues(options);\n}\n\n/**\n * @param  {GlyphOptions}\n */\nGlyph.prototype.bindConstructorValues = function(options) {\n    this.index = options.index || 0;\n\n    // These three values cannot be deferred for memory optimization:\n    this.name = options.name || null;\n    this.unicode = options.unicode || undefined;\n    this.unicodes = options.unicodes || options.unicode !== undefined ? [options.unicode] : [];\n\n    // But by binding these values only when necessary, we reduce can\n    // the memory requirements by almost 3% for larger fonts.\n    if (options.xMin) {\n        this.xMin = options.xMin;\n    }\n\n    if (options.yMin) {\n        this.yMin = options.yMin;\n    }\n\n    if (options.xMax) {\n        this.xMax = options.xMax;\n    }\n\n    if (options.yMax) {\n        this.yMax = options.yMax;\n    }\n\n    if (options.advanceWidth) {\n        this.advanceWidth = options.advanceWidth;\n    }\n\n    // The path for a glyph is the most memory intensive, and is bound as a value\n    // with a getter/setter to ensure we actually do path parsing only once the\n    // path is actually needed by anything.\n    Object.defineProperty(this, 'path', getPathDefinition(this, options.path));\n};\n\n/**\n * @param {number}\n */\nGlyph.prototype.addUnicode = function(unicode) {\n    if (this.unicodes.length === 0) {\n        this.unicode = unicode;\n    }\n\n    this.unicodes.push(unicode);\n};\n\n/**\n * Calculate the minimum bounding box for this glyph.\n * @return {opentype.BoundingBox}\n */\nGlyph.prototype.getBoundingBox = function() {\n    return this.path.getBoundingBox();\n};\n\n/**\n * Convert the glyph to a Path we can draw on a drawing context.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {Object=} options - xScale, yScale to stretch the glyph.\n * @param  {opentype.Font} if hinting is to be used, the font\n * @return {opentype.Path}\n */\nGlyph.prototype.getPath = function(x, y, fontSize, options, font) {\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 72;\n    let commands;\n    let hPoints;\n    if (!options) options = { };\n    let xScale = options.xScale;\n    let yScale = options.yScale;\n\n    if (options.hinting && font && font.hinting) {\n        // in case of hinting, the hinting engine takes care\n        // of scaling the points (not the path) before hinting.\n        hPoints = this.path && font.hinting.exec(this, fontSize);\n        // in case the hinting engine failed hPoints is undefined\n        // and thus reverts to plain rending\n    }\n\n    if (hPoints) {\n        commands = glyf.getPath(hPoints).commands;\n        x = Math.round(x);\n        y = Math.round(y);\n        // TODO in case of hinting xyScaling is not yet supported\n        xScale = yScale = 1;\n    } else {\n        commands = this.path.commands;\n        const scale = 1 / this.path.unitsPerEm * fontSize;\n        if (xScale === undefined) xScale = scale;\n        if (yScale === undefined) yScale = scale;\n    }\n\n    const p = new Path();\n    for (let i = 0; i < commands.length; i += 1) {\n        const cmd = commands[i];\n        if (cmd.type === 'M') {\n            p.moveTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'L') {\n            p.lineTo(x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'Q') {\n            p.quadraticCurveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n                               x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'C') {\n            p.curveTo(x + (cmd.x1 * xScale), y + (-cmd.y1 * yScale),\n                      x + (cmd.x2 * xScale), y + (-cmd.y2 * yScale),\n                      x + (cmd.x * xScale), y + (-cmd.y * yScale));\n        } else if (cmd.type === 'Z') {\n            p.closePath();\n        }\n    }\n\n    return p;\n};\n\n/**\n * Split the glyph into contours.\n * This function is here for backwards compatibility, and to\n * provide raw access to the TrueType glyph outlines.\n * @return {Array}\n */\nGlyph.prototype.getContours = function() {\n    if (this.points === undefined) {\n        return [];\n    }\n\n    const contours = [];\n    let currentContour = [];\n    for (let i = 0; i < this.points.length; i += 1) {\n        const pt = this.points[i];\n        currentContour.push(pt);\n        if (pt.lastPointOfContour) {\n            contours.push(currentContour);\n            currentContour = [];\n        }\n    }\n\n    check.argument(currentContour.length === 0, 'There are still points left in the current contour.');\n    return contours;\n};\n\n/**\n * Calculate the xMin/yMin/xMax/yMax/lsb/rsb for a Glyph.\n * @return {Object}\n */\nGlyph.prototype.getMetrics = function() {\n    const commands = this.path.commands;\n    const xCoords = [];\n    const yCoords = [];\n    for (let i = 0; i < commands.length; i += 1) {\n        const cmd = commands[i];\n        if (cmd.type !== 'Z') {\n            xCoords.push(cmd.x);\n            yCoords.push(cmd.y);\n        }\n\n        if (cmd.type === 'Q' || cmd.type === 'C') {\n            xCoords.push(cmd.x1);\n            yCoords.push(cmd.y1);\n        }\n\n        if (cmd.type === 'C') {\n            xCoords.push(cmd.x2);\n            yCoords.push(cmd.y2);\n        }\n    }\n\n    const metrics = {\n        xMin: Math.min.apply(null, xCoords),\n        yMin: Math.min.apply(null, yCoords),\n        xMax: Math.max.apply(null, xCoords),\n        yMax: Math.max.apply(null, yCoords),\n        leftSideBearing: this.leftSideBearing\n    };\n\n    if (!isFinite(metrics.xMin)) {\n        metrics.xMin = 0;\n    }\n\n    if (!isFinite(metrics.xMax)) {\n        metrics.xMax = this.advanceWidth;\n    }\n\n    if (!isFinite(metrics.yMin)) {\n        metrics.yMin = 0;\n    }\n\n    if (!isFinite(metrics.yMax)) {\n        metrics.yMax = 0;\n    }\n\n    metrics.rightSideBearing = this.advanceWidth - metrics.leftSideBearing - (metrics.xMax - metrics.xMin);\n    return metrics;\n};\n\n/**\n * Draw the glyph on the given context.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {Object=} options - xScale, yScale to stretch the glyph.\n */\nGlyph.prototype.draw = function(ctx, x, y, fontSize, options) {\n    this.getPath(x, y, fontSize, options).draw(ctx);\n};\n\n/**\n * Draw the points of the glyph.\n * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n */\nGlyph.prototype.drawPoints = function(ctx, x, y, fontSize) {\n    function drawCircles(l, x, y, scale) {\n        const PI_SQ = Math.PI * 2;\n        ctx.beginPath();\n        for (let j = 0; j < l.length; j += 1) {\n            ctx.moveTo(x + (l[j].x * scale), y + (l[j].y * scale));\n            ctx.arc(x + (l[j].x * scale), y + (l[j].y * scale), 2, 0, PI_SQ, false);\n        }\n\n        ctx.closePath();\n        ctx.fill();\n    }\n\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 24;\n    const scale = 1 / this.path.unitsPerEm * fontSize;\n\n    const blueCircles = [];\n    const redCircles = [];\n    const path = this.path;\n    for (let i = 0; i < path.commands.length; i += 1) {\n        const cmd = path.commands[i];\n        if (cmd.x !== undefined) {\n            blueCircles.push({x: cmd.x, y: -cmd.y});\n        }\n\n        if (cmd.x1 !== undefined) {\n            redCircles.push({x: cmd.x1, y: -cmd.y1});\n        }\n\n        if (cmd.x2 !== undefined) {\n            redCircles.push({x: cmd.x2, y: -cmd.y2});\n        }\n    }\n\n    ctx.fillStyle = 'blue';\n    drawCircles(blueCircles, x, y, scale);\n    ctx.fillStyle = 'red';\n    drawCircles(redCircles, x, y, scale);\n};\n\n/**\n * Draw lines indicating important font measurements.\n * Black lines indicate the origin of the coordinate system (point 0,0).\n * Blue lines indicate the glyph bounding box.\n * Green line indicates the advance width of the glyph.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n */\nGlyph.prototype.drawMetrics = function(ctx, x, y, fontSize) {\n    let scale;\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 24;\n    scale = 1 / this.path.unitsPerEm * fontSize;\n    ctx.lineWidth = 1;\n\n    // Draw the origin\n    ctx.strokeStyle = 'black';\n    draw.line(ctx, x, -10000, x, 10000);\n    draw.line(ctx, -10000, y, 10000, y);\n\n    // This code is here due to memory optimization: by not using\n    // defaults in the constructor, we save a notable amount of memory.\n    const xMin = this.xMin || 0;\n    let yMin = this.yMin || 0;\n    const xMax = this.xMax || 0;\n    let yMax = this.yMax || 0;\n    const advanceWidth = this.advanceWidth || 0;\n\n    // Draw the glyph box\n    ctx.strokeStyle = 'blue';\n    draw.line(ctx, x + (xMin * scale), -10000, x + (xMin * scale), 10000);\n    draw.line(ctx, x + (xMax * scale), -10000, x + (xMax * scale), 10000);\n    draw.line(ctx, -10000, y + (-yMin * scale), 10000, y + (-yMin * scale));\n    draw.line(ctx, -10000, y + (-yMax * scale), 10000, y + (-yMax * scale));\n\n    // Draw the advance width\n    ctx.strokeStyle = 'green';\n    draw.line(ctx, x + (advanceWidth * scale), -10000, x + (advanceWidth * scale), 10000);\n};\n\nexport default Glyph;\n","// The GlyphSet object\n\nimport Glyph from './glyph';\n\n// Define a property on the glyph that depends on the path being loaded.\nfunction defineDependentProperty(glyph, externalName, internalName) {\n    Object.defineProperty(glyph, externalName, {\n        get: function() {\n            // Request the path property to make sure the path is loaded.\n            glyph.path; // jshint ignore:line\n            return glyph[internalName];\n        },\n        set: function(newValue) {\n            glyph[internalName] = newValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n}\n\n/**\n * A GlyphSet represents all glyphs available in the font, but modelled using\n * a deferred glyph loader, for retrieving glyphs only once they are absolutely\n * necessary, to keep the memory footprint down.\n * @exports opentype.GlyphSet\n * @class\n * @param {opentype.Font}\n * @param {Array}\n */\nfunction GlyphSet(font, glyphs) {\n    this.font = font;\n    this.glyphs = {};\n    if (Array.isArray(glyphs)) {\n        for (let i = 0; i < glyphs.length; i++) {\n            this.glyphs[i] = glyphs[i];\n        }\n    }\n\n    this.length = (glyphs && glyphs.length) || 0;\n}\n\n/**\n * @param  {number} index\n * @return {opentype.Glyph}\n */\nGlyphSet.prototype.get = function(index) {\n    if (typeof this.glyphs[index] === 'function') {\n        this.glyphs[index] = this.glyphs[index]();\n    }\n\n    return this.glyphs[index];\n};\n\n/**\n * @param  {number} index\n * @param  {Object}\n */\nGlyphSet.prototype.push = function(index, loader) {\n    this.glyphs[index] = loader;\n    this.length++;\n};\n\n/**\n * @alias opentype.glyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @return {opentype.Glyph}\n */\nfunction glyphLoader(font, index) {\n    return new Glyph({index: index, font: font});\n}\n\n/**\n * Generate a stub glyph that can be filled with all metadata *except*\n * the \"points\" and \"path\" properties, which must be loaded only once\n * the glyph's path is actually requested for text shaping.\n * @alias opentype.ttfGlyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @param  {Function} parseGlyph\n * @param  {Object} data\n * @param  {number} position\n * @param  {Function} buildPath\n * @return {opentype.Glyph}\n */\nfunction ttfGlyphLoader(font, index, parseGlyph, data, position, buildPath) {\n    return function() {\n        const glyph = new Glyph({index: index, font: font});\n\n        glyph.path = function() {\n            parseGlyph(glyph, data, position);\n            const path = buildPath(font.glyphs, glyph);\n            path.unitsPerEm = font.unitsPerEm;\n            return path;\n        };\n\n        defineDependentProperty(glyph, 'xMin', '_xMin');\n        defineDependentProperty(glyph, 'xMax', '_xMax');\n        defineDependentProperty(glyph, 'yMin', '_yMin');\n        defineDependentProperty(glyph, 'yMax', '_yMax');\n\n        return glyph;\n    };\n}\n/**\n * @alias opentype.cffGlyphLoader\n * @param  {opentype.Font} font\n * @param  {number} index\n * @param  {Function} parseCFFCharstring\n * @param  {string} charstring\n * @return {opentype.Glyph}\n */\nfunction cffGlyphLoader(font, index, parseCFFCharstring, charstring) {\n    return function() {\n        const glyph = new Glyph({index: index, font: font});\n\n        glyph.path = function() {\n            const path = parseCFFCharstring(font, glyph, charstring);\n            path.unitsPerEm = font.unitsPerEm;\n            return path;\n        };\n\n        return glyph;\n    };\n}\n\nexport default { GlyphSet, glyphLoader, ttfGlyphLoader, cffGlyphLoader };\n","// The `CFF` table contains the glyph outlines in PostScript format.\n// https://www.microsoft.com/typography/OTSPEC/cff.htm\n// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/cff.pdf\n// http://download.microsoft.com/download/8/0/1/801a191c-029d-4af3-9642-555f6fe514ee/type2.pdf\n\nimport { CffEncoding, cffStandardEncoding, cffExpertEncoding, cffStandardStrings } from '../encoding';\nimport glyphset from '../glyphset';\nimport parse from '../parse';\nimport Path from '../path';\nimport table from '../table';\n\n// Custom equals function that can also check lists.\nfunction equals(a, b) {\n    if (a === b) {\n        return true;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return false;\n        }\n\n        for (let i = 0; i < a.length; i += 1) {\n            if (!equals(a[i], b[i])) {\n                return false;\n            }\n        }\n\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// Subroutines are encoded using the negative half of the number space.\n// See type 2 chapter 4.7 \"Subroutine operators\".\nfunction calcCFFSubroutineBias(subrs) {\n    let bias;\n    if (subrs.length < 1240) {\n        bias = 107;\n    } else if (subrs.length < 33900) {\n        bias = 1131;\n    } else {\n        bias = 32768;\n    }\n\n    return bias;\n}\n\n// Parse a `CFF` INDEX array.\n// An index array consists of a list of offsets, then a list of objects at those offsets.\nfunction parseCFFIndex(data, start, conversionFn) {\n    const offsets = [];\n    const objects = [];\n    const count = parse.getCard16(data, start);\n    let objectOffset;\n    let endOffset;\n    if (count !== 0) {\n        const offsetSize = parse.getByte(data, start + 2);\n        objectOffset = start + ((count + 1) * offsetSize) + 2;\n        let pos = start + 3;\n        for (let i = 0; i < count + 1; i += 1) {\n            offsets.push(parse.getOffset(data, pos, offsetSize));\n            pos += offsetSize;\n        }\n\n        // The total size of the index array is 4 header bytes + the value of the last offset.\n        endOffset = objectOffset + offsets[count];\n    } else {\n        endOffset = start + 2;\n    }\n\n    for (let i = 0; i < offsets.length - 1; i += 1) {\n        let value = parse.getBytes(data, objectOffset + offsets[i], objectOffset + offsets[i + 1]);\n        if (conversionFn) {\n            value = conversionFn(value);\n        }\n\n        objects.push(value);\n    }\n\n    return {objects: objects, startOffset: start, endOffset: endOffset};\n}\n\n// Parse a `CFF` DICT real value.\nfunction parseFloatOperand(parser) {\n    let s = '';\n    const eof = 15;\n    const lookup = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.', 'E', 'E-', null, '-'];\n    while (true) {\n        const b = parser.parseByte();\n        const n1 = b >> 4;\n        const n2 = b & 15;\n\n        if (n1 === eof) {\n            break;\n        }\n\n        s += lookup[n1];\n\n        if (n2 === eof) {\n            break;\n        }\n\n        s += lookup[n2];\n    }\n\n    return parseFloat(s);\n}\n\n// Parse a `CFF` DICT operand.\nfunction parseOperand(parser, b0) {\n    let b1;\n    let b2;\n    let b3;\n    let b4;\n    if (b0 === 28) {\n        b1 = parser.parseByte();\n        b2 = parser.parseByte();\n        return b1 << 8 | b2;\n    }\n\n    if (b0 === 29) {\n        b1 = parser.parseByte();\n        b2 = parser.parseByte();\n        b3 = parser.parseByte();\n        b4 = parser.parseByte();\n        return b1 << 24 | b2 << 16 | b3 << 8 | b4;\n    }\n\n    if (b0 === 30) {\n        return parseFloatOperand(parser);\n    }\n\n    if (b0 >= 32 && b0 <= 246) {\n        return b0 - 139;\n    }\n\n    if (b0 >= 247 && b0 <= 250) {\n        b1 = parser.parseByte();\n        return (b0 - 247) * 256 + b1 + 108;\n    }\n\n    if (b0 >= 251 && b0 <= 254) {\n        b1 = parser.parseByte();\n        return -(b0 - 251) * 256 - b1 - 108;\n    }\n\n    throw new Error('Invalid b0 ' + b0);\n}\n\n// Convert the entries returned by `parseDict` to a proper dictionary.\n// If a value is a list of one, it is unpacked.\nfunction entriesToObject(entries) {\n    const o = {};\n    for (let i = 0; i < entries.length; i += 1) {\n        const key = entries[i][0];\n        const values = entries[i][1];\n        let value;\n        if (values.length === 1) {\n            value = values[0];\n        } else {\n            value = values;\n        }\n\n        if (o.hasOwnProperty(key) && !isNaN(o[key])) {\n            throw new Error('Object ' + o + ' already has key ' + key);\n        }\n\n        o[key] = value;\n    }\n\n    return o;\n}\n\n// Parse a `CFF` DICT object.\n// A dictionary contains key-value pairs in a compact tokenized format.\nfunction parseCFFDict(data, start, size) {\n    start = start !== undefined ? start : 0;\n    const parser = new parse.Parser(data, start);\n    const entries = [];\n    let operands = [];\n    size = size !== undefined ? size : data.length;\n\n    while (parser.relativeOffset < size) {\n        let op = parser.parseByte();\n\n        // The first byte for each dict item distinguishes between operator (key) and operand (value).\n        // Values <= 21 are operators.\n        if (op <= 21) {\n            // Two-byte operators have an initial escape byte of 12.\n            if (op === 12) {\n                op = 1200 + parser.parseByte();\n            }\n\n            entries.push([op, operands]);\n            operands = [];\n        } else {\n            // Since the operands (values) come before the operators (keys), we store all operands in a list\n            // until we encounter an operator.\n            operands.push(parseOperand(parser, op));\n        }\n    }\n\n    return entriesToObject(entries);\n}\n\n// Given a String Index (SID), return the value of the string.\n// Strings below index 392 are standard CFF strings and are not encoded in the font.\nfunction getCFFString(strings, index) {\n    if (index <= 390) {\n        index = cffStandardStrings[index];\n    } else {\n        index = strings[index - 391];\n    }\n\n    return index;\n}\n\n// Interpret a dictionary and return a new dictionary with readable keys and values for missing entries.\n// This function takes `meta` which is a list of objects containing `operand`, `name` and `default`.\nfunction interpretDict(dict, meta, strings) {\n    const newDict = {};\n    let value;\n\n    // Because we also want to include missing values, we start out from the meta list\n    // and lookup values in the dict.\n    for (let i = 0; i < meta.length; i += 1) {\n        const m = meta[i];\n\n        if (Array.isArray(m.type)) {\n            const values = [];\n            values.length = m.type.length;\n            for (let j = 0; j < m.type.length; j++) {\n                value = dict[m.op] !== undefined ? dict[m.op][j] : undefined;\n                if (value === undefined) {\n                    value = m.value !== undefined && m.value[j] !== undefined ? m.value[j] : null;\n                }\n                if (m.type[j] === 'SID') {\n                    value = getCFFString(strings, value);\n                }\n                values[j] = value;\n            }\n            newDict[m.name] = values;\n        } else {\n            value = dict[m.op];\n            if (value === undefined) {\n                value = m.value !== undefined ? m.value : null;\n            }\n\n            if (m.type === 'SID') {\n                value = getCFFString(strings, value);\n            }\n            newDict[m.name] = value;\n        }\n    }\n\n    return newDict;\n}\n\n// Parse the CFF header.\nfunction parseCFFHeader(data, start) {\n    const header = {};\n    header.formatMajor = parse.getCard8(data, start);\n    header.formatMinor = parse.getCard8(data, start + 1);\n    header.size = parse.getCard8(data, start + 2);\n    header.offsetSize = parse.getCard8(data, start + 3);\n    header.startOffset = start;\n    header.endOffset = start + 4;\n    return header;\n}\n\nconst TOP_DICT_META = [\n    {name: 'version', op: 0, type: 'SID'},\n    {name: 'notice', op: 1, type: 'SID'},\n    {name: 'copyright', op: 1200, type: 'SID'},\n    {name: 'fullName', op: 2, type: 'SID'},\n    {name: 'familyName', op: 3, type: 'SID'},\n    {name: 'weight', op: 4, type: 'SID'},\n    {name: 'isFixedPitch', op: 1201, type: 'number', value: 0},\n    {name: 'italicAngle', op: 1202, type: 'number', value: 0},\n    {name: 'underlinePosition', op: 1203, type: 'number', value: -100},\n    {name: 'underlineThickness', op: 1204, type: 'number', value: 50},\n    {name: 'paintType', op: 1205, type: 'number', value: 0},\n    {name: 'charstringType', op: 1206, type: 'number', value: 2},\n    {\n        name: 'fontMatrix',\n        op: 1207,\n        type: ['real', 'real', 'real', 'real', 'real', 'real'],\n        value: [0.001, 0, 0, 0.001, 0, 0]\n    },\n    {name: 'uniqueId', op: 13, type: 'number'},\n    {name: 'fontBBox', op: 5, type: ['number', 'number', 'number', 'number'], value: [0, 0, 0, 0]},\n    {name: 'strokeWidth', op: 1208, type: 'number', value: 0},\n    {name: 'xuid', op: 14, type: [], value: null},\n    {name: 'charset', op: 15, type: 'offset', value: 0},\n    {name: 'encoding', op: 16, type: 'offset', value: 0},\n    {name: 'charStrings', op: 17, type: 'offset', value: 0},\n    {name: 'private', op: 18, type: ['number', 'offset'], value: [0, 0]},\n    {name: 'ros', op: 1230, type: ['SID', 'SID', 'number']},\n    {name: 'cidFontVersion', op: 1231, type: 'number', value: 0},\n    {name: 'cidFontRevision', op: 1232, type: 'number', value: 0},\n    {name: 'cidFontType', op: 1233, type: 'number', value: 0},\n    {name: 'cidCount', op: 1234, type: 'number', value: 8720},\n    {name: 'uidBase', op: 1235, type: 'number'},\n    {name: 'fdArray', op: 1236, type: 'offset'},\n    {name: 'fdSelect', op: 1237, type: 'offset'},\n    {name: 'fontName', op: 1238, type: 'SID'}\n];\n\nconst PRIVATE_DICT_META = [\n    {name: 'subrs', op: 19, type: 'offset', value: 0},\n    {name: 'defaultWidthX', op: 20, type: 'number', value: 0},\n    {name: 'nominalWidthX', op: 21, type: 'number', value: 0}\n];\n\n// Parse the CFF top dictionary. A CFF table can contain multiple fonts, each with their own top dictionary.\n// The top dictionary contains the essential metadata for the font, together with the private dictionary.\nfunction parseCFFTopDict(data, strings) {\n    const dict = parseCFFDict(data, 0, data.byteLength);\n    return interpretDict(dict, TOP_DICT_META, strings);\n}\n\n// Parse the CFF private dictionary. We don't fully parse out all the values, only the ones we need.\nfunction parseCFFPrivateDict(data, start, size, strings) {\n    const dict = parseCFFDict(data, start, size);\n    return interpretDict(dict, PRIVATE_DICT_META, strings);\n}\n\n// Returns a list of \"Top DICT\"s found using an INDEX list.\n// Used to read both the usual high-level Top DICTs and also the FDArray\n// discovered inside CID-keyed fonts.  When a Top DICT has a reference to\n// a Private DICT that is read and saved into the Top DICT.\n//\n// In addition to the expected/optional values as outlined in TOP_DICT_META\n// the following values might be saved into the Top DICT.\n//\n//    _subrs []        array of local CFF subroutines from Private DICT\n//    _subrsBias       bias value computed from number of subroutines\n//                      (see calcCFFSubroutineBias() and parseCFFCharstring())\n//    _defaultWidthX   default widths for CFF characters\n//    _nominalWidthX   bias added to width embedded within glyph description\n//\n//    _privateDict     saved copy of parsed Private DICT from Top DICT\nfunction gatherCFFTopDicts(data, start, cffIndex, strings) {\n    const topDictArray = [];\n    for (let iTopDict = 0; iTopDict < cffIndex.length; iTopDict += 1) {\n        const topDictData = new DataView(new Uint8Array(cffIndex[iTopDict]).buffer);\n        const topDict = parseCFFTopDict(topDictData, strings);\n        topDict._subrs = [];\n        topDict._subrsBias = 0;\n        const privateSize = topDict.private[0];\n        const privateOffset = topDict.private[1];\n        if (privateSize !== 0 && privateOffset !== 0) {\n            const privateDict = parseCFFPrivateDict(data, privateOffset + start, privateSize, strings);\n            topDict._defaultWidthX = privateDict.defaultWidthX;\n            topDict._nominalWidthX = privateDict.nominalWidthX;\n            if (privateDict.subrs !== 0) {\n                const subrOffset = privateOffset + privateDict.subrs;\n                const subrIndex = parseCFFIndex(data, subrOffset + start);\n                topDict._subrs = subrIndex.objects;\n                topDict._subrsBias = calcCFFSubroutineBias(topDict._subrs);\n            }\n            topDict._privateDict = privateDict;\n        }\n        topDictArray.push(topDict);\n    }\n    return topDictArray;\n}\n\n// Parse the CFF charset table, which contains internal names for all the glyphs.\n// This function will return a list of glyph names.\n// See Adobe TN #5176 chapter 13, \"Charsets\".\nfunction parseCFFCharset(data, start, nGlyphs, strings) {\n    let sid;\n    let count;\n    const parser = new parse.Parser(data, start);\n\n    // The .notdef glyph is not included, so subtract 1.\n    nGlyphs -= 1;\n    const charset = ['.notdef'];\n\n    const format = parser.parseCard8();\n    if (format === 0) {\n        for (let i = 0; i < nGlyphs; i += 1) {\n            sid = parser.parseSID();\n            charset.push(getCFFString(strings, sid));\n        }\n    } else if (format === 1) {\n        while (charset.length <= nGlyphs) {\n            sid = parser.parseSID();\n            count = parser.parseCard8();\n            for (let i = 0; i <= count; i += 1) {\n                charset.push(getCFFString(strings, sid));\n                sid += 1;\n            }\n        }\n    } else if (format === 2) {\n        while (charset.length <= nGlyphs) {\n            sid = parser.parseSID();\n            count = parser.parseCard16();\n            for (let i = 0; i <= count; i += 1) {\n                charset.push(getCFFString(strings, sid));\n                sid += 1;\n            }\n        }\n    } else {\n        throw new Error('Unknown charset format ' + format);\n    }\n\n    return charset;\n}\n\n// Parse the CFF encoding data. Only one encoding can be specified per font.\n// See Adobe TN #5176 chapter 12, \"Encodings\".\nfunction parseCFFEncoding(data, start, charset) {\n    let code;\n    const enc = {};\n    const parser = new parse.Parser(data, start);\n    const format = parser.parseCard8();\n    if (format === 0) {\n        const nCodes = parser.parseCard8();\n        for (let i = 0; i < nCodes; i += 1) {\n            code = parser.parseCard8();\n            enc[code] = i;\n        }\n    } else if (format === 1) {\n        const nRanges = parser.parseCard8();\n        code = 1;\n        for (let i = 0; i < nRanges; i += 1) {\n            const first = parser.parseCard8();\n            const nLeft = parser.parseCard8();\n            for (let j = first; j <= first + nLeft; j += 1) {\n                enc[j] = code;\n                code += 1;\n            }\n        }\n    } else {\n        throw new Error('Unknown encoding format ' + format);\n    }\n\n    return new CffEncoding(enc, charset);\n}\n\n// Take in charstring code and return a Glyph object.\n// The encoding is described in the Type 2 Charstring Format\n// https://www.microsoft.com/typography/OTSPEC/charstr2.htm\nfunction parseCFFCharstring(font, glyph, code) {\n    let c1x;\n    let c1y;\n    let c2x;\n    let c2y;\n    const p = new Path();\n    const stack = [];\n    let nStems = 0;\n    let haveWidth = false;\n    let open = false;\n    let x = 0;\n    let y = 0;\n    let subrs;\n    let subrsBias;\n    let defaultWidthX;\n    let nominalWidthX;\n    if (font.isCIDFont) {\n        const fdIndex = font.tables.cff.topDict._fdSelect[glyph.index];\n        const fdDict = font.tables.cff.topDict._fdArray[fdIndex];\n        subrs = fdDict._subrs;\n        subrsBias = fdDict._subrsBias;\n        defaultWidthX = fdDict._defaultWidthX;\n        nominalWidthX = fdDict._nominalWidthX;\n    } else {\n        subrs = font.tables.cff.topDict._subrs;\n        subrsBias = font.tables.cff.topDict._subrsBias;\n        defaultWidthX = font.tables.cff.topDict._defaultWidthX;\n        nominalWidthX = font.tables.cff.topDict._nominalWidthX;\n    }\n    let width = defaultWidthX;\n\n    function newContour(x, y) {\n        if (open) {\n            p.closePath();\n        }\n\n        p.moveTo(x, y);\n        open = true;\n    }\n\n    function parseStems() {\n        let hasWidthArg;\n\n        // The number of stem operators on the stack is always even.\n        // If the value is uneven, that means a width is specified.\n        hasWidthArg = stack.length % 2 !== 0;\n        if (hasWidthArg && !haveWidth) {\n            width = stack.shift() + nominalWidthX;\n        }\n\n        nStems += stack.length >> 1;\n        stack.length = 0;\n        haveWidth = true;\n    }\n\n    function parse(code) {\n        let b1;\n        let b2;\n        let b3;\n        let b4;\n        let codeIndex;\n        let subrCode;\n        let jpx;\n        let jpy;\n        let c3x;\n        let c3y;\n        let c4x;\n        let c4y;\n\n        let i = 0;\n        while (i < code.length) {\n            let v = code[i];\n            i += 1;\n            switch (v) {\n                case 1: // hstem\n                    parseStems();\n                    break;\n                case 3: // vstem\n                    parseStems();\n                    break;\n                case 4: // vmoveto\n                    if (stack.length > 1 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    y += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 5: // rlineto\n                    while (stack.length > 0) {\n                        x += stack.shift();\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 6: // hlineto\n                    while (stack.length > 0) {\n                        x += stack.shift();\n                        p.lineTo(x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 7: // vlineto\n                    while (stack.length > 0) {\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        x += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    break;\n                case 8: // rrcurveto\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 10: // callsubr\n                    codeIndex = stack.pop() + subrsBias;\n                    subrCode = subrs[codeIndex];\n                    if (subrCode) {\n                        parse(subrCode);\n                    }\n\n                    break;\n                case 11: // return\n                    return;\n                case 12: // flex operators\n                    v = code[i];\n                    i += 1;\n                    switch (v) {\n                        case 35: // flex\n                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 dx6 dy6 fd flex (12 35) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y + stack.shift();    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = jpy + stack.shift();    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            x = c4x   + stack.shift();    // dx6\n                            y = c4y   + stack.shift();    // dy6\n                            stack.shift();                // flex depth\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 34: // hflex\n                            // |- dx1 dx2 dy2 dx3 dx4 dx5 dx6 hflex (12 34) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y;                      // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y;                    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = c2y;                    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = y;                      // dy5\n                            x = c4x + stack.shift();      // dx6\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 36: // hflex1\n                            // |- dx1 dy1 dx2 dy2 dx3 dx4 dx5 dy5 dx6 hflex1 (12 36) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y;                    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = c2y;                    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            x = c4x + stack.shift();      // dx6\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        case 37: // flex1\n                            // |- dx1 dy1 dx2 dy2 dx3 dy3 dx4 dy4 dx5 dy5 d6 flex1 (12 37) |-\n                            c1x = x   + stack.shift();    // dx1\n                            c1y = y   + stack.shift();    // dy1\n                            c2x = c1x + stack.shift();    // dx2\n                            c2y = c1y + stack.shift();    // dy2\n                            jpx = c2x + stack.shift();    // dx3\n                            jpy = c2y + stack.shift();    // dy3\n                            c3x = jpx + stack.shift();    // dx4\n                            c3y = jpy + stack.shift();    // dy4\n                            c4x = c3x + stack.shift();    // dx5\n                            c4y = c3y + stack.shift();    // dy5\n                            if (Math.abs(c4x - x) > Math.abs(c4y - y)) {\n                                x = c4x + stack.shift();\n                            } else {\n                                y = c4y + stack.shift();\n                            }\n\n                            p.curveTo(c1x, c1y, c2x, c2y, jpx, jpy);\n                            p.curveTo(c3x, c3y, c4x, c4y, x, y);\n                            break;\n                        default:\n                            console.log('Glyph ' + glyph.index + ': unknown operator ' + 1200 + v);\n                            stack.length = 0;\n                    }\n                    break;\n                case 14: // endchar\n                    if (stack.length > 0 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    if (open) {\n                        p.closePath();\n                        open = false;\n                    }\n\n                    break;\n                case 18: // hstemhm\n                    parseStems();\n                    break;\n                case 19: // hintmask\n                case 20: // cntrmask\n                    parseStems();\n                    i += (nStems + 7) >> 3;\n                    break;\n                case 21: // rmoveto\n                    if (stack.length > 2 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    y += stack.pop();\n                    x += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 22: // hmoveto\n                    if (stack.length > 1 && !haveWidth) {\n                        width = stack.shift() + nominalWidthX;\n                        haveWidth = true;\n                    }\n\n                    x += stack.pop();\n                    newContour(x, y);\n                    break;\n                case 23: // vstemhm\n                    parseStems();\n                    break;\n                case 24: // rcurveline\n                    while (stack.length > 2) {\n                        c1x = x + stack.shift();\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    x += stack.shift();\n                    y += stack.shift();\n                    p.lineTo(x, y);\n                    break;\n                case 25: // rlinecurve\n                    while (stack.length > 6) {\n                        x += stack.shift();\n                        y += stack.shift();\n                        p.lineTo(x, y);\n                    }\n\n                    c1x = x + stack.shift();\n                    c1y = y + stack.shift();\n                    c2x = c1x + stack.shift();\n                    c2y = c1y + stack.shift();\n                    x = c2x + stack.shift();\n                    y = c2y + stack.shift();\n                    p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    break;\n                case 26: // vvcurveto\n                    if (stack.length % 2) {\n                        x += stack.shift();\n                    }\n\n                    while (stack.length > 0) {\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x;\n                        y = c2y + stack.shift();\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 27: // hhcurveto\n                    if (stack.length % 2) {\n                        y += stack.shift();\n                    }\n\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y;\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 28: // shortint\n                    b1 = code[i];\n                    b2 = code[i + 1];\n                    stack.push(((b1 << 24) | (b2 << 16)) >> 16);\n                    i += 2;\n                    break;\n                case 29: // callgsubr\n                    codeIndex = stack.pop() + font.gsubrsBias;\n                    subrCode = font.gsubrs[codeIndex];\n                    if (subrCode) {\n                        parse(subrCode);\n                    }\n\n                    break;\n                case 30: // vhcurveto\n                    while (stack.length > 0) {\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        y = c2y + stack.shift();\n                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                case 31: // hvcurveto\n                    while (stack.length > 0) {\n                        c1x = x + stack.shift();\n                        c1y = y;\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        y = c2y + stack.shift();\n                        x = c2x + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                        if (stack.length === 0) {\n                            break;\n                        }\n\n                        c1x = x;\n                        c1y = y + stack.shift();\n                        c2x = c1x + stack.shift();\n                        c2y = c1y + stack.shift();\n                        x = c2x + stack.shift();\n                        y = c2y + (stack.length === 1 ? stack.shift() : 0);\n                        p.curveTo(c1x, c1y, c2x, c2y, x, y);\n                    }\n\n                    break;\n                default:\n                    if (v < 32) {\n                        console.log('Glyph ' + glyph.index + ': unknown operator ' + v);\n                    } else if (v < 247) {\n                        stack.push(v - 139);\n                    } else if (v < 251) {\n                        b1 = code[i];\n                        i += 1;\n                        stack.push((v - 247) * 256 + b1 + 108);\n                    } else if (v < 255) {\n                        b1 = code[i];\n                        i += 1;\n                        stack.push(-(v - 251) * 256 - b1 - 108);\n                    } else {\n                        b1 = code[i];\n                        b2 = code[i + 1];\n                        b3 = code[i + 2];\n                        b4 = code[i + 3];\n                        i += 4;\n                        stack.push(((b1 << 24) | (b2 << 16) | (b3 << 8) | b4) / 65536);\n                    }\n            }\n        }\n    }\n\n    parse(code);\n\n    glyph.advanceWidth = width;\n    return p;\n}\n\nfunction parseCFFFDSelect(data, start, nGlyphs, fdArrayCount) {\n    const fdSelect = [];\n    let fdIndex;\n    const parser = new parse.Parser(data, start);\n    const format = parser.parseCard8();\n    if (format === 0) {\n        // Simple list of nGlyphs elements\n        for (let iGid = 0; iGid < nGlyphs; iGid++) {\n            fdIndex = parser.parseCard8();\n            if (fdIndex >= fdArrayCount) {\n                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n            }\n            fdSelect.push(fdIndex);\n        }\n    } else if (format === 3) {\n        // Ranges\n        const nRanges = parser.parseCard16();\n        let first = parser.parseCard16();\n        if (first !== 0) {\n            throw new Error('CFF Table CID Font FDSelect format 3 range has bad initial GID ' + first);\n        }\n        let next;\n        for (let iRange = 0; iRange < nRanges; iRange++) {\n            fdIndex = parser.parseCard8();\n            next = parser.parseCard16();\n            if (fdIndex >= fdArrayCount) {\n                throw new Error('CFF table CID Font FDSelect has bad FD index value ' + fdIndex + ' (FD count ' + fdArrayCount + ')');\n            }\n            if (next > nGlyphs) {\n                throw new Error('CFF Table CID Font FDSelect format 3 range has bad GID ' + next);\n            }\n            for (; first < next; first++) {\n                fdSelect.push(fdIndex);\n            }\n            first = next;\n        }\n        if (next !== nGlyphs) {\n            throw new Error('CFF Table CID Font FDSelect format 3 range has bad final GID ' + next);\n        }\n    } else {\n        throw new Error('CFF Table CID Font FDSelect table has unsupported format ' + format);\n    }\n    return fdSelect;\n}\n\n// Parse the `CFF` table, which contains the glyph outlines in PostScript format.\nfunction parseCFFTable(data, start, font) {\n    font.tables.cff = {};\n    const header = parseCFFHeader(data, start);\n    const nameIndex = parseCFFIndex(data, header.endOffset, parse.bytesToString);\n    const topDictIndex = parseCFFIndex(data, nameIndex.endOffset);\n    const stringIndex = parseCFFIndex(data, topDictIndex.endOffset, parse.bytesToString);\n    const globalSubrIndex = parseCFFIndex(data, stringIndex.endOffset);\n    font.gsubrs = globalSubrIndex.objects;\n    font.gsubrsBias = calcCFFSubroutineBias(font.gsubrs);\n\n    const topDictArray = gatherCFFTopDicts(data, start, topDictIndex.objects, stringIndex.objects);\n    if (topDictArray.length !== 1) {\n        throw new Error('CFF table has too many fonts in \\'FontSet\\' - count of fonts NameIndex.length = ' + topDictArray.length);\n    }\n\n    const topDict = topDictArray[0];\n    font.tables.cff.topDict = topDict;\n\n    if (topDict._privateDict) {\n        font.defaultWidthX = topDict._privateDict.defaultWidthX;\n        font.nominalWidthX = topDict._privateDict.nominalWidthX;\n    }\n\n    if (topDict.ros[0] !== undefined && topDict.ros[1] !== undefined) {\n        font.isCIDFont = true;\n    }\n\n    if (font.isCIDFont) {\n        let fdArrayOffset = topDict.fdArray;\n        let fdSelectOffset = topDict.fdSelect;\n        if (fdArrayOffset === 0 || fdSelectOffset === 0) {\n            throw new Error('Font is marked as a CID font, but FDArray and/or FDSelect information is missing');\n        }\n        fdArrayOffset += start;\n        const fdArrayIndex = parseCFFIndex(data, fdArrayOffset);\n        const fdArray = gatherCFFTopDicts(data, start, fdArrayIndex.objects, stringIndex.objects);\n        topDict._fdArray = fdArray;\n        fdSelectOffset += start;\n        topDict._fdSelect = parseCFFFDSelect(data, fdSelectOffset, font.numGlyphs, fdArray.length);\n    }\n\n    const privateDictOffset = start + topDict.private[1];\n    const privateDict = parseCFFPrivateDict(data, privateDictOffset, topDict.private[0], stringIndex.objects);\n    font.defaultWidthX = privateDict.defaultWidthX;\n    font.nominalWidthX = privateDict.nominalWidthX;\n\n    if (privateDict.subrs !== 0) {\n        const subrOffset = privateDictOffset + privateDict.subrs;\n        const subrIndex = parseCFFIndex(data, subrOffset);\n        font.subrs = subrIndex.objects;\n        font.subrsBias = calcCFFSubroutineBias(font.subrs);\n    } else {\n        font.subrs = [];\n        font.subrsBias = 0;\n    }\n\n    // Offsets in the top dict are relative to the beginning of the CFF data, so add the CFF start offset.\n    const charStringsIndex = parseCFFIndex(data, start + topDict.charStrings);\n    font.nGlyphs = charStringsIndex.objects.length;\n\n    const charset = parseCFFCharset(data, start + topDict.charset, font.nGlyphs, stringIndex.objects);\n    if (topDict.encoding === 0) { // Standard encoding\n        font.cffEncoding = new CffEncoding(cffStandardEncoding, charset);\n    } else if (topDict.encoding === 1) { // Expert encoding\n        font.cffEncoding = new CffEncoding(cffExpertEncoding, charset);\n    } else {\n        font.cffEncoding = parseCFFEncoding(data, start + topDict.encoding, charset);\n    }\n\n    // Prefer the CMAP encoding to the CFF encoding.\n    font.encoding = font.encoding || font.cffEncoding;\n\n    font.glyphs = new glyphset.GlyphSet(font);\n    for (let i = 0; i < font.nGlyphs; i += 1) {\n        const charString = charStringsIndex.objects[i];\n        font.glyphs.push(i, glyphset.cffGlyphLoader(font, i, parseCFFCharstring, charString));\n    }\n}\n\n// Convert a string to a String ID (SID).\n// The list of strings is modified in place.\nfunction encodeString(s, strings) {\n    let sid;\n\n    // Is the string in the CFF standard strings?\n    let i = cffStandardStrings.indexOf(s);\n    if (i >= 0) {\n        sid = i;\n    }\n\n    // Is the string already in the string index?\n    i = strings.indexOf(s);\n    if (i >= 0) {\n        sid = i + cffStandardStrings.length;\n    } else {\n        sid = cffStandardStrings.length + strings.length;\n        strings.push(s);\n    }\n\n    return sid;\n}\n\nfunction makeHeader() {\n    return new table.Record('Header', [\n        {name: 'major', type: 'Card8', value: 1},\n        {name: 'minor', type: 'Card8', value: 0},\n        {name: 'hdrSize', type: 'Card8', value: 4},\n        {name: 'major', type: 'Card8', value: 1}\n    ]);\n}\n\nfunction makeNameIndex(fontNames) {\n    const t = new table.Record('Name INDEX', [\n        {name: 'names', type: 'INDEX', value: []}\n    ]);\n    t.names = [];\n    for (let i = 0; i < fontNames.length; i += 1) {\n        t.names.push({name: 'name_' + i, type: 'NAME', value: fontNames[i]});\n    }\n\n    return t;\n}\n\n// Given a dictionary's metadata, create a DICT structure.\nfunction makeDict(meta, attrs, strings) {\n    const m = {};\n    for (let i = 0; i < meta.length; i += 1) {\n        const entry = meta[i];\n        let value = attrs[entry.name];\n        if (value !== undefined && !equals(value, entry.value)) {\n            if (entry.type === 'SID') {\n                value = encodeString(value, strings);\n            }\n\n            m[entry.op] = {name: entry.name, type: entry.type, value: value};\n        }\n    }\n\n    return m;\n}\n\n// The Top DICT houses the global font attributes.\nfunction makeTopDict(attrs, strings) {\n    const t = new table.Record('Top DICT', [\n        {name: 'dict', type: 'DICT', value: {}}\n    ]);\n    t.dict = makeDict(TOP_DICT_META, attrs, strings);\n    return t;\n}\n\nfunction makeTopDictIndex(topDict) {\n    const t = new table.Record('Top DICT INDEX', [\n        {name: 'topDicts', type: 'INDEX', value: []}\n    ]);\n    t.topDicts = [{name: 'topDict_0', type: 'TABLE', value: topDict}];\n    return t;\n}\n\nfunction makeStringIndex(strings) {\n    const t = new table.Record('String INDEX', [\n        {name: 'strings', type: 'INDEX', value: []}\n    ]);\n    t.strings = [];\n    for (let i = 0; i < strings.length; i += 1) {\n        t.strings.push({name: 'string_' + i, type: 'STRING', value: strings[i]});\n    }\n\n    return t;\n}\n\nfunction makeGlobalSubrIndex() {\n    // Currently we don't use subroutines.\n    return new table.Record('Global Subr INDEX', [\n        {name: 'subrs', type: 'INDEX', value: []}\n    ]);\n}\n\nfunction makeCharsets(glyphNames, strings) {\n    const t = new table.Record('Charsets', [\n        {name: 'format', type: 'Card8', value: 0}\n    ]);\n    for (let i = 0; i < glyphNames.length; i += 1) {\n        const glyphName = glyphNames[i];\n        const glyphSID = encodeString(glyphName, strings);\n        t.fields.push({name: 'glyph_' + i, type: 'SID', value: glyphSID});\n    }\n\n    return t;\n}\n\nfunction glyphToOps(glyph) {\n    const ops = [];\n    const path = glyph.path;\n    ops.push({name: 'width', type: 'NUMBER', value: glyph.advanceWidth});\n    let x = 0;\n    let y = 0;\n    for (let i = 0; i < path.commands.length; i += 1) {\n        let dx;\n        let dy;\n        let cmd = path.commands[i];\n        if (cmd.type === 'Q') {\n            // CFF only supports bézier curves, so convert the quad to a bézier.\n            const _13 = 1 / 3;\n            const _23 = 2 / 3;\n\n            // We're going to create a new command so we don't change the original path.\n            cmd = {\n                type: 'C',\n                x: cmd.x,\n                y: cmd.y,\n                x1: _13 * x + _23 * cmd.x1,\n                y1: _13 * y + _23 * cmd.y1,\n                x2: _13 * cmd.x + _23 * cmd.x1,\n                y2: _13 * cmd.y + _23 * cmd.y1\n            };\n        }\n\n        if (cmd.type === 'M') {\n            dx = Math.round(cmd.x - x);\n            dy = Math.round(cmd.y - y);\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rmoveto', type: 'OP', value: 21});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        } else if (cmd.type === 'L') {\n            dx = Math.round(cmd.x - x);\n            dy = Math.round(cmd.y - y);\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rlineto', type: 'OP', value: 5});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        } else if (cmd.type === 'C') {\n            const dx1 = Math.round(cmd.x1 - x);\n            const dy1 = Math.round(cmd.y1 - y);\n            const dx2 = Math.round(cmd.x2 - cmd.x1);\n            const dy2 = Math.round(cmd.y2 - cmd.y1);\n            dx = Math.round(cmd.x - cmd.x2);\n            dy = Math.round(cmd.y - cmd.y2);\n            ops.push({name: 'dx1', type: 'NUMBER', value: dx1});\n            ops.push({name: 'dy1', type: 'NUMBER', value: dy1});\n            ops.push({name: 'dx2', type: 'NUMBER', value: dx2});\n            ops.push({name: 'dy2', type: 'NUMBER', value: dy2});\n            ops.push({name: 'dx', type: 'NUMBER', value: dx});\n            ops.push({name: 'dy', type: 'NUMBER', value: dy});\n            ops.push({name: 'rrcurveto', type: 'OP', value: 8});\n            x = Math.round(cmd.x);\n            y = Math.round(cmd.y);\n        }\n\n        // Contours are closed automatically.\n    }\n\n    ops.push({name: 'endchar', type: 'OP', value: 14});\n    return ops;\n}\n\nfunction makeCharStringsIndex(glyphs) {\n    const t = new table.Record('CharStrings INDEX', [\n        {name: 'charStrings', type: 'INDEX', value: []}\n    ]);\n\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        const ops = glyphToOps(glyph);\n        t.charStrings.push({name: glyph.name, type: 'CHARSTRING', value: ops});\n    }\n\n    return t;\n}\n\nfunction makePrivateDict(attrs, strings) {\n    const t = new table.Record('Private DICT', [\n        {name: 'dict', type: 'DICT', value: {}}\n    ]);\n    t.dict = makeDict(PRIVATE_DICT_META, attrs, strings);\n    return t;\n}\n\nfunction makeCFFTable(glyphs, options) {\n    const t = new table.Table('CFF ', [\n        {name: 'header', type: 'RECORD'},\n        {name: 'nameIndex', type: 'RECORD'},\n        {name: 'topDictIndex', type: 'RECORD'},\n        {name: 'stringIndex', type: 'RECORD'},\n        {name: 'globalSubrIndex', type: 'RECORD'},\n        {name: 'charsets', type: 'RECORD'},\n        {name: 'charStringsIndex', type: 'RECORD'},\n        {name: 'privateDict', type: 'RECORD'}\n    ]);\n\n    const fontScale = 1 / options.unitsPerEm;\n    // We use non-zero values for the offsets so that the DICT encodes them.\n    // This is important because the size of the Top DICT plays a role in offset calculation,\n    // and the size shouldn't change after we've written correct offsets.\n    const attrs = {\n        version: options.version,\n        fullName: options.fullName,\n        familyName: options.familyName,\n        weight: options.weightName,\n        fontBBox: options.fontBBox || [0, 0, 0, 0],\n        fontMatrix: [fontScale, 0, 0, fontScale, 0, 0],\n        charset: 999,\n        encoding: 0,\n        charStrings: 999,\n        private: [0, 999]\n    };\n\n    const privateAttrs = {};\n\n    const glyphNames = [];\n    let glyph;\n\n    // Skip first glyph (.notdef)\n    for (let i = 1; i < glyphs.length; i += 1) {\n        glyph = glyphs.get(i);\n        glyphNames.push(glyph.name);\n    }\n\n    const strings = [];\n\n    t.header = makeHeader();\n    t.nameIndex = makeNameIndex([options.postScriptName]);\n    let topDict = makeTopDict(attrs, strings);\n    t.topDictIndex = makeTopDictIndex(topDict);\n    t.globalSubrIndex = makeGlobalSubrIndex();\n    t.charsets = makeCharsets(glyphNames, strings);\n    t.charStringsIndex = makeCharStringsIndex(glyphs);\n    t.privateDict = makePrivateDict(privateAttrs, strings);\n\n    // Needs to come at the end, to encode all custom strings used in the font.\n    t.stringIndex = makeStringIndex(strings);\n\n    const startOffset = t.header.sizeOf() +\n        t.nameIndex.sizeOf() +\n        t.topDictIndex.sizeOf() +\n        t.stringIndex.sizeOf() +\n        t.globalSubrIndex.sizeOf();\n    attrs.charset = startOffset;\n\n    // We use the CFF standard encoding; proper encoding will be handled in cmap.\n    attrs.encoding = 0;\n    attrs.charStrings = attrs.charset + t.charsets.sizeOf();\n    attrs.private[1] = attrs.charStrings + t.charStringsIndex.sizeOf();\n\n    // Recreate the Top DICT INDEX with the correct offsets.\n    topDict = makeTopDict(attrs, strings);\n    t.topDictIndex = makeTopDictIndex(topDict);\n\n    return t;\n}\n\nexport default { parse: parseCFFTable, make: makeCFFTable };\n","// The `head` table contains global information about the font.\n// https://www.microsoft.com/typography/OTSPEC/head.htm\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the header `head` table\nfunction parseHeadTable(data, start) {\n    const head = {};\n    const p = new parse.Parser(data, start);\n    head.version = p.parseVersion();\n    head.fontRevision = Math.round(p.parseFixed() * 1000) / 1000;\n    head.checkSumAdjustment = p.parseULong();\n    head.magicNumber = p.parseULong();\n    check.argument(head.magicNumber === 0x5F0F3CF5, 'Font header has wrong magic number.');\n    head.flags = p.parseUShort();\n    head.unitsPerEm = p.parseUShort();\n    head.created = p.parseLongDateTime();\n    head.modified = p.parseLongDateTime();\n    head.xMin = p.parseShort();\n    head.yMin = p.parseShort();\n    head.xMax = p.parseShort();\n    head.yMax = p.parseShort();\n    head.macStyle = p.parseUShort();\n    head.lowestRecPPEM = p.parseUShort();\n    head.fontDirectionHint = p.parseShort();\n    head.indexToLocFormat = p.parseShort();\n    head.glyphDataFormat = p.parseShort();\n    return head;\n}\n\nfunction makeHeadTable(options) {\n    // Apple Mac timestamp epoch is 01/01/1904 not 01/01/1970\n    const timestamp = Math.round(new Date().getTime() / 1000) + 2082844800;\n    let createdTimestamp = timestamp;\n\n    if (options.createdTimestamp) {\n        createdTimestamp = options.createdTimestamp + 2082844800;\n    }\n\n    return new table.Table('head', [\n        {name: 'version', type: 'FIXED', value: 0x00010000},\n        {name: 'fontRevision', type: 'FIXED', value: 0x00010000},\n        {name: 'checkSumAdjustment', type: 'ULONG', value: 0},\n        {name: 'magicNumber', type: 'ULONG', value: 0x5F0F3CF5},\n        {name: 'flags', type: 'USHORT', value: 0},\n        {name: 'unitsPerEm', type: 'USHORT', value: 1000},\n        {name: 'created', type: 'LONGDATETIME', value: createdTimestamp},\n        {name: 'modified', type: 'LONGDATETIME', value: timestamp},\n        {name: 'xMin', type: 'SHORT', value: 0},\n        {name: 'yMin', type: 'SHORT', value: 0},\n        {name: 'xMax', type: 'SHORT', value: 0},\n        {name: 'yMax', type: 'SHORT', value: 0},\n        {name: 'macStyle', type: 'USHORT', value: 0},\n        {name: 'lowestRecPPEM', type: 'USHORT', value: 0},\n        {name: 'fontDirectionHint', type: 'SHORT', value: 2},\n        {name: 'indexToLocFormat', type: 'SHORT', value: 0},\n        {name: 'glyphDataFormat', type: 'SHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseHeadTable, make: makeHeadTable };\n","// The `hhea` table contains information for horizontal layout.\n// https://www.microsoft.com/typography/OTSPEC/hhea.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the horizontal header `hhea` table\nfunction parseHheaTable(data, start) {\n    const hhea = {};\n    const p = new parse.Parser(data, start);\n    hhea.version = p.parseVersion();\n    hhea.ascender = p.parseShort();\n    hhea.descender = p.parseShort();\n    hhea.lineGap = p.parseShort();\n    hhea.advanceWidthMax = p.parseUShort();\n    hhea.minLeftSideBearing = p.parseShort();\n    hhea.minRightSideBearing = p.parseShort();\n    hhea.xMaxExtent = p.parseShort();\n    hhea.caretSlopeRise = p.parseShort();\n    hhea.caretSlopeRun = p.parseShort();\n    hhea.caretOffset = p.parseShort();\n    p.relativeOffset += 8;\n    hhea.metricDataFormat = p.parseShort();\n    hhea.numberOfHMetrics = p.parseUShort();\n    return hhea;\n}\n\nfunction makeHheaTable(options) {\n    return new table.Table('hhea', [\n        {name: 'version', type: 'FIXED', value: 0x00010000},\n        {name: 'ascender', type: 'FWORD', value: 0},\n        {name: 'descender', type: 'FWORD', value: 0},\n        {name: 'lineGap', type: 'FWORD', value: 0},\n        {name: 'advanceWidthMax', type: 'UFWORD', value: 0},\n        {name: 'minLeftSideBearing', type: 'FWORD', value: 0},\n        {name: 'minRightSideBearing', type: 'FWORD', value: 0},\n        {name: 'xMaxExtent', type: 'FWORD', value: 0},\n        {name: 'caretSlopeRise', type: 'SHORT', value: 1},\n        {name: 'caretSlopeRun', type: 'SHORT', value: 0},\n        {name: 'caretOffset', type: 'SHORT', value: 0},\n        {name: 'reserved1', type: 'SHORT', value: 0},\n        {name: 'reserved2', type: 'SHORT', value: 0},\n        {name: 'reserved3', type: 'SHORT', value: 0},\n        {name: 'reserved4', type: 'SHORT', value: 0},\n        {name: 'metricDataFormat', type: 'SHORT', value: 0},\n        {name: 'numberOfHMetrics', type: 'USHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseHheaTable, make: makeHheaTable };\n","// The `hmtx` table contains the horizontal metrics for all glyphs.\n// https://www.microsoft.com/typography/OTSPEC/hmtx.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the `hmtx` table, which contains the horizontal metrics for all glyphs.\n// This function augments the glyph array, adding the advanceWidth and leftSideBearing to each glyph.\nfunction parseHmtxTable(data, start, numMetrics, numGlyphs, glyphs) {\n    let advanceWidth;\n    let leftSideBearing;\n    const p = new parse.Parser(data, start);\n    for (let i = 0; i < numGlyphs; i += 1) {\n        // If the font is monospaced, only one entry is needed. This last entry applies to all subsequent glyphs.\n        if (i < numMetrics) {\n            advanceWidth = p.parseUShort();\n            leftSideBearing = p.parseShort();\n        }\n\n        const glyph = glyphs.get(i);\n        glyph.advanceWidth = advanceWidth;\n        glyph.leftSideBearing = leftSideBearing;\n    }\n}\n\nfunction makeHmtxTable(glyphs) {\n    const t = new table.Table('hmtx', []);\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs.get(i);\n        const advanceWidth = glyph.advanceWidth || 0;\n        const leftSideBearing = glyph.leftSideBearing || 0;\n        t.fields.push({name: 'advanceWidth_' + i, type: 'USHORT', value: advanceWidth});\n        t.fields.push({name: 'leftSideBearing_' + i, type: 'SHORT', value: leftSideBearing});\n    }\n\n    return t;\n}\n\nexport default { parse: parseHmtxTable, make: makeHmtxTable };\n","// The `ltag` table stores IETF BCP-47 language tags. It allows supporting\n// languages for which TrueType does not assign a numeric code.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6ltag.html\n// http://www.w3.org/International/articles/language-tags/\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction makeLtagTable(tags) {\n    const result = new table.Table('ltag', [\n        {name: 'version', type: 'ULONG', value: 1},\n        {name: 'flags', type: 'ULONG', value: 0},\n        {name: 'numTags', type: 'ULONG', value: tags.length}\n    ]);\n\n    let stringPool = '';\n    const stringPoolOffset = 12 + tags.length * 4;\n    for (let i = 0; i < tags.length; ++i) {\n        let pos = stringPool.indexOf(tags[i]);\n        if (pos < 0) {\n            pos = stringPool.length;\n            stringPool += tags[i];\n        }\n\n        result.fields.push({name: 'offset ' + i, type: 'USHORT', value: stringPoolOffset + pos});\n        result.fields.push({name: 'length ' + i, type: 'USHORT', value: tags[i].length});\n    }\n\n    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n    return result;\n}\n\nfunction parseLtagTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 1, 'Unsupported ltag table version.');\n    // The 'ltag' specification does not define any flags; skip the field.\n    p.skip('uLong', 1);\n    const numTags = p.parseULong();\n\n    const tags = [];\n    for (let i = 0; i < numTags; i++) {\n        let tag = '';\n        const offset = start + p.parseUShort();\n        const length = p.parseUShort();\n        for (let j = offset; j < offset + length; ++j) {\n            tag += String.fromCharCode(data.getInt8(j));\n        }\n\n        tags.push(tag);\n    }\n\n    return tags;\n}\n\nexport default { make: makeLtagTable, parse: parseLtagTable };\n","// The `maxp` table establishes the memory requirements for the font.\n// We need it just to get the number of glyphs in the font.\n// https://www.microsoft.com/typography/OTSPEC/maxp.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the maximum profile `maxp` table.\nfunction parseMaxpTable(data, start) {\n    const maxp = {};\n    const p = new parse.Parser(data, start);\n    maxp.version = p.parseVersion();\n    maxp.numGlyphs = p.parseUShort();\n    if (maxp.version === 1.0) {\n        maxp.maxPoints = p.parseUShort();\n        maxp.maxContours = p.parseUShort();\n        maxp.maxCompositePoints = p.parseUShort();\n        maxp.maxCompositeContours = p.parseUShort();\n        maxp.maxZones = p.parseUShort();\n        maxp.maxTwilightPoints = p.parseUShort();\n        maxp.maxStorage = p.parseUShort();\n        maxp.maxFunctionDefs = p.parseUShort();\n        maxp.maxInstructionDefs = p.parseUShort();\n        maxp.maxStackElements = p.parseUShort();\n        maxp.maxSizeOfInstructions = p.parseUShort();\n        maxp.maxComponentElements = p.parseUShort();\n        maxp.maxComponentDepth = p.parseUShort();\n    }\n\n    return maxp;\n}\n\nfunction makeMaxpTable(numGlyphs) {\n    return new table.Table('maxp', [\n        {name: 'version', type: 'FIXED', value: 0x00005000},\n        {name: 'numGlyphs', type: 'USHORT', value: numGlyphs}\n    ]);\n}\n\nexport default { parse: parseMaxpTable, make: makeMaxpTable };\n","// The `name` naming table.\n// https://www.microsoft.com/typography/OTSPEC/name.htm\n\nimport { decode, encode } from '../types';\nimport parse from '../parse';\nimport table from '../table';\n\n// NameIDs for the name table.\nconst nameTableNames = [\n    'copyright',              // 0\n    'fontFamily',             // 1\n    'fontSubfamily',          // 2\n    'uniqueID',               // 3\n    'fullName',               // 4\n    'version',                // 5\n    'postScriptName',         // 6\n    'trademark',              // 7\n    'manufacturer',           // 8\n    'designer',               // 9\n    'description',            // 10\n    'manufacturerURL',        // 11\n    'designerURL',            // 12\n    'license',                // 13\n    'licenseURL',             // 14\n    'reserved',               // 15\n    'preferredFamily',        // 16\n    'preferredSubfamily',     // 17\n    'compatibleFullName',     // 18\n    'sampleText',             // 19\n    'postScriptFindFontName', // 20\n    'wwsFamily',              // 21\n    'wwsSubfamily'            // 22\n];\n\nconst macLanguages = {\n    0: 'en',\n    1: 'fr',\n    2: 'de',\n    3: 'it',\n    4: 'nl',\n    5: 'sv',\n    6: 'es',\n    7: 'da',\n    8: 'pt',\n    9: 'no',\n    10: 'he',\n    11: 'ja',\n    12: 'ar',\n    13: 'fi',\n    14: 'el',\n    15: 'is',\n    16: 'mt',\n    17: 'tr',\n    18: 'hr',\n    19: 'zh-Hant',\n    20: 'ur',\n    21: 'hi',\n    22: 'th',\n    23: 'ko',\n    24: 'lt',\n    25: 'pl',\n    26: 'hu',\n    27: 'es',\n    28: 'lv',\n    29: 'se',\n    30: 'fo',\n    31: 'fa',\n    32: 'ru',\n    33: 'zh',\n    34: 'nl-BE',\n    35: 'ga',\n    36: 'sq',\n    37: 'ro',\n    38: 'cz',\n    39: 'sk',\n    40: 'si',\n    41: 'yi',\n    42: 'sr',\n    43: 'mk',\n    44: 'bg',\n    45: 'uk',\n    46: 'be',\n    47: 'uz',\n    48: 'kk',\n    49: 'az-Cyrl',\n    50: 'az-Arab',\n    51: 'hy',\n    52: 'ka',\n    53: 'mo',\n    54: 'ky',\n    55: 'tg',\n    56: 'tk',\n    57: 'mn-CN',\n    58: 'mn',\n    59: 'ps',\n    60: 'ks',\n    61: 'ku',\n    62: 'sd',\n    63: 'bo',\n    64: 'ne',\n    65: 'sa',\n    66: 'mr',\n    67: 'bn',\n    68: 'as',\n    69: 'gu',\n    70: 'pa',\n    71: 'or',\n    72: 'ml',\n    73: 'kn',\n    74: 'ta',\n    75: 'te',\n    76: 'si',\n    77: 'my',\n    78: 'km',\n    79: 'lo',\n    80: 'vi',\n    81: 'id',\n    82: 'tl',\n    83: 'ms',\n    84: 'ms-Arab',\n    85: 'am',\n    86: 'ti',\n    87: 'om',\n    88: 'so',\n    89: 'sw',\n    90: 'rw',\n    91: 'rn',\n    92: 'ny',\n    93: 'mg',\n    94: 'eo',\n    128: 'cy',\n    129: 'eu',\n    130: 'ca',\n    131: 'la',\n    132: 'qu',\n    133: 'gn',\n    134: 'ay',\n    135: 'tt',\n    136: 'ug',\n    137: 'dz',\n    138: 'jv',\n    139: 'su',\n    140: 'gl',\n    141: 'af',\n    142: 'br',\n    143: 'iu',\n    144: 'gd',\n    145: 'gv',\n    146: 'ga',\n    147: 'to',\n    148: 'el-polyton',\n    149: 'kl',\n    150: 'az',\n    151: 'nn'\n};\n\n// MacOS language ID → MacOS script ID\n//\n// Note that the script ID is not sufficient to determine what encoding\n// to use in TrueType files. For some languages, MacOS used a modification\n// of a mainstream script. For example, an Icelandic name would be stored\n// with smRoman in the TrueType naming table, but the actual encoding\n// is a special Icelandic version of the normal Macintosh Roman encoding.\n// As another example, Inuktitut uses an 8-bit encoding for Canadian Aboriginal\n// Syllables but MacOS had run out of available script codes, so this was\n// done as a (pretty radical) \"modification\" of Ethiopic.\n//\n// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\nconst macLanguageToScript = {\n    0: 0,  // langEnglish → smRoman\n    1: 0,  // langFrench → smRoman\n    2: 0,  // langGerman → smRoman\n    3: 0,  // langItalian → smRoman\n    4: 0,  // langDutch → smRoman\n    5: 0,  // langSwedish → smRoman\n    6: 0,  // langSpanish → smRoman\n    7: 0,  // langDanish → smRoman\n    8: 0,  // langPortuguese → smRoman\n    9: 0,  // langNorwegian → smRoman\n    10: 5,  // langHebrew → smHebrew\n    11: 1,  // langJapanese → smJapanese\n    12: 4,  // langArabic → smArabic\n    13: 0,  // langFinnish → smRoman\n    14: 6,  // langGreek → smGreek\n    15: 0,  // langIcelandic → smRoman (modified)\n    16: 0,  // langMaltese → smRoman\n    17: 0,  // langTurkish → smRoman (modified)\n    18: 0,  // langCroatian → smRoman (modified)\n    19: 2,  // langTradChinese → smTradChinese\n    20: 4,  // langUrdu → smArabic\n    21: 9,  // langHindi → smDevanagari\n    22: 21,  // langThai → smThai\n    23: 3,  // langKorean → smKorean\n    24: 29,  // langLithuanian → smCentralEuroRoman\n    25: 29,  // langPolish → smCentralEuroRoman\n    26: 29,  // langHungarian → smCentralEuroRoman\n    27: 29,  // langEstonian → smCentralEuroRoman\n    28: 29,  // langLatvian → smCentralEuroRoman\n    29: 0,  // langSami → smRoman\n    30: 0,  // langFaroese → smRoman (modified)\n    31: 4,  // langFarsi → smArabic (modified)\n    32: 7,  // langRussian → smCyrillic\n    33: 25,  // langSimpChinese → smSimpChinese\n    34: 0,  // langFlemish → smRoman\n    35: 0,  // langIrishGaelic → smRoman (modified)\n    36: 0,  // langAlbanian → smRoman\n    37: 0,  // langRomanian → smRoman (modified)\n    38: 29,  // langCzech → smCentralEuroRoman\n    39: 29,  // langSlovak → smCentralEuroRoman\n    40: 0,  // langSlovenian → smRoman (modified)\n    41: 5,  // langYiddish → smHebrew\n    42: 7,  // langSerbian → smCyrillic\n    43: 7,  // langMacedonian → smCyrillic\n    44: 7,  // langBulgarian → smCyrillic\n    45: 7,  // langUkrainian → smCyrillic (modified)\n    46: 7,  // langByelorussian → smCyrillic\n    47: 7,  // langUzbek → smCyrillic\n    48: 7,  // langKazakh → smCyrillic\n    49: 7,  // langAzerbaijani → smCyrillic\n    50: 4,  // langAzerbaijanAr → smArabic\n    51: 24,  // langArmenian → smArmenian\n    52: 23,  // langGeorgian → smGeorgian\n    53: 7,  // langMoldavian → smCyrillic\n    54: 7,  // langKirghiz → smCyrillic\n    55: 7,  // langTajiki → smCyrillic\n    56: 7,  // langTurkmen → smCyrillic\n    57: 27,  // langMongolian → smMongolian\n    58: 7,  // langMongolianCyr → smCyrillic\n    59: 4,  // langPashto → smArabic\n    60: 4,  // langKurdish → smArabic\n    61: 4,  // langKashmiri → smArabic\n    62: 4,  // langSindhi → smArabic\n    63: 26,  // langTibetan → smTibetan\n    64: 9,  // langNepali → smDevanagari\n    65: 9,  // langSanskrit → smDevanagari\n    66: 9,  // langMarathi → smDevanagari\n    67: 13,  // langBengali → smBengali\n    68: 13,  // langAssamese → smBengali\n    69: 11,  // langGujarati → smGujarati\n    70: 10,  // langPunjabi → smGurmukhi\n    71: 12,  // langOriya → smOriya\n    72: 17,  // langMalayalam → smMalayalam\n    73: 16,  // langKannada → smKannada\n    74: 14,  // langTamil → smTamil\n    75: 15,  // langTelugu → smTelugu\n    76: 18,  // langSinhalese → smSinhalese\n    77: 19,  // langBurmese → smBurmese\n    78: 20,  // langKhmer → smKhmer\n    79: 22,  // langLao → smLao\n    80: 30,  // langVietnamese → smVietnamese\n    81: 0,  // langIndonesian → smRoman\n    82: 0,  // langTagalog → smRoman\n    83: 0,  // langMalayRoman → smRoman\n    84: 4,  // langMalayArabic → smArabic\n    85: 28,  // langAmharic → smEthiopic\n    86: 28,  // langTigrinya → smEthiopic\n    87: 28,  // langOromo → smEthiopic\n    88: 0,  // langSomali → smRoman\n    89: 0,  // langSwahili → smRoman\n    90: 0,  // langKinyarwanda → smRoman\n    91: 0,  // langRundi → smRoman\n    92: 0,  // langNyanja → smRoman\n    93: 0,  // langMalagasy → smRoman\n    94: 0,  // langEsperanto → smRoman\n    128: 0,  // langWelsh → smRoman (modified)\n    129: 0,  // langBasque → smRoman\n    130: 0,  // langCatalan → smRoman\n    131: 0,  // langLatin → smRoman\n    132: 0,  // langQuechua → smRoman\n    133: 0,  // langGuarani → smRoman\n    134: 0,  // langAymara → smRoman\n    135: 7,  // langTatar → smCyrillic\n    136: 4,  // langUighur → smArabic\n    137: 26,  // langDzongkha → smTibetan\n    138: 0,  // langJavaneseRom → smRoman\n    139: 0,  // langSundaneseRom → smRoman\n    140: 0,  // langGalician → smRoman\n    141: 0,  // langAfrikaans → smRoman\n    142: 0,  // langBreton → smRoman (modified)\n    143: 28,  // langInuktitut → smEthiopic (modified)\n    144: 0,  // langScottishGaelic → smRoman (modified)\n    145: 0,  // langManxGaelic → smRoman (modified)\n    146: 0,  // langIrishGaelicScript → smRoman (modified)\n    147: 0,  // langTongan → smRoman\n    148: 6,  // langGreekAncient → smRoman\n    149: 0,  // langGreenlandic → smRoman\n    150: 0,  // langAzerbaijanRoman → smRoman\n    151: 0   // langNynorsk → smRoman\n};\n\n// While Microsoft indicates a region/country for all its language\n// IDs, we omit the region code if it's equal to the \"most likely\n// region subtag\" according to Unicode CLDR. For scripts, we omit\n// the subtag if it is equal to the Suppress-Script entry in the\n// IANA language subtag registry for IETF BCP 47.\n//\n// For example, Microsoft states that its language code 0x041A is\n// Croatian in Croatia. We transform this to the BCP 47 language code 'hr'\n// and not 'hr-HR' because Croatia is the default country for Croatian,\n// according to Unicode CLDR. As another example, Microsoft states\n// that 0x101A is Croatian (Latin) in Bosnia-Herzegovina. We transform\n// this to 'hr-BA' and not 'hr-Latn-BA' because Latin is the default script\n// for the Croatian language, according to IANA.\n//\n// http://www.unicode.org/cldr/charts/latest/supplemental/likely_subtags.html\n// http://www.iana.org/assignments/language-subtag-registry/language-subtag-registry\nconst windowsLanguages = {\n    0x0436: 'af',\n    0x041C: 'sq',\n    0x0484: 'gsw',\n    0x045E: 'am',\n    0x1401: 'ar-DZ',\n    0x3C01: 'ar-BH',\n    0x0C01: 'ar',\n    0x0801: 'ar-IQ',\n    0x2C01: 'ar-JO',\n    0x3401: 'ar-KW',\n    0x3001: 'ar-LB',\n    0x1001: 'ar-LY',\n    0x1801: 'ary',\n    0x2001: 'ar-OM',\n    0x4001: 'ar-QA',\n    0x0401: 'ar-SA',\n    0x2801: 'ar-SY',\n    0x1C01: 'aeb',\n    0x3801: 'ar-AE',\n    0x2401: 'ar-YE',\n    0x042B: 'hy',\n    0x044D: 'as',\n    0x082C: 'az-Cyrl',\n    0x042C: 'az',\n    0x046D: 'ba',\n    0x042D: 'eu',\n    0x0423: 'be',\n    0x0845: 'bn',\n    0x0445: 'bn-IN',\n    0x201A: 'bs-Cyrl',\n    0x141A: 'bs',\n    0x047E: 'br',\n    0x0402: 'bg',\n    0x0403: 'ca',\n    0x0C04: 'zh-HK',\n    0x1404: 'zh-MO',\n    0x0804: 'zh',\n    0x1004: 'zh-SG',\n    0x0404: 'zh-TW',\n    0x0483: 'co',\n    0x041A: 'hr',\n    0x101A: 'hr-BA',\n    0x0405: 'cs',\n    0x0406: 'da',\n    0x048C: 'prs',\n    0x0465: 'dv',\n    0x0813: 'nl-BE',\n    0x0413: 'nl',\n    0x0C09: 'en-AU',\n    0x2809: 'en-BZ',\n    0x1009: 'en-CA',\n    0x2409: 'en-029',\n    0x4009: 'en-IN',\n    0x1809: 'en-IE',\n    0x2009: 'en-JM',\n    0x4409: 'en-MY',\n    0x1409: 'en-NZ',\n    0x3409: 'en-PH',\n    0x4809: 'en-SG',\n    0x1C09: 'en-ZA',\n    0x2C09: 'en-TT',\n    0x0809: 'en-GB',\n    0x0409: 'en',\n    0x3009: 'en-ZW',\n    0x0425: 'et',\n    0x0438: 'fo',\n    0x0464: 'fil',\n    0x040B: 'fi',\n    0x080C: 'fr-BE',\n    0x0C0C: 'fr-CA',\n    0x040C: 'fr',\n    0x140C: 'fr-LU',\n    0x180C: 'fr-MC',\n    0x100C: 'fr-CH',\n    0x0462: 'fy',\n    0x0456: 'gl',\n    0x0437: 'ka',\n    0x0C07: 'de-AT',\n    0x0407: 'de',\n    0x1407: 'de-LI',\n    0x1007: 'de-LU',\n    0x0807: 'de-CH',\n    0x0408: 'el',\n    0x046F: 'kl',\n    0x0447: 'gu',\n    0x0468: 'ha',\n    0x040D: 'he',\n    0x0439: 'hi',\n    0x040E: 'hu',\n    0x040F: 'is',\n    0x0470: 'ig',\n    0x0421: 'id',\n    0x045D: 'iu',\n    0x085D: 'iu-Latn',\n    0x083C: 'ga',\n    0x0434: 'xh',\n    0x0435: 'zu',\n    0x0410: 'it',\n    0x0810: 'it-CH',\n    0x0411: 'ja',\n    0x044B: 'kn',\n    0x043F: 'kk',\n    0x0453: 'km',\n    0x0486: 'quc',\n    0x0487: 'rw',\n    0x0441: 'sw',\n    0x0457: 'kok',\n    0x0412: 'ko',\n    0x0440: 'ky',\n    0x0454: 'lo',\n    0x0426: 'lv',\n    0x0427: 'lt',\n    0x082E: 'dsb',\n    0x046E: 'lb',\n    0x042F: 'mk',\n    0x083E: 'ms-BN',\n    0x043E: 'ms',\n    0x044C: 'ml',\n    0x043A: 'mt',\n    0x0481: 'mi',\n    0x047A: 'arn',\n    0x044E: 'mr',\n    0x047C: 'moh',\n    0x0450: 'mn',\n    0x0850: 'mn-CN',\n    0x0461: 'ne',\n    0x0414: 'nb',\n    0x0814: 'nn',\n    0x0482: 'oc',\n    0x0448: 'or',\n    0x0463: 'ps',\n    0x0415: 'pl',\n    0x0416: 'pt',\n    0x0816: 'pt-PT',\n    0x0446: 'pa',\n    0x046B: 'qu-BO',\n    0x086B: 'qu-EC',\n    0x0C6B: 'qu',\n    0x0418: 'ro',\n    0x0417: 'rm',\n    0x0419: 'ru',\n    0x243B: 'smn',\n    0x103B: 'smj-NO',\n    0x143B: 'smj',\n    0x0C3B: 'se-FI',\n    0x043B: 'se',\n    0x083B: 'se-SE',\n    0x203B: 'sms',\n    0x183B: 'sma-NO',\n    0x1C3B: 'sms',\n    0x044F: 'sa',\n    0x1C1A: 'sr-Cyrl-BA',\n    0x0C1A: 'sr',\n    0x181A: 'sr-Latn-BA',\n    0x081A: 'sr-Latn',\n    0x046C: 'nso',\n    0x0432: 'tn',\n    0x045B: 'si',\n    0x041B: 'sk',\n    0x0424: 'sl',\n    0x2C0A: 'es-AR',\n    0x400A: 'es-BO',\n    0x340A: 'es-CL',\n    0x240A: 'es-CO',\n    0x140A: 'es-CR',\n    0x1C0A: 'es-DO',\n    0x300A: 'es-EC',\n    0x440A: 'es-SV',\n    0x100A: 'es-GT',\n    0x480A: 'es-HN',\n    0x080A: 'es-MX',\n    0x4C0A: 'es-NI',\n    0x180A: 'es-PA',\n    0x3C0A: 'es-PY',\n    0x280A: 'es-PE',\n    0x500A: 'es-PR',\n\n    // Microsoft has defined two different language codes for\n    // “Spanish with modern sorting” and “Spanish with traditional\n    // sorting”. This makes sense for collation APIs, and it would be\n    // possible to express this in BCP 47 language tags via Unicode\n    // extensions (eg., es-u-co-trad is Spanish with traditional\n    // sorting). However, for storing names in fonts, the distinction\n    // does not make sense, so we give “es” in both cases.\n    0x0C0A: 'es',\n    0x040A: 'es',\n\n    0x540A: 'es-US',\n    0x380A: 'es-UY',\n    0x200A: 'es-VE',\n    0x081D: 'sv-FI',\n    0x041D: 'sv',\n    0x045A: 'syr',\n    0x0428: 'tg',\n    0x085F: 'tzm',\n    0x0449: 'ta',\n    0x0444: 'tt',\n    0x044A: 'te',\n    0x041E: 'th',\n    0x0451: 'bo',\n    0x041F: 'tr',\n    0x0442: 'tk',\n    0x0480: 'ug',\n    0x0422: 'uk',\n    0x042E: 'hsb',\n    0x0420: 'ur',\n    0x0843: 'uz-Cyrl',\n    0x0443: 'uz',\n    0x042A: 'vi',\n    0x0452: 'cy',\n    0x0488: 'wo',\n    0x0485: 'sah',\n    0x0478: 'ii',\n    0x046A: 'yo'\n};\n\n// Returns a IETF BCP 47 language code, for example 'zh-Hant'\n// for 'Chinese in the traditional script'.\nfunction getLanguageCode(platformID, languageID, ltag) {\n    switch (platformID) {\n        case 0:  // Unicode\n            if (languageID === 0xFFFF) {\n                return 'und';\n            } else if (ltag) {\n                return ltag[languageID];\n            }\n\n            break;\n\n        case 1:  // Macintosh\n            return macLanguages[languageID];\n\n        case 3:  // Windows\n            return windowsLanguages[languageID];\n    }\n\n    return undefined;\n}\n\nconst utf16 = 'utf-16';\n\n// MacOS script ID → encoding. This table stores the default case,\n// which can be overridden by macLanguageEncodings.\nconst macScriptEncodings = {\n    0: 'macintosh',           // smRoman\n    1: 'x-mac-japanese',      // smJapanese\n    2: 'x-mac-chinesetrad',   // smTradChinese\n    3: 'x-mac-korean',        // smKorean\n    6: 'x-mac-greek',         // smGreek\n    7: 'x-mac-cyrillic',      // smCyrillic\n    9: 'x-mac-devanagai',     // smDevanagari\n    10: 'x-mac-gurmukhi',     // smGurmukhi\n    11: 'x-mac-gujarati',     // smGujarati\n    12: 'x-mac-oriya',        // smOriya\n    13: 'x-mac-bengali',      // smBengali\n    14: 'x-mac-tamil',        // smTamil\n    15: 'x-mac-telugu',       // smTelugu\n    16: 'x-mac-kannada',      // smKannada\n    17: 'x-mac-malayalam',    // smMalayalam\n    18: 'x-mac-sinhalese',    // smSinhalese\n    19: 'x-mac-burmese',      // smBurmese\n    20: 'x-mac-khmer',        // smKhmer\n    21: 'x-mac-thai',         // smThai\n    22: 'x-mac-lao',          // smLao\n    23: 'x-mac-georgian',     // smGeorgian\n    24: 'x-mac-armenian',     // smArmenian\n    25: 'x-mac-chinesesimp',  // smSimpChinese\n    26: 'x-mac-tibetan',      // smTibetan\n    27: 'x-mac-mongolian',    // smMongolian\n    28: 'x-mac-ethiopic',     // smEthiopic\n    29: 'x-mac-ce',           // smCentralEuroRoman\n    30: 'x-mac-vietnamese',   // smVietnamese\n    31: 'x-mac-extarabic'     // smExtArabic\n};\n\n// MacOS language ID → encoding. This table stores the exceptional\n// cases, which override macScriptEncodings. For writing MacOS naming\n// tables, we need to emit a MacOS script ID. Therefore, we cannot\n// merge macScriptEncodings into macLanguageEncodings.\n//\n// http://unicode.org/Public/MAPPINGS/VENDORS/APPLE/Readme.txt\nconst macLanguageEncodings = {\n    15: 'x-mac-icelandic',    // langIcelandic\n    17: 'x-mac-turkish',      // langTurkish\n    18: 'x-mac-croatian',     // langCroatian\n    24: 'x-mac-ce',           // langLithuanian\n    25: 'x-mac-ce',           // langPolish\n    26: 'x-mac-ce',           // langHungarian\n    27: 'x-mac-ce',           // langEstonian\n    28: 'x-mac-ce',           // langLatvian\n    30: 'x-mac-icelandic',    // langFaroese\n    37: 'x-mac-romanian',     // langRomanian\n    38: 'x-mac-ce',           // langCzech\n    39: 'x-mac-ce',           // langSlovak\n    40: 'x-mac-ce',           // langSlovenian\n    143: 'x-mac-inuit',       // langInuktitut\n    146: 'x-mac-gaelic'       // langIrishGaelicScript\n};\n\nfunction getEncoding(platformID, encodingID, languageID) {\n    switch (platformID) {\n        case 0:  // Unicode\n            return utf16;\n\n        case 1:  // Apple Macintosh\n            return macLanguageEncodings[languageID] || macScriptEncodings[encodingID];\n\n        case 3:  // Microsoft Windows\n            if (encodingID === 1 || encodingID === 10) {\n                return utf16;\n            }\n\n            break;\n    }\n\n    return undefined;\n}\n\n// Parse the naming `name` table.\n// FIXME: Format 1 additional fields are not supported yet.\n// ltag is the content of the `ltag' table, such as ['en', 'zh-Hans', 'de-CH-1904'].\nfunction parseNameTable(data, start, ltag) {\n    const name = {};\n    const p = new parse.Parser(data, start);\n    const format = p.parseUShort();\n    const count = p.parseUShort();\n    const stringOffset = p.offset + p.parseUShort();\n    for (let i = 0; i < count; i++) {\n        const platformID = p.parseUShort();\n        const encodingID = p.parseUShort();\n        const languageID = p.parseUShort();\n        const nameID = p.parseUShort();\n        const property = nameTableNames[nameID] || nameID;\n        const byteLength = p.parseUShort();\n        const offset = p.parseUShort();\n        const language = getLanguageCode(platformID, languageID, ltag);\n        const encoding = getEncoding(platformID, encodingID, languageID);\n        if (encoding !== undefined && language !== undefined) {\n            let text;\n            if (encoding === utf16) {\n                text = decode.UTF16(data, stringOffset + offset, byteLength);\n            } else {\n                text = decode.MACSTRING(data, stringOffset + offset, byteLength, encoding);\n            }\n\n            if (text) {\n                let translations = name[property];\n                if (translations === undefined) {\n                    translations = name[property] = {};\n                }\n\n                translations[language] = text;\n            }\n        }\n    }\n\n    let langTagCount = 0;\n    if (format === 1) {\n        // FIXME: Also handle Microsoft's 'name' table 1.\n        langTagCount = p.parseUShort();\n    }\n\n    return name;\n}\n\n// {23: 'foo'} → {'foo': 23}\n// ['bar', 'baz'] → {'bar': 0, 'baz': 1}\nfunction reverseDict(dict) {\n    const result = {};\n    for (let key in dict) {\n        result[dict[key]] = parseInt(key);\n    }\n\n    return result;\n}\n\nfunction makeNameRecord(platformID, encodingID, languageID, nameID, length, offset) {\n    return new table.Record('NameRecord', [\n        {name: 'platformID', type: 'USHORT', value: platformID},\n        {name: 'encodingID', type: 'USHORT', value: encodingID},\n        {name: 'languageID', type: 'USHORT', value: languageID},\n        {name: 'nameID', type: 'USHORT', value: nameID},\n        {name: 'length', type: 'USHORT', value: length},\n        {name: 'offset', type: 'USHORT', value: offset}\n    ]);\n}\n\n// Finds the position of needle in haystack, or -1 if not there.\n// Like String.indexOf(), but for arrays.\nfunction findSubArray(needle, haystack) {\n    const needleLength = needle.length;\n    const limit = haystack.length - needleLength + 1;\n\n    loop:\n    for (let pos = 0; pos < limit; pos++) {\n        for (; pos < limit; pos++) {\n            for (let k = 0; k < needleLength; k++) {\n                if (haystack[pos + k] !== needle[k]) {\n                    continue loop;\n                }\n            }\n\n            return pos;\n        }\n    }\n\n    return -1;\n}\n\nfunction addStringToPool(s, pool) {\n    let offset = findSubArray(s, pool);\n    if (offset < 0) {\n        offset = pool.length;\n        let i = 0;\n        const len = s.length;\n        for (; i < len; ++i) {\n            pool.push(s[i]);\n        }\n\n    }\n\n    return offset;\n}\n\nfunction makeNameTable(names, ltag) {\n    let nameID;\n    const nameIDs = [];\n\n    const namesWithNumericKeys = {};\n    const nameTableIds = reverseDict(nameTableNames);\n    for (let key in names) {\n        let id = nameTableIds[key];\n        if (id === undefined) {\n            id = key;\n        }\n\n        nameID = parseInt(id);\n\n        if (isNaN(nameID)) {\n            throw new Error('Name table entry \"' + key + '\" does not exist, see nameTableNames for complete list.');\n        }\n\n        namesWithNumericKeys[nameID] = names[key];\n        nameIDs.push(nameID);\n    }\n\n    const macLanguageIds = reverseDict(macLanguages);\n    const windowsLanguageIds = reverseDict(windowsLanguages);\n\n    const nameRecords = [];\n    const stringPool = [];\n\n    for (let i = 0; i < nameIDs.length; i++) {\n        nameID = nameIDs[i];\n        const translations = namesWithNumericKeys[nameID];\n        for (let lang in translations) {\n            const text = translations[lang];\n\n            // For MacOS, we try to emit the name in the form that was introduced\n            // in the initial version of the TrueType spec (in the late 1980s).\n            // However, this can fail for various reasons: the requested BCP 47\n            // language code might not have an old-style Mac equivalent;\n            // we might not have a codec for the needed character encoding;\n            // or the name might contain characters that cannot be expressed\n            // in the old-style Macintosh encoding. In case of failure, we emit\n            // the name in a more modern fashion (Unicode encoding with BCP 47\n            // language tags) that is recognized by MacOS 10.5, released in 2009.\n            // If fonts were only read by operating systems, we could simply\n            // emit all names in the modern form; this would be much easier.\n            // However, there are many applications and libraries that read\n            // 'name' tables directly, and these will usually only recognize\n            // the ancient form (silently skipping the unrecognized names).\n            let macPlatform = 1;  // Macintosh\n            let macLanguage = macLanguageIds[lang];\n            let macScript = macLanguageToScript[macLanguage];\n            const macEncoding = getEncoding(macPlatform, macScript, macLanguage);\n            let macName = encode.MACSTRING(text, macEncoding);\n            if (macName === undefined) {\n                macPlatform = 0;  // Unicode\n                macLanguage = ltag.indexOf(lang);\n                if (macLanguage < 0) {\n                    macLanguage = ltag.length;\n                    ltag.push(lang);\n                }\n\n                macScript = 4;  // Unicode 2.0 and later\n                macName = encode.UTF16(text);\n            }\n\n            const macNameOffset = addStringToPool(macName, stringPool);\n            nameRecords.push(makeNameRecord(macPlatform, macScript, macLanguage,\n                                            nameID, macName.length, macNameOffset));\n\n            const winLanguage = windowsLanguageIds[lang];\n            if (winLanguage !== undefined) {\n                const winName = encode.UTF16(text);\n                const winNameOffset = addStringToPool(winName, stringPool);\n                nameRecords.push(makeNameRecord(3, 1, winLanguage,\n                                                nameID, winName.length, winNameOffset));\n            }\n        }\n    }\n\n    nameRecords.sort(function(a, b) {\n        return ((a.platformID - b.platformID) ||\n                (a.encodingID - b.encodingID) ||\n                (a.languageID - b.languageID) ||\n                (a.nameID - b.nameID));\n    });\n\n    const t = new table.Table('name', [\n        {name: 'format', type: 'USHORT', value: 0},\n        {name: 'count', type: 'USHORT', value: nameRecords.length},\n        {name: 'stringOffset', type: 'USHORT', value: 6 + nameRecords.length * 12}\n    ]);\n\n    for (let r = 0; r < nameRecords.length; r++) {\n        t.fields.push({name: 'record_' + r, type: 'RECORD', value: nameRecords[r]});\n    }\n\n    t.fields.push({name: 'strings', type: 'LITERAL', value: stringPool});\n    return t;\n}\n\nexport default { parse: parseNameTable, make: makeNameTable };\n","// The `OS/2` table contains metrics required in OpenType fonts.\n// https://www.microsoft.com/typography/OTSPEC/os2.htm\n\nimport parse from '../parse';\nimport table from '../table';\n\nconst unicodeRanges = [\n    {begin: 0x0000, end: 0x007F}, // Basic Latin\n    {begin: 0x0080, end: 0x00FF}, // Latin-1 Supplement\n    {begin: 0x0100, end: 0x017F}, // Latin Extended-A\n    {begin: 0x0180, end: 0x024F}, // Latin Extended-B\n    {begin: 0x0250, end: 0x02AF}, // IPA Extensions\n    {begin: 0x02B0, end: 0x02FF}, // Spacing Modifier Letters\n    {begin: 0x0300, end: 0x036F}, // Combining Diacritical Marks\n    {begin: 0x0370, end: 0x03FF}, // Greek and Coptic\n    {begin: 0x2C80, end: 0x2CFF}, // Coptic\n    {begin: 0x0400, end: 0x04FF}, // Cyrillic\n    {begin: 0x0530, end: 0x058F}, // Armenian\n    {begin: 0x0590, end: 0x05FF}, // Hebrew\n    {begin: 0xA500, end: 0xA63F}, // Vai\n    {begin: 0x0600, end: 0x06FF}, // Arabic\n    {begin: 0x07C0, end: 0x07FF}, // NKo\n    {begin: 0x0900, end: 0x097F}, // Devanagari\n    {begin: 0x0980, end: 0x09FF}, // Bengali\n    {begin: 0x0A00, end: 0x0A7F}, // Gurmukhi\n    {begin: 0x0A80, end: 0x0AFF}, // Gujarati\n    {begin: 0x0B00, end: 0x0B7F}, // Oriya\n    {begin: 0x0B80, end: 0x0BFF}, // Tamil\n    {begin: 0x0C00, end: 0x0C7F}, // Telugu\n    {begin: 0x0C80, end: 0x0CFF}, // Kannada\n    {begin: 0x0D00, end: 0x0D7F}, // Malayalam\n    {begin: 0x0E00, end: 0x0E7F}, // Thai\n    {begin: 0x0E80, end: 0x0EFF}, // Lao\n    {begin: 0x10A0, end: 0x10FF}, // Georgian\n    {begin: 0x1B00, end: 0x1B7F}, // Balinese\n    {begin: 0x1100, end: 0x11FF}, // Hangul Jamo\n    {begin: 0x1E00, end: 0x1EFF}, // Latin Extended Additional\n    {begin: 0x1F00, end: 0x1FFF}, // Greek Extended\n    {begin: 0x2000, end: 0x206F}, // General Punctuation\n    {begin: 0x2070, end: 0x209F}, // Superscripts And Subscripts\n    {begin: 0x20A0, end: 0x20CF}, // Currency Symbol\n    {begin: 0x20D0, end: 0x20FF}, // Combining Diacritical Marks For Symbols\n    {begin: 0x2100, end: 0x214F}, // Letterlike Symbols\n    {begin: 0x2150, end: 0x218F}, // Number Forms\n    {begin: 0x2190, end: 0x21FF}, // Arrows\n    {begin: 0x2200, end: 0x22FF}, // Mathematical Operators\n    {begin: 0x2300, end: 0x23FF}, // Miscellaneous Technical\n    {begin: 0x2400, end: 0x243F}, // Control Pictures\n    {begin: 0x2440, end: 0x245F}, // Optical Character Recognition\n    {begin: 0x2460, end: 0x24FF}, // Enclosed Alphanumerics\n    {begin: 0x2500, end: 0x257F}, // Box Drawing\n    {begin: 0x2580, end: 0x259F}, // Block Elements\n    {begin: 0x25A0, end: 0x25FF}, // Geometric Shapes\n    {begin: 0x2600, end: 0x26FF}, // Miscellaneous Symbols\n    {begin: 0x2700, end: 0x27BF}, // Dingbats\n    {begin: 0x3000, end: 0x303F}, // CJK Symbols And Punctuation\n    {begin: 0x3040, end: 0x309F}, // Hiragana\n    {begin: 0x30A0, end: 0x30FF}, // Katakana\n    {begin: 0x3100, end: 0x312F}, // Bopomofo\n    {begin: 0x3130, end: 0x318F}, // Hangul Compatibility Jamo\n    {begin: 0xA840, end: 0xA87F}, // Phags-pa\n    {begin: 0x3200, end: 0x32FF}, // Enclosed CJK Letters And Months\n    {begin: 0x3300, end: 0x33FF}, // CJK Compatibility\n    {begin: 0xAC00, end: 0xD7AF}, // Hangul Syllables\n    {begin: 0xD800, end: 0xDFFF}, // Non-Plane 0 *\n    {begin: 0x10900, end: 0x1091F}, // Phoenicia\n    {begin: 0x4E00, end: 0x9FFF}, // CJK Unified Ideographs\n    {begin: 0xE000, end: 0xF8FF}, // Private Use Area (plane 0)\n    {begin: 0x31C0, end: 0x31EF}, // CJK Strokes\n    {begin: 0xFB00, end: 0xFB4F}, // Alphabetic Presentation Forms\n    {begin: 0xFB50, end: 0xFDFF}, // Arabic Presentation Forms-A\n    {begin: 0xFE20, end: 0xFE2F}, // Combining Half Marks\n    {begin: 0xFE10, end: 0xFE1F}, // Vertical Forms\n    {begin: 0xFE50, end: 0xFE6F}, // Small Form Variants\n    {begin: 0xFE70, end: 0xFEFF}, // Arabic Presentation Forms-B\n    {begin: 0xFF00, end: 0xFFEF}, // Halfwidth And Fullwidth Forms\n    {begin: 0xFFF0, end: 0xFFFF}, // Specials\n    {begin: 0x0F00, end: 0x0FFF}, // Tibetan\n    {begin: 0x0700, end: 0x074F}, // Syriac\n    {begin: 0x0780, end: 0x07BF}, // Thaana\n    {begin: 0x0D80, end: 0x0DFF}, // Sinhala\n    {begin: 0x1000, end: 0x109F}, // Myanmar\n    {begin: 0x1200, end: 0x137F}, // Ethiopic\n    {begin: 0x13A0, end: 0x13FF}, // Cherokee\n    {begin: 0x1400, end: 0x167F}, // Unified Canadian Aboriginal Syllabics\n    {begin: 0x1680, end: 0x169F}, // Ogham\n    {begin: 0x16A0, end: 0x16FF}, // Runic\n    {begin: 0x1780, end: 0x17FF}, // Khmer\n    {begin: 0x1800, end: 0x18AF}, // Mongolian\n    {begin: 0x2800, end: 0x28FF}, // Braille Patterns\n    {begin: 0xA000, end: 0xA48F}, // Yi Syllables\n    {begin: 0x1700, end: 0x171F}, // Tagalog\n    {begin: 0x10300, end: 0x1032F}, // Old Italic\n    {begin: 0x10330, end: 0x1034F}, // Gothic\n    {begin: 0x10400, end: 0x1044F}, // Deseret\n    {begin: 0x1D000, end: 0x1D0FF}, // Byzantine Musical Symbols\n    {begin: 0x1D400, end: 0x1D7FF}, // Mathematical Alphanumeric Symbols\n    {begin: 0xFF000, end: 0xFFFFD}, // Private Use (plane 15)\n    {begin: 0xFE00, end: 0xFE0F}, // Variation Selectors\n    {begin: 0xE0000, end: 0xE007F}, // Tags\n    {begin: 0x1900, end: 0x194F}, // Limbu\n    {begin: 0x1950, end: 0x197F}, // Tai Le\n    {begin: 0x1980, end: 0x19DF}, // New Tai Lue\n    {begin: 0x1A00, end: 0x1A1F}, // Buginese\n    {begin: 0x2C00, end: 0x2C5F}, // Glagolitic\n    {begin: 0x2D30, end: 0x2D7F}, // Tifinagh\n    {begin: 0x4DC0, end: 0x4DFF}, // Yijing Hexagram Symbols\n    {begin: 0xA800, end: 0xA82F}, // Syloti Nagri\n    {begin: 0x10000, end: 0x1007F}, // Linear B Syllabary\n    {begin: 0x10140, end: 0x1018F}, // Ancient Greek Numbers\n    {begin: 0x10380, end: 0x1039F}, // Ugaritic\n    {begin: 0x103A0, end: 0x103DF}, // Old Persian\n    {begin: 0x10450, end: 0x1047F}, // Shavian\n    {begin: 0x10480, end: 0x104AF}, // Osmanya\n    {begin: 0x10800, end: 0x1083F}, // Cypriot Syllabary\n    {begin: 0x10A00, end: 0x10A5F}, // Kharoshthi\n    {begin: 0x1D300, end: 0x1D35F}, // Tai Xuan Jing Symbols\n    {begin: 0x12000, end: 0x123FF}, // Cuneiform\n    {begin: 0x1D360, end: 0x1D37F}, // Counting Rod Numerals\n    {begin: 0x1B80, end: 0x1BBF}, // Sundanese\n    {begin: 0x1C00, end: 0x1C4F}, // Lepcha\n    {begin: 0x1C50, end: 0x1C7F}, // Ol Chiki\n    {begin: 0xA880, end: 0xA8DF}, // Saurashtra\n    {begin: 0xA900, end: 0xA92F}, // Kayah Li\n    {begin: 0xA930, end: 0xA95F}, // Rejang\n    {begin: 0xAA00, end: 0xAA5F}, // Cham\n    {begin: 0x10190, end: 0x101CF}, // Ancient Symbols\n    {begin: 0x101D0, end: 0x101FF}, // Phaistos Disc\n    {begin: 0x102A0, end: 0x102DF}, // Carian\n    {begin: 0x1F030, end: 0x1F09F}  // Domino Tiles\n];\n\nfunction getUnicodeRange(unicode) {\n    for (let i = 0; i < unicodeRanges.length; i += 1) {\n        const range = unicodeRanges[i];\n        if (unicode >= range.begin && unicode < range.end) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n\n// Parse the OS/2 and Windows metrics `OS/2` table\nfunction parseOS2Table(data, start) {\n    const os2 = {};\n    const p = new parse.Parser(data, start);\n    os2.version = p.parseUShort();\n    os2.xAvgCharWidth = p.parseShort();\n    os2.usWeightClass = p.parseUShort();\n    os2.usWidthClass = p.parseUShort();\n    os2.fsType = p.parseUShort();\n    os2.ySubscriptXSize = p.parseShort();\n    os2.ySubscriptYSize = p.parseShort();\n    os2.ySubscriptXOffset = p.parseShort();\n    os2.ySubscriptYOffset = p.parseShort();\n    os2.ySuperscriptXSize = p.parseShort();\n    os2.ySuperscriptYSize = p.parseShort();\n    os2.ySuperscriptXOffset = p.parseShort();\n    os2.ySuperscriptYOffset = p.parseShort();\n    os2.yStrikeoutSize = p.parseShort();\n    os2.yStrikeoutPosition = p.parseShort();\n    os2.sFamilyClass = p.parseShort();\n    os2.panose = [];\n    for (let i = 0; i < 10; i++) {\n        os2.panose[i] = p.parseByte();\n    }\n\n    os2.ulUnicodeRange1 = p.parseULong();\n    os2.ulUnicodeRange2 = p.parseULong();\n    os2.ulUnicodeRange3 = p.parseULong();\n    os2.ulUnicodeRange4 = p.parseULong();\n    os2.achVendID = String.fromCharCode(p.parseByte(), p.parseByte(), p.parseByte(), p.parseByte());\n    os2.fsSelection = p.parseUShort();\n    os2.usFirstCharIndex = p.parseUShort();\n    os2.usLastCharIndex = p.parseUShort();\n    os2.sTypoAscender = p.parseShort();\n    os2.sTypoDescender = p.parseShort();\n    os2.sTypoLineGap = p.parseShort();\n    os2.usWinAscent = p.parseUShort();\n    os2.usWinDescent = p.parseUShort();\n    if (os2.version >= 1) {\n        os2.ulCodePageRange1 = p.parseULong();\n        os2.ulCodePageRange2 = p.parseULong();\n    }\n\n    if (os2.version >= 2) {\n        os2.sxHeight = p.parseShort();\n        os2.sCapHeight = p.parseShort();\n        os2.usDefaultChar = p.parseUShort();\n        os2.usBreakChar = p.parseUShort();\n        os2.usMaxContent = p.parseUShort();\n    }\n\n    return os2;\n}\n\nfunction makeOS2Table(options) {\n    return new table.Table('OS/2', [\n        {name: 'version', type: 'USHORT', value: 0x0003},\n        {name: 'xAvgCharWidth', type: 'SHORT', value: 0},\n        {name: 'usWeightClass', type: 'USHORT', value: 0},\n        {name: 'usWidthClass', type: 'USHORT', value: 0},\n        {name: 'fsType', type: 'USHORT', value: 0},\n        {name: 'ySubscriptXSize', type: 'SHORT', value: 650},\n        {name: 'ySubscriptYSize', type: 'SHORT', value: 699},\n        {name: 'ySubscriptXOffset', type: 'SHORT', value: 0},\n        {name: 'ySubscriptYOffset', type: 'SHORT', value: 140},\n        {name: 'ySuperscriptXSize', type: 'SHORT', value: 650},\n        {name: 'ySuperscriptYSize', type: 'SHORT', value: 699},\n        {name: 'ySuperscriptXOffset', type: 'SHORT', value: 0},\n        {name: 'ySuperscriptYOffset', type: 'SHORT', value: 479},\n        {name: 'yStrikeoutSize', type: 'SHORT', value: 49},\n        {name: 'yStrikeoutPosition', type: 'SHORT', value: 258},\n        {name: 'sFamilyClass', type: 'SHORT', value: 0},\n        {name: 'bFamilyType', type: 'BYTE', value: 0},\n        {name: 'bSerifStyle', type: 'BYTE', value: 0},\n        {name: 'bWeight', type: 'BYTE', value: 0},\n        {name: 'bProportion', type: 'BYTE', value: 0},\n        {name: 'bContrast', type: 'BYTE', value: 0},\n        {name: 'bStrokeVariation', type: 'BYTE', value: 0},\n        {name: 'bArmStyle', type: 'BYTE', value: 0},\n        {name: 'bLetterform', type: 'BYTE', value: 0},\n        {name: 'bMidline', type: 'BYTE', value: 0},\n        {name: 'bXHeight', type: 'BYTE', value: 0},\n        {name: 'ulUnicodeRange1', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange2', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange3', type: 'ULONG', value: 0},\n        {name: 'ulUnicodeRange4', type: 'ULONG', value: 0},\n        {name: 'achVendID', type: 'CHARARRAY', value: 'XXXX'},\n        {name: 'fsSelection', type: 'USHORT', value: 0},\n        {name: 'usFirstCharIndex', type: 'USHORT', value: 0},\n        {name: 'usLastCharIndex', type: 'USHORT', value: 0},\n        {name: 'sTypoAscender', type: 'SHORT', value: 0},\n        {name: 'sTypoDescender', type: 'SHORT', value: 0},\n        {name: 'sTypoLineGap', type: 'SHORT', value: 0},\n        {name: 'usWinAscent', type: 'USHORT', value: 0},\n        {name: 'usWinDescent', type: 'USHORT', value: 0},\n        {name: 'ulCodePageRange1', type: 'ULONG', value: 0},\n        {name: 'ulCodePageRange2', type: 'ULONG', value: 0},\n        {name: 'sxHeight', type: 'SHORT', value: 0},\n        {name: 'sCapHeight', type: 'SHORT', value: 0},\n        {name: 'usDefaultChar', type: 'USHORT', value: 0},\n        {name: 'usBreakChar', type: 'USHORT', value: 0},\n        {name: 'usMaxContext', type: 'USHORT', value: 0}\n    ], options);\n}\n\nexport default { parse: parseOS2Table, make: makeOS2Table, unicodeRanges, getUnicodeRange };\n","// The `post` table stores additional PostScript information, such as glyph names.\n// https://www.microsoft.com/typography/OTSPEC/post.htm\n\nimport { standardNames } from '../encoding';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the PostScript `post` table\nfunction parsePostTable(data, start) {\n    const post = {};\n    const p = new parse.Parser(data, start);\n    post.version = p.parseVersion();\n    post.italicAngle = p.parseFixed();\n    post.underlinePosition = p.parseShort();\n    post.underlineThickness = p.parseShort();\n    post.isFixedPitch = p.parseULong();\n    post.minMemType42 = p.parseULong();\n    post.maxMemType42 = p.parseULong();\n    post.minMemType1 = p.parseULong();\n    post.maxMemType1 = p.parseULong();\n    switch (post.version) {\n        case 1:\n            post.names = standardNames.slice();\n            break;\n        case 2:\n            post.numberOfGlyphs = p.parseUShort();\n            post.glyphNameIndex = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                post.glyphNameIndex[i] = p.parseUShort();\n            }\n\n            post.names = [];\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                if (post.glyphNameIndex[i] >= standardNames.length) {\n                    const nameLength = p.parseChar();\n                    post.names.push(p.parseString(nameLength));\n                }\n            }\n\n            break;\n        case 2.5:\n            post.numberOfGlyphs = p.parseUShort();\n            post.offset = new Array(post.numberOfGlyphs);\n            for (let i = 0; i < post.numberOfGlyphs; i++) {\n                post.offset[i] = p.parseChar();\n            }\n\n            break;\n    }\n    return post;\n}\n\nfunction makePostTable() {\n    return new table.Table('post', [\n        {name: 'version', type: 'FIXED', value: 0x00030000},\n        {name: 'italicAngle', type: 'FIXED', value: 0},\n        {name: 'underlinePosition', type: 'FWORD', value: 0},\n        {name: 'underlineThickness', type: 'FWORD', value: 0},\n        {name: 'isFixedPitch', type: 'ULONG', value: 0},\n        {name: 'minMemType42', type: 'ULONG', value: 0},\n        {name: 'maxMemType42', type: 'ULONG', value: 0},\n        {name: 'minMemType1', type: 'ULONG', value: 0},\n        {name: 'maxMemType1', type: 'ULONG', value: 0}\n    ]);\n}\n\nexport default { parse: parsePostTable, make: makePostTable };\n","// The `GSUB` table contains ligatures, among other things.\n// https://www.microsoft.com/typography/OTSPEC/gsub.htm\n\nimport check from '../check';\nimport { Parser } from '../parse';\nimport table from '../table';\n\nconst subtableParsers = new Array(9);         // subtableParsers[0] is unused\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#SS\nsubtableParsers[1] = function parseLookup1() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n    if (substFormat === 1) {\n        return {\n            substFormat: 1,\n            coverage: this.parsePointer(Parser.coverage),\n            deltaGlyphId: this.parseUShort()\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: 2,\n            coverage: this.parsePointer(Parser.coverage),\n            substitute: this.parseOffset16List()\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 1 format must be 1 or 2.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#MS\nsubtableParsers[2] = function parseLookup2() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Multiple Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        sequences: this.parseListOfLists()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#AS\nsubtableParsers[3] = function parseLookup3() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Alternate Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        alternateSets: this.parseListOfLists()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#LS\nsubtableParsers[4] = function parseLookup4() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB ligature table identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        ligatureSets: this.parseListOfLists(function() {\n            return {\n                ligGlyph: this.parseUShort(),\n                components: this.parseUShortList(this.parseUShort() - 1)\n            };\n        })\n    };\n};\n\nconst lookupRecordDesc = {\n    sequenceIndex: Parser.uShort,\n    lookupListIndex: Parser.uShort\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CSF\nsubtableParsers[5] = function parseLookup5() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n\n    if (substFormat === 1) {\n        return {\n            substFormat: substFormat,\n            coverage: this.parsePointer(Parser.coverage),\n            ruleSets: this.parseListOfLists(function() {\n                const glyphCount = this.parseUShort();\n                const substCount = this.parseUShort();\n                return {\n                    input: this.parseUShortList(glyphCount - 1),\n                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: substFormat,\n            coverage: this.parsePointer(Parser.coverage),\n            classDef: this.parsePointer(Parser.classDef),\n            classSets: this.parseListOfLists(function() {\n                const glyphCount = this.parseUShort();\n                const substCount = this.parseUShort();\n                return {\n                    classes: this.parseUShortList(glyphCount - 1),\n                    lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 3) {\n        const glyphCount = this.parseUShort();\n        const substCount = this.parseUShort();\n        return {\n            substFormat: substFormat,\n            coverages: this.parseList(glyphCount, Parser.pointer(Parser.coverage)),\n            lookupRecords: this.parseRecordList(substCount, lookupRecordDesc)\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 5 format must be 1, 2 or 3.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#CC\nsubtableParsers[6] = function parseLookup6() {\n    const start = this.offset + this.relativeOffset;\n    const substFormat = this.parseUShort();\n    if (substFormat === 1) {\n        return {\n            substFormat: 1,\n            coverage: this.parsePointer(Parser.coverage),\n            chainRuleSets: this.parseListOfLists(function() {\n                return {\n                    backtrack: this.parseUShortList(),\n                    input: this.parseUShortList(this.parseShort() - 1),\n                    lookahead: this.parseUShortList(),\n                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 2) {\n        return {\n            substFormat: 2,\n            coverage: this.parsePointer(Parser.coverage),\n            backtrackClassDef: this.parsePointer(Parser.classDef),\n            inputClassDef: this.parsePointer(Parser.classDef),\n            lookaheadClassDef: this.parsePointer(Parser.classDef),\n            chainClassSet: this.parseListOfLists(function() {\n                return {\n                    backtrack: this.parseUShortList(),\n                    input: this.parseUShortList(this.parseShort() - 1),\n                    lookahead: this.parseUShortList(),\n                    lookupRecords: this.parseRecordList(lookupRecordDesc)\n                };\n            })\n        };\n    } else if (substFormat === 3) {\n        return {\n            substFormat: 3,\n            backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            inputCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n            lookupRecords: this.parseRecordList(lookupRecordDesc)\n        };\n    }\n    check.assert(false, '0x' + start.toString(16) + ': lookup type 6 format must be 1, 2 or 3.');\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#ES\nsubtableParsers[7] = function parseLookup7() {\n    // Extension Substitution subtable\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Extension Substitution subtable identifier-format must be 1');\n    const extensionLookupType = this.parseUShort();\n    const extensionParser = new Parser(this.data, this.offset + this.parseULong());\n    return {\n        substFormat: 1,\n        lookupType: extensionLookupType,\n        extension: subtableParsers[extensionLookupType].call(extensionParser)\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/GSUB.htm#RCCS\nsubtableParsers[8] = function parseLookup8() {\n    const substFormat = this.parseUShort();\n    check.argument(substFormat === 1, 'GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1');\n    return {\n        substFormat: substFormat,\n        coverage: this.parsePointer(Parser.coverage),\n        backtrackCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n        lookaheadCoverage: this.parseList(Parser.pointer(Parser.coverage)),\n        substitutes: this.parseUShortList()\n    };\n};\n\n// https://www.microsoft.com/typography/OTSPEC/gsub.htm\nfunction parseGsubTable(data, start) {\n    start = start || 0;\n    const p = new Parser(data, start);\n    const tableVersion = p.parseVersion();\n    check.argument(tableVersion === 1, 'Unsupported GSUB table version.');\n    return {\n        version: tableVersion,\n        scripts: p.parseScriptList(),\n        features: p.parseFeatureList(),\n        lookups: p.parseLookupList(subtableParsers)\n    };\n}\n\n// GSUB Writing //////////////////////////////////////////////\nconst subtableMakers = new Array(9);\n\nsubtableMakers[1] = function makeLookup1(subtable) {\n    if (subtable.substFormat === 1) {\n        return new table.Table('substitutionTable', [\n            {name: 'substFormat', type: 'USHORT', value: 1},\n            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)},\n            {name: 'deltaGlyphID', type: 'USHORT', value: subtable.deltaGlyphId}\n        ]);\n    } else {\n        return new table.Table('substitutionTable', [\n            {name: 'substFormat', type: 'USHORT', value: 2},\n            {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n        ].concat(table.ushortList('substitute', subtable.substitute)));\n    }\n    check.fail('Lookup type 1 substFormat must be 1 or 2.');\n};\n\nsubtableMakers[3] = function makeLookup3(subtable) {\n    check.assert(subtable.substFormat === 1, 'Lookup type 3 substFormat must be 1.');\n    return new table.Table('substitutionTable', [\n        {name: 'substFormat', type: 'USHORT', value: 1},\n        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n    ].concat(table.tableList('altSet', subtable.alternateSets, function(alternateSet) {\n        return new table.Table('alternateSetTable', table.ushortList('alternate', alternateSet));\n    })));\n};\n\nsubtableMakers[4] = function makeLookup4(subtable) {\n    check.assert(subtable.substFormat === 1, 'Lookup type 4 substFormat must be 1.');\n    return new table.Table('substitutionTable', [\n        {name: 'substFormat', type: 'USHORT', value: 1},\n        {name: 'coverage', type: 'TABLE', value: new table.Coverage(subtable.coverage)}\n    ].concat(table.tableList('ligSet', subtable.ligatureSets, function(ligatureSet) {\n        return new table.Table('ligatureSetTable', table.tableList('ligature', ligatureSet, function(ligature) {\n            return new table.Table('ligatureTable',\n                [{name: 'ligGlyph', type: 'USHORT', value: ligature.ligGlyph}]\n                .concat(table.ushortList('component', ligature.components, ligature.components.length + 1))\n            );\n        }));\n    })));\n};\n\nfunction makeGsubTable(gsub) {\n    return new table.Table('GSUB', [\n        {name: 'version', type: 'ULONG', value: 0x10000},\n        {name: 'scripts', type: 'TABLE', value: new table.ScriptList(gsub.scripts)},\n        {name: 'features', type: 'TABLE', value: new table.FeatureList(gsub.features)},\n        {name: 'lookups', type: 'TABLE', value: new table.LookupList(gsub.lookups, subtableMakers)}\n    ]);\n}\n\nexport default { parse: parseGsubTable, make: makeGsubTable };\n","// The `GPOS` table contains kerning pairs, among other things.\n// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\nimport check from '../check';\nimport { decode } from '../types';\nimport parse from '../parse';\nimport table from '../table';\n\n// Parse the metadata `meta` table.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6meta.html\nfunction parseMetaTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 1, 'Unsupported META table version.');\n    p.parseULong(); // flags - currently unused and set to 0\n    p.parseULong(); // tableOffset\n    const numDataMaps = p.parseULong();\n\n    const tags = {};\n    for (let i = 0; i < numDataMaps; i++) {\n        const tag = p.parseTag();\n        const dataOffset = p.parseULong();\n        const dataLength = p.parseULong();\n        const text = decode.UTF8(data, start + dataOffset, dataLength);\n\n        tags[tag] = text;\n    }\n    return tags;\n}\n\nfunction makeMetaTable(tags) {\n    const numTags = Object.keys(tags).length;\n    let stringPool = '';\n    const stringPoolOffset = 16 + numTags * 12;\n\n    const result = new table.Table('meta', [\n        {name: 'version', type: 'ULONG', value: 1},\n        {name: 'flags', type: 'ULONG', value: 0},\n        {name: 'offset', type: 'ULONG', value: stringPoolOffset},\n        {name: 'numTags', type: 'ULONG', value: numTags}\n    ]);\n\n    for (let tag in tags) {\n        const pos = stringPool.length;\n        stringPool += tags[tag];\n\n        result.fields.push({name: 'tag ' + tag, type: 'TAG', value: tag});\n        result.fields.push({name: 'offset ' + tag, type: 'ULONG', value: stringPoolOffset + pos});\n        result.fields.push({name: 'length ' + tag, type: 'ULONG', value: tags[tag].length});\n    }\n\n    result.fields.push({name: 'stringPool', type: 'CHARARRAY', value: stringPool});\n\n    return result;\n}\n\nexport default { parse: parseMetaTable, make: makeMetaTable };\n","// The `sfnt` wrapper provides organization for the tables in the font.\n// It is the top-level data structure in a font.\n// https://www.microsoft.com/typography/OTSPEC/otff.htm\n// Recommendations for creating OpenType Fonts:\n// http://www.microsoft.com/typography/otspec140/recom.htm\n\nimport check from '../check';\nimport table from '../table';\n\nimport cmap from './cmap';\nimport cff from './cff';\nimport head from './head';\nimport hhea from './hhea';\nimport hmtx from './hmtx';\nimport ltag from './ltag';\nimport maxp from './maxp';\nimport _name from './name';\nimport os2 from './os2';\nimport post from './post';\nimport gsub from './gsub';\nimport meta from './meta';\n\nfunction log2(v) {\n    return Math.log(v) / Math.log(2) | 0;\n}\n\nfunction computeCheckSum(bytes) {\n    while (bytes.length % 4 !== 0) {\n        bytes.push(0);\n    }\n\n    let sum = 0;\n    for (let i = 0; i < bytes.length; i += 4) {\n        sum += (bytes[i] << 24) +\n            (bytes[i + 1] << 16) +\n            (bytes[i + 2] << 8) +\n            (bytes[i + 3]);\n    }\n\n    sum %= Math.pow(2, 32);\n    return sum;\n}\n\nfunction makeTableRecord(tag, checkSum, offset, length) {\n    return new table.Record('Table Record', [\n        {name: 'tag', type: 'TAG', value: tag !== undefined ? tag : ''},\n        {name: 'checkSum', type: 'ULONG', value: checkSum !== undefined ? checkSum : 0},\n        {name: 'offset', type: 'ULONG', value: offset !== undefined ? offset : 0},\n        {name: 'length', type: 'ULONG', value: length !== undefined ? length : 0}\n    ]);\n}\n\nfunction makeSfntTable(tables) {\n    const sfnt = new table.Table('sfnt', [\n        {name: 'version', type: 'TAG', value: 'OTTO'},\n        {name: 'numTables', type: 'USHORT', value: 0},\n        {name: 'searchRange', type: 'USHORT', value: 0},\n        {name: 'entrySelector', type: 'USHORT', value: 0},\n        {name: 'rangeShift', type: 'USHORT', value: 0}\n    ]);\n    sfnt.tables = tables;\n    sfnt.numTables = tables.length;\n    const highestPowerOf2 = Math.pow(2, log2(sfnt.numTables));\n    sfnt.searchRange = 16 * highestPowerOf2;\n    sfnt.entrySelector = log2(highestPowerOf2);\n    sfnt.rangeShift = sfnt.numTables * 16 - sfnt.searchRange;\n\n    const recordFields = [];\n    const tableFields = [];\n\n    let offset = sfnt.sizeOf() + (makeTableRecord().sizeOf() * sfnt.numTables);\n    while (offset % 4 !== 0) {\n        offset += 1;\n        tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n    }\n\n    for (let i = 0; i < tables.length; i += 1) {\n        const t = tables[i];\n        check.argument(t.tableName.length === 4, 'Table name' + t.tableName + ' is invalid.');\n        const tableLength = t.sizeOf();\n        const tableRecord = makeTableRecord(t.tableName, computeCheckSum(t.encode()), offset, tableLength);\n        recordFields.push({name: tableRecord.tag + ' Table Record', type: 'RECORD', value: tableRecord});\n        tableFields.push({name: t.tableName + ' table', type: 'RECORD', value: t});\n        offset += tableLength;\n        check.argument(!isNaN(offset), 'Something went wrong calculating the offset.');\n        while (offset % 4 !== 0) {\n            offset += 1;\n            tableFields.push({name: 'padding', type: 'BYTE', value: 0});\n        }\n    }\n\n    // Table records need to be sorted alphabetically.\n    recordFields.sort(function(r1, r2) {\n        if (r1.value.tag > r2.value.tag) {\n            return 1;\n        } else {\n            return -1;\n        }\n    });\n\n    sfnt.fields = sfnt.fields.concat(recordFields);\n    sfnt.fields = sfnt.fields.concat(tableFields);\n    return sfnt;\n}\n\n// Get the metrics for a character. If the string has more than one character\n// this function returns metrics for the first available character.\n// You can provide optional fallback metrics if no characters are available.\nfunction metricsForChar(font, chars, notFoundMetrics) {\n    for (let i = 0; i < chars.length; i += 1) {\n        const glyphIndex = font.charToGlyphIndex(chars[i]);\n        if (glyphIndex > 0) {\n            const glyph = font.glyphs.get(glyphIndex);\n            return glyph.getMetrics();\n        }\n    }\n\n    return notFoundMetrics;\n}\n\nfunction average(vs) {\n    let sum = 0;\n    for (let i = 0; i < vs.length; i += 1) {\n        sum += vs[i];\n    }\n\n    return sum / vs.length;\n}\n\n// Convert the font object to a SFNT data structure.\n// This structure contains all the necessary tables and metadata to create a binary OTF file.\nfunction fontToSfntTable(font) {\n    const xMins = [];\n    const yMins = [];\n    const xMaxs = [];\n    const yMaxs = [];\n    const advanceWidths = [];\n    const leftSideBearings = [];\n    const rightSideBearings = [];\n    let firstCharIndex;\n    let lastCharIndex = 0;\n    let ulUnicodeRange1 = 0;\n    let ulUnicodeRange2 = 0;\n    let ulUnicodeRange3 = 0;\n    let ulUnicodeRange4 = 0;\n\n    for (let i = 0; i < font.glyphs.length; i += 1) {\n        const glyph = font.glyphs.get(i);\n        const unicode = glyph.unicode | 0;\n\n        if (isNaN(glyph.advanceWidth)) {\n            throw new Error('Glyph ' + glyph.name + ' (' + i + '): advanceWidth is not a number.');\n        }\n\n        if (firstCharIndex > unicode || firstCharIndex === undefined) {\n            // ignore .notdef char\n            if (unicode > 0) {\n                firstCharIndex = unicode;\n            }\n        }\n\n        if (lastCharIndex < unicode) {\n            lastCharIndex = unicode;\n        }\n\n        const position = os2.getUnicodeRange(unicode);\n        if (position < 32) {\n            ulUnicodeRange1 |= 1 << position;\n        } else if (position < 64) {\n            ulUnicodeRange2 |= 1 << position - 32;\n        } else if (position < 96) {\n            ulUnicodeRange3 |= 1 << position - 64;\n        } else if (position < 123) {\n            ulUnicodeRange4 |= 1 << position - 96;\n        } else {\n            throw new Error('Unicode ranges bits > 123 are reserved for internal usage');\n        }\n        // Skip non-important characters.\n        if (glyph.name === '.notdef') continue;\n        const metrics = glyph.getMetrics();\n        xMins.push(metrics.xMin);\n        yMins.push(metrics.yMin);\n        xMaxs.push(metrics.xMax);\n        yMaxs.push(metrics.yMax);\n        leftSideBearings.push(metrics.leftSideBearing);\n        rightSideBearings.push(metrics.rightSideBearing);\n        advanceWidths.push(glyph.advanceWidth);\n    }\n\n    const globals = {\n        xMin: Math.min.apply(null, xMins),\n        yMin: Math.min.apply(null, yMins),\n        xMax: Math.max.apply(null, xMaxs),\n        yMax: Math.max.apply(null, yMaxs),\n        advanceWidthMax: Math.max.apply(null, advanceWidths),\n        advanceWidthAvg: average(advanceWidths),\n        minLeftSideBearing: Math.min.apply(null, leftSideBearings),\n        maxLeftSideBearing: Math.max.apply(null, leftSideBearings),\n        minRightSideBearing: Math.min.apply(null, rightSideBearings)\n    };\n    globals.ascender = font.ascender;\n    globals.descender = font.descender;\n\n    const headTable = head.make({\n        flags: 3, // 00000011 (baseline for font at y=0; left sidebearing point at x=0)\n        unitsPerEm: font.unitsPerEm,\n        xMin: globals.xMin,\n        yMin: globals.yMin,\n        xMax: globals.xMax,\n        yMax: globals.yMax,\n        lowestRecPPEM: 3,\n        createdTimestamp: font.createdTimestamp\n    });\n\n    const hheaTable = hhea.make({\n        ascender: globals.ascender,\n        descender: globals.descender,\n        advanceWidthMax: globals.advanceWidthMax,\n        minLeftSideBearing: globals.minLeftSideBearing,\n        minRightSideBearing: globals.minRightSideBearing,\n        xMaxExtent: globals.maxLeftSideBearing + (globals.xMax - globals.xMin),\n        numberOfHMetrics: font.glyphs.length\n    });\n\n    const maxpTable = maxp.make(font.glyphs.length);\n\n    const os2Table = os2.make({\n        xAvgCharWidth: Math.round(globals.advanceWidthAvg),\n        usWeightClass: font.tables.os2.usWeightClass,\n        usWidthClass: font.tables.os2.usWidthClass,\n        usFirstCharIndex: firstCharIndex,\n        usLastCharIndex: lastCharIndex,\n        ulUnicodeRange1: ulUnicodeRange1,\n        ulUnicodeRange2: ulUnicodeRange2,\n        ulUnicodeRange3: ulUnicodeRange3,\n        ulUnicodeRange4: ulUnicodeRange4,\n        fsSelection: font.tables.os2.fsSelection, // REGULAR\n        // See http://typophile.com/node/13081 for more info on vertical metrics.\n        // We get metrics for typical characters (such as \"x\" for xHeight).\n        // We provide some fallback characters if characters are unavailable: their\n        // ordering was chosen experimentally.\n        sTypoAscender: globals.ascender,\n        sTypoDescender: globals.descender,\n        sTypoLineGap: 0,\n        usWinAscent: globals.yMax,\n        usWinDescent: Math.abs(globals.yMin),\n        ulCodePageRange1: 1, // FIXME: hard-code Latin 1 support for now\n        sxHeight: metricsForChar(font, 'xyvw', {yMax: Math.round(globals.ascender / 2)}).yMax,\n        sCapHeight: metricsForChar(font, 'HIKLEFJMNTZBDPRAGOQSUVWXY', globals).yMax,\n        usDefaultChar: font.hasChar(' ') ? 32 : 0, // Use space as the default character, if available.\n        usBreakChar: font.hasChar(' ') ? 32 : 0 // Use space as the break character, if available.\n    });\n\n    const hmtxTable = hmtx.make(font.glyphs);\n    const cmapTable = cmap.make(font.glyphs);\n\n    const englishFamilyName = font.getEnglishName('fontFamily');\n    const englishStyleName = font.getEnglishName('fontSubfamily');\n    const englishFullName = englishFamilyName + ' ' + englishStyleName;\n    let postScriptName = font.getEnglishName('postScriptName');\n    if (!postScriptName) {\n        postScriptName = englishFamilyName.replace(/\\s/g, '') + '-' + englishStyleName;\n    }\n\n    const names = {};\n    for (let n in font.names) {\n        names[n] = font.names[n];\n    }\n\n    if (!names.uniqueID) {\n        names.uniqueID = {en: font.getEnglishName('manufacturer') + ':' + englishFullName};\n    }\n\n    if (!names.postScriptName) {\n        names.postScriptName = {en: postScriptName};\n    }\n\n    if (!names.preferredFamily) {\n        names.preferredFamily = font.names.fontFamily;\n    }\n\n    if (!names.preferredSubfamily) {\n        names.preferredSubfamily = font.names.fontSubfamily;\n    }\n\n    const languageTags = [];\n    const nameTable = _name.make(names, languageTags);\n    const ltagTable = (languageTags.length > 0 ? ltag.make(languageTags) : undefined);\n\n    const postTable = post.make();\n    const cffTable = cff.make(font.glyphs, {\n        version: font.getEnglishName('version'),\n        fullName: englishFullName,\n        familyName: englishFamilyName,\n        weightName: englishStyleName,\n        postScriptName: postScriptName,\n        unitsPerEm: font.unitsPerEm,\n        fontBBox: [0, globals.yMin, globals.ascender, globals.advanceWidthMax]\n    });\n\n    const metaTable = (font.metas && Object.keys(font.metas).length > 0) ? meta.make(font.metas) : undefined;\n\n    // The order does not matter because makeSfntTable() will sort them.\n    const tables = [headTable, hheaTable, maxpTable, os2Table, nameTable, cmapTable, postTable, cffTable, hmtxTable];\n    if (ltagTable) {\n        tables.push(ltagTable);\n    }\n    // Optional tables\n    if (font.tables.gsub) {\n        tables.push(gsub.make(font.tables.gsub));\n    }\n    if (metaTable) {\n        tables.push(metaTable);\n    }\n\n    const sfntTable = makeSfntTable(tables);\n\n    // Compute the font's checkSum and store it in head.checkSumAdjustment.\n    const bytes = sfntTable.encode();\n    const checkSum = computeCheckSum(bytes);\n    const tableFields = sfntTable.fields;\n    let checkSumAdjusted = false;\n    for (let i = 0; i < tableFields.length; i += 1) {\n        if (tableFields[i].name === 'head table') {\n            tableFields[i].value.checkSumAdjustment = 0xB1B0AFBA - checkSum;\n            checkSumAdjusted = true;\n            break;\n        }\n    }\n\n    if (!checkSumAdjusted) {\n        throw new Error('Could not find head table with checkSum to adjust.');\n    }\n\n    return sfntTable;\n}\n\nexport default { make: makeSfntTable, fontToTable: fontToSfntTable, computeCheckSum };\n","// The Layout object is the prototype of Substitution objects, and provides\n// utility methods to manipulate common layout tables (GPOS, GSUB, GDEF...)\n\nimport check from './check';\n\nfunction searchTag(arr, tag) {\n    /* jshint bitwise: false */\n    let imin = 0;\n    let imax = arr.length - 1;\n    while (imin <= imax) {\n        const imid = (imin + imax) >>> 1;\n        const val = arr[imid].tag;\n        if (val === tag) {\n            return imid;\n        } else if (val < tag) {\n            imin = imid + 1;\n        } else { imax = imid - 1; }\n    }\n    // Not found: return -1-insertion point\n    return -imin - 1;\n}\n\nfunction binSearch(arr, value) {\n    /* jshint bitwise: false */\n    let imin = 0;\n    let imax = arr.length - 1;\n    while (imin <= imax) {\n        const imid = (imin + imax) >>> 1;\n        const val = arr[imid];\n        if (val === value) {\n            return imid;\n        } else if (val < value) {\n            imin = imid + 1;\n        } else { imax = imid - 1; }\n    }\n    // Not found: return -1-insertion point\n    return -imin - 1;\n}\n\n/**\n * @exports opentype.Layout\n * @class\n */\nfunction Layout(font, tableName) {\n    this.font = font;\n    this.tableName = tableName;\n}\n\nLayout.prototype = {\n\n    /**\n     * Binary search an object by \"tag\" property\n     * @instance\n     * @function searchTag\n     * @memberof opentype.Layout\n     * @param  {Array} arr\n     * @param  {string} tag\n     * @return {number}\n     */\n    searchTag: searchTag,\n\n    /**\n     * Binary search in a list of numbers\n     * @instance\n     * @function binSearch\n     * @memberof opentype.Layout\n     * @param  {Array} arr\n     * @param  {number} value\n     * @return {number}\n     */\n    binSearch: binSearch,\n\n    /**\n     * Get or create the Layout table (GSUB, GPOS etc).\n     * @param  {boolean} create - Whether to create a new one.\n     * @return {Object} The GSUB or GPOS table.\n     */\n    getTable: function(create) {\n        let layout = this.font.tables[this.tableName];\n        if (!layout && create) {\n            layout = this.font.tables[this.tableName] = this.createDefaultTable();\n        }\n        return layout;\n    },\n\n    /**\n     * Returns all scripts in the substitution table.\n     * @instance\n     * @return {Array}\n     */\n    getScriptNames: function() {\n        let layout = this.getTable();\n        if (!layout) { return []; }\n        return layout.scripts.map(function(script) {\n            return script.tag;\n        });\n    },\n\n    /**\n     * Returns the best bet for a script name.\n     * Returns 'DFLT' if it exists.\n     * If not, returns 'latn' if it exists.\n     * If neither exist, returns undefined.\n     */\n    getDefaultScriptName: function() {\n        let layout = this.getTable();\n        if (!layout) { return; }\n        let hasLatn = false;\n        for (let i = 0; i < layout.scripts.length; i++) {\n            const name = layout.scripts[i].tag;\n            if (name === 'DFLT') return name;\n            if (name === 'latn') hasLatn = true;\n        }\n        if (hasLatn) return 'latn';\n    },\n\n    /**\n     * Returns all LangSysRecords in the given script.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {boolean} create - forces the creation of this script table if it doesn't exist.\n     * @return {Object} An object with tag and script properties.\n     */\n    getScriptTable: function(script, create) {\n        const layout = this.getTable(create);\n        if (layout) {\n            script = script || 'DFLT';\n            const scripts = layout.scripts;\n            const pos = searchTag(layout.scripts, script);\n            if (pos >= 0) {\n                return scripts[pos].script;\n            } else if (create) {\n                const scr = {\n                    tag: script,\n                    script: {\n                        defaultLangSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []},\n                        langSysRecords: []\n                    }\n                };\n                scripts.splice(-1 - pos, 0, scr);\n                return scr.script;\n            }\n        }\n    },\n\n    /**\n     * Returns a language system table\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {boolean} create - forces the creation of this langSysTable if it doesn't exist.\n     * @return {Object}\n     */\n    getLangSysTable: function(script, language, create) {\n        const scriptTable = this.getScriptTable(script, create);\n        if (scriptTable) {\n            if (!language || language === 'dflt' || language === 'DFLT') {\n                return scriptTable.defaultLangSys;\n            }\n            const pos = searchTag(scriptTable.langSysRecords, language);\n            if (pos >= 0) {\n                return scriptTable.langSysRecords[pos].langSys;\n            } else if (create) {\n                const langSysRecord = {\n                    tag: language,\n                    langSys: {reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: []}\n                };\n                scriptTable.langSysRecords.splice(-1 - pos, 0, langSysRecord);\n                return langSysRecord.langSys;\n            }\n        }\n    },\n\n    /**\n     * Get a specific feature table.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {string} feature - One of the codes listed at https://www.microsoft.com/typography/OTSPEC/featurelist.htm\n     * @param {boolean} create - forces the creation of the feature table if it doesn't exist.\n     * @return {Object}\n     */\n    getFeatureTable: function(script, language, feature, create) {\n        const langSysTable = this.getLangSysTable(script, language, create);\n        if (langSysTable) {\n            let featureRecord;\n            const featIndexes = langSysTable.featureIndexes;\n            const allFeatures = this.font.tables[this.tableName].features;\n            // The FeatureIndex array of indices is in arbitrary order,\n            // even if allFeatures is sorted alphabetically by feature tag.\n            for (let i = 0; i < featIndexes.length; i++) {\n                featureRecord = allFeatures[featIndexes[i]];\n                if (featureRecord.tag === feature) {\n                    return featureRecord.feature;\n                }\n            }\n            if (create) {\n                const index = allFeatures.length;\n                // Automatic ordering of features would require to shift feature indexes in the script list.\n                check.assert(index === 0 || feature >= allFeatures[index - 1].tag, 'Features must be added in alphabetical order.');\n                featureRecord = {\n                    tag: feature,\n                    feature: { params: 0, lookupListIndexes: [] }\n                };\n                allFeatures.push(featureRecord);\n                featIndexes.push(index);\n                return featureRecord.feature;\n            }\n        }\n    },\n\n    /**\n     * Get the lookup tables of a given type for a script/language/feature.\n     * @instance\n     * @param {string} [script='DFLT']\n     * @param {string} [language='dlft']\n     * @param {string} feature - 4-letter feature code\n     * @param {number} lookupType - 1 to 8\n     * @param {boolean} create - forces the creation of the lookup table if it doesn't exist, with no subtables.\n     * @return {Object[]}\n     */\n    getLookupTables: function(script, language, feature, lookupType, create) {\n        const featureTable = this.getFeatureTable(script, language, feature, create);\n        const tables = [];\n        if (featureTable) {\n            let lookupTable;\n            const lookupListIndexes = featureTable.lookupListIndexes;\n            const allLookups = this.font.tables[this.tableName].lookups;\n            // lookupListIndexes are in no particular order, so use naive search.\n            for (let i = 0; i < lookupListIndexes.length; i++) {\n                lookupTable = allLookups[lookupListIndexes[i]];\n                if (lookupTable.lookupType === lookupType) {\n                    tables.push(lookupTable);\n                }\n            }\n            if (tables.length === 0 && create) {\n                lookupTable = {\n                    lookupType: lookupType,\n                    lookupFlag: 0,\n                    subtables: [],\n                    markFilteringSet: undefined\n                };\n                const index = allLookups.length;\n                allLookups.push(lookupTable);\n                lookupListIndexes.push(index);\n                return [lookupTable];\n            }\n        }\n        return tables;\n    },\n\n    /**\n     * Returns the list of glyph indexes of a coverage table.\n     * Format 1: the list is stored raw\n     * Format 2: compact list as range records.\n     * @instance\n     * @param  {Object} coverageTable\n     * @return {Array}\n     */\n    expandCoverage: function(coverageTable) {\n        if (coverageTable.format === 1) {\n            return coverageTable.glyphs;\n        } else {\n            const glyphs = [];\n            const ranges = coverageTable.ranges;\n            for (let i = 0; i < ranges.length; i++) {\n                const range = ranges[i];\n                const start = range.start;\n                const end = range.end;\n                for (let j = start; j <= end; j++) {\n                    glyphs.push(j);\n                }\n            }\n            return glyphs;\n        }\n    }\n\n};\n\nexport default Layout;\n","// The Substitution object provides utility methods to manipulate\n// the GSUB substitution table.\n\nimport check from './check';\nimport Layout from './layout';\n\n/**\n * @exports opentype.Substitution\n * @class\n * @extends opentype.Layout\n * @param {opentype.Font}\n * @constructor\n */\nfunction Substitution(font) {\n    Layout.call(this, font, 'gsub');\n}\n\n// Check if 2 arrays of primitives are equal.\nfunction arraysEqual(ar1, ar2) {\n    const n = ar1.length;\n    if (n !== ar2.length) { return false; }\n    for (let i = 0; i < n; i++) {\n        if (ar1[i] !== ar2[i]) { return false; }\n    }\n    return true;\n}\n\n// Find the first subtable of a lookup table in a particular format.\nfunction getSubstFormat(lookupTable, format, defaultSubtable) {\n    const subtables = lookupTable.subtables;\n    for (let i = 0; i < subtables.length; i++) {\n        const subtable = subtables[i];\n        if (subtable.substFormat === format) {\n            return subtable;\n        }\n    }\n    if (defaultSubtable) {\n        subtables.push(defaultSubtable);\n        return defaultSubtable;\n    }\n    return undefined;\n}\n\nSubstitution.prototype = Layout.prototype;\n\n/**\n * Create a default GSUB table.\n * @return {Object} gsub - The GSUB table.\n */\nSubstitution.prototype.createDefaultTable = function() {\n    // Generate a default empty GSUB table with just a DFLT script and dflt lang sys.\n    return {\n        version: 1,\n        scripts: [{\n            tag: 'DFLT',\n            script: {\n                defaultLangSys: { reserved: 0, reqFeatureIndex: 0xffff, featureIndexes: [] },\n                langSysRecords: []\n            }\n        }],\n        features: [],\n        lookups: []\n    };\n};\n\n/**\n * List all single substitutions (lookup type 1) for a given script, language, and feature.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @param {string} feature - 4-character feature name ('aalt', 'salt', 'ss01'...)\n * @return {Array} substitutions - The list of substitutions.\n */\nSubstitution.prototype.getSingle = function(feature, script, language) {\n    const substitutions = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 1);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            let j;\n            if (subtable.substFormat === 1) {\n                const delta = subtable.deltaGlyphId;\n                for (j = 0; j < glyphs.length; j++) {\n                    const glyph = glyphs[j];\n                    substitutions.push({ sub: glyph, by: glyph + delta });\n                }\n            } else {\n                const substitute = subtable.substitute;\n                for (j = 0; j < glyphs.length; j++) {\n                    substitutions.push({ sub: glyphs[j], by: substitute[j] });\n                }\n            }\n        }\n    }\n    return substitutions;\n};\n\n/**\n * List all alternates (lookup type 3) for a given script, language, and feature.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @param {string} feature - 4-character feature name ('aalt', 'salt'...)\n * @return {Array} alternates - The list of alternates\n */\nSubstitution.prototype.getAlternates = function(feature, script, language) {\n    const alternates = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 3);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            const alternateSets = subtable.alternateSets;\n            for (let j = 0; j < glyphs.length; j++) {\n                alternates.push({ sub: glyphs[j], by: alternateSets[j] });\n            }\n        }\n    }\n    return alternates;\n};\n\n/**\n * List all ligatures (lookup type 4) for a given script, language, and feature.\n * The result is an array of ligature objects like { sub: [ids], by: id }\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @return {Array} ligatures - The list of ligatures.\n */\nSubstitution.prototype.getLigatures = function(feature, script, language) {\n    const ligatures = [];\n    const lookupTables = this.getLookupTables(script, language, feature, 4);\n    for (let idx = 0; idx < lookupTables.length; idx++) {\n        const subtables = lookupTables[idx].subtables;\n        for (let i = 0; i < subtables.length; i++) {\n            const subtable = subtables[i];\n            const glyphs = this.expandCoverage(subtable.coverage);\n            const ligatureSets = subtable.ligatureSets;\n            for (let j = 0; j < glyphs.length; j++) {\n                const startGlyph = glyphs[j];\n                const ligSet = ligatureSets[j];\n                for (let k = 0; k < ligSet.length; k++) {\n                    const lig = ligSet[k];\n                    ligatures.push({\n                        sub: [startGlyph].concat(lig.components),\n                        by: lig.ligGlyph\n                    });\n                }\n            }\n        }\n    }\n    return ligatures;\n};\n\n/**\n * Add or modify a single substitution (lookup type 1)\n * Format 2, more flexible, is always used.\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} substitution - { sub: id, delta: number } for format 1 or { sub: id, by: id } for format 2.\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addSingle = function(feature, substitution, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 1, true)[0];\n    const subtable = getSubstFormat(lookupTable, 2, {                // lookup type 1 subtable, format 2, coverage format 1\n        substFormat: 2,\n        coverage: {format: 1, glyphs: []},\n        substitute: []\n    });\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = substitution.sub;\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos < 0) {\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.substitute.splice(pos, 0, 0);\n    }\n    subtable.substitute[pos] = substitution.by;\n};\n\n/**\n * Add or modify an alternate substitution (lookup type 1)\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} substitution - { sub: id, by: [ids] }\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addAlternate = function(feature, substitution, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 3, true)[0];\n    const subtable = getSubstFormat(lookupTable, 1, {                // lookup type 3 subtable, format 1, coverage format 1\n        substFormat: 1,\n        coverage: {format: 1, glyphs: []},\n        alternateSets: []\n    });\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = substitution.sub;\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos < 0) {\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.alternateSets.splice(pos, 0, 0);\n    }\n    subtable.alternateSets[pos] = substitution.by;\n};\n\n/**\n * Add a ligature (lookup type 4)\n * Ligatures with more components must be stored ahead of those with fewer components in order to be found\n * @param {string} feature - 4-letter feature name ('liga', 'rlig', 'dlig'...)\n * @param {Object} ligature - { sub: [ids], by: id }\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.addLigature = function(feature, ligature, script, language) {\n    const lookupTable = this.getLookupTables(script, language, feature, 4, true)[0];\n    let subtable = lookupTable.subtables[0];\n    if (!subtable) {\n        subtable = {                // lookup type 4 subtable, format 1, coverage format 1\n            substFormat: 1,\n            coverage: { format: 1, glyphs: [] },\n            ligatureSets: []\n        };\n        lookupTable.subtables[0] = subtable;\n    }\n    check.assert(subtable.coverage.format === 1, 'Ligature: unable to modify coverage table format ' + subtable.coverage.format);\n    const coverageGlyph = ligature.sub[0];\n    const ligComponents = ligature.sub.slice(1);\n    const ligatureTable = {\n        ligGlyph: ligature.by,\n        components: ligComponents\n    };\n    let pos = this.binSearch(subtable.coverage.glyphs, coverageGlyph);\n    if (pos >= 0) {\n        // ligatureSet already exists\n        const ligatureSet = subtable.ligatureSets[pos];\n        for (let i = 0; i < ligatureSet.length; i++) {\n            // If ligature already exists, return.\n            if (arraysEqual(ligatureSet[i].components, ligComponents)) {\n                return;\n            }\n        }\n        // ligature does not exist: add it.\n        ligatureSet.push(ligatureTable);\n    } else {\n        // Create a new ligatureSet and add coverage for the first glyph.\n        pos = -1 - pos;\n        subtable.coverage.glyphs.splice(pos, 0, coverageGlyph);\n        subtable.ligatureSets.splice(pos, 0, [ligatureTable]);\n    }\n};\n\n/**\n * List all feature data for a given script and language.\n * @param {string} feature - 4-letter feature name\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n * @return {Array} substitutions - The list of substitutions.\n */\nSubstitution.prototype.getFeature = function(feature, script, language) {\n    if (/ss\\d\\d/.test(feature)) {               // ss01 - ss20\n        return this.getSingle(feature, script, language);\n    }\n    switch (feature) {\n        case 'aalt':\n        case 'salt':\n            return this.getSingle(feature, script, language)\n                    .concat(this.getAlternates(feature, script, language));\n        case 'dlig':\n        case 'liga':\n        case 'rlig': return this.getLigatures(feature, script, language);\n    }\n    return undefined;\n};\n\n/**\n * Add a substitution to a feature for a given script and language.\n * @param {string} feature - 4-letter feature name\n * @param {Object} sub - the substitution to add (an object like { sub: id or [ids], by: id or [ids] })\n * @param {string} [script='DFLT']\n * @param {string} [language='dflt']\n */\nSubstitution.prototype.add = function(feature, sub, script, language) {\n    if (/ss\\d\\d/.test(feature)) {               // ss01 - ss20\n        return this.addSingle(feature, sub, script, language);\n    }\n    switch (feature) {\n        case 'aalt':\n        case 'salt':\n            if (typeof sub.by === 'number') {\n                return this.addSingle(feature, sub, script, language);\n            }\n            return this.addAlternate(feature, sub, script, language);\n        case 'dlig':\n        case 'liga':\n        case 'rlig':\n            return this.addLigature(feature, sub, script, language);\n    }\n    return undefined;\n};\n\nexport default Substitution;\n","function isBrowser() {\n    return typeof window !== 'undefined';\n}\n\nfunction isNode() {\n    return typeof window === 'undefined';\n}\n\nfunction nodeBufferToArrayBuffer(buffer) {\n    const ab = new ArrayBuffer(buffer.length);\n    const view = new Uint8Array(ab);\n    for (let i = 0; i < buffer.length; ++i) {\n        view[i] = buffer[i];\n    }\n\n    return ab;\n}\n\nfunction arrayBufferToNodeBuffer(ab) {\n    const buffer = new Buffer(ab.byteLength);\n    const view = new Uint8Array(ab);\n    for (let i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n    }\n\n    return buffer;\n}\n\nfunction checkArgument(expression, message) {\n    if (!expression) {\n        throw message;\n    }\n}\n\nexport { isBrowser, isNode, nodeBufferToArrayBuffer, arrayBufferToNodeBuffer, checkArgument };\n","/* A TrueType font hinting interpreter.\n*\n* (c) 2017 Axel Kittenberger\n*\n* This interpreter has been implemented according to this documentation:\n* https://developer.apple.com/fonts/TrueType-Reference-Manual/RM05/Chap5.html\n*\n* According to the documentation F24DOT6 values are used for pixels.\n* That means calculation is 1/64 pixel accurate and uses integer operations.\n* However, Javascript has floating point operations by default and only\n* those are available. One could make a case to simulate the 1/64 accuracy\n* exactly by truncating after every division operation\n* (for example with << 0) to get pixel exactly results as other TrueType\n* implementations. It may make sense since some fonts are pixel optimized\n* by hand using DELTAP instructions. The current implementation doesn't\n* and rather uses full floating point precision.\n*\n* xScale, yScale and rotation is currently ignored.\n*\n* A few non-trivial instructions are missing as I didn't encounter yet\n* a font that used them to test a possible implementation.\n*\n* Some fonts seem to use undocumented features regarding the twilight zone.\n* Only some of them are implemented as they were encountered.\n*\n* The exports.DEBUG statements are removed on the minified distribution file.\n*/\n'use strict';\n\nlet instructionTable;\nlet exec;\nlet execGlyph;\nlet execComponent;\n\n/*\n* Creates a hinting object.\n*\n* There ought to be exactly one\n* for each truetype font that is used for hinting.\n*/\nfunction Hinting(font) {\n    // the font this hinting object is for\n    this.font = font;\n\n    // cached states\n    this._fpgmState  =\n    this._prepState  =\n        undefined;\n\n    // errorState\n    // 0 ... all okay\n    // 1 ... had an error in a glyf,\n    //       continue working but stop spamming\n    //       the console\n    // 2 ... error at prep, stop hinting at this ppem\n    // 3 ... error at fpeg, stop hinting for this font at all\n    this._errorState = 0;\n}\n\n/*\n* Not rounding.\n*/\nfunction roundOff(v) {\n    return v;\n}\n\n/*\n* Rounding to grid.\n*/\nfunction roundToGrid(v) {\n    //Rounding in TT is supposed to \"symmetrical around zero\"\n    return Math.sign(v) * Math.round(Math.abs(v));\n}\n\n/*\n* Rounding to double grid.\n*/\nfunction roundToDoubleGrid(v) {\n    return Math.sign(v) * Math.round(Math.abs(v * 2)) / 2;\n}\n\n/*\n* Rounding to half grid.\n*/\nfunction roundToHalfGrid(v) {\n    return Math.sign(v) * (Math.round(Math.abs(v) + 0.5) - 0.5);\n}\n\n/*\n* Rounding to up to grid.\n*/\nfunction roundUpToGrid(v) {\n    return Math.sign(v) * Math.ceil(Math.abs(v));\n}\n\n/*\n* Rounding to down to grid.\n*/\nfunction roundDownToGrid(v) {\n    return Math.sign(v) * Math.floor(Math.abs(v));\n}\n\n/*\n* Super rounding.\n*/\nconst roundSuper = function (v) {\n    const period = this.srPeriod;\n    let phase = this.srPhase;\n    const threshold = this.srThreshold;\n    let sign = 1;\n\n    if (v < 0) {\n        v = -v;\n        sign = -1;\n    }\n\n    v += threshold - phase;\n\n    v = Math.trunc(v / period) * period;\n\n    v += phase;\n\n    // according to http://xgridfit.sourceforge.net/round.html\n    if (sign > 0 && v < 0) return phase;\n    if (sign < 0 && v > 0) return -phase;\n\n    return v * sign;\n};\n\n/*\n* Unit vector of x-axis.\n*/\nconst xUnitVector = {\n    x: 1,\n\n    y: 0,\n\n    axis: 'x',\n\n    // Gets the projected distance between two points.\n    // o1/o2 ... if true, respective original position is used.\n    distance: function (p1, p2, o1, o2) {\n        return (o1 ? p1.xo : p1.x) - (o2 ? p2.xo : p2.x);\n    },\n\n    // Moves point p so the moved position has the same relative\n    // position to the moved positions of rp1 and rp2 than the\n    // original positions had.\n    //\n    // See APPENDIX on INTERPOLATE at the bottom of this file.\n    interpolate: function (p, rp1, rp2, pv) {\n        let do1;\n        let do2;\n        let doa1;\n        let doa2;\n        let dm1;\n        let dm2;\n        let dt;\n\n        if (!pv || pv === this) {\n            do1 = p.xo - rp1.xo;\n            do2 = p.xo - rp2.xo;\n            dm1 = rp1.x - rp1.xo;\n            dm2 = rp2.x - rp2.xo;\n            doa1 = Math.abs(do1);\n            doa2 = Math.abs(do2);\n            dt = doa1 + doa2;\n\n            if (dt === 0) {\n                p.x = p.xo + (dm1 + dm2) / 2;\n                return;\n            }\n\n            p.x = p.xo + (dm1 * doa2 + dm2 * doa1) / dt;\n            return;\n        }\n\n        do1 = pv.distance(p, rp1, true, true);\n        do2 = pv.distance(p, rp2, true, true);\n        dm1 = pv.distance(rp1, rp1, false, true);\n        dm2 = pv.distance(rp2, rp2, false, true);\n        doa1 = Math.abs(do1);\n        doa2 = Math.abs(do2);\n        dt = doa1 + doa2;\n\n        if (dt === 0) {\n            xUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n            return;\n        }\n\n        xUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n    },\n\n    // Slope of line normal to this\n    normalSlope: Number.NEGATIVE_INFINITY,\n\n    // Sets the point 'p' relative to point 'rp'\n    // by the distance 'd'.\n    //\n    // See APPENDIX on SETRELATIVE at the bottom of this file.\n    //\n    // p   ... point to set\n    // rp  ... reference point\n    // d   ... distance on projection vector\n    // pv  ... projection vector (undefined = this)\n    // org ... if true, uses the original position of rp as reference.\n    setRelative: function (p, rp, d, pv, org) {\n        if (!pv || pv === this) {\n            p.x = (org ? rp.xo : rp.x) + d;\n            return;\n        }\n\n        const rpx = org ? rp.xo : rp.x;\n        const rpy = org ? rp.yo : rp.y;\n        const rpdx = rpx + d * pv.x;\n        const rpdy = rpy + d * pv.y;\n\n        p.x = rpdx + (p.y - rpdy) / pv.normalSlope;\n    },\n\n    // Slope of vector line.\n    slope: 0,\n\n    // Touches the point p.\n    touch: function (p) {\n        p.xTouched = true;\n    },\n\n    // Tests if a point p is touched.\n    touched: function (p) {\n        return p.xTouched;\n    },\n\n    // Untouches the point p.\n    untouch: function (p) {\n        p.xTouched = false;\n    }\n};\n\n/*\n* Unit vector of y-axis.\n*/\nconst yUnitVector = {\n    x: 0,\n\n    y: 1,\n\n    axis: 'y',\n\n    // Gets the projected distance between two points.\n    // o1/o2 ... if true, respective original position is used.\n    distance: function (p1, p2, o1, o2) {\n        return (o1 ? p1.yo : p1.y) - (o2 ? p2.yo : p2.y);\n    },\n\n    // Moves point p so the moved position has the same relative\n    // position to the moved positions of rp1 and rp2 than the\n    // original positions had.\n    //\n    // See APPENDIX on INTERPOLATE at the bottom of this file.\n    interpolate: function (p, rp1, rp2, pv) {\n        let do1;\n        let do2;\n        let doa1;\n        let doa2;\n        let dm1;\n        let dm2;\n        let dt;\n\n        if (!pv || pv === this) {\n            do1 = p.yo - rp1.yo;\n            do2 = p.yo - rp2.yo;\n            dm1 = rp1.y - rp1.yo;\n            dm2 = rp2.y - rp2.yo;\n            doa1 = Math.abs(do1);\n            doa2 = Math.abs(do2);\n            dt = doa1 + doa2;\n\n            if (dt === 0) {\n                p.y = p.yo + (dm1 + dm2) / 2;\n                return;\n            }\n\n            p.y = p.yo + (dm1 * doa2 + dm2 * doa1) / dt;\n            return;\n        }\n\n        do1 = pv.distance(p, rp1, true, true);\n        do2 = pv.distance(p, rp2, true, true);\n        dm1 = pv.distance(rp1, rp1, false, true);\n        dm2 = pv.distance(rp2, rp2, false, true);\n        doa1 = Math.abs(do1);\n        doa2 = Math.abs(do2);\n        dt = doa1 + doa2;\n\n        if (dt === 0) {\n            yUnitVector.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n            return;\n        }\n\n        yUnitVector.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n    },\n\n    // Slope of line normal to this.\n    normalSlope: 0,\n\n    // Sets the point 'p' relative to point 'rp'\n    // by the distance 'd'\n    //\n    // See APPENDIX on SETRELATIVE at the bottom of this file.\n    //\n    // p   ... point to set\n    // rp  ... reference point\n    // d   ... distance on projection vector\n    // pv  ... projection vector (undefined = this)\n    // org ... if true, uses the original position of rp as reference.\n    setRelative: function (p, rp, d, pv, org) {\n        if (!pv || pv === this) {\n            p.y = (org ? rp.yo : rp.y) + d;\n            return;\n        }\n\n        const rpx = org ? rp.xo : rp.x;\n        const rpy = org ? rp.yo : rp.y;\n        const rpdx = rpx + d * pv.x;\n        const rpdy = rpy + d * pv.y;\n\n        p.y = rpdy + pv.normalSlope * (p.x - rpdx);\n    },\n\n    // Slope of vector line.\n    slope: Number.POSITIVE_INFINITY,\n\n    // Touches the point p.\n    touch: function (p) {\n        p.yTouched = true;\n    },\n\n    // Tests if a point p is touched.\n    touched: function (p) {\n        return p.yTouched;\n    },\n\n    // Untouches the point p.\n    untouch: function (p) {\n        p.yTouched = false;\n    }\n};\n\nObject.freeze(xUnitVector);\nObject.freeze(yUnitVector);\n\n/*\n* Creates a unit vector that is not x- or y-axis.\n*/\nfunction UnitVector(x, y) {\n    this.x = x;\n    this.y = y;\n    this.axis = undefined;\n    this.slope = y / x;\n    this.normalSlope = -x / y;\n    Object.freeze(this);\n}\n\n/*\n* Gets the projected distance between two points.\n* o1/o2 ... if true, respective original position is used.\n*/\nUnitVector.prototype.distance = function(p1, p2, o1, o2) {\n    return (\n        this.x * xUnitVector.distance(p1, p2, o1, o2) +\n        this.y * yUnitVector.distance(p1, p2, o1, o2)\n    );\n};\n\n/*\n* Moves point p so the moved position has the same relative\n* position to the moved positions of rp1 and rp2 than the\n* original positions had.\n*\n* See APPENDIX on INTERPOLATE at the bottom of this file.\n*/\nUnitVector.prototype.interpolate = function(p, rp1, rp2, pv) {\n    let dm1;\n    let dm2;\n    let do1;\n    let do2;\n    let doa1;\n    let doa2;\n    let dt;\n\n    do1 = pv.distance(p, rp1, true, true);\n    do2 = pv.distance(p, rp2, true, true);\n    dm1 = pv.distance(rp1, rp1, false, true);\n    dm2 = pv.distance(rp2, rp2, false, true);\n    doa1 = Math.abs(do1);\n    doa2 = Math.abs(do2);\n    dt = doa1 + doa2;\n\n    if (dt === 0) {\n        this.setRelative(p, p, (dm1 + dm2) / 2, pv, true);\n        return;\n    }\n\n    this.setRelative(p, p, (dm1 * doa2 + dm2 * doa1) / dt, pv, true);\n};\n\n/*\n* Sets the point 'p' relative to point 'rp'\n* by the distance 'd'\n*\n* See APPENDIX on SETRELATIVE at the bottom of this file.\n*\n* p   ...  point to set\n* rp  ... reference point\n* d   ... distance on projection vector\n* pv  ... projection vector (undefined = this)\n* org ... if true, uses the original position of rp as reference.\n*/\nUnitVector.prototype.setRelative = function(p, rp, d, pv, org) {\n    pv = pv || this;\n\n    const rpx = org ? rp.xo : rp.x;\n    const rpy = org ? rp.yo : rp.y;\n    const rpdx = rpx + d * pv.x;\n    const rpdy = rpy + d * pv.y;\n\n    const pvns = pv.normalSlope;\n    const fvs = this.slope;\n\n    const px = p.x;\n    const py = p.y;\n\n    p.x = (fvs * px - pvns * rpdx + rpdy - py) / (fvs - pvns);\n    p.y = fvs * (p.x - px) + py;\n};\n\n/*\n* Touches the point p.\n*/\nUnitVector.prototype.touch = function(p) {\n    p.xTouched = true;\n    p.yTouched = true;\n};\n\n/*\n* Returns a unit vector with x/y coordinates.\n*/\nfunction getUnitVector(x, y) {\n    const d = Math.sqrt(x * x + y * y);\n\n    x /= d;\n    y /= d;\n\n    if (x === 1 && y === 0) return xUnitVector;\n    else if (x === 0 && y === 1) return yUnitVector;\n    else return new UnitVector(x, y);\n}\n\n/*\n* Creates a point in the hinting engine.\n*/\nfunction HPoint(\n    x,\n    y,\n    lastPointOfContour,\n    onCurve\n) {\n    this.x = this.xo = Math.round(x * 64) / 64; // hinted x value and original x-value\n    this.y = this.yo = Math.round(y * 64) / 64; // hinted y value and original y-value\n\n    this.lastPointOfContour = lastPointOfContour;\n    this.onCurve = onCurve;\n    this.prevPointOnContour = undefined;\n    this.nextPointOnContour = undefined;\n    this.xTouched = false;\n    this.yTouched = false;\n\n    Object.preventExtensions(this);\n}\n\n/*\n* Returns the next touched point on the contour.\n*\n* v  ... unit vector to test touch axis.\n*/\nHPoint.prototype.nextTouched = function(v) {\n    let p = this.nextPointOnContour;\n\n    while (!v.touched(p) && p !== this) p = p.nextPointOnContour;\n\n    return p;\n};\n\n/*\n* Returns the previous touched point on the contour\n*\n* v  ... unit vector to test touch axis.\n*/\nHPoint.prototype.prevTouched = function(v) {\n    let p = this.prevPointOnContour;\n\n    while (!v.touched(p) && p !== this) p = p.prevPointOnContour;\n\n    return p;\n};\n\n/*\n* The zero point.\n*/\nconst HPZero = Object.freeze(new HPoint(0, 0));\n\n/*\n* The default state of the interpreter.\n*\n* Note: Freezing the defaultState and then deriving from it\n* makes the V8 Javascript engine going awkward,\n* so this is avoided, albeit the defaultState shouldn't\n* ever change.\n*/\nconst defaultState = {\n    cvCutIn: 17 / 16,    // control value cut in\n    deltaBase: 9,\n    deltaShift: 0.125,\n    loop: 1,             // loops some instructions\n    minDis: 1,           // minimum distance\n    autoFlip: true\n};\n\n/*\n* The current state of the interpreter.\n*\n* env  ... 'fpgm' or 'prep' or 'glyf'\n* prog ... the program\n*/\nfunction State(env, prog) {\n    this.env = env;\n    this.stack = [];\n    this.prog = prog;\n\n    switch (env) {\n        case 'glyf' :\n            this.zp0 = this.zp1 = this.zp2 = 1;\n            this.rp0 = this.rp1 = this.rp2 = 0;\n            /* fall through */\n        case 'prep' :\n            this.fv = this.pv = this.dpv = xUnitVector;\n            this.round = roundToGrid;\n    }\n}\n\n/*\n* Executes a glyph program.\n*\n* This does the hinting for each glyph.\n*\n* Returns an array of moved points.\n*\n* glyph: the glyph to hint\n* ppem: the size the glyph is rendered for\n*/\nHinting.prototype.exec = function(glyph, ppem) {\n    if (typeof ppem !== 'number') {\n        throw new Error('Point size is not a number!');\n    }\n\n    // Received a fatal error, don't do any hinting anymore.\n    if (this._errorState > 2) return;\n\n    const font = this.font;\n    let prepState = this._prepState;\n\n    if (!prepState || prepState.ppem !== ppem) {\n        let fpgmState = this._fpgmState;\n\n        if (!fpgmState) {\n            // Executes the fpgm state.\n            // This is used by fonts to define functions.\n            State.prototype = defaultState;\n\n            fpgmState =\n            this._fpgmState =\n                new State('fpgm', font.tables.fpgm);\n\n            fpgmState.funcs = [ ];\n            fpgmState.font = font;\n\n            if (exports.DEBUG) {\n                console.log('---EXEC FPGM---');\n                fpgmState.step = -1;\n            }\n\n            try {\n                exec(fpgmState);\n            } catch (e) {\n                console.log('Hinting error in FPGM:' + e);\n                this._errorState = 3;\n                return;\n            }\n        }\n\n        // Executes the prep program for this ppem setting.\n        // This is used by fonts to set cvt values\n        // depending on to be rendered font size.\n\n        State.prototype = fpgmState;\n        prepState =\n        this._prepState =\n            new State('prep', font.tables.prep);\n\n        prepState.ppem = ppem;\n\n        // Creates a copy of the cvt table\n        // and scales it to the current ppem setting.\n        const oCvt = font.tables.cvt;\n        if (oCvt) {\n            const cvt = prepState.cvt = new Array(oCvt.length);\n            const scale = ppem / font.unitsPerEm;\n            for (let c = 0; c < oCvt.length; c++) {\n                cvt[c] = oCvt[c] * scale;\n            }\n        } else {\n            prepState.cvt = [];\n        }\n\n        if (exports.DEBUG) {\n            console.log('---EXEC PREP---');\n            prepState.step = -1;\n        }\n\n        try {\n            exec(prepState);\n        } catch (e) {\n            if (this._errorState < 2) {\n                console.log('Hinting error in PREP:' + e);\n            }\n            this._errorState = 2;\n        }\n    }\n\n    if (this._errorState > 1) return;\n\n    try {\n        return execGlyph(glyph, prepState);\n    } catch (e) {\n        if (this._errorState < 1) {\n            console.log('Hinting error:' + e);\n            console.log('Note: further hinting errors are silenced');\n        }\n        this._errorState = 1;\n        return undefined;\n    }\n};\n\n/*\n* Executes the hinting program for a glyph.\n*/\nexecGlyph = function(glyph, prepState) {\n    // original point positions\n    const xScale = prepState.ppem / prepState.font.unitsPerEm;\n    const yScale = xScale;\n    let components = glyph.components;\n    let contours;\n    let gZone;\n    let state;\n\n    State.prototype = prepState;\n    if (!components) {\n        state = new State('glyf', glyph.instructions);\n        if (exports.DEBUG) {\n            console.log('---EXEC GLYPH---');\n            state.step = -1;\n        }\n        execComponent(glyph, state, xScale, yScale);\n        gZone = state.gZone;\n    } else {\n        const font = prepState.font;\n        gZone = [];\n        contours = [];\n        for (let i = 0; i < components.length; i++) {\n            const c = components[i];\n            const cg = font.glyphs.get(c.glyphIndex);\n\n            state = new State('glyf', cg.instructions);\n\n            if (exports.DEBUG) {\n                console.log('---EXEC COMP ' + i + '---');\n                state.step = -1;\n            }\n\n            execComponent(cg, state, xScale, yScale);\n            // appends the computed points to the result array\n            // post processes the component points\n            const dx = Math.round(c.dx * xScale);\n            const dy = Math.round(c.dy * yScale);\n            const gz = state.gZone;\n            const cc = state.contours;\n            for (let pi = 0; pi < gz.length; pi++) {\n                const p = gz[pi];\n                p.xTouched = p.yTouched = false;\n                p.xo = p.x = p.x + dx;\n                p.yo = p.y = p.y + dy;\n            }\n\n            const gLen = gZone.length;\n            gZone.push.apply(gZone, gz);\n            for (let j = 0; j < cc.length; j++) {\n                contours.push(cc[j] + gLen);\n            }\n        }\n\n        if (glyph.instructions && !state.inhibitGridFit) {\n            // the composite has instructions on its own\n            state = new State('glyf', glyph.instructions);\n\n            state.gZone = state.z0 = state.z1 = state.z2 = gZone;\n\n            state.contours = contours;\n\n            // note: HPZero cannot be used here, since\n            //       the point might be modified\n            gZone.push(\n                new HPoint(0, 0),\n                new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n            );\n\n            if (exports.DEBUG) {\n                console.log('---EXEC COMPOSITE---');\n                state.step = -1;\n            }\n\n            exec(state);\n\n            gZone.length -= 2;\n        }\n    }\n\n    return gZone;\n};\n\n/*\n* Executes the hinting program for a component of a multi-component glyph\n* or of the glyph itself by a non-component glyph.\n*/\nexecComponent = function(glyph, state, xScale, yScale)\n{\n    const points = glyph.points || [];\n    const pLen = points.length;\n    const gZone = state.gZone = state.z0 = state.z1 = state.z2 = [];\n    const contours = state.contours = [];\n\n    // Scales the original points and\n    // makes copies for the hinted points.\n    let cp; // current point\n    for (let i = 0; i < pLen; i++) {\n        cp = points[i];\n\n        gZone[i] = new HPoint(\n            cp.x * xScale,\n            cp.y * yScale,\n            cp.lastPointOfContour,\n            cp.onCurve\n        );\n    }\n\n    // Chain links the contours.\n    let sp; // start point\n    let np; // next point\n\n    for (let i = 0; i < pLen; i++) {\n        cp = gZone[i];\n\n        if (!sp) {\n            sp = cp;\n            contours.push(i);\n        }\n\n        if (cp.lastPointOfContour) {\n            cp.nextPointOnContour = sp;\n            sp.prevPointOnContour = cp;\n            sp = undefined;\n        } else {\n            np = gZone[i + 1];\n            cp.nextPointOnContour = np;\n            np.prevPointOnContour = cp;\n        }\n    }\n\n    if (state.inhibitGridFit) return;\n\n    gZone.push(\n        new HPoint(0, 0),\n        new HPoint(Math.round(glyph.advanceWidth * xScale), 0)\n    );\n\n    exec(state);\n\n    // Removes the extra points.\n    gZone.length -= 2;\n\n    if (exports.DEBUG) {\n        console.log('FINISHED GLYPH', state.stack);\n        for (let i = 0; i < pLen; i++) {\n            console.log(i, gZone[i].x, gZone[i].y);\n        }\n    }\n};\n\n/*\n* Executes the program loaded in state.\n*/\nexec = function(state) {\n    let prog = state.prog;\n\n    if (!prog) return;\n\n    const pLen = prog.length;\n    let ins;\n\n    for (state.ip = 0; state.ip < pLen; state.ip++) {\n        if (exports.DEBUG) state.step++;\n        ins = instructionTable[prog[state.ip]];\n\n        if (!ins) {\n            throw new Error(\n                'unknown instruction: 0x' +\n                Number(prog[state.ip]).toString(16)\n            );\n        }\n\n        ins(state);\n\n        // very extensive debugging for each step\n        /*\n        if (exports.DEBUG) {\n            var da;\n            if (state.gZone) {\n                da = [];\n                for (let i = 0; i < state.gZone.length; i++)\n                {\n                    da.push(i + ' ' +\n                        state.gZone[i].x * 64 + ' ' +\n                        state.gZone[i].y * 64 + ' ' +\n                        (state.gZone[i].xTouched ? 'x' : '') +\n                        (state.gZone[i].yTouched ? 'y' : '')\n                    );\n                }\n                console.log('GZ', da);\n            }\n\n            if (state.tZone) {\n                da = [];\n                for (let i = 0; i < state.tZone.length; i++) {\n                    da.push(i + ' ' +\n                        state.tZone[i].x * 64 + ' ' +\n                        state.tZone[i].y * 64 + ' ' +\n                        (state.tZone[i].xTouched ? 'x' : '') +\n                        (state.tZone[i].yTouched ? 'y' : '')\n                    );\n                }\n                console.log('TZ', da);\n            }\n\n            if (state.stack.length > 10) {\n                console.log(\n                    state.stack.length,\n                    '...', state.stack.slice(state.stack.length - 10)\n                );\n            } else {\n                console.log(state.stack.length, state.stack);\n            }\n        }\n        */\n    }\n};\n\n/*\n* Initializes the twilight zone.\n*\n* This is only done if a SZPx instruction\n* refers to the twilight zone.\n*/\nfunction initTZone(state)\n{\n    const tZone = state.tZone = new Array(state.gZone.length);\n\n    // no idea if this is actually correct...\n    for (let i = 0; i < tZone.length; i++)\n    {\n        tZone[i] = new HPoint(0, 0);\n    }\n}\n\n/*\n* Skips the instruction pointer ahead over an IF/ELSE block.\n* handleElse .. if true breaks on matching ELSE\n*/\nfunction skip(state, handleElse)\n{\n    const prog = state.prog;\n    let ip = state.ip;\n    let nesting = 1;\n    let ins;\n\n    do {\n        ins = prog[++ip];\n        if (ins === 0x58) // IF\n            nesting++;\n        else if (ins === 0x59) // EIF\n            nesting--;\n        else if (ins === 0x40) // NPUSHB\n            ip += prog[ip + 1] + 1;\n        else if (ins === 0x41) // NPUSHW\n            ip += 2 * prog[ip + 1] + 1;\n        else if (ins >= 0xB0 && ins <= 0xB7) // PUSHB\n            ip += ins - 0xB0 + 1;\n        else if (ins >= 0xB8 && ins <= 0xBF) // PUSHW\n            ip += (ins - 0xB8 + 1) * 2;\n        else if (handleElse && nesting === 1 && ins === 0x1B) // ELSE\n            break;\n    } while (nesting > 0);\n\n    state.ip = ip;\n}\n\n/*----------------------------------------------------------*\n*          And then a lot of instructions...                *\n*----------------------------------------------------------*/\n\n// SVTCA[a] Set freedom and projection Vectors To Coordinate Axis\n// 0x00-0x01\nfunction SVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SVTCA[' + v.axis + ']');\n\n    state.fv = state.pv = state.dpv = v;\n}\n\n// SPVTCA[a] Set Projection Vector to Coordinate Axis\n// 0x02-0x03\nfunction SPVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SPVTCA[' + v.axis + ']');\n\n    state.pv = state.dpv = v;\n}\n\n// SFVTCA[a] Set Freedom Vector to Coordinate Axis\n// 0x04-0x05\nfunction SFVTCA(v, state) {\n    if (exports.DEBUG) console.log(state.step, 'SFVTCA[' + v.axis + ']');\n\n    state.fv = v;\n}\n\n// SPVTL[a] Set Projection Vector To Line\n// 0x06-0x07\nfunction SPVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log('SPVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.pv = state.dpv = getUnitVector(dx, dy);\n}\n\n// SFVTL[a] Set Freedom Vector To Line\n// 0x08-0x09\nfunction SFVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log('SFVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.fv = getUnitVector(dx, dy);\n}\n\n// SPVFS[] Set Projection Vector From Stack\n// 0x0A\nfunction SPVFS(state) {\n    const stack = state.stack;\n    const y = stack.pop();\n    const x = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SPVFS[]', y, x);\n\n    state.pv = state.dpv = getUnitVector(x, y);\n}\n\n// SFVFS[] Set Freedom Vector From Stack\n// 0x0B\nfunction SFVFS(state) {\n    const stack = state.stack;\n    const y = stack.pop();\n    const x = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SPVFS[]', y, x);\n\n    state.fv = getUnitVector(x, y);\n}\n\n// GPV[] Get Projection Vector\n// 0x0C\nfunction GPV(state) {\n    const stack = state.stack;\n    const pv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'GPV[]');\n\n    stack.push(pv.x * 0x4000);\n    stack.push(pv.y * 0x4000);\n}\n\n// GFV[] Get Freedom Vector\n// 0x0C\nfunction GFV(state) {\n    const stack = state.stack;\n    const fv = state.fv;\n\n    if (exports.DEBUG) console.log(state.step, 'GFV[]');\n\n    stack.push(fv.x * 0x4000);\n    stack.push(fv.y * 0x4000);\n}\n\n// SFVTPV[] Set Freedom Vector To Projection Vector\n// 0x0E\nfunction SFVTPV(state) {\n    state.fv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'SFVTPV[]');\n}\n\n// ISECT[] moves point p to the InterSECTion of two lines\n// 0x0F\nfunction ISECT(state)\n{\n    const stack = state.stack;\n    const pa0i = stack.pop();\n    const pa1i = stack.pop();\n    const pb0i = stack.pop();\n    const pb1i = stack.pop();\n    const pi = stack.pop();\n    const z0 = state.z0;\n    const z1 = state.z1;\n    const pa0 = z0[pa0i];\n    const pa1 = z0[pa1i];\n    const pb0 = z1[pb0i];\n    const pb1 = z1[pb1i];\n    const p = state.z2[pi];\n\n    if (exports.DEBUG) console.log('ISECT[], ', pa0i, pa1i, pb0i, pb1i, pi);\n\n    // math from\n    // en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line\n\n    const x1 = pa0.x;\n    const y1 = pa0.y;\n    const x2 = pa1.x;\n    const y2 = pa1.y;\n    const x3 = pb0.x;\n    const y3 = pb0.y;\n    const x4 = pb1.x;\n    const y4 = pb1.y;\n\n    const div = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n    const f1 = x1 * y2 - y1 * x2;\n    const f2 = x3 * y4 - y3 * x4;\n\n    p.x = (f1 * (x3 - x4) - f2 * (x1 - x2)) / div;\n    p.y = (f1 * (y3 - y4) - f2 * (y1 - y2)) / div;\n}\n\n// SRP0[] Set Reference Point 0\n// 0x10\nfunction SRP0(state) {\n    state.rp0 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP0[]', state.rp0);\n}\n\n// SRP1[] Set Reference Point 1\n// 0x11\nfunction SRP1(state) {\n    state.rp1 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP1[]', state.rp1);\n}\n\n// SRP1[] Set Reference Point 2\n// 0x12\nfunction SRP2(state) {\n    state.rp2 = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SRP2[]', state.rp2);\n}\n\n// SZP0[] Set Zone Pointer 0\n// 0x13\nfunction SZP0(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP0[]', n);\n\n    state.zp0 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z0 = state.tZone;\n            break;\n        case 1 :\n            state.z0 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZP1[] Set Zone Pointer 1\n// 0x14\nfunction SZP1(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP1[]', n);\n\n    state.zp1 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z1 = state.tZone;\n            break;\n        case 1 :\n            state.z1 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZP2[] Set Zone Pointer 2\n// 0x15\nfunction SZP2(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZP2[]', n);\n\n    state.zp2 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z2 = state.tZone;\n            break;\n        case 1 :\n            state.z2 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SZPS[] Set Zone PointerS\n// 0x16\nfunction SZPS(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SZPS[]', n);\n\n    state.zp0 = state.zp1 = state.zp2 = n;\n\n    switch (n) {\n        case 0:\n            if (!state.tZone) initTZone(state);\n            state.z0 = state.z1 = state.z2 = state.tZone;\n            break;\n        case 1 :\n            state.z0 = state.z1 = state.z2 = state.gZone;\n            break;\n        default :\n            throw new Error('Invalid zone pointer');\n    }\n}\n\n// SLOOP[] Set LOOP variable\n// 0x17\nfunction SLOOP(state) {\n    state.loop = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SLOOP[]', state.loop);\n}\n\n// RTG[] Round To Grid\n// 0x18\nfunction RTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTG[]');\n\n    state.round = roundToGrid;\n}\n\n// RTHG[] Round To Half Grid\n// 0x19\nfunction RTHG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTHG[]');\n\n    state.round = roundToHalfGrid;\n}\n\n// SMD[] Set Minimum Distance\n// 0x1A\nfunction SMD(state) {\n    const d = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SMD[]', d);\n\n    state.minDis = d / 0x40;\n}\n\n// ELSE[] ELSE clause\n// 0x1B\nfunction ELSE(state) {\n    // This instruction has been reached by executing a then branch\n    // so it just skips ahead until matching EIF.\n    //\n    // In case the IF was negative the IF[] instruction already\n    // skipped forward over the ELSE[]\n\n    if (exports.DEBUG) console.log(state.step, 'ELSE[]');\n\n    skip(state, false);\n}\n\n// JMPR[] JuMP Relative\n// 0x1C\nfunction JMPR(state) {\n    const o = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'JMPR[]', o);\n\n    // A jump by 1 would do nothing.\n    state.ip += o - 1;\n}\n\n// SCVTCI[] Set Control Value Table Cut-In\n// 0x1D\nfunction SCVTCI(state) {\n    const n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SCVTCI[]', n);\n\n    state.cvCutIn = n / 0x40;\n}\n\n// DUP[] DUPlicate top stack element\n// 0x20\nfunction DUP(state) {\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.step, 'DUP[]');\n\n    stack.push(stack[stack.length - 1]);\n}\n\n// POP[] POP top stack element\n// 0x21\nfunction POP(state) {\n    if (exports.DEBUG) console.log(state.step, 'POP[]');\n\n    state.stack.pop();\n}\n\n// CLEAR[] CLEAR the stack\n// 0x22\nfunction CLEAR(state) {\n    if (exports.DEBUG) console.log(state.step, 'CLEAR[]');\n\n    state.stack.length = 0;\n}\n\n// SWAP[] SWAP the top two elements on the stack\n// 0x23\nfunction SWAP(state) {\n    const stack = state.stack;\n\n    const a = stack.pop();\n    const b = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SWAP[]');\n\n    stack.push(a);\n    stack.push(b);\n}\n\n// DEPTH[] DEPTH of the stack\n// 0x24\nfunction DEPTH(state) {\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.step, 'DEPTH[]');\n\n    stack.push(stack.length);\n}\n\n// LOOPCALL[] LOOPCALL function\n// 0x2A\nfunction LOOPCALL(state) {\n    const stack = state.stack;\n    const fn = stack.pop();\n    const c = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LOOPCALL[]', fn, c);\n\n    // saves callers program\n    const cip = state.ip;\n    const cprog = state.prog;\n\n    state.prog = state.funcs[fn];\n\n    // executes the function\n    for (let i = 0; i < c; i++) {\n        exec(state);\n\n        if (exports.DEBUG) console.log(\n            ++state.step,\n            i + 1 < c ? 'next loopcall' : 'done loopcall',\n            i\n        );\n    }\n\n    // restores the callers program\n    state.ip = cip;\n    state.prog = cprog;\n}\n\n// CALL[] CALL function\n// 0x2B\nfunction CALL(state) {\n    const fn = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CALL[]', fn);\n\n    // saves callers program\n    const cip = state.ip;\n    const cprog = state.prog;\n\n    state.prog = state.funcs[fn];\n\n    // executes the function\n    exec(state);\n\n    // restores the callers program\n    state.ip = cip;\n    state.prog = cprog;\n\n    if (exports.DEBUG) console.log(++state.step, 'returning from', fn);\n}\n\n// CINDEX[] Copy the INDEXed element to the top of the stack\n// 0x25\nfunction CINDEX(state) {\n    const stack = state.stack;\n    const k = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CINDEX[]', k);\n\n    // In case of k == 1, it copies the last element after popping\n    // thus stack.length - k.\n    stack.push(stack[stack.length - k]);\n}\n\n// MINDEX[] Move the INDEXed element to the top of the stack\n// 0x26\nfunction MINDEX(state) {\n    const stack = state.stack;\n    const k = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MINDEX[]', k);\n\n    stack.push(stack.splice(stack.length - k, 1)[0]);\n}\n\n// FDEF[] Function DEFinition\n// 0x2C\nfunction FDEF(state) {\n    if (state.env !== 'fpgm') throw new Error('FDEF not allowed here');\n    const stack = state.stack;\n    const prog = state.prog;\n    let ip = state.ip;\n\n    const fn = stack.pop();\n    const ipBegin = ip;\n\n    if (exports.DEBUG) console.log(state.step, 'FDEF[]', fn);\n\n    while (prog[++ip] !== 0x2D);\n\n    state.ip = ip;\n    state.funcs[fn] = prog.slice(ipBegin + 1, ip);\n}\n\n// MDAP[a] Move Direct Absolute Point\n// 0x2E-0x2F\nfunction MDAP(round, state) {\n    const pi = state.stack.pop();\n    const p = state.z0[pi];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    if (exports.DEBUG) console.log(state.step, 'MDAP[' + round + ']', pi);\n\n    let d = pv.distance(p, HPZero);\n\n    if (round) d = state.round(d);\n\n    fv.setRelative(p, HPZero, d, pv);\n    fv.touch(p);\n\n    state.rp0 = state.rp1 = pi;\n}\n\n// IUP[a] Interpolate Untouched Points through the outline\n// 0x30\nfunction IUP(v, state) {\n    const z2 = state.z2;\n    const pLen = z2.length - 2;\n    let cp;\n    let pp;\n    let np;\n\n    if (exports.DEBUG) console.log(state.step, 'IUP[' + v.axis + ']');\n\n    for (let i = 0; i < pLen; i++) {\n        cp = z2[i]; // current point\n\n        // if this point has been touched go on\n        if (v.touched(cp)) continue;\n\n        pp = cp.prevTouched(v);\n\n        // no point on the contour has been touched?\n        if (pp === cp) continue;\n\n        np = cp.nextTouched(v);\n\n        if (pp === np) {\n            // only one point on the contour has been touched\n            // so simply moves the point like that\n\n            v.setRelative(cp, cp, v.distance(pp, pp, false, true), v, true);\n        }\n\n        v.interpolate(cp, pp, np, v);\n    }\n}\n\n// SHP[] SHift Point using reference point\n// 0x32-0x33\nfunction SHP(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n    let loop = state.loop;\n    const z2 = state.z2;\n\n    while (loop--)\n    {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        const d = pv.distance(rp, rp, false, true);\n        fv.setRelative(p, p, d, pv);\n        fv.touch(p);\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ?\n                   'loop ' + (state.loop - loop) + ': ' :\n                   ''\n                ) +\n                'SHP[' + (a ? 'rp1' : 'rp2') + ']', pi\n            );\n        }\n    }\n\n    state.loop = 1;\n}\n\n// SHC[] SHift Contour using reference point\n// 0x36-0x37\nfunction SHC(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n    const ci = stack.pop();\n    const sp = state.z2[state.contours[ci]];\n    let p = sp;\n\n    if (exports.DEBUG) console.log(state.step, 'SHC[' + a + ']', ci);\n\n    const d = pv.distance(rp, rp, false, true);\n\n    do {\n        if (p !== rp) fv.setRelative(p, p, d, pv);\n        p = p.nextPointOnContour;\n    } while (p !== sp);\n}\n\n// SHZ[] SHift Zone using reference point\n// 0x36-0x37\nfunction SHZ(a, state) {\n    const stack = state.stack;\n    const rpi = a ? state.rp1 : state.rp2;\n    const rp = (a ? state.z0 : state.z1)[rpi];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    const e = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SHZ[' + a + ']', e);\n\n    let z;\n    switch (e) {\n        case 0 : z = state.tZone; break;\n        case 1 : z = state.gZone; break;\n        default : throw new Error('Invalid zone');\n    }\n\n    let p;\n    const d = pv.distance(rp, rp, false, true);\n    const pLen = z.length - 2;\n    for (let i = 0; i < pLen; i++)\n    {\n        p = z[i];\n        if (p !== rp) fv.setRelative(p, p, d, pv);\n    }\n}\n\n// SHPIX[] SHift point by a PIXel amount\n// 0x38\nfunction SHPIX(state) {\n    const stack = state.stack;\n    let loop = state.loop;\n    const fv = state.fv;\n    const d = stack.pop() / 0x40;\n    const z2 = state.z2;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'SHPIX[]', pi, d\n            );\n        }\n\n        fv.setRelative(p, p, d);\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// IP[] Interpolate Point\n// 0x39\nfunction IP(state) {\n    const stack = state.stack;\n    const rp1i = state.rp1;\n    const rp2i = state.rp2;\n    let loop = state.loop;\n    const rp1 = state.z0[rp1i];\n    const rp2 = state.z1[rp2i];\n    const fv = state.fv;\n    const pv = state.dpv;\n    const z2 = state.z2;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z2[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'IP[]', pi, rp1i, '<->', rp2i\n            );\n        }\n\n        fv.interpolate(p, rp1, rp2, pv);\n\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// MSIRP[a] Move Stack Indirect Relative Point\n// 0x3A-0x3B\nfunction MSIRP(a, state) {\n    const stack = state.stack;\n    const d = stack.pop() / 64;\n    const pi = stack.pop();\n    const p = state.z1[pi];\n    const rp0 = state.z0[state.rp0];\n    const fv = state.fv;\n    const pv = state.pv;\n\n    fv.setRelative(p, rp0, d, pv);\n    fv.touch(p);\n\n    if (exports.DEBUG) console.log(state.step, 'MSIRP[' + a + ']', d, pi);\n\n    state.rp1 = state.rp0;\n    state.rp2 = pi;\n    if (a) state.rp0 = pi;\n}\n\n// ALIGNRP[] Align to reference point.\n// 0x3C\nfunction ALIGNRP(state) {\n    const stack = state.stack;\n    const rp0i = state.rp0;\n    const rp0 = state.z0[rp0i];\n    let loop = state.loop;\n    const fv = state.fv;\n    const pv = state.pv;\n    const z1 = state.z1;\n\n    while (loop--) {\n        const pi = stack.pop();\n        const p = z1[pi];\n\n        if (exports.DEBUG) {\n            console.log(\n                state.step,\n                (state.loop > 1 ? 'loop ' + (state.loop - loop) + ': ' : '') +\n                'ALIGNRP[]', pi\n            );\n        }\n\n        fv.setRelative(p, rp0, 0, pv);\n        fv.touch(p);\n    }\n\n    state.loop = 1;\n}\n\n// RTG[] Round To Double Grid\n// 0x3D\nfunction RTDG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RTDG[]');\n\n    state.round = roundToDoubleGrid;\n}\n\n// MIAP[a] Move Indirect Absolute Point\n// 0x3E-0x3F\nfunction MIAP(round, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const pi = stack.pop();\n    const p = state.z0[pi];\n    const fv = state.fv;\n    const pv = state.pv;\n    let cv = state.cvt[n];\n\n    // TODO cvtcutin should be considered here\n    if (round) cv = state.round(cv);\n\n    if (exports.DEBUG) {\n        console.log(\n            state.step,\n            'MIAP[' + round + ']',\n            n, '(', cv, ')', pi\n        );\n    }\n\n    fv.setRelative(p, HPZero, cv, pv);\n\n    if (state.zp0 === 0) {\n        p.xo = p.x;\n        p.yo = p.y;\n    }\n\n    fv.touch(p);\n\n    state.rp0 = state.rp1 = pi;\n}\n\n// NPUSB[] PUSH N Bytes\n// 0x40\nfunction NPUSHB(state) {\n    const prog = state.prog;\n    let ip = state.ip;\n    const stack = state.stack;\n\n    const n = prog[++ip];\n\n    if (exports.DEBUG) console.log(state.step, 'NPUSHB[]', n);\n\n    for (let i = 0; i < n; i++) stack.push(prog[++ip]);\n\n    state.ip = ip;\n}\n\n// NPUSHW[] PUSH N Words\n// 0x41\nfunction NPUSHW(state) {\n    let ip = state.ip;\n    const prog = state.prog;\n    const stack = state.stack;\n    const n = prog[++ip];\n\n    if (exports.DEBUG) console.log(state.step, 'NPUSHW[]', n);\n\n    for (let i = 0; i < n; i++) {\n        let w = (prog[++ip] << 8) | prog[++ip];\n        if (w & 0x8000) w = -((w ^ 0xffff) + 1);\n        stack.push(w);\n    }\n\n    state.ip = ip;\n}\n\n// WS[] Write Store\n// 0x42\nfunction WS(state) {\n    const stack = state.stack;\n    let store = state.store;\n\n    if (!store) store = state.store = [];\n\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WS', v, l);\n\n    store[l] = v;\n}\n\n// RS[] Read Store\n// 0x43\nfunction RS(state) {\n    const stack = state.stack;\n    const store = state.store;\n\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'RS', l);\n\n    const v = (store && store[l]) || 0;\n\n    stack.push(v);\n}\n\n// WCVTP[] Write Control Value Table in Pixel units\n// 0x44\nfunction WCVTP(state) {\n    const stack = state.stack;\n\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WCVTP', v, l);\n\n    state.cvt[l] = v / 0x40;\n}\n\n// RCVT[] Read Control Value Table entry\n// 0x45\nfunction RCVT(state) {\n    const stack = state.stack;\n    const cvte = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'RCVT', cvte);\n\n    stack.push(state.cvt[cvte] * 0x40);\n}\n\n// GC[] Get Coordinate projected onto the projection vector\n// 0x46-0x47\nfunction GC(a, state) {\n    const stack = state.stack;\n    const pi = stack.pop();\n    const p = state.z2[pi];\n\n    if (exports.DEBUG) console.log(state.step, 'GC[' + a + ']', pi);\n\n    stack.push(state.dpv.distance(p, HPZero, a, false) * 0x40);\n}\n\n// MD[a] Measure Distance\n// 0x49-0x4A\nfunction MD(a, state) {\n    const stack = state.stack;\n    const pi2 = stack.pop();\n    const pi1 = stack.pop();\n    const p2 = state.z1[pi2];\n    const p1 = state.z0[pi1];\n    const d = state.dpv.distance(p1, p2, a, a);\n\n    if (exports.DEBUG) console.log(state.step, 'MD[' + a + ']', pi2, pi1, '->', d);\n\n    state.stack.push(Math.round(d * 64));\n}\n\n// MPPEM[] Measure Pixels Per EM\n// 0x4B\nfunction MPPEM(state) {\n    if (exports.DEBUG) console.log(state.step, 'MPPEM[]');\n    state.stack.push(state.ppem);\n}\n\n// FLIPON[] set the auto FLIP Boolean to ON\n// 0x4D\nfunction FLIPON(state) {\n    if (exports.DEBUG) console.log(state.step, 'FLIPON[]');\n    state.autoFlip = true;\n}\n\n// LT[] Less Than\n// 0x50\nfunction LT(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LT[]', e2, e1);\n\n    stack.push(e1 < e2 ? 1 : 0);\n}\n\n// LTEQ[] Less Than or EQual\n// 0x53\nfunction LTEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'LTEQ[]', e2, e1);\n\n    stack.push(e1 <= e2 ? 1 : 0);\n}\n\n// GTEQ[] Greater Than\n// 0x52\nfunction GT(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'GT[]', e2, e1);\n\n    stack.push(e1 > e2 ? 1 : 0);\n}\n\n// GTEQ[] Greater Than or EQual\n// 0x53\nfunction GTEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'GTEQ[]', e2, e1);\n\n    stack.push(e1 >= e2 ? 1 : 0);\n}\n\n// EQ[] EQual\n// 0x54\nfunction EQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'EQ[]', e2, e1);\n\n    stack.push(e2 === e1 ? 1 : 0);\n}\n\n// NEQ[] Not EQual\n// 0x55\nfunction NEQ(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NEQ[]', e2, e1);\n\n    stack.push(e2 !== e1 ? 1 : 0);\n}\n\n// ODD[] ODD\n// 0x56\nfunction ODD(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ODD[]', n);\n\n    stack.push(Math.trunc(n) % 2 ? 1 : 0);\n}\n\n// EVEN[] EVEN\n// 0x57\nfunction EVEN(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'EVEN[]', n);\n\n    stack.push(Math.trunc(n) % 2 ? 0 : 1);\n}\n\n// IF[] IF test\n// 0x58\nfunction IF(state) {\n    let test = state.stack.pop();\n    let ins;\n\n    if (exports.DEBUG) console.log(state.step, 'IF[]', test);\n\n    // if test is true it just continues\n    // if not the ip is skipped until matching ELSE or EIF\n    if (!test) {\n        skip(state, true);\n\n        if (exports.DEBUG) console.log(state.step, ins === 0x1B ? 'ELSE[]' : 'EIF[]');\n    }\n}\n\n// EIF[] End IF\n// 0x59\nfunction EIF(state) {\n    // this can be reached normally when\n    // executing an else branch.\n    // -> just ignore it\n\n    if (exports.DEBUG) console.log(state.step, 'EIF[]');\n}\n\n// AND[] logical AND\n// 0x5A\nfunction AND(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'AND[]', e2, e1);\n\n    stack.push(e2 && e1 ? 1 : 0);\n}\n\n// OR[] logical OR\n// 0x5B\nfunction OR(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'OR[]', e2, e1);\n\n    stack.push(e2 || e1 ? 1 : 0);\n}\n\n// NOT[] logical NOT\n// 0x5C\nfunction NOT(state) {\n    const stack = state.stack;\n    const e = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NOT[]', e);\n\n    stack.push(e ? 0 : 1);\n}\n\n// DELTAP1[] DELTA exception P1\n// DELTAP2[] DELTA exception P2\n// DELTAP3[] DELTA exception P3\n// 0x5D, 0x71, 0x72\nfunction DELTAP123(b, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const fv = state.fv;\n    const pv = state.pv;\n    const ppem = state.ppem;\n    const base = state.deltaBase + (b - 1) * 16;\n    const ds = state.deltaShift;\n    const z0 = state.z0;\n\n    if (exports.DEBUG) console.log(state.step, 'DELTAP[' + b + ']', n, stack);\n\n    for (let i = 0; i < n; i++)\n    {\n        const pi = stack.pop();\n        const arg = stack.pop();\n        const appem = base + ((arg & 0xF0) >> 4);\n        if (appem !== ppem) continue;\n\n        let mag = (arg & 0x0F) - 8;\n        if (mag >= 0) mag++;\n        if (exports.DEBUG) console.log(state.step, 'DELTAPFIX', pi, 'by', mag * ds);\n\n        const p = z0[pi];\n        fv.setRelative(p, p, mag * ds, pv);\n    }\n}\n\n// SDB[] Set Delta Base in the graphics state\n// 0x5E\nfunction SDB(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SDB[]', n);\n\n    state.deltaBase = n;\n}\n\n// SDS[] Set Delta Shift in the graphics state\n// 0x5F\nfunction SDS(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SDS[]', n);\n\n    state.deltaShift = Math.pow(0.5, n);\n}\n\n// ADD[] ADD\n// 0x60\nfunction ADD(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ADD[]', n2, n1);\n\n    stack.push(n1 + n2);\n}\n\n// SUB[] SUB\n// 0x61\nfunction SUB(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SUB[]', n2, n1);\n\n    stack.push(n1 - n2);\n}\n\n// DIV[] DIV\n// 0x62\nfunction DIV(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'DIV[]', n2, n1);\n\n    stack.push(n1 * 64 / n2);\n}\n\n// MUL[] MUL\n// 0x63\nfunction MUL(state) {\n    const stack = state.stack;\n    const n2 = stack.pop();\n    const n1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MUL[]', n2, n1);\n\n    stack.push(n1 * n2 / 64);\n}\n\n// ABS[] ABSolute value\n// 0x64\nfunction ABS(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ABS[]', n);\n\n    stack.push(Math.abs(n));\n}\n\n// NEG[] NEGate\n// 0x65\nfunction NEG(state) {\n    const stack = state.stack;\n    let n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'NEG[]', n);\n\n    stack.push(-n);\n}\n\n// FLOOR[] FLOOR\n// 0x66\nfunction FLOOR(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'FLOOR[]', n);\n\n    stack.push(Math.floor(n / 0x40) * 0x40);\n}\n\n// CEILING[] CEILING\n// 0x67\nfunction CEILING(state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'CEILING[]', n);\n\n    stack.push(Math.ceil(n / 0x40) * 0x40);\n}\n\n// ROUND[ab] ROUND value\n// 0x68-0x6B\nfunction ROUND(dt, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ROUND[]');\n\n    stack.push(state.round(n / 0x40) * 0x40);\n}\n\n// WCVTF[] Write Control Value Table in Funits\n// 0x70\nfunction WCVTF(state) {\n    const stack = state.stack;\n    const v = stack.pop();\n    const l = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'WCVTF[]', v, l);\n\n    state.cvt[l] = v * state.ppem / state.font.unitsPerEm;\n}\n\n// DELTAC1[] DELTA exception C1\n// DELTAC2[] DELTA exception C2\n// DELTAC3[] DELTA exception C3\n// 0x73, 0x74, 0x75\nfunction DELTAC123(b, state) {\n    const stack = state.stack;\n    const n = stack.pop();\n    const ppem = state.ppem;\n    const base = state.deltaBase + (b - 1) * 16;\n    const ds = state.deltaShift;\n\n    if (exports.DEBUG) console.log(state.step, 'DELTAC[' + b + ']', n, stack);\n\n    for (let i = 0; i < n; i++) {\n        const c = stack.pop();\n        const arg = stack.pop();\n        const appem = base + ((arg & 0xF0) >> 4);\n        if (appem !== ppem) continue;\n\n        let mag = (arg & 0x0F) - 8;\n        if (mag >= 0) mag++;\n\n        const delta = mag * ds;\n\n        if (exports.DEBUG) console.log(state.step, 'DELTACFIX', c, 'by', delta);\n\n        state.cvt[c] += delta;\n    }\n}\n\n// SROUND[] Super ROUND\n// 0x76\nfunction SROUND(state) {\n    let n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'SROUND[]', n);\n\n    state.round = roundSuper;\n\n    let period;\n\n    switch (n & 0xC0) {\n        case 0x00:\n            period = 0.5;\n            break;\n        case 0x40:\n            period = 1;\n            break;\n        case 0x80:\n            period = 2;\n            break;\n        default:\n            throw new Error('invalid SROUND value');\n    }\n\n    state.srPeriod = period;\n\n    switch (n & 0x30) {\n        case 0x00:\n            state.srPhase = 0;\n            break;\n        case 0x10:\n            state.srPhase = 0.25 * period;\n            break;\n        case 0x20:\n            state.srPhase = 0.5  * period;\n            break;\n        case 0x30:\n            state.srPhase = 0.75 * period;\n            break;\n        default: throw new Error('invalid SROUND value');\n    }\n\n    n &= 0x0F;\n\n    if (n === 0) state.srThreshold = 0;\n    else state.srThreshold = (n / 8 - 0.5) * period;\n}\n\n// S45ROUND[] Super ROUND 45 degrees\n// 0x77\nfunction S45ROUND(state) {\n    let n = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'S45ROUND[]', n);\n\n    state.round = roundSuper;\n\n    let period;\n\n    switch (n & 0xC0) {\n        case 0x00:\n            period = Math.sqrt(2) / 2;\n            break;\n        case 0x40:\n            period = Math.sqrt(2);\n            break;\n        case 0x80:\n            period = 2 * Math.sqrt(2);\n            break;\n        default:\n            throw new Error('invalid S45ROUND value');\n    }\n\n    state.srPeriod = period;\n\n    switch (n & 0x30) {\n        case 0x00:\n            state.srPhase = 0;\n            break;\n        case 0x10:\n            state.srPhase = 0.25 * period;\n            break;\n        case 0x20:\n            state.srPhase = 0.5  * period;\n            break;\n        case 0x30:\n            state.srPhase = 0.75 * period;\n            break;\n        default:\n            throw new Error('invalid S45ROUND value');\n    }\n\n    n &= 0x0F;\n\n    if (n === 0) state.srThreshold = 0;\n    else state.srThreshold = (n / 8 - 0.5) * period;\n}\n\n// ROFF[] Round Off\n// 0x7A\nfunction ROFF(state) {\n    if (exports.DEBUG) console.log(state.step, 'ROFF[]');\n\n    state.round = roundOff;\n}\n\n// RUTG[] Round Up To Grid\n// 0x7C\nfunction RUTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RUTG[]');\n\n    state.round = roundUpToGrid;\n}\n\n// RDTG[] Round Down To Grid\n// 0x7D\nfunction RDTG(state) {\n    if (exports.DEBUG) console.log(state.step, 'RDTG[]');\n\n    state.round = roundDownToGrid;\n}\n\n// SCANCTRL[] SCAN conversion ConTRoL\n// 0x85\nfunction SCANCTRL(state) {\n    const n = state.stack.pop();\n\n    // ignored by opentype.js\n\n    if (exports.DEBUG) console.log(state.step, 'SCANCTRL[]', n);\n}\n\n// SDPVTL[a] Set Dual Projection Vector To Line\n// 0x86-0x87\nfunction SDPVTL(a, state) {\n    const stack = state.stack;\n    const p2i = stack.pop();\n    const p1i = stack.pop();\n    const p2 = state.z2[p2i];\n    const p1 = state.z1[p1i];\n\n    if (exports.DEBUG) console.log('SDPVTL[' + a + ']', p2i, p1i);\n\n    let dx;\n    let dy;\n\n    if (!a) {\n        dx = p1.x - p2.x;\n        dy = p1.y - p2.y;\n    } else {\n        dx = p2.y - p1.y;\n        dy = p1.x - p2.x;\n    }\n\n    state.dpv = getUnitVector(dx, dy);\n}\n\n// GETINFO[] GET INFOrmation\n// 0x88\nfunction GETINFO(state) {\n    const stack = state.stack;\n    const sel = stack.pop();\n    let r = 0;\n\n    if (exports.DEBUG) console.log(state.step, 'GETINFO[]', sel);\n\n    // v35 as in no subpixel hinting\n    if (sel & 0x01) r = 35;\n\n    // TODO rotation and stretch currently not supported\n    // and thus those GETINFO are always 0.\n\n    // opentype.js is always gray scaling\n    if (sel & 0x20) r |= 0x1000;\n\n    stack.push(r);\n}\n\n// ROLL[] ROLL the top three stack elements\n// 0x8A\nfunction ROLL(state) {\n    const stack = state.stack;\n    const a = stack.pop();\n    const b = stack.pop();\n    const c = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'ROLL[]');\n\n    stack.push(b);\n    stack.push(a);\n    stack.push(c);\n}\n\n// MAX[] MAXimum of top two stack elements\n// 0x8B\nfunction MAX(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MAX[]', e2, e1);\n\n    stack.push(Math.max(e1, e2));\n}\n\n// MIN[] MINimum of top two stack elements\n// 0x8C\nfunction MIN(state) {\n    const stack = state.stack;\n    const e2 = stack.pop();\n    const e1 = stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'MIN[]', e2, e1);\n\n    stack.push(Math.min(e1, e2));\n}\n\n// SCANTYPE[] SCANTYPE\n// 0x8D\nfunction SCANTYPE(state) {\n    const n = state.stack.pop();\n    // ignored by opentype.js\n    if (exports.DEBUG) console.log(state.step, 'SCANTYPE[]', n);\n}\n\n// INSTCTRL[] INSTCTRL\n// 0x8D\nfunction INSTCTRL(state) {\n    const s = state.stack.pop();\n    let v = state.stack.pop();\n\n    if (exports.DEBUG) console.log(state.step, 'INSTCTRL[]', s, v);\n\n    switch (s) {\n        case 1 : state.inhibitGridFit = !!v; return;\n        case 2 : state.ignoreCvt = !!v; return;\n        default: throw new Error('invalid INSTCTRL[] selector');\n    }\n}\n\n// PUSHB[abc] PUSH Bytes\n// 0xB0-0xB7\nfunction PUSHB(n, state) {\n    const stack = state.stack;\n    const prog = state.prog;\n    let ip = state.ip;\n\n    if (exports.DEBUG) console.log(state.step, 'PUSHB[' + n + ']');\n\n    for (let i = 0; i < n; i++) stack.push(prog[++ip]);\n\n    state.ip = ip;\n}\n\n// PUSHW[abc] PUSH Words\n// 0xB8-0xBF\nfunction PUSHW(n, state) {\n    let ip = state.ip;\n    const prog = state.prog;\n    const stack = state.stack;\n\n    if (exports.DEBUG) console.log(state.ip, 'PUSHW[' + n + ']');\n\n    for (let i = 0; i < n; i++) {\n        let w = (prog[++ip] << 8) | prog[++ip];\n        if (w & 0x8000) w = -((w ^ 0xffff) + 1);\n        stack.push(w);\n    }\n\n    state.ip = ip;\n}\n\n// MDRP[abcde] Move Direct Relative Point\n// 0xD0-0xEF\n// (if indirect is 0)\n//\n// and\n//\n// MIRP[abcde] Move Indirect Relative Point\n// 0xE0-0xFF\n// (if indirect is 1)\n\nfunction MDRP_MIRP(indirect, setRp0, keepD, ro, dt, state) {\n    const stack = state.stack;\n    const cvte = indirect && stack.pop();\n    const pi = stack.pop();\n    const rp0i = state.rp0;\n    const rp = state.z0[rp0i];\n    const p = state.z1[pi];\n\n    const md = state.minDis;\n    const fv = state.fv;\n    const pv = state.dpv;\n    let od; // original distance\n    let d; // moving distance\n    let sign; // sign of distance\n    let cv;\n\n    d = od = pv.distance(p, rp, true, true);\n    sign = d >= 0 ? 1 : -1; // Math.sign would be 0 in case of 0\n\n    // TODO consider autoFlip\n    d = Math.abs(d);\n\n    if (indirect) {\n        cv = state.cvt[cvte];\n\n        if (ro && Math.abs(d - cv) < state.cvCutIn) d = cv;\n    }\n\n    if (keepD && d < md) d = md;\n\n    if (ro) d = state.round(d);\n\n    fv.setRelative(p, rp, sign * d, pv);\n    fv.touch(p);\n\n    if (exports.DEBUG) {\n        console.log(\n            state.step,\n            (indirect ? 'MIRP[' : 'MDRP[') +\n            (setRp0 ? 'M' : 'm') +\n            (keepD ? '>' : '_') +\n            (ro ? 'R' : '_') +\n            (dt === 0 ? 'Gr' : (dt === 1 ? 'Bl' : (dt === 2 ? 'Wh' : ''))) +\n            ']',\n            indirect ?\n                cvte + '(' + state.cvt[cvte] + ',' +  cv + ')' :\n                '',\n            pi,\n            '(d =', od, '->', sign * d, ')'\n        );\n    }\n\n    state.rp1 = state.rp0;\n    state.rp2 = pi;\n    if (setRp0) state.rp0 = pi;\n}\n\n/*\n* The instruction table.\n*/\ninstructionTable = [\n    /* 0x00 */ SVTCA.bind(undefined, yUnitVector),\n    /* 0x01 */ SVTCA.bind(undefined, xUnitVector),\n    /* 0x02 */ SPVTCA.bind(undefined, yUnitVector),\n    /* 0x03 */ SPVTCA.bind(undefined, xUnitVector),\n    /* 0x04 */ SFVTCA.bind(undefined, yUnitVector),\n    /* 0x05 */ SFVTCA.bind(undefined, xUnitVector),\n    /* 0x06 */ SPVTL.bind(undefined, 0),\n    /* 0x07 */ SPVTL.bind(undefined, 1),\n    /* 0x08 */ SFVTL.bind(undefined, 0),\n    /* 0x09 */ SFVTL.bind(undefined, 1),\n    /* 0x0A */ SPVFS,\n    /* 0x0B */ SFVFS,\n    /* 0x0C */ GPV,\n    /* 0x0D */ GFV,\n    /* 0x0E */ SFVTPV,\n    /* 0x0F */ ISECT,\n    /* 0x10 */ SRP0,\n    /* 0x11 */ SRP1,\n    /* 0x12 */ SRP2,\n    /* 0x13 */ SZP0,\n    /* 0x14 */ SZP1,\n    /* 0x15 */ SZP2,\n    /* 0x16 */ SZPS,\n    /* 0x17 */ SLOOP,\n    /* 0x18 */ RTG,\n    /* 0x19 */ RTHG,\n    /* 0x1A */ SMD,\n    /* 0x1B */ ELSE,\n    /* 0x1C */ JMPR,\n    /* 0x1D */ SCVTCI,\n    /* 0x1E */ undefined,   // TODO SSWCI\n    /* 0x1F */ undefined,   // TODO SSW\n    /* 0x20 */ DUP,\n    /* 0x21 */ POP,\n    /* 0x22 */ CLEAR,\n    /* 0x23 */ SWAP,\n    /* 0x24 */ DEPTH,\n    /* 0x25 */ CINDEX,\n    /* 0x26 */ MINDEX,\n    /* 0x27 */ undefined,   // TODO ALIGNPTS\n    /* 0x28 */ undefined,\n    /* 0x29 */ undefined,   // TODO UTP\n    /* 0x2A */ LOOPCALL,\n    /* 0x2B */ CALL,\n    /* 0x2C */ FDEF,\n    /* 0x2D */ undefined,   // ENDF (eaten by FDEF)\n    /* 0x2E */ MDAP.bind(undefined, 0),\n    /* 0x2F */ MDAP.bind(undefined, 1),\n    /* 0x30 */ IUP.bind(undefined, yUnitVector),\n    /* 0x31 */ IUP.bind(undefined, xUnitVector),\n    /* 0x32 */ SHP.bind(undefined, 0),\n    /* 0x33 */ SHP.bind(undefined, 1),\n    /* 0x34 */ SHC.bind(undefined, 0),\n    /* 0x35 */ SHC.bind(undefined, 1),\n    /* 0x36 */ SHZ.bind(undefined, 0),\n    /* 0x37 */ SHZ.bind(undefined, 1),\n    /* 0x38 */ SHPIX,\n    /* 0x39 */ IP,\n    /* 0x3A */ MSIRP.bind(undefined, 0),\n    /* 0x3B */ MSIRP.bind(undefined, 1),\n    /* 0x3C */ ALIGNRP,\n    /* 0x3D */ RTDG,\n    /* 0x3E */ MIAP.bind(undefined, 0),\n    /* 0x3F */ MIAP.bind(undefined, 1),\n    /* 0x40 */ NPUSHB,\n    /* 0x41 */ NPUSHW,\n    /* 0x42 */ WS,\n    /* 0x43 */ RS,\n    /* 0x44 */ WCVTP,\n    /* 0x45 */ RCVT,\n    /* 0x46 */ GC.bind(undefined, 0),\n    /* 0x47 */ GC.bind(undefined, 1),\n    /* 0x48 */ undefined,   // TODO SCFS\n    /* 0x49 */ MD.bind(undefined, 0),\n    /* 0x4A */ MD.bind(undefined, 1),\n    /* 0x4B */ MPPEM,\n    /* 0x4C */ undefined,   // TODO MPS\n    /* 0x4D */ FLIPON,\n    /* 0x4E */ undefined,   // TODO FLIPOFF\n    /* 0x4F */ undefined,   // TODO DEBUG\n    /* 0x50 */ LT,\n    /* 0x51 */ LTEQ,\n    /* 0x52 */ GT,\n    /* 0x53 */ GTEQ,\n    /* 0x54 */ EQ,\n    /* 0x55 */ NEQ,\n    /* 0x56 */ ODD,\n    /* 0x57 */ EVEN,\n    /* 0x58 */ IF,\n    /* 0x59 */ EIF,\n    /* 0x5A */ AND,\n    /* 0x5B */ OR,\n    /* 0x5C */ NOT,\n    /* 0x5D */ DELTAP123.bind(undefined, 1),\n    /* 0x5E */ SDB,\n    /* 0x5F */ SDS,\n    /* 0x60 */ ADD,\n    /* 0x61 */ SUB,\n    /* 0x62 */ DIV,\n    /* 0x63 */ MUL,\n    /* 0x64 */ ABS,\n    /* 0x65 */ NEG,\n    /* 0x66 */ FLOOR,\n    /* 0x67 */ CEILING,\n    /* 0x68 */ ROUND.bind(undefined, 0),\n    /* 0x69 */ ROUND.bind(undefined, 1),\n    /* 0x6A */ ROUND.bind(undefined, 2),\n    /* 0x6B */ ROUND.bind(undefined, 3),\n    /* 0x6C */ undefined,   // TODO NROUND[ab]\n    /* 0x6D */ undefined,   // TODO NROUND[ab]\n    /* 0x6E */ undefined,   // TODO NROUND[ab]\n    /* 0x6F */ undefined,   // TODO NROUND[ab]\n    /* 0x70 */ WCVTF,\n    /* 0x71 */ DELTAP123.bind(undefined, 2),\n    /* 0x72 */ DELTAP123.bind(undefined, 3),\n    /* 0x73 */ DELTAC123.bind(undefined, 1),\n    /* 0x74 */ DELTAC123.bind(undefined, 2),\n    /* 0x75 */ DELTAC123.bind(undefined, 3),\n    /* 0x76 */ SROUND,\n    /* 0x77 */ S45ROUND,\n    /* 0x78 */ undefined,   // TODO JROT[]\n    /* 0x79 */ undefined,   // TODO JROF[]\n    /* 0x7A */ ROFF,\n    /* 0x7B */ undefined,\n    /* 0x7C */ RUTG,\n    /* 0x7D */ RDTG,\n    /* 0x7E */ POP, // actually SANGW, supposed to do only a pop though\n    /* 0x7F */ POP, // actually AA, supposed to do only a pop though\n    /* 0x80 */ undefined,   // TODO FLIPPT\n    /* 0x81 */ undefined,   // TODO FLIPRGON\n    /* 0x82 */ undefined,   // TODO FLIPRGOFF\n    /* 0x83 */ undefined,\n    /* 0x84 */ undefined,\n    /* 0x85 */ SCANCTRL,\n    /* 0x86 */ SDPVTL.bind(undefined, 0),\n    /* 0x87 */ SDPVTL.bind(undefined, 1),\n    /* 0x88 */ GETINFO,\n    /* 0x89 */ undefined,   // TODO IDEF\n    /* 0x8A */ ROLL,\n    /* 0x8B */ MAX,\n    /* 0x8C */ MIN,\n    /* 0x8D */ SCANTYPE,\n    /* 0x8E */ INSTCTRL,\n    /* 0x8F */ undefined,\n    /* 0x90 */ undefined,\n    /* 0x91 */ undefined,\n    /* 0x92 */ undefined,\n    /* 0x93 */ undefined,\n    /* 0x94 */ undefined,\n    /* 0x95 */ undefined,\n    /* 0x96 */ undefined,\n    /* 0x97 */ undefined,\n    /* 0x98 */ undefined,\n    /* 0x99 */ undefined,\n    /* 0x9A */ undefined,\n    /* 0x9B */ undefined,\n    /* 0x9C */ undefined,\n    /* 0x9D */ undefined,\n    /* 0x9E */ undefined,\n    /* 0x9F */ undefined,\n    /* 0xA0 */ undefined,\n    /* 0xA1 */ undefined,\n    /* 0xA2 */ undefined,\n    /* 0xA3 */ undefined,\n    /* 0xA4 */ undefined,\n    /* 0xA5 */ undefined,\n    /* 0xA6 */ undefined,\n    /* 0xA7 */ undefined,\n    /* 0xA8 */ undefined,\n    /* 0xA9 */ undefined,\n    /* 0xAA */ undefined,\n    /* 0xAB */ undefined,\n    /* 0xAC */ undefined,\n    /* 0xAD */ undefined,\n    /* 0xAE */ undefined,\n    /* 0xAF */ undefined,\n    /* 0xB0 */ PUSHB.bind(undefined, 1),\n    /* 0xB1 */ PUSHB.bind(undefined, 2),\n    /* 0xB2 */ PUSHB.bind(undefined, 3),\n    /* 0xB3 */ PUSHB.bind(undefined, 4),\n    /* 0xB4 */ PUSHB.bind(undefined, 5),\n    /* 0xB5 */ PUSHB.bind(undefined, 6),\n    /* 0xB6 */ PUSHB.bind(undefined, 7),\n    /* 0xB7 */ PUSHB.bind(undefined, 8),\n    /* 0xB8 */ PUSHW.bind(undefined, 1),\n    /* 0xB9 */ PUSHW.bind(undefined, 2),\n    /* 0xBA */ PUSHW.bind(undefined, 3),\n    /* 0xBB */ PUSHW.bind(undefined, 4),\n    /* 0xBC */ PUSHW.bind(undefined, 5),\n    /* 0xBD */ PUSHW.bind(undefined, 6),\n    /* 0xBE */ PUSHW.bind(undefined, 7),\n    /* 0xBF */ PUSHW.bind(undefined, 8),\n    /* 0xC0 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 0),\n    /* 0xC1 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 1),\n    /* 0xC2 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 2),\n    /* 0xC3 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 0, 3),\n    /* 0xC4 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 0),\n    /* 0xC5 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 1),\n    /* 0xC6 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 2),\n    /* 0xC7 */ MDRP_MIRP.bind(undefined, 0, 0, 0, 1, 3),\n    /* 0xC8 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 0),\n    /* 0xC9 */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 1),\n    /* 0xCA */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 2),\n    /* 0xCB */ MDRP_MIRP.bind(undefined, 0, 0, 1, 0, 3),\n    /* 0xCC */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 0),\n    /* 0xCD */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 1),\n    /* 0xCE */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 2),\n    /* 0xCF */ MDRP_MIRP.bind(undefined, 0, 0, 1, 1, 3),\n    /* 0xD0 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 0),\n    /* 0xD1 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 1),\n    /* 0xD2 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 2),\n    /* 0xD3 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 0, 3),\n    /* 0xD4 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 0),\n    /* 0xD5 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 1),\n    /* 0xD6 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 2),\n    /* 0xD7 */ MDRP_MIRP.bind(undefined, 0, 1, 0, 1, 3),\n    /* 0xD8 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 0),\n    /* 0xD9 */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 1),\n    /* 0xDA */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 2),\n    /* 0xDB */ MDRP_MIRP.bind(undefined, 0, 1, 1, 0, 3),\n    /* 0xDC */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 0),\n    /* 0xDD */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 1),\n    /* 0xDE */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 2),\n    /* 0xDF */ MDRP_MIRP.bind(undefined, 0, 1, 1, 1, 3),\n    /* 0xE0 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 0),\n    /* 0xE1 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 1),\n    /* 0xE2 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 2),\n    /* 0xE3 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 0, 3),\n    /* 0xE4 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 0),\n    /* 0xE5 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 1),\n    /* 0xE6 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 2),\n    /* 0xE7 */ MDRP_MIRP.bind(undefined, 1, 0, 0, 1, 3),\n    /* 0xE8 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 0),\n    /* 0xE9 */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 1),\n    /* 0xEA */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 2),\n    /* 0xEB */ MDRP_MIRP.bind(undefined, 1, 0, 1, 0, 3),\n    /* 0xEC */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 0),\n    /* 0xED */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 1),\n    /* 0xEE */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 2),\n    /* 0xEF */ MDRP_MIRP.bind(undefined, 1, 0, 1, 1, 3),\n    /* 0xF0 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 0),\n    /* 0xF1 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 1),\n    /* 0xF2 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 2),\n    /* 0xF3 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 0, 3),\n    /* 0xF4 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 0),\n    /* 0xF5 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 1),\n    /* 0xF6 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 2),\n    /* 0xF7 */ MDRP_MIRP.bind(undefined, 1, 1, 0, 1, 3),\n    /* 0xF8 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 0),\n    /* 0xF9 */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 1),\n    /* 0xFA */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 2),\n    /* 0xFB */ MDRP_MIRP.bind(undefined, 1, 1, 1, 0, 3),\n    /* 0xFC */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 0),\n    /* 0xFD */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 1),\n    /* 0xFE */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 2),\n    /* 0xFF */ MDRP_MIRP.bind(undefined, 1, 1, 1, 1, 3)\n];\n\nexport default Hinting;\n\n/*****************************\n  Mathematical Considerations\n******************************\n\nfv ... refers to freedom vector\npv ... refers to projection vector\nrp ... refers to reference point\np  ... refers to to point being operated on\nd  ... refers to distance\n\nSETRELATIVE:\n============\n\ncase freedom vector == x-axis:\n------------------------------\n\n                        (pv)\n                     .-'\n              rpd .-'\n               .-*\n          d .-'90°'\n         .-'       '\n      .-'           '\n   *-'               ' b\n  rp                  '\n                       '\n                        '\n            p *----------*-------------- (fv)\n                          pm\n\n  rpdx = rpx + d * pv.x\n  rpdy = rpy + d * pv.y\n\n  equation of line b\n\n   y - rpdy = pvns * (x- rpdx)\n\n   y = p.y\n\n   x = rpdx + ( p.y - rpdy ) / pvns\n\n\ncase freedom vector == y-axis:\n------------------------------\n\n    * pm\n    |\\\n    | \\\n    |  \\\n    |   \\\n    |    \\\n    |     \\\n    |      \\\n    |       \\\n    |        \\\n    |         \\ b\n    |          \\\n    |           \\\n    |            \\    .-' (pv)\n    |         90° \\.-'\n    |           .-'* rpd\n    |        .-'\n    *     *-'  d\n    p     rp\n\n  rpdx = rpx + d * pv.x\n  rpdy = rpy + d * pv.y\n\n  equation of line b:\n           pvns ... normal slope to pv\n\n   y - rpdy = pvns * (x - rpdx)\n\n   x = p.x\n\n   y = rpdy +  pvns * (p.x - rpdx)\n\n\n\ngeneric case:\n-------------\n\n\n                              .'(fv)\n                            .'\n                          .* pm\n                        .' !\n                      .'    .\n                    .'      !\n                  .'         . b\n                .'           !\n               *              .\n              p               !\n                         90°   .    ... (pv)\n                           ...-*-'''\n                  ...---'''    rpd\n         ...---'''   d\n   *--'''\n  rp\n\n    rpdx = rpx + d * pv.x\n    rpdy = rpy + d * pv.y\n\n equation of line b:\n    pvns... normal slope to pv\n\n    y - rpdy = pvns * (x - rpdx)\n\n equation of freedom vector line:\n    fvs ... slope of freedom vector (=fy/fx)\n\n    y - py = fvs * (x - px)\n\n\n  on pm both equations are true for same x/y\n\n    y - rpdy = pvns * (x - rpdx)\n\n    y - py = fvs * (x - px)\n\n  form to y and set equal:\n\n    pvns * (x - rpdx) + rpdy = fvs * (x - px) + py\n\n  expand:\n\n    pvns * x - pvns * rpdx + rpdy = fvs * x - fvs * px + py\n\n  switch:\n\n    fvs * x - fvs * px + py = pvns * x - pvns * rpdx + rpdy\n\n  solve for x:\n\n    fvs * x - pvns * x = fvs * px - pvns * rpdx - py + rpdy\n\n\n\n          fvs * px - pvns * rpdx + rpdy - py\n    x =  -----------------------------------\n                 fvs - pvns\n\n  and:\n\n    y = fvs * (x - px) + py\n\n\n\nINTERPOLATE:\n============\n\nExamples of point interpolation.\n\nThe weight of the movement of the reference point gets bigger\nthe further the other reference point is away, thus the safest\noption (that is avoiding 0/0 divisions) is to weight the\noriginal distance of the other point by the sum of both distances.\n\nIf the sum of both distances is 0, then move the point by the\narithmetic average of the movement of both reference points.\n\n\n\n\n           (+6)\n    rp1o *---->*rp1\n         .     .                          (+12)\n         .     .                  rp2o *---------->* rp2\n         .     .                       .           .\n         .     .                       .           .\n         .    10          20           .           .\n         |.........|...................|           .\n               .   .                               .\n               .   . (+8)                          .\n                po *------>*p                      .\n               .           .                       .\n               .    12     .          24           .\n               |...........|.......................|\n                                  36\n\n\n-------\n\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .                      (-10)\n         .         .              rp2 *<---------* rpo2\n         .         .                   .         .\n         .         .                   .         .\n         .    10   .          30       .         .\n         |.........|.............................|\n                   .                   .\n                   . (+5)              .\n                po *--->* p            .\n                   .    .              .\n                   .    .   20         .\n                   |....|..............|\n                     5        15\n\n\n-------\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .\n         .         .\n    rp2o *-------->*rp2\n\n\n                               (+10)\n                          po *-------->* p\n\n-------\n\n\n           (+10)\n    rp1o *-------->*rp1\n         .         .\n         .         .(+30)\n    rp2o *---------------------------->*rp2\n\n\n                                        (+25)\n                          po *----------------------->* p\n\n\n\nvim: set ts=4 sw=4 expandtab:\n*****/\n","// The Font object\n\nimport Path from './path';\nimport sfnt from './tables/sfnt';\nimport { DefaultEncoding } from './encoding';\nimport glyphset from './glyphset';\nimport Substitution from './substitution';\nimport { isBrowser, checkArgument, arrayBufferToNodeBuffer } from './util';\nimport HintingTrueType from './hintingtt';\n\n/**\n * @typedef FontOptions\n * @type Object\n * @property {Boolean} empty - whether to create a new empty font\n * @property {string} familyName\n * @property {string} styleName\n * @property {string=} fullName\n * @property {string=} postScriptName\n * @property {string=} designer\n * @property {string=} designerURL\n * @property {string=} manufacturer\n * @property {string=} manufacturerURL\n * @property {string=} license\n * @property {string=} licenseURL\n * @property {string=} version\n * @property {string=} description\n * @property {string=} copyright\n * @property {string=} trademark\n * @property {Number} unitsPerEm\n * @property {Number} ascender\n * @property {Number} descender\n * @property {Number} createdTimestamp\n * @property {string=} weightClass\n * @property {string=} widthClass\n * @property {string=} fsSelection\n */\n\n/**\n * A Font represents a loaded OpenType font file.\n * It contains a set of glyphs and methods to draw text on a drawing context,\n * or to get a path representing the text.\n * @exports opentype.Font\n * @class\n * @param {FontOptions}\n * @constructor\n */\nfunction Font(options) {\n    options = options || {};\n\n    if (!options.empty) {\n        // Check that we've provided the minimum set of names.\n        checkArgument(options.familyName, 'When creating a new Font object, familyName is required.');\n        checkArgument(options.styleName, 'When creating a new Font object, styleName is required.');\n        checkArgument(options.unitsPerEm, 'When creating a new Font object, unitsPerEm is required.');\n        checkArgument(options.ascender, 'When creating a new Font object, ascender is required.');\n        checkArgument(options.descender, 'When creating a new Font object, descender is required.');\n        checkArgument(options.descender < 0, 'Descender should be negative (e.g. -512).');\n\n        // OS X will complain if the names are empty, so we put a single space everywhere by default.\n        this.names = {\n            fontFamily: {en: options.familyName || ' '},\n            fontSubfamily: {en: options.styleName || ' '},\n            fullName: {en: options.fullName || options.familyName + ' ' + options.styleName},\n            postScriptName: {en: options.postScriptName || options.familyName + options.styleName},\n            designer: {en: options.designer || ' '},\n            designerURL: {en: options.designerURL || ' '},\n            manufacturer: {en: options.manufacturer || ' '},\n            manufacturerURL: {en: options.manufacturerURL || ' '},\n            license: {en: options.license || ' '},\n            licenseURL: {en: options.licenseURL || ' '},\n            version: {en: options.version || 'Version 0.1'},\n            description: {en: options.description || ' '},\n            copyright: {en: options.copyright || ' '},\n            trademark: {en: options.trademark || ' '}\n        };\n        this.unitsPerEm = options.unitsPerEm || 1000;\n        this.ascender = options.ascender;\n        this.descender = options.descender;\n        this.createdTimestamp = options.createdTimestamp;\n        this.tables = { os2: {\n            usWeightClass: options.weightClass || this.usWeightClasses.MEDIUM,\n            usWidthClass: options.widthClass || this.usWidthClasses.MEDIUM,\n            fsSelection: options.fsSelection || this.fsSelectionValues.REGULAR\n        } };\n    }\n\n    this.supported = true; // Deprecated: parseBuffer will throw an error if font is not supported.\n    this.glyphs = new glyphset.GlyphSet(this, options.glyphs || []);\n    this.encoding = new DefaultEncoding(this);\n    this.substitution = new Substitution(this);\n    this.tables = this.tables || {};\n\n    Object.defineProperty(this, 'hinting', {\n        get: function() {\n            if (this._hinting) return this._hinting;\n            if (this.outlinesFormat === 'truetype') {\n                return (this._hinting = new HintingTrueType(this));\n            }\n        }\n    });\n}\n\n/**\n * Check if the font has a glyph for the given character.\n * @param  {string}\n * @return {Boolean}\n */\nFont.prototype.hasChar = function(c) {\n    return this.encoding.charToGlyphIndex(c) !== null;\n};\n\n/**\n * Convert the given character to a single glyph index.\n * Note that this function assumes that there is a one-to-one mapping between\n * the given character and a glyph; for complex scripts this might not be the case.\n * @param  {string}\n * @return {Number}\n */\nFont.prototype.charToGlyphIndex = function(s) {\n    return this.encoding.charToGlyphIndex(s);\n};\n\n/**\n * Convert the given character to a single Glyph object.\n * Note that this function assumes that there is a one-to-one mapping between\n * the given character and a glyph; for complex scripts this might not be the case.\n * @param  {string}\n * @return {opentype.Glyph}\n */\nFont.prototype.charToGlyph = function(c) {\n    const glyphIndex = this.charToGlyphIndex(c);\n    let glyph = this.glyphs.get(glyphIndex);\n    if (!glyph) {\n        // .notdef\n        glyph = this.glyphs.get(0);\n    }\n\n    return glyph;\n};\n\n/**\n * Convert the given text to a list of Glyph objects.\n * Note that there is no strict one-to-one mapping between characters and\n * glyphs, so the list of returned glyphs can be larger or smaller than the\n * length of the given string.\n * @param  {string}\n * @param  {GlyphRenderOptions} [options]\n * @return {opentype.Glyph[]}\n */\nFont.prototype.stringToGlyphs = function(s, options) {\n    options = options || this.defaultRenderOptions;\n    // Get glyph indexes\n    const indexes = [];\n    for (let i = 0; i < s.length; i += 1) {\n        const c = s[i];\n        indexes.push(this.charToGlyphIndex(c));\n    }\n    let length = indexes.length;\n\n    // Apply substitutions on glyph indexes\n    if (options.features) {\n        const script = options.script || this.substitution.getDefaultScriptName();\n        let manyToOne = [];\n        if (options.features.liga) manyToOne = manyToOne.concat(this.substitution.getFeature('liga', script, options.language));\n        if (options.features.rlig) manyToOne = manyToOne.concat(this.substitution.getFeature('rlig', script, options.language));\n        for (let i = 0; i < length; i += 1) {\n            for (let j = 0; j < manyToOne.length; j++) {\n                const ligature = manyToOne[j];\n                const components = ligature.sub;\n                const compCount = components.length;\n                let k = 0;\n                while (k < compCount && components[k] === indexes[i + k]) k++;\n                if (k === compCount) {\n                    indexes.splice(i, compCount, ligature.by);\n                    length = length - compCount + 1;\n                }\n            }\n        }\n    }\n\n    // convert glyph indexes to glyph objects\n    const glyphs = new Array(length);\n    const notdef = this.glyphs.get(0);\n    for (let i = 0; i < length; i += 1) {\n        glyphs[i] = this.glyphs.get(indexes[i]) || notdef;\n    }\n    return glyphs;\n};\n\n/**\n * @param  {string}\n * @return {Number}\n */\nFont.prototype.nameToGlyphIndex = function(name) {\n    return this.glyphNames.nameToGlyphIndex(name);\n};\n\n/**\n * @param  {string}\n * @return {opentype.Glyph}\n */\nFont.prototype.nameToGlyph = function(name) {\n    const glyphIndex = this.nameToGlyphIndex(name);\n    let glyph = this.glyphs.get(glyphIndex);\n    if (!glyph) {\n        // .notdef\n        glyph = this.glyphs.get(0);\n    }\n\n    return glyph;\n};\n\n/**\n * @param  {Number}\n * @return {String}\n */\nFont.prototype.glyphIndexToName = function(gid) {\n    if (!this.glyphNames.glyphIndexToName) {\n        return '';\n    }\n\n    return this.glyphNames.glyphIndexToName(gid);\n};\n\n/**\n * Retrieve the value of the kerning pair between the left glyph (or its index)\n * and the right glyph (or its index). If no kerning pair is found, return 0.\n * The kerning value gets added to the advance width when calculating the spacing\n * between glyphs.\n * @param  {opentype.Glyph} leftGlyph\n * @param  {opentype.Glyph} rightGlyph\n * @return {Number}\n */\nFont.prototype.getKerningValue = function(leftGlyph, rightGlyph) {\n    leftGlyph = leftGlyph.index || leftGlyph;\n    rightGlyph = rightGlyph.index || rightGlyph;\n    const gposKerning = this.getGposKerningValue;\n    return gposKerning ? gposKerning(leftGlyph, rightGlyph) :\n        (this.kerningPairs[leftGlyph + ',' + rightGlyph] || 0);\n};\n\n/**\n * @typedef GlyphRenderOptions\n * @type Object\n * @property {string} [script] - script used to determine which features to apply. By default, 'DFLT' or 'latn' is used.\n *                               See https://www.microsoft.com/typography/otspec/scripttags.htm\n * @property {string} [language='dflt'] - language system used to determine which features to apply.\n *                                        See https://www.microsoft.com/typography/developers/opentype/languagetags.aspx\n * @property {boolean} [kerning=true] - whether to include kerning values\n * @property {object} [features] - OpenType Layout feature tags. Used to enable or disable the features of the given script/language system.\n *                                 See https://www.microsoft.com/typography/otspec/featuretags.htm\n */\nFont.prototype.defaultRenderOptions = {\n    kerning: true,\n    features: {\n        liga: true,\n        rlig: true\n    }\n};\n\n/**\n * Helper function that invokes the given callback for each glyph in the given text.\n * The callback gets `(glyph, x, y, fontSize, options)`.* @param  {string} text\n * @param {string} text - The text to apply.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @param  {Function} callback\n */\nFont.prototype.forEachGlyph = function(text, x, y, fontSize, options, callback) {\n    x = x !== undefined ? x : 0;\n    y = y !== undefined ? y : 0;\n    fontSize = fontSize !== undefined ? fontSize : 72;\n    options = options || this.defaultRenderOptions;\n    const fontScale = 1 / this.unitsPerEm * fontSize;\n    const glyphs = this.stringToGlyphs(text, options);\n    for (let i = 0; i < glyphs.length; i += 1) {\n        const glyph = glyphs[i];\n        callback.call(this, glyph, x, y, fontSize, options);\n        if (glyph.advanceWidth) {\n            x += glyph.advanceWidth * fontScale;\n        }\n\n        if (options.kerning && i < glyphs.length - 1) {\n            const kerningValue = this.getKerningValue(glyph, glyphs[i + 1]);\n            x += kerningValue * fontScale;\n        }\n\n        if (options.letterSpacing) {\n            x += options.letterSpacing * fontSize;\n        } else if (options.tracking) {\n            x += (options.tracking / 1000) * fontSize;\n        }\n    }\n    return x;\n};\n\n/**\n * Create a Path object that represents the given text.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return {opentype.Path}\n */\nFont.prototype.getPath = function(text, x, y, fontSize, options) {\n    const fullPath = new Path();\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        const glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n        fullPath.extend(glyphPath);\n    });\n    return fullPath;\n};\n\n/**\n * Create an array of Path objects that represent the glyphs of a given text.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return {opentype.Path[]}\n */\nFont.prototype.getPaths = function(text, x, y, fontSize, options) {\n    const glyphPaths = [];\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        const glyphPath = glyph.getPath(gX, gY, gFontSize, options, this);\n        glyphPaths.push(glyphPath);\n    });\n\n    return glyphPaths;\n};\n\n/**\n * Returns the advance width of a text.\n *\n * This is something different than Path.getBoundingBox() as for example a\n * suffixed whitespace increases the advanceWidth but not the bounding box\n * or an overhanging letter like a calligraphic 'f' might have a quite larger\n * bounding box than its advance width.\n *\n * This corresponds to canvas2dContext.measureText(text).width\n *\n * @param  {string} text - The text to create.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n * @return advance width\n */\nFont.prototype.getAdvanceWidth = function(text, fontSize, options) {\n    return this.forEachGlyph(text, 0, 0, fontSize, options, function() {});\n};\n\n/**\n * Draw the text on the given drawing context.\n * @param  {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param  {string} text - The text to create.\n * @param  {number} [x=0] - Horizontal position of the beginning of the text.\n * @param  {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param  {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param  {GlyphRenderOptions=} options\n */\nFont.prototype.draw = function(ctx, text, x, y, fontSize, options) {\n    this.getPath(text, x, y, fontSize, options).draw(ctx);\n};\n\n/**\n * Draw the points of all glyphs in the text.\n * On-curve points will be drawn in blue, off-curve points will be drawn in red.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param {string} text - The text to create.\n * @param {number} [x=0] - Horizontal position of the beginning of the text.\n * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param {GlyphRenderOptions=} options\n */\nFont.prototype.drawPoints = function(ctx, text, x, y, fontSize, options) {\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        glyph.drawPoints(ctx, gX, gY, gFontSize);\n    });\n};\n\n/**\n * Draw lines indicating important font measurements for all glyphs in the text.\n * Black lines indicate the origin of the coordinate system (point 0,0).\n * Blue lines indicate the glyph bounding box.\n * Green line indicates the advance width of the glyph.\n * @param {CanvasRenderingContext2D} ctx - A 2D drawing context, like Canvas.\n * @param {string} text - The text to create.\n * @param {number} [x=0] - Horizontal position of the beginning of the text.\n * @param {number} [y=0] - Vertical position of the *baseline* of the text.\n * @param {number} [fontSize=72] - Font size in pixels. We scale the glyph units by `1 / unitsPerEm * fontSize`.\n * @param {GlyphRenderOptions=} options\n */\nFont.prototype.drawMetrics = function(ctx, text, x, y, fontSize, options) {\n    this.forEachGlyph(text, x, y, fontSize, options, function(glyph, gX, gY, gFontSize) {\n        glyph.drawMetrics(ctx, gX, gY, gFontSize);\n    });\n};\n\n/**\n * @param  {string}\n * @return {string}\n */\nFont.prototype.getEnglishName = function(name) {\n    const translations = this.names[name];\n    if (translations) {\n        return translations.en;\n    }\n};\n\n/**\n * Validate\n */\nFont.prototype.validate = function() {\n    const warnings = [];\n    const _this = this;\n\n    function assert(predicate, message) {\n        if (!predicate) {\n            warnings.push(message);\n        }\n    }\n\n    function assertNamePresent(name) {\n        const englishName = _this.getEnglishName(name);\n        assert(englishName && englishName.trim().length > 0,\n               'No English ' + name + ' specified.');\n    }\n\n    // Identification information\n    assertNamePresent('fontFamily');\n    assertNamePresent('weightName');\n    assertNamePresent('manufacturer');\n    assertNamePresent('copyright');\n    assertNamePresent('version');\n\n    // Dimension information\n    assert(this.unitsPerEm > 0, 'No unitsPerEm specified.');\n};\n\n/**\n * Convert the font object to a SFNT data structure.\n * This structure contains all the necessary tables and metadata to create a binary OTF file.\n * @return {opentype.Table}\n */\nFont.prototype.toTables = function() {\n    return sfnt.fontToTable(this);\n};\n/**\n * @deprecated Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.\n */\nFont.prototype.toBuffer = function() {\n    console.warn('Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.');\n    return this.toArrayBuffer();\n};\n/**\n * Converts a `opentype.Font` into an `ArrayBuffer`\n * @return {ArrayBuffer}\n */\nFont.prototype.toArrayBuffer = function() {\n    const sfntTable = this.toTables();\n    const bytes = sfntTable.encode();\n    const buffer = new ArrayBuffer(bytes.length);\n    const intArray = new Uint8Array(buffer);\n    for (let i = 0; i < bytes.length; i++) {\n        intArray[i] = bytes[i];\n    }\n\n    return buffer;\n};\n\n/**\n * Initiate a download of the OpenType font.\n */\nFont.prototype.download = function(fileName) {\n    const familyName = this.getEnglishName('fontFamily');\n    const styleName = this.getEnglishName('fontSubfamily');\n    fileName = fileName || familyName.replace(/\\s/g, '') + '-' + styleName + '.otf';\n    const arrayBuffer = this.toArrayBuffer();\n\n    if (isBrowser()) {\n        window.requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        window.requestFileSystem(window.TEMPORARY, arrayBuffer.byteLength, function(fs) {\n            fs.root.getFile(fileName, {create: true}, function(fileEntry) {\n                fileEntry.createWriter(function(writer) {\n                    const dataView = new DataView(arrayBuffer);\n                    const blob = new Blob([dataView], {type: 'font/opentype'});\n                    writer.write(blob);\n\n                    writer.addEventListener('writeend', function() {\n                        // Navigating to the file will download it.\n                        location.href = fileEntry.toURL();\n                    }, false);\n                });\n            });\n        },\n        function(err) {\n            throw new Error(err.name + ': ' + err.message);\n        });\n    } else {\n        const fs = require('fs');\n        const buffer = arrayBufferToNodeBuffer(arrayBuffer);\n        fs.writeFileSync(fileName, buffer);\n    }\n};\n/**\n * @private\n */\nFont.prototype.fsSelectionValues = {\n    ITALIC:              0x001, //1\n    UNDERSCORE:          0x002, //2\n    NEGATIVE:            0x004, //4\n    OUTLINED:            0x008, //8\n    STRIKEOUT:           0x010, //16\n    BOLD:                0x020, //32\n    REGULAR:             0x040, //64\n    USER_TYPO_METRICS:   0x080, //128\n    WWS:                 0x100, //256\n    OBLIQUE:             0x200  //512\n};\n\n/**\n * @private\n */\nFont.prototype.usWidthClasses = {\n    ULTRA_CONDENSED: 1,\n    EXTRA_CONDENSED: 2,\n    CONDENSED: 3,\n    SEMI_CONDENSED: 4,\n    MEDIUM: 5,\n    SEMI_EXPANDED: 6,\n    EXPANDED: 7,\n    EXTRA_EXPANDED: 8,\n    ULTRA_EXPANDED: 9\n};\n\n/**\n * @private\n */\nFont.prototype.usWeightClasses = {\n    THIN: 100,\n    EXTRA_LIGHT: 200,\n    LIGHT: 300,\n    NORMAL: 400,\n    MEDIUM: 500,\n    SEMI_BOLD: 600,\n    BOLD: 700,\n    EXTRA_BOLD: 800,\n    BLACK:    900\n};\n\nexport default Font;\n","// The `fvar` table stores font variation axes and instances.\n// https://developer.apple.com/fonts/TrueType-Reference-Manual/RM06/Chap6fvar.html\n\nimport check from '../check';\nimport parse from '../parse';\nimport table from '../table';\n\nfunction addName(name, names) {\n    const nameString = JSON.stringify(name);\n    let nameID = 256;\n    for (let nameKey in names) {\n        let n = parseInt(nameKey);\n        if (!n || n < 256) {\n            continue;\n        }\n\n        if (JSON.stringify(names[nameKey]) === nameString) {\n            return n;\n        }\n\n        if (nameID <= n) {\n            nameID = n + 1;\n        }\n    }\n\n    names[nameID] = name;\n    return nameID;\n}\n\nfunction makeFvarAxis(n, axis, names) {\n    const nameID = addName(axis.name, names);\n    return [\n        {name: 'tag_' + n, type: 'TAG', value: axis.tag},\n        {name: 'minValue_' + n, type: 'FIXED', value: axis.minValue << 16},\n        {name: 'defaultValue_' + n, type: 'FIXED', value: axis.defaultValue << 16},\n        {name: 'maxValue_' + n, type: 'FIXED', value: axis.maxValue << 16},\n        {name: 'flags_' + n, type: 'USHORT', value: 0},\n        {name: 'nameID_' + n, type: 'USHORT', value: nameID}\n    ];\n}\n\nfunction parseFvarAxis(data, start, names) {\n    const axis = {};\n    const p = new parse.Parser(data, start);\n    axis.tag = p.parseTag();\n    axis.minValue = p.parseFixed();\n    axis.defaultValue = p.parseFixed();\n    axis.maxValue = p.parseFixed();\n    p.skip('uShort', 1);  // reserved for flags; no values defined\n    axis.name = names[p.parseUShort()] || {};\n    return axis;\n}\n\nfunction makeFvarInstance(n, inst, axes, names) {\n    const nameID = addName(inst.name, names);\n    const fields = [\n        {name: 'nameID_' + n, type: 'USHORT', value: nameID},\n        {name: 'flags_' + n, type: 'USHORT', value: 0}\n    ];\n\n    for (let i = 0; i < axes.length; ++i) {\n        const axisTag = axes[i].tag;\n        fields.push({\n            name: 'axis_' + n + ' ' + axisTag,\n            type: 'FIXED',\n            value: inst.coordinates[axisTag] << 16\n        });\n    }\n\n    return fields;\n}\n\nfunction parseFvarInstance(data, start, axes, names) {\n    const inst = {};\n    const p = new parse.Parser(data, start);\n    inst.name = names[p.parseUShort()] || {};\n    p.skip('uShort', 1);  // reserved for flags; no values defined\n\n    inst.coordinates = {};\n    for (let i = 0; i < axes.length; ++i) {\n        inst.coordinates[axes[i].tag] = p.parseFixed();\n    }\n\n    return inst;\n}\n\nfunction makeFvarTable(fvar, names) {\n    const result = new table.Table('fvar', [\n        {name: 'version', type: 'ULONG', value: 0x10000},\n        {name: 'offsetToData', type: 'USHORT', value: 0},\n        {name: 'countSizePairs', type: 'USHORT', value: 2},\n        {name: 'axisCount', type: 'USHORT', value: fvar.axes.length},\n        {name: 'axisSize', type: 'USHORT', value: 20},\n        {name: 'instanceCount', type: 'USHORT', value: fvar.instances.length},\n        {name: 'instanceSize', type: 'USHORT', value: 4 + fvar.axes.length * 4}\n    ]);\n    result.offsetToData = result.sizeOf();\n\n    for (let i = 0; i < fvar.axes.length; i++) {\n        result.fields = result.fields.concat(makeFvarAxis(i, fvar.axes[i], names));\n    }\n\n    for (let j = 0; j < fvar.instances.length; j++) {\n        result.fields = result.fields.concat(makeFvarInstance(j, fvar.instances[j], fvar.axes, names));\n    }\n\n    return result;\n}\n\nfunction parseFvarTable(data, start, names) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseULong();\n    check.argument(tableVersion === 0x00010000, 'Unsupported fvar table version.');\n    const offsetToData = p.parseOffset16();\n    // Skip countSizePairs.\n    p.skip('uShort', 1);\n    const axisCount = p.parseUShort();\n    const axisSize = p.parseUShort();\n    const instanceCount = p.parseUShort();\n    const instanceSize = p.parseUShort();\n\n    const axes = [];\n    for (let i = 0; i < axisCount; i++) {\n        axes.push(parseFvarAxis(data, start + offsetToData + i * axisSize, names));\n    }\n\n    const instances = [];\n    const instanceStart = start + offsetToData + axisCount * axisSize;\n    for (let j = 0; j < instanceCount; j++) {\n        instances.push(parseFvarInstance(data, instanceStart + j * instanceSize, axes, names));\n    }\n\n    return {axes: axes, instances: instances};\n}\n\nexport default { make: makeFvarTable, parse: parseFvarTable };\n","// The `GPOS` table contains kerning pairs, among other things.\n// https://www.microsoft.com/typography/OTSPEC/gpos.htm\n\nimport check from '../check';\nimport parse from '../parse';\n\n// Parse ScriptList and FeatureList tables of GPOS, GSUB, GDEF, BASE, JSTF tables.\n// These lists are unused by now, this function is just the basis for a real parsing.\nfunction parseTaggedListTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const n = p.parseUShort();\n    const list = [];\n    for (let i = 0; i < n; i++) {\n        list[p.parseTag()] = { offset: p.parseUShort() };\n    }\n\n    return list;\n}\n\n// Parse a coverage table in a GSUB, GPOS or GDEF table.\n// Format 1 is a simple list of glyph ids,\n// Format 2 is a list of ranges. It is expanded in a list of glyphs, maybe not the best idea.\nfunction parseCoverageTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const format = p.parseUShort();\n    let count = p.parseUShort();\n    if (format === 1) {\n        return p.parseUShortList(count);\n    } else if (format === 2) {\n        const coverage = [];\n        for (; count--;) {\n            const begin = p.parseUShort();\n            const end = p.parseUShort();\n            let index = p.parseUShort();\n            for (let i = begin; i <= end; i++) {\n                coverage[index++] = i;\n            }\n        }\n\n        return coverage;\n    }\n}\n\n// Parse a Class Definition Table in a GSUB, GPOS or GDEF table.\n// Returns a function that gets a class value from a glyph ID.\nfunction parseClassDefTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const format = p.parseUShort();\n    if (format === 1) {\n        // Format 1 specifies a range of consecutive glyph indices, one class per glyph ID.\n        const startGlyph = p.parseUShort();\n        const glyphCount = p.parseUShort();\n        const classes = p.parseUShortList(glyphCount);\n        return function(glyphID) {\n            return classes[glyphID - startGlyph] || 0;\n        };\n    } else if (format === 2) {\n        // Format 2 defines multiple groups of glyph indices that belong to the same class.\n        const rangeCount = p.parseUShort();\n        const startGlyphs = [];\n        const endGlyphs = [];\n        const classValues = [];\n        for (let i = 0; i < rangeCount; i++) {\n            startGlyphs[i] = p.parseUShort();\n            endGlyphs[i] = p.parseUShort();\n            classValues[i] = p.parseUShort();\n        }\n\n        return function(glyphID) {\n            let l = 0;\n            let r = startGlyphs.length - 1;\n            while (l < r) {\n                const c = (l + r + 1) >> 1;\n                if (glyphID < startGlyphs[c]) {\n                    r = c - 1;\n                } else {\n                    l = c;\n                }\n            }\n\n            if (startGlyphs[l] <= glyphID && glyphID <= endGlyphs[l]) {\n                return classValues[l] || 0;\n            }\n\n            return 0;\n        };\n    }\n}\n\n// Parse a pair adjustment positioning subtable, format 1 or format 2\n// The subtable is returned in the form of a lookup function.\nfunction parsePairPosSubTable(data, start) {\n    const p = new parse.Parser(data, start);\n    // This part is common to format 1 and format 2 subtables\n    const format = p.parseUShort();\n    const coverageOffset = p.parseUShort();\n    const coverage = parseCoverageTable(data, start + coverageOffset);\n    // valueFormat 4: XAdvance only, 1: XPlacement only, 0: no ValueRecord for second glyph\n    // Only valueFormat1=4 and valueFormat2=0 is supported.\n    const valueFormat1 = p.parseUShort();\n    const valueFormat2 = p.parseUShort();\n    let value1;\n    let value2;\n    if (valueFormat1 !== 4 || valueFormat2 !== 0) return;\n    const sharedPairSets = {};\n    if (format === 1) {\n        // Pair Positioning Adjustment: Format 1\n        const pairSetCount = p.parseUShort();\n        const pairSet = [];\n        // Array of offsets to PairSet tables-from beginning of PairPos subtable-ordered by Coverage Index\n        const pairSetOffsets = p.parseOffset16List(pairSetCount);\n        for (let firstGlyph = 0; firstGlyph < pairSetCount; firstGlyph++) {\n            const pairSetOffset = pairSetOffsets[firstGlyph];\n            let sharedPairSet = sharedPairSets[pairSetOffset];\n            if (!sharedPairSet) {\n                // Parse a pairset table in a pair adjustment subtable format 1\n                sharedPairSet = {};\n                p.relativeOffset = pairSetOffset;\n                let pairValueCount = p.parseUShort();\n                for (; pairValueCount--;) {\n                    const secondGlyph = p.parseUShort();\n                    if (valueFormat1) value1 = p.parseShort();\n                    if (valueFormat2) value2 = p.parseShort();\n                    // We only support valueFormat1 = 4 and valueFormat2 = 0,\n                    // so value1 is the XAdvance and value2 is empty.\n                    sharedPairSet[secondGlyph] = value1;\n                }\n            }\n\n            pairSet[coverage[firstGlyph]] = sharedPairSet;\n        }\n\n        return function(leftGlyph, rightGlyph) {\n            const pairs = pairSet[leftGlyph];\n            if (pairs) return pairs[rightGlyph];\n        };\n    } else if (format === 2) {\n        // Pair Positioning Adjustment: Format 2\n        const classDef1Offset = p.parseUShort();\n        const classDef2Offset = p.parseUShort();\n        const class1Count = p.parseUShort();\n        const class2Count = p.parseUShort();\n        const getClass1 = parseClassDefTable(data, start + classDef1Offset);\n        const getClass2 = parseClassDefTable(data, start + classDef2Offset);\n\n        // Parse kerning values by class pair.\n        const kerningMatrix = [];\n        for (let i = 0; i < class1Count; i++) {\n            const kerningRow = kerningMatrix[i] = [];\n            for (let j = 0; j < class2Count; j++) {\n                if (valueFormat1) value1 = p.parseShort();\n                if (valueFormat2) value2 = p.parseShort();\n                // We only support valueFormat1 = 4 and valueFormat2 = 0,\n                // so value1 is the XAdvance and value2 is empty.\n                kerningRow[j] = value1;\n            }\n        }\n\n        // Convert coverage list to a hash\n        const covered = {};\n        for (let i = 0; i < coverage.length; i++) {\n            covered[coverage[i]] = 1;\n        }\n\n        // Get the kerning value for a specific glyph pair.\n        return function(leftGlyph, rightGlyph) {\n            if (!covered[leftGlyph]) return;\n            const class1 = getClass1(leftGlyph);\n            const class2 = getClass2(rightGlyph);\n            const kerningRow = kerningMatrix[class1];\n\n            if (kerningRow) {\n                return kerningRow[class2];\n            }\n        };\n    }\n}\n\n// Parse a LookupTable (present in of GPOS, GSUB, GDEF, BASE, JSTF tables).\nfunction parseLookupTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const lookupType = p.parseUShort();\n    const lookupFlag = p.parseUShort();\n    const useMarkFilteringSet = lookupFlag & 0x10;\n    const subTableCount = p.parseUShort();\n    const subTableOffsets = p.parseOffset16List(subTableCount);\n    const table = {\n        lookupType: lookupType,\n        lookupFlag: lookupFlag,\n        markFilteringSet: useMarkFilteringSet ? p.parseUShort() : -1\n    };\n    // LookupType 2, Pair adjustment\n    if (lookupType === 2) {\n        const subtables = [];\n        for (let i = 0; i < subTableCount; i++) {\n            const pairPosSubTable = parsePairPosSubTable(data, start + subTableOffsets[i]);\n            if (pairPosSubTable) subtables.push(pairPosSubTable);\n        }\n        // Return a function which finds the kerning values in the subtables.\n        table.getKerningValue = function(leftGlyph, rightGlyph) {\n            for (let i = subtables.length; i--;) {\n                const value = subtables[i](leftGlyph, rightGlyph);\n                if (value !== undefined) return value;\n            }\n\n            return 0;\n        };\n    }\n\n    return table;\n}\n\n// Parse the `GPOS` table which contains, among other things, kerning pairs.\n// https://www.microsoft.com/typography/OTSPEC/gpos.htm\nfunction parseGposTable(data, start, font) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseFixed();\n    check.argument(tableVersion === 1, 'Unsupported GPOS table version.');\n\n    // ScriptList and FeatureList - ignored for now\n    parseTaggedListTable(data, start + p.parseUShort());\n    // 'kern' is the feature we are looking for.\n    parseTaggedListTable(data, start + p.parseUShort());\n\n    // LookupList\n    const lookupListOffset = p.parseUShort();\n    p.relativeOffset = lookupListOffset;\n    const lookupCount = p.parseUShort();\n    const lookupTableOffsets = p.parseOffset16List(lookupCount);\n    const lookupListAbsoluteOffset = start + lookupListOffset;\n    for (let i = 0; i < lookupCount; i++) {\n        const table = parseLookupTable(data, lookupListAbsoluteOffset + lookupTableOffsets[i]);\n        if (table.lookupType === 2 && !font.getGposKerningValue) font.getGposKerningValue = table.getKerningValue;\n    }\n}\n\nexport default { parse: parseGposTable };\n","// The `kern` table contains kerning pairs.\n// Note that some fonts use the GPOS OpenType layout table to specify kerning.\n// https://www.microsoft.com/typography/OTSPEC/kern.htm\n\nimport check from '../check';\nimport parse from '../parse';\n\nfunction parseWindowsKernTable(p) {\n    const pairs = {};\n    // Skip nTables.\n    p.skip('uShort');\n    const subtableVersion = p.parseUShort();\n    check.argument(subtableVersion === 0, 'Unsupported kern sub-table version.');\n    // Skip subtableLength, subtableCoverage\n    p.skip('uShort', 2);\n    const nPairs = p.parseUShort();\n    // Skip searchRange, entrySelector, rangeShift.\n    p.skip('uShort', 3);\n    for (let i = 0; i < nPairs; i += 1) {\n        const leftIndex = p.parseUShort();\n        const rightIndex = p.parseUShort();\n        const value = p.parseShort();\n        pairs[leftIndex + ',' + rightIndex] = value;\n    }\n    return pairs;\n}\n\nfunction parseMacKernTable(p) {\n    const pairs = {};\n    // The Mac kern table stores the version as a fixed (32 bits) but we only loaded the first 16 bits.\n    // Skip the rest.\n    p.skip('uShort');\n    const nTables = p.parseULong();\n    //check.argument(nTables === 1, 'Only 1 subtable is supported (got ' + nTables + ').');\n    if (nTables > 1) {\n        console.warn('Only the first kern subtable is supported.');\n    }\n    p.skip('uLong');\n    const coverage = p.parseUShort();\n    const subtableVersion = coverage & 0xFF;\n    p.skip('uShort');\n    if (subtableVersion === 0) {\n        const nPairs = p.parseUShort();\n        // Skip searchRange, entrySelector, rangeShift.\n        p.skip('uShort', 3);\n        for (let i = 0; i < nPairs; i += 1) {\n            const leftIndex = p.parseUShort();\n            const rightIndex = p.parseUShort();\n            const value = p.parseShort();\n            pairs[leftIndex + ',' + rightIndex] = value;\n        }\n    }\n    return pairs;\n}\n\n// Parse the `kern` table which contains kerning pairs.\nfunction parseKernTable(data, start) {\n    const p = new parse.Parser(data, start);\n    const tableVersion = p.parseUShort();\n    if (tableVersion === 0) {\n        return parseWindowsKernTable(p);\n    } else if (tableVersion === 1) {\n        return parseMacKernTable(p);\n    } else {\n        throw new Error('Unsupported kern table version (' + tableVersion + ').');\n    }\n}\n\nexport default { parse: parseKernTable };\n","// The `loca` table stores the offsets to the locations of the glyphs in the font.\n// https://www.microsoft.com/typography/OTSPEC/loca.htm\n\nimport parse from '../parse';\n\n// Parse the `loca` table. This table stores the offsets to the locations of the glyphs in the font,\n// relative to the beginning of the glyphData table.\n// The number of glyphs stored in the `loca` table is specified in the `maxp` table (under numGlyphs)\n// The loca table has two versions: a short version where offsets are stored as uShorts, and a long\n// version where offsets are stored as uLongs. The `head` table specifies which version to use\n// (under indexToLocFormat).\nfunction parseLocaTable(data, start, numGlyphs, shortVersion) {\n    const p = new parse.Parser(data, start);\n    const parseFn = shortVersion ? p.parseUShort : p.parseULong;\n    // There is an extra entry after the last index element to compute the length of the last glyph.\n    // That's why we use numGlyphs + 1.\n    const glyphOffsets = [];\n    for (let i = 0; i < numGlyphs + 1; i += 1) {\n        let glyphOffset = parseFn.call(p);\n        if (shortVersion) {\n            // The short table version stores the actual offset divided by 2.\n            glyphOffset *= 2;\n        }\n\n        glyphOffsets.push(glyphOffset);\n    }\n\n    return glyphOffsets;\n}\n\nexport default { parse: parseLocaTable };\n","// opentype.js\n// https://github.com/nodebox/opentype.js\n// (c) 2015 Frederik De Bleser\n// opentype.js may be freely distributed under the MIT license.\n\n/* global DataView, Uint8Array, XMLHttpRequest  */\n\nimport inflate from 'tiny-inflate';\nimport Font from './font';\nimport Glyph from './glyph';\nimport { CmapEncoding, GlyphNames, addGlyphNames } from './encoding';\nimport parse from './parse';\nimport BoundingBox from './bbox';\nimport Path from './path';\nimport { nodeBufferToArrayBuffer } from './util';\nimport cmap from './tables/cmap';\nimport cff from './tables/cff';\nimport fvar from './tables/fvar';\nimport glyf from './tables/glyf';\nimport gpos from './tables/gpos';\nimport gsub from './tables/gsub';\nimport head from './tables/head';\nimport hhea from './tables/hhea';\nimport hmtx from './tables/hmtx';\nimport kern from './tables/kern';\nimport ltag from './tables/ltag';\nimport loca from './tables/loca';\nimport maxp from './tables/maxp';\nimport _name from './tables/name';\nimport os2 from './tables/os2';\nimport post from './tables/post';\nimport meta from './tables/meta';\n\n/**\n * The opentype library.\n * @namespace opentype\n */\n\n// File loaders /////////////////////////////////////////////////////////\n/**\n * Loads a font from a file. The callback throws an error message as the first parameter if it fails\n * and the font as an ArrayBuffer in the second parameter if it succeeds.\n * @param  {string} path - The path of the file\n * @param  {Function} callback - The function to call when the font load completes\n */\nfunction loadFromFile(path, callback) {\n    const fs = require('fs');\n    fs.readFile(path, function(err, buffer) {\n        if (err) {\n            return callback(err.message);\n        }\n\n        callback(null, nodeBufferToArrayBuffer(buffer));\n    });\n}\n/**\n * Loads a font from a URL. The callback throws an error message as the first parameter if it fails\n * and the font as an ArrayBuffer in the second parameter if it succeeds.\n * @param  {string} url - The URL of the font file.\n * @param  {Function} callback - The function to call when the font load completes\n */\nfunction loadFromUrl(url, callback) {\n    const request = new XMLHttpRequest();\n    request.open('get', url, true);\n    request.responseType = 'arraybuffer';\n    request.onload = function() {\n        if (request.status !== 200) {\n            return callback('Font could not be loaded: ' + request.statusText);\n        }\n\n        return callback(null, request.response);\n    };\n\n    request.onerror = function () {\n        callback('Font could not be loaded');\n    };\n\n    request.send();\n}\n\n// Table Directory Entries //////////////////////////////////////////////\n/**\n * Parses OpenType table entries.\n * @param  {DataView}\n * @param  {Number}\n * @return {Object[]}\n */\nfunction parseOpenTypeTableEntries(data, numTables) {\n    const tableEntries = [];\n    let p = 12;\n    for (let i = 0; i < numTables; i += 1) {\n        const tag = parse.getTag(data, p);\n        const checksum = parse.getULong(data, p + 4);\n        const offset = parse.getULong(data, p + 8);\n        const length = parse.getULong(data, p + 12);\n        tableEntries.push({tag: tag, checksum: checksum, offset: offset, length: length, compression: false});\n        p += 16;\n    }\n\n    return tableEntries;\n}\n\n/**\n * Parses WOFF table entries.\n * @param  {DataView}\n * @param  {Number}\n * @return {Object[]}\n */\nfunction parseWOFFTableEntries(data, numTables) {\n    const tableEntries = [];\n    let p = 44; // offset to the first table directory entry.\n    for (let i = 0; i < numTables; i += 1) {\n        const tag = parse.getTag(data, p);\n        const offset = parse.getULong(data, p + 4);\n        const compLength = parse.getULong(data, p + 8);\n        const origLength = parse.getULong(data, p + 12);\n        let compression;\n        if (compLength < origLength) {\n            compression = 'WOFF';\n        } else {\n            compression = false;\n        }\n\n        tableEntries.push({tag: tag, offset: offset, compression: compression,\n            compressedLength: compLength, length: origLength});\n        p += 20;\n    }\n\n    return tableEntries;\n}\n\n/**\n * @typedef TableData\n * @type Object\n * @property {DataView} data - The DataView\n * @property {number} offset - The data offset.\n */\n\n/**\n * @param  {DataView}\n * @param  {Object}\n * @return {TableData}\n */\nfunction uncompressTable(data, tableEntry) {\n    if (tableEntry.compression === 'WOFF') {\n        const inBuffer = new Uint8Array(data.buffer, tableEntry.offset + 2, tableEntry.compressedLength - 2);\n        const outBuffer = new Uint8Array(tableEntry.length);\n        inflate(inBuffer, outBuffer);\n        if (outBuffer.byteLength !== tableEntry.length) {\n            throw new Error('Decompression error: ' + tableEntry.tag + ' decompressed length doesn\\'t match recorded length');\n        }\n\n        const view = new DataView(outBuffer.buffer, 0);\n        return {data: view, offset: 0};\n    } else {\n        return {data: data, offset: tableEntry.offset};\n    }\n}\n\n// Public API ///////////////////////////////////////////////////////////\n\n/**\n * Parse the OpenType file data (as an ArrayBuffer) and return a Font object.\n * Throws an error if the font could not be parsed.\n * @param  {ArrayBuffer}\n * @return {opentype.Font}\n */\nfunction parseBuffer(buffer) {\n    let indexToLocFormat;\n    let ltagTable;\n\n    // Since the constructor can also be called to create new fonts from scratch, we indicate this\n    // should be an empty font that we'll fill with our own data.\n    const font = new Font({empty: true});\n\n    // OpenType fonts use big endian byte ordering.\n    // We can't rely on typed array view types, because they operate with the endianness of the host computer.\n    // Instead we use DataViews where we can specify endianness.\n    const data = new DataView(buffer, 0);\n    let numTables;\n    let tableEntries = [];\n    const signature = parse.getTag(data, 0);\n    if (signature === String.fromCharCode(0, 1, 0, 0) || signature === 'true' || signature === 'typ1') {\n        font.outlinesFormat = 'truetype';\n        numTables = parse.getUShort(data, 4);\n        tableEntries = parseOpenTypeTableEntries(data, numTables);\n    } else if (signature === 'OTTO') {\n        font.outlinesFormat = 'cff';\n        numTables = parse.getUShort(data, 4);\n        tableEntries = parseOpenTypeTableEntries(data, numTables);\n    } else if (signature === 'wOFF') {\n        const flavor = parse.getTag(data, 4);\n        if (flavor === String.fromCharCode(0, 1, 0, 0)) {\n            font.outlinesFormat = 'truetype';\n        } else if (flavor === 'OTTO') {\n            font.outlinesFormat = 'cff';\n        } else {\n            throw new Error('Unsupported OpenType flavor ' + signature);\n        }\n\n        numTables = parse.getUShort(data, 12);\n        tableEntries = parseWOFFTableEntries(data, numTables);\n    } else {\n        throw new Error('Unsupported OpenType signature ' + signature);\n    }\n\n    let cffTableEntry;\n    let fvarTableEntry;\n    let glyfTableEntry;\n    let gposTableEntry;\n    let gsubTableEntry;\n    let hmtxTableEntry;\n    let kernTableEntry;\n    let locaTableEntry;\n    let nameTableEntry;\n    let metaTableEntry;\n    let p;\n\n    for (let i = 0; i < numTables; i += 1) {\n        const tableEntry = tableEntries[i];\n        let table;\n        switch (tableEntry.tag) {\n            case 'cmap':\n                table = uncompressTable(data, tableEntry);\n                font.tables.cmap = cmap.parse(table.data, table.offset);\n                font.encoding = new CmapEncoding(font.tables.cmap);\n                break;\n            case 'cvt ' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.cvt = p.parseShortList(tableEntry.length / 2);\n                break;\n            case 'fvar':\n                fvarTableEntry = tableEntry;\n                break;\n            case 'fpgm' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.fpgm = p.parseByteList(tableEntry.length);\n                break;\n            case 'head':\n                table = uncompressTable(data, tableEntry);\n                font.tables.head = head.parse(table.data, table.offset);\n                font.unitsPerEm = font.tables.head.unitsPerEm;\n                indexToLocFormat = font.tables.head.indexToLocFormat;\n                break;\n            case 'hhea':\n                table = uncompressTable(data, tableEntry);\n                font.tables.hhea = hhea.parse(table.data, table.offset);\n                font.ascender = font.tables.hhea.ascender;\n                font.descender = font.tables.hhea.descender;\n                font.numberOfHMetrics = font.tables.hhea.numberOfHMetrics;\n                break;\n            case 'hmtx':\n                hmtxTableEntry = tableEntry;\n                break;\n            case 'ltag':\n                table = uncompressTable(data, tableEntry);\n                ltagTable = ltag.parse(table.data, table.offset);\n                break;\n            case 'maxp':\n                table = uncompressTable(data, tableEntry);\n                font.tables.maxp = maxp.parse(table.data, table.offset);\n                font.numGlyphs = font.tables.maxp.numGlyphs;\n                break;\n            case 'name':\n                nameTableEntry = tableEntry;\n                break;\n            case 'OS/2':\n                table = uncompressTable(data, tableEntry);\n                font.tables.os2 = os2.parse(table.data, table.offset);\n                break;\n            case 'post':\n                table = uncompressTable(data, tableEntry);\n                font.tables.post = post.parse(table.data, table.offset);\n                font.glyphNames = new GlyphNames(font.tables.post);\n                break;\n            case 'prep' :\n                table = uncompressTable(data, tableEntry);\n                p = new parse.Parser(table.data, table.offset);\n                font.tables.prep = p.parseByteList(tableEntry.length);\n                break;\n            case 'glyf':\n                glyfTableEntry = tableEntry;\n                break;\n            case 'loca':\n                locaTableEntry = tableEntry;\n                break;\n            case 'CFF ':\n                cffTableEntry = tableEntry;\n                break;\n            case 'kern':\n                kernTableEntry = tableEntry;\n                break;\n            case 'GPOS':\n                gposTableEntry = tableEntry;\n                break;\n            case 'GSUB':\n                gsubTableEntry = tableEntry;\n                break;\n            case 'meta':\n                metaTableEntry = tableEntry;\n                break;\n        }\n    }\n\n    const nameTable = uncompressTable(data, nameTableEntry);\n    font.tables.name = _name.parse(nameTable.data, nameTable.offset, ltagTable);\n    font.names = font.tables.name;\n\n    if (glyfTableEntry && locaTableEntry) {\n        const shortVersion = indexToLocFormat === 0;\n        const locaTable = uncompressTable(data, locaTableEntry);\n        const locaOffsets = loca.parse(locaTable.data, locaTable.offset, font.numGlyphs, shortVersion);\n        const glyfTable = uncompressTable(data, glyfTableEntry);\n        font.glyphs = glyf.parse(glyfTable.data, glyfTable.offset, locaOffsets, font);\n    } else if (cffTableEntry) {\n        const cffTable = uncompressTable(data, cffTableEntry);\n        cff.parse(cffTable.data, cffTable.offset, font);\n    } else {\n        throw new Error('Font doesn\\'t contain TrueType or CFF outlines.');\n    }\n\n    const hmtxTable = uncompressTable(data, hmtxTableEntry);\n    hmtx.parse(hmtxTable.data, hmtxTable.offset, font.numberOfHMetrics, font.numGlyphs, font.glyphs);\n    addGlyphNames(font);\n\n    if (kernTableEntry) {\n        const kernTable = uncompressTable(data, kernTableEntry);\n        font.kerningPairs = kern.parse(kernTable.data, kernTable.offset);\n    } else {\n        font.kerningPairs = {};\n    }\n\n    if (gposTableEntry) {\n        const gposTable = uncompressTable(data, gposTableEntry);\n        gpos.parse(gposTable.data, gposTable.offset, font);\n    }\n\n    if (gsubTableEntry) {\n        const gsubTable = uncompressTable(data, gsubTableEntry);\n        font.tables.gsub = gsub.parse(gsubTable.data, gsubTable.offset);\n    }\n\n    if (fvarTableEntry) {\n        const fvarTable = uncompressTable(data, fvarTableEntry);\n        font.tables.fvar = fvar.parse(fvarTable.data, fvarTable.offset, font.names);\n    }\n\n    if (metaTableEntry) {\n        const metaTable = uncompressTable(data, metaTableEntry);\n        font.tables.meta = meta.parse(metaTable.data, metaTable.offset);\n        font.metas = font.tables.meta;\n    }\n\n    return font;\n}\n\n/**\n * Asynchronously load the font from a URL or a filesystem. When done, call the callback\n * with two arguments `(err, font)`. The `err` will be null on success,\n * the `font` is a Font object.\n * We use the node.js callback convention so that\n * opentype.js can integrate with frameworks like async.js.\n * @alias opentype.load\n * @param  {string} url - The URL of the font to load.\n * @param  {Function} callback - The callback.\n */\nfunction load(url, callback) {\n    const isNode = typeof window === 'undefined';\n    const loadFn = isNode ? loadFromFile : loadFromUrl;\n    loadFn(url, function(err, arrayBuffer) {\n        if (err) {\n            return callback(err);\n        }\n        let font;\n        try {\n            font = parseBuffer(arrayBuffer);\n        } catch (e) {\n            return callback(e, null);\n        }\n        return callback(null, font);\n    });\n}\n\n/**\n * Synchronously load the font from a URL or file.\n * When done, returns the font object or throws an error.\n * @alias opentype.loadSync\n * @param  {string} url - The URL of the font to load.\n * @return {opentype.Font}\n */\nfunction loadSync(url) {\n    const fs = require('fs');\n    const buffer = fs.readFileSync(url);\n    return parseBuffer(nodeBufferToArrayBuffer(buffer));\n}\n\nexport {\n    Font,\n    Glyph,\n    Path,\n    BoundingBox,\n    parse as _parse,\n    parseBuffer as parse,\n    load,\n    loadSync\n};\n","export default ShelfPack;\r\n\r\n\r\n/**\r\n * Create a new ShelfPack bin allocator.\r\n *\r\n * Uses the Shelf Best Height Fit algorithm from\r\n * http://clb.demon.fi/files/RectangleBinPack.pdf\r\n *\r\n * @class  ShelfPack\r\n * @param  {number}  [w=64]  Initial width of the sprite\r\n * @param  {number}  [h=64]  Initial width of the sprite\r\n * @param  {Object}  [options]\r\n * @param  {boolean} [options.autoResize=false]  If `true`, the sprite will automatically grow\r\n * @example\r\n * var sprite = new ShelfPack(64, 64, { autoResize: false });\r\n */\r\nfunction ShelfPack(w, h, options) {\r\n    options = options || {};\r\n    this.w = w || 64;\r\n    this.h = h || 64;\r\n    this.autoResize = !!options.autoResize;\r\n    this.shelves = [];\r\n    this.freebins = [];\r\n    this.stats = {};\r\n    this.bins = {};\r\n    this.maxId = 0;\r\n}\r\n\r\n\r\n/**\r\n * Batch pack multiple bins into the sprite.\r\n *\r\n * @param   {Object[]} bins       Array of requested bins - each object should have `width`, `height` (or `w`, `h`) properties\r\n * @param   {number}   bins[].w   Requested bin width\r\n * @param   {number}   bins[].h   Requested bin height\r\n * @param   {Object}   [options]\r\n * @param   {boolean}  [options.inPlace=false] If `true`, the supplied bin objects will be updated inplace with `x` and `y` properties\r\n * @returns {Bin[]}    Array of allocated Bins - each Bin is an object with `id`, `x`, `y`, `w`, `h` properties\r\n * @example\r\n * var bins = [\r\n *     { id: 1, w: 12, h: 12 },\r\n *     { id: 2, w: 12, h: 16 },\r\n *     { id: 3, w: 12, h: 24 }\r\n * ];\r\n * var results = sprite.pack(bins, { inPlace: false });\r\n */\r\nShelfPack.prototype.pack = function(bins, options) {\r\n    bins = [].concat(bins);\r\n    options = options || {};\r\n\r\n    var results = [],\r\n        w, h, id, allocation;\r\n\r\n    for (var i = 0; i < bins.length; i++) {\r\n        w  = bins[i].w || bins[i].width;\r\n        h  = bins[i].h || bins[i].height;\r\n        id = bins[i].id;\r\n\r\n        if (w && h) {\r\n            allocation = this.packOne(w, h, id);\r\n            if (!allocation) {\r\n                continue;\r\n            }\r\n            if (options.inPlace) {\r\n                bins[i].x  = allocation.x;\r\n                bins[i].y  = allocation.y;\r\n                bins[i].id = allocation.id;\r\n            }\r\n            results.push(allocation);\r\n        }\r\n    }\r\n\r\n    this.shrink();\r\n\r\n    return results;\r\n};\r\n\r\n\r\n/**\r\n * Pack a single bin into the sprite.\r\n *\r\n * Each bin will have a unique identitifer.\r\n * If no identifier is supplied in the `id` parameter, one will be created.\r\n * Note: The supplied `id` is used as an object index, so numeric values are fastest!\r\n *\r\n * Bins are automatically refcounted (i.e. a newly packed Bin will have a refcount of 1).\r\n * When a bin is no longer needed, use the `ShelfPack.unref` function to mark it\r\n *   as unused.  When a Bin's refcount decrements to 0, the Bin will be marked\r\n *   as free and its space may be reused by the packing code.\r\n *\r\n * @param    {number}         w      Width of the bin to allocate\r\n * @param    {number}         h      Height of the bin to allocate\r\n * @param    {number|string}  [id]   Unique identifier for this bin, (if unsupplied, assume it's a new bin and create an id)\r\n * @returns  {Bin}            Bin object with `id`, `x`, `y`, `w`, `h` properties, or `null` if allocation failed\r\n * @example\r\n * var results = sprite.packOne(12, 16, 'a');\r\n */\r\nShelfPack.prototype.packOne = function(w, h, id) {\r\n    var best = { freebin: -1, shelf: -1, waste: Infinity },\r\n        y = 0,\r\n        bin, shelf, waste, i;\r\n\r\n    // if id was supplied, attempt a lookup..\r\n    if (typeof id === 'string' || typeof id === 'number') {\r\n        bin = this.getBin(id);\r\n        if (bin) {              // we packed this bin already\r\n            this.ref(bin);\r\n            return bin;\r\n        }\r\n        if (typeof id === 'number') {\r\n            this.maxId = Math.max(id, this.maxId);\r\n        }\r\n    } else {\r\n        id = ++this.maxId;\r\n    }\r\n\r\n    // First try to reuse a free bin..\r\n    for (i = 0; i < this.freebins.length; i++) {\r\n        bin = this.freebins[i];\r\n\r\n        // exactly the right height and width, use it..\r\n        if (h === bin.maxh && w === bin.maxw) {\r\n            return this.allocFreebin(i, w, h, id);\r\n        }\r\n        // not enough height or width, skip it..\r\n        if (h > bin.maxh || w > bin.maxw) {\r\n            continue;\r\n        }\r\n        // extra height or width, minimize wasted area..\r\n        if (h <= bin.maxh && w <= bin.maxw) {\r\n            waste = (bin.maxw * bin.maxh) - (w * h);\r\n            if (waste < best.waste) {\r\n                best.waste = waste;\r\n                best.freebin = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    // Next find the best shelf..\r\n    for (i = 0; i < this.shelves.length; i++) {\r\n        shelf = this.shelves[i];\r\n        y += shelf.h;\r\n\r\n        // not enough width on this shelf, skip it..\r\n        if (w > shelf.free) {\r\n            continue;\r\n        }\r\n        // exactly the right height, pack it..\r\n        if (h === shelf.h) {\r\n            return this.allocShelf(i, w, h, id);\r\n        }\r\n        // not enough height, skip it..\r\n        if (h > shelf.h) {\r\n            continue;\r\n        }\r\n        // extra height, minimize wasted area..\r\n        if (h < shelf.h) {\r\n            waste = (shelf.h - h) * w;\r\n            if (waste < best.waste) {\r\n                best.freebin = -1;\r\n                best.waste = waste;\r\n                best.shelf = i;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (best.freebin !== -1) {\r\n        return this.allocFreebin(best.freebin, w, h, id);\r\n    }\r\n\r\n    if (best.shelf !== -1) {\r\n        return this.allocShelf(best.shelf, w, h, id);\r\n    }\r\n\r\n    // No free bins or shelves.. add shelf..\r\n    if (h <= (this.h - y) && w <= this.w) {\r\n        shelf = new Shelf(y, this.w, h);\r\n        return this.allocShelf(this.shelves.push(shelf) - 1, w, h, id);\r\n    }\r\n\r\n    // No room for more shelves..\r\n    // If `autoResize` option is set, grow the sprite as follows:\r\n    //  * double whichever sprite dimension is smaller (`w1` or `h1`)\r\n    //  * if sprite dimensions are equal, grow width before height\r\n    //  * accomodate very large bin requests (big `w` or `h`)\r\n    if (this.autoResize) {\r\n        var h1, h2, w1, w2;\r\n\r\n        h1 = h2 = this.h;\r\n        w1 = w2 = this.w;\r\n\r\n        if (w1 <= h1 || w > w1) {   // grow width..\r\n            w2 = Math.max(w, w1) * 2;\r\n        }\r\n        if (h1 < w1 || h > h1) {    // grow height..\r\n            h2 = Math.max(h, h1) * 2;\r\n        }\r\n\r\n        this.resize(w2, h2);\r\n        return this.packOne(w, h, id);  // retry\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n\r\n/**\r\n * Called by packOne() to allocate a bin by reusing an existing freebin\r\n *\r\n * @private\r\n * @param    {number}         index  Index into the `this.freebins` array\r\n * @param    {number}         w      Width of the bin to allocate\r\n * @param    {number}         h      Height of the bin to allocate\r\n * @param    {number|string}  id     Unique identifier for this bin\r\n * @returns  {Bin}            Bin object with `id`, `x`, `y`, `w`, `h` properties\r\n * @example\r\n * var bin = sprite.allocFreebin(0, 12, 16, 'a');\r\n */\r\nShelfPack.prototype.allocFreebin = function (index, w, h, id) {\r\n    var bin = this.freebins.splice(index, 1)[0];\r\n    bin.id = id;\r\n    bin.w = w;\r\n    bin.h = h;\r\n    bin.refcount = 0;\r\n    this.bins[id] = bin;\r\n    this.ref(bin);\r\n    return bin;\r\n};\r\n\r\n\r\n/**\r\n * Called by `packOne() to allocate bin on an existing shelf\r\n *\r\n * @private\r\n * @param    {number}         index  Index into the `this.shelves` array\r\n * @param    {number}         w      Width of the bin to allocate\r\n * @param    {number}         h      Height of the bin to allocate\r\n * @param    {number|string}  id     Unique identifier for this bin\r\n * @returns  {Bin}            Bin object with `id`, `x`, `y`, `w`, `h` properties\r\n * @example\r\n * var results = sprite.allocShelf(0, 12, 16, 'a');\r\n */\r\nShelfPack.prototype.allocShelf = function(index, w, h, id) {\r\n    var shelf = this.shelves[index];\r\n    var bin = shelf.alloc(w, h, id);\r\n    this.bins[id] = bin;\r\n    this.ref(bin);\r\n    return bin;\r\n};\r\n\r\n\r\n/**\r\n * Shrink the width/height of the sprite to the bare minimum.\r\n * Since shelf-pack doubles first width, then height when running out of shelf space\r\n * this can result in fairly large unused space both in width and height if that happens\r\n * towards the end of bin packing.\r\n */\r\nShelfPack.prototype.shrink = function() {\r\n    if (this.shelves.length > 0) {\r\n        var w2 = 0;\r\n        var h2 = 0;\r\n\r\n        for (var j = 0; j < this.shelves.length; j++) {\r\n            var shelf = this.shelves[j];\r\n            h2 += shelf.h;\r\n            w2 = Math.max(shelf.w - shelf.free, w2);\r\n        }\r\n\r\n        this.resize(w2, h2);\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Return a packed bin given its id, or undefined if the id is not found\r\n *\r\n * @param    {number|string}  id  Unique identifier for this bin,\r\n * @returns  {Bin}            The requested bin, or undefined if not yet packed\r\n * @example\r\n * var b = sprite.getBin('a');\r\n */\r\nShelfPack.prototype.getBin = function(id) {\r\n    return this.bins[id];\r\n};\r\n\r\n\r\n/**\r\n * Increment the ref count of a bin and update statistics.\r\n *\r\n * @param    {Bin}     bin  Bin instance\r\n * @returns  {number}  New refcount of the bin\r\n * @example\r\n * var bin = sprite.getBin('a');\r\n * sprite.ref(bin);\r\n */\r\nShelfPack.prototype.ref = function(bin) {\r\n    if (++bin.refcount === 1) {   // a new Bin.. record height in stats historgram..\r\n        var h = bin.h;\r\n        this.stats[h] = (this.stats[h] | 0) + 1;\r\n    }\r\n\r\n    return bin.refcount;\r\n};\r\n\r\n\r\n/**\r\n * Decrement the ref count of a bin and update statistics.\r\n * The bin will be automatically marked as free space once the refcount reaches 0.\r\n *\r\n * @param    {Bin}     bin  Bin instance\r\n * @returns  {number}  New refcount of the bin\r\n * @example\r\n * var bin = sprite.getBin('a');\r\n * sprite.unref(bin);\r\n */\r\nShelfPack.prototype.unref = function(bin) {\r\n    if (bin.refcount === 0) {\r\n        return 0;\r\n    }\r\n\r\n    if (--bin.refcount === 0) {\r\n        this.stats[bin.h]--;\r\n        delete this.bins[bin.id];\r\n        this.freebins.push(bin);\r\n    }\r\n\r\n    return bin.refcount;\r\n};\r\n\r\n\r\n/**\r\n * Clear the sprite.  Resets everything and resets statistics.\r\n *\r\n * @example\r\n * sprite.clear();\r\n */\r\nShelfPack.prototype.clear = function() {\r\n    this.shelves = [];\r\n    this.freebins = [];\r\n    this.stats = {};\r\n    this.bins = {};\r\n    this.maxId = 0;\r\n};\r\n\r\n\r\n/**\r\n * Resize the sprite.\r\n *\r\n * @param   {number}  w  Requested new sprite width\r\n * @param   {number}  h  Requested new sprite height\r\n * @returns {boolean} `true` if resize succeeded, `false` if failed\r\n * @example\r\n * sprite.resize(256, 256);\r\n */\r\nShelfPack.prototype.resize = function(w, h) {\r\n    this.w = w;\r\n    this.h = h;\r\n    for (var i = 0; i < this.shelves.length; i++) {\r\n        this.shelves[i].resize(w);\r\n    }\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Create a new Shelf.\r\n *\r\n * @private\r\n * @class  Shelf\r\n * @param  {number}  y   Top coordinate of the new shelf\r\n * @param  {number}  w   Width of the new shelf\r\n * @param  {number}  h   Height of the new shelf\r\n * @example\r\n * var shelf = new Shelf(64, 512, 24);\r\n */\r\nfunction Shelf(y, w, h) {\r\n    this.x = 0;\r\n    this.y = y;\r\n    this.w = this.free = w;\r\n    this.h = h;\r\n}\r\n\r\n\r\n/**\r\n * Allocate a single bin into the shelf.\r\n *\r\n * @private\r\n * @param   {number}         w   Width of the bin to allocate\r\n * @param   {number}         h   Height of the bin to allocate\r\n * @param   {number|string}  id  Unique id of the bin to allocate\r\n * @returns {Bin}            Bin object with `id`, `x`, `y`, `w`, `h` properties, or `null` if allocation failed\r\n * @example\r\n * shelf.alloc(12, 16, 'a');\r\n */\r\nShelf.prototype.alloc = function(w, h, id) {\r\n    if (w > this.free || h > this.h) {\r\n        return null;\r\n    }\r\n    var x = this.x;\r\n    this.x += w;\r\n    this.free -= w;\r\n    return new Bin(id, x, this.y, w, h, w, this.h);\r\n};\r\n\r\n\r\n/**\r\n * Resize the shelf.\r\n *\r\n * @private\r\n * @param   {number}  w  Requested new width of the shelf\r\n * @returns {boolean}    true\r\n * @example\r\n * shelf.resize(512);\r\n */\r\nShelf.prototype.resize = function(w) {\r\n    this.free += (w - this.w);\r\n    this.w = w;\r\n    return true;\r\n};\r\n\r\n\r\n/**\r\n * Create a new Bin object.\r\n *\r\n * @class  Bin\r\n * @param  {number|string}  id      Unique id of the bin\r\n * @param  {number}         x       Left coordinate of the bin\r\n * @param  {number}         y       Top coordinate of the bin\r\n * @param  {number}         w       Width of the bin\r\n * @param  {number}         h       Height of the bin\r\n * @param  {number}         [maxw]  Max width of the bin (defaults to `w` if not provided)\r\n * @param  {number}         [maxh]  Max height of the bin (defaults to `h` if not provided)\r\n * @example\r\n * var bin = new Bin('a', 0, 0, 12, 16);\r\n */\r\nfunction Bin(id, x, y, w, h, maxw, maxh) {\r\n    this.id = id;\r\n    this.x  = x;\r\n    this.y  = y;\r\n    this.w  = w;\r\n    this.h  = h;\r\n    this.maxw = maxw || w;\r\n    this.maxh = maxh || h;\r\n    this.refcount = 0;\r\n}","import Font from './font';\r\nimport Texture2D from '../assets/texture-2d';\r\nimport ShelfPack from './utils/shelf-pack';\r\nimport { vec2 } from '../vmath';\r\n\r\nexport default class OpenTypeFont extends Font {\r\n  constructor(device, width = 1024, height = 1024) {\r\n    super();\r\n\r\n    this._font = null; // opentype.Font\r\n    this._padding = 2;\r\n    this._fontScale = 1;\r\n    this._textCache = {};\r\n    // this._face = null; // TODO:\r\n    this._packer = new ShelfPack(width, height); // TODO: auto resize\r\n    this._packCanvas = document.createElement('canvas');\r\n    this._packCanvas.width = width;\r\n    this._packCanvas.height = height;\r\n    this._fontAtlas = new Texture2D(device, width, height);\r\n    this._fontAtlas.mipmap = false;\r\n    this._fontAtlas.premultiplyAlpha = true;\r\n    this._defaultGlyph = {\r\n      id: 32, // space charCode\r\n      x: 0,\r\n      y: 0,\r\n      width: 16,\r\n      height: 16,\r\n      xoffset: 0,\r\n      yoffset: 0,\r\n      xadvance: 16,\r\n      uvs: [\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0),\r\n        vec2.new(0, 0)\r\n      ],\r\n    };\r\n    this._type = 'opentype';\r\n  }\r\n\r\n  set font(val) {\r\n    this._font = val;\r\n    this._fontScale = this._size / this._font.unitsPerEm;\r\n  }\r\n  get font() {\r\n    return this._font;\r\n  }\r\n\r\n  get texture() {\r\n    return this._fontAtlas;\r\n  }\r\n\r\n  set size(val) {\r\n    if (this._size !== val) {\r\n      this._size = val;\r\n      // when font size changed, we need to clear font atlas.\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  set lineHeight(val) {\r\n    if (this._lineHeight !== val) {\r\n      this._lineHeight = val;\r\n      this.clear();\r\n    }\r\n  }\r\n\r\n  addText(text) {\r\n    if (this._textCache[text] === undefined) {\r\n      this._textCache[text] = text;\r\n      this._addTextToFontAtlas(text);\r\n    }\r\n  }\r\n\r\n  removeText(text) {\r\n    if (this._textCache[text] === undefined) {\r\n      console.warn(`can not remove text: '${text}' from font. not exists.`);\r\n    } else {\r\n      this._removeTextFromFontAtlas(text);\r\n      delete this._textCache[text];\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this._packer.clear();\r\n    let ctx = this._packCanvas.getContext('2d');\r\n    ctx.clearRect(0, 0, this._packCanvas.width, this._packCanvas.height);\r\n    this._fontAtlas.setImages([this._packCanvas]);\r\n    this._fontAtlas.commit();\r\n  }\r\n\r\n  _addTextToFontAtlas(text) {\r\n    let ctx = this._packCanvas.getContext('2d');\r\n    let fontAtlasDirty = false;\r\n\r\n    for (let i = 0; i < text.length; ++i) {\r\n      let char = text[i];\r\n      let charCode = text.charCodeAt(i);\r\n      // get opentype glyph\r\n      let otGlyph = this._font.charToGlyph(char);\r\n      if (otGlyph.path.getBoundingBox === undefined) { // opentype's bug ? some glyph such as space do not have getBoundingBox func.\r\n        continue;\r\n      }\r\n      let bbox = otGlyph.getBoundingBox();\r\n      let glyph = {\r\n        id: charCode,\r\n        x: 0,\r\n        y: 0,\r\n        width: 0,\r\n        height: 0,\r\n        xoffset: 0,\r\n        yoffset: 0,\r\n        xadvance: 0,\r\n      };\r\n      glyph.width = (bbox.x2 - bbox.x1) * this._fontScale;\r\n      glyph.height = (bbox.y2 - bbox.y1) * this._fontScale;\r\n      if (this._glyphs[charCode] !== undefined) {\r\n        this._packer.packOne(glyph.width, glyph.height, glyph.id); // increment refcount\r\n      } else {\r\n        fontAtlasDirty = true;\r\n        glyph.xadvance = otGlyph.advanceWidth * this._fontScale;\r\n        this._glyphs[charCode] = glyph;\r\n        let bin = this._packer.packOne(glyph.width + this._padding, glyph.height + this._padding, glyph.id); // pack a new one\r\n        if (bin !== null) {\r\n          glyph.xoffset = bbox.x1 * this._fontScale;\r\n          glyph.yoffset = this._size - bbox.y2 * this._fontScale + this._font.descender * this._fontScale;\r\n\r\n          // compute uvs\r\n          let u0 = (bin.x + this._padding / 2) / this._packCanvas.width;\r\n          let u1 = (bin.x + this._padding / 2 + glyph.width) / this._packCanvas.width;\r\n          let v0 = 1.0 - (bin.y + this._padding / 2 + glyph.height) / this._packCanvas.height;\r\n          let v1 = 1.0 - (bin.y + this._padding / 2) / this._packCanvas.height;\r\n          glyph.uvs = [\r\n            vec2.new(u0, v0),\r\n            vec2.new(u1, v0),\r\n            vec2.new(u0, v1),\r\n            vec2.new(u1, v1)\r\n          ];\r\n          let path = otGlyph.getPath(bin.x - bbox.x1 * this._fontScale + this._padding / 2, bin.y + bbox.y2 * this._fontScale + this._padding / 2, this._size, {xScale: this._fontScale, yScale: this._fontScale});\r\n          path.fill = '#FFFFFF';\r\n          path.draw(ctx);\r\n        } else {\r\n          console.error('font glyph pack failed. font atlas size is not enough.');\r\n        }\r\n      }\r\n    }\r\n\r\n    if (fontAtlasDirty) {\r\n      // update font atlas\r\n      this._fontAtlas.setImages([this._packCanvas]);\r\n      this._fontAtlas.commit();\r\n    }\r\n  }\r\n\r\n  _removeTextFromFontAtlas(text) {\r\n    let ctx = this._packCanvas.getContext('2d');\r\n    let fontAtlasDirty = false;\r\n\r\n    for (let i = 0; i < text.length; ++i) {\r\n      let charCode = text.charCodeAt(i);\r\n      if (this._glyphs[charCode] !== undefined) {\r\n        let bin = this._packer.getBin(charCode);\r\n        let refCount = this._packer.unref(bin);\r\n        if (refCount === 0) {\r\n          delete this._glyphs[charCode];\r\n          ctx.clearRect(bin.x, bin.y, bin.w, bin.h);\r\n          fontAtlasDirty = true;\r\n        }\r\n      } else {\r\n        console.warn('try to remove a no exist glyph.');\r\n      }\r\n    }\r\n\r\n    if (fontAtlasDirty) {\r\n      // update font atlas\r\n      this._fontAtlas.setImages([this._packCanvas]);\r\n      this._fontAtlas.commit();\r\n    }\r\n  }\r\n\r\n}","import resl from '../misc/resl';\r\nimport {parse} from 'opentype.js';\r\nimport OpenTypeFont from '../assets/otfont';\r\n\r\nexport default function (app, urls, callback) {\r\n  let manifest = {};\r\n  manifest.bin = {\r\n    type: 'binary',\r\n    src: urls.bin,\r\n  };\r\n  if (urls.json) {\r\n    manifest.json = {\r\n      type: 'text',\r\n      parser: JSON.parse,\r\n      src: urls.json,\r\n    };\r\n  }\r\n  resl({\r\n    manifest,\r\n    onDone(data) {\r\n      const { bin, json } = data;\r\n      let fontAsset = null;\r\n      if (json && json.width && json.height) {\r\n        fontAsset = new OpenTypeFont(app.device, json.width, json.height);\r\n      } else {\r\n        fontAsset = new OpenTypeFont(app.device, 512, 512);\r\n      }\r\n      let parsedFont = parse(bin);\r\n      fontAsset.font = parsedFont;\r\n      fontAsset.size = json.size ? json.size : 32;\r\n      fontAsset.lineHeight = json.lineHeight ? json.lineHeight : 32;\r\n\r\n      callback(null, fontAsset);\r\n    }\r\n\r\n  });\r\n}\r\n","import gfx from '../gfx';\r\nimport renderer from '../renderer';\r\nimport resl from '../misc/resl';\r\nimport Effect from '../assets/effect';\r\n\r\nconst _typeMap = {\r\n  float: renderer.PARAM_FLOAT,\r\n  float2: renderer.PARAM_FLOAT2,\r\n  float3: renderer.PARAM_FLOAT3,\r\n  float4: renderer.PARAM_FLOAT4,\r\n  color3: renderer.PARAM_COLOR3,\r\n  color4: renderer.PARAM_COLOR4,\r\n  texture2d: renderer.PARAM_TEXTURE_2D,\r\n  textureCube: renderer.PARAM_TEXTURE_CUBE\r\n};\r\n\r\nconst _passMap = {\r\n  back: gfx.CULL_BACK,\r\n  front: gfx.CULL_FRONT,\r\n  add: gfx.BLEND_FUNC_ADD,\r\n  subtract: gfx.BLEND_FUNC_SUBTRACT,\r\n  reverseSubtract: gfx.BLEND_FUNC_REVERSE_SUBTRACT,\r\n  zero: gfx.BLEND_ZERO,\r\n  one: gfx.BLEND_ONE,\r\n  srcColor: gfx.BLEND_SRC_COLOR,\r\n  oneMinusSrcColor: gfx.BLEND_ONE_MINUS_SRC_COLOR,\r\n  dstColor: gfx.BLEND_DST_COLOR,\r\n  oneMinusDstColor: gfx.BLEND_ONE_MINUS_DST_COLOR,\r\n  srcAlpha: gfx.BLEND_SRC_ALPHA,\r\n  oneMinusSrcAlpha: gfx.BLEND_ONE_MINUS_SRC_ALPHA,\r\n  dstAlpha: gfx.BLEND_DST_ALPHA,\r\n  oneMinusDstAlpha: gfx.BLEND_ONE_MINUS_DST_ALPHA,\r\n  constColor: gfx.BLEND_CONSTANT_COLOR,\r\n  oneMinusConstColor: gfx.BLEND_ONE_MINUS_CONSTANT_COLOR,\r\n  constAlpha: gfx.BLEND_CONSTANT_ALPHA,\r\n  oneMinusConstAlpha: gfx.BLEND_ONE_MINUS_CONSTANT_ALPHA,\r\n  srcAlphaSaturate: gfx.BLEND_SRC_ALPHA_SATURATE,\r\n  [true]: true,\r\n  [false]: false\r\n};\r\n\r\nfunction createEffect(json) {\r\n  let effectAsset = new Effect();\r\n  effectAsset._name = json.name;\r\n  effectAsset._uuid = `custom-effect-${json.name}`;\r\n  effectAsset._loaded = true;\r\n  for (let i = 0; i < json.techniques.length; ++i) {\r\n    let jsonTech = json.techniques[i];\r\n    for (let j = 0; j < jsonTech.params.length; ++j) {\r\n      let param = jsonTech.params[j];\r\n      param.type = _typeMap[param.type];\r\n    }\r\n    for (let j = 0; j < jsonTech.passes.length; ++j) {\r\n      let jsonPass = jsonTech.passes[j];\r\n      for (let key in jsonPass) {\r\n        if (key === 'program') {\r\n          continue;\r\n        }\r\n        jsonPass[key] = _passMap[jsonPass[key]];\r\n      }\r\n    }\r\n  }\r\n  effectAsset.techniques = json.techniques;\r\n  effectAsset.properties = json.properties;\r\n  effectAsset.defines = json.defines;\r\n  effectAsset.dependencies = json.dependencies ? json.dependencies : [];\r\n  return effectAsset;\r\n}\r\n\r\nexport default function (app, urls, callback) {\r\n  resl({\r\n    manifest: {\r\n      json: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.json,\r\n      },\r\n    },\r\n\r\n    onDone(data) {\r\n      const { json } = data;\r\n      let effectAsset = createEffect(json);\r\n      callback(null, effectAsset);\r\n    }\r\n  });\r\n}\r\n","import resl from '../misc/resl';\r\n\r\nfunction glslStripComment(code) {\r\n  // block comments don't matter here because\r\n  // the actual compiler will handle them correctly\r\n  return code.replace(/\\/\\/.*/g, '');\r\n}\r\n\r\nfunction unwindIncludes(str, chunks) {\r\n  let pattern = /#include +<([\\w\\d\\-_.]+)>/gm;\r\n  function replace(match, include) {\r\n    let replace = chunks[include];\r\n    if (replace === undefined) {\r\n      console.error(`can not resolve #include <${include}>`);\r\n    }\r\n    return unwindIncludes(replace);\r\n  }\r\n  return str.replace(pattern, replace);\r\n}\r\n\r\nfunction buildTemplates(json, vert, frag, chunks) {\r\n  vert = unwindIncludes(glslStripComment(vert), chunks);\r\n  frag = unwindIncludes(glslStripComment(frag), chunks);\r\n\r\n  let defines = [];\r\n  for (let def in json) {\r\n    let define = { name: def };\r\n    if (json[def] && json[def].min !== undefined) {\r\n      define.min = json[def].min;\r\n    }\r\n    if (json[def] && json[def].max !== undefined) {\r\n      define.max = json[def].max;\r\n    }\r\n    defines.push(define);\r\n  }\r\n  return { vert, frag, defines };\r\n}\r\n\r\nexport default function (app, urls) {\r\n  resl({\r\n    manifest: {\r\n      json: {\r\n        type: 'text',\r\n        parser: JSON.parse,\r\n        src: urls.json,\r\n      },\r\n      vert: {\r\n        type: 'text',\r\n        src: urls.vert\r\n      },\r\n      frag: {\r\n        type: 'text',\r\n        src: urls.frag\r\n      }\r\n    },\r\n\r\n    onDone(data) {\r\n      const { json, vert, frag } = data;\r\n      let template = buildTemplates(json, vert, frag, app._forward._programLib._chunks);\r\n      app._forward._programLib.define(urls.name, template.vert, template.frag, template.defines);\r\n    }\r\n  });\r\n}\r\n","import { Component } from '../ecs';\r\n\r\nexport default class ScriptComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this._startedFlag = 0;\r\n  }\r\n\r\n  onInit() {\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n\r\n  awake() {\r\n  }\r\n\r\n  start() {\r\n  }\r\n\r\n  tick() {\r\n  }\r\n\r\n  postTick() {\r\n  }\r\n\r\n  end() {\r\n  }\r\n}","import { Component } from '../ecs';\r\nimport renderer from '../renderer';\r\nimport { toRadian } from '../vmath';\r\n\r\nexport default class CameraComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this._camera = new renderer.Camera();\r\n  }\r\n  onInit() {\r\n    this._camera.setStages([\r\n      'opaque',\r\n      'transparent'\r\n    ]);\r\n    this._camera.setNode(this._entity);\r\n\r\n    /**\r\n     * **@schema** The projection type of the camera\r\n     * @type {string}\r\n     */\r\n    this.projection = this._projection;\r\n    /**\r\n     * **@schema** The camera priority\r\n     * @type {number}\r\n     */\r\n    this.priority = this._priority;\r\n    /**\r\n     * **@schema** The camera field of view\r\n     * @type {number}\r\n     */\r\n    this.fov = this._fov;\r\n    /**\r\n     * **@schema** The camera height when in orthogonal mode\r\n     * @type {number}\r\n     */\r\n    this.orthoHeight = this._orthoHeight;\r\n    /**\r\n     * **@schema** The near clipping distance of the camera\r\n     * @type {number}\r\n     */\r\n    this.near = this._near;\r\n    /**\r\n     * **@schema** The far clipping distance of the camera\r\n     * @type {number}\r\n     */\r\n    this.far = this._far;\r\n    /**\r\n     * **@schema** The clearing color of the camera\r\n     * @type {color4}\r\n     */\r\n    this.color = this._color;\r\n    /**\r\n     * **@schema** The clearing depth value of the camera\r\n     * @type {number}\r\n     */\r\n    this.depth = this._depth;\r\n    /**\r\n     * **@schema** The clearing stencil value of the camera\r\n     * @type {number}\r\n     */\r\n    this.stencil = this._stencil;\r\n    /**\r\n     * **@schema** The clearing flags of this camera\r\n     * @type {number}\r\n     */\r\n    this.clearFlags = this._clearFlags;\r\n    /**\r\n     * **@schema** The screen rect of the camera\r\n     * @type {Object}\r\n     */\r\n    this.rect = this._rect;\r\n  }\r\n\r\n  onEnable() {\r\n    this._app.scene.addCamera(this._camera);\r\n  }\r\n\r\n  onDisable() {\r\n    this._app.scene.removeCamera(this._camera);\r\n  }\r\n}\r\n\r\nCameraComponent.schema = {\r\n  projection: {\r\n    type: 'enums',\r\n    default: 'perspective',\r\n    options: ['ortho', 'perspective'],\r\n    set(val) {\r\n      this._projection = val;\r\n\r\n      let type = renderer.PROJ_PERSPECTIVE;\r\n      if (this._projection === 'ortho') {\r\n        type = renderer.PROJ_ORTHO;\r\n      }\r\n      this._camera.setType(type);\r\n    }\r\n  },\r\n\r\n  priority: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      this._priority = val;\r\n      this._camera.setPriority(val);\r\n    }\r\n  },\r\n\r\n  // fov (in angle)\r\n  fov: {\r\n    type: 'number',\r\n    default: 45,\r\n    set(val) {\r\n      this._fov = val;\r\n      this._camera.setFov(toRadian(val));\r\n    }\r\n  },\r\n\r\n  // orthoHeight\r\n  orthoHeight: {\r\n    type: 'number',\r\n    default: 10,\r\n    set(val) {\r\n      this._orthoHeight = val;\r\n      this._camera.setOrthoHeight(val);\r\n    }\r\n  },\r\n\r\n  // near\r\n  near: {\r\n    type: 'number',\r\n    default: 0.01,\r\n    set(val) {\r\n      this._near = val;\r\n      this._camera.setNear(val);\r\n    }\r\n  },\r\n\r\n  // far\r\n  far: {\r\n    type: 'number',\r\n    default: 1000.0,\r\n    set(val) {\r\n      this._far = val;\r\n      this._camera.setFar(val);\r\n    }\r\n  },\r\n\r\n  // color\r\n  color: {\r\n    type: 'color4',\r\n    default: [0.2, 0.3, 0.47, 1],\r\n    set(val) {\r\n      this._color = val;\r\n      this._camera.setColor(val.r, val.g, val.b, val.a);\r\n    }\r\n  },\r\n\r\n  // depth\r\n  depth: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._depth = val;\r\n      this._camera.setDepth(val);\r\n    }\r\n  },\r\n\r\n  // stencil\r\n  stencil: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      this._stencil = val;\r\n      this._camera.setStencil(val);\r\n    }\r\n  },\r\n\r\n  // clearFlags\r\n  clearFlags: {\r\n    type: 'number',\r\n    default: 3, // enums.CLEAR_COLOR | enums.CLEAR_DEPTH;\r\n    set(val) {\r\n      this._clearFlags = val;\r\n      this._camera.setClearFlags(val);\r\n    }\r\n  },\r\n\r\n  // rect\r\n  rect: {\r\n    type: 'rect',\r\n    default: [0, 0, 1, 1],\r\n    set(val) {\r\n      this._rect = val;\r\n      this._camera.setRect(val[0], val[1], val[2], val[3]);\r\n    }\r\n  },\r\n};","import { Component } from '../ecs';\r\nimport renderer from '../renderer';\r\nimport { toRadian } from '../vmath';\r\n\r\nexport default class LightComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this._light = new renderer.Light();\r\n  }\r\n\r\n  onInit() {\r\n    this._light.setNode(this._entity);\r\n\r\n    /**\r\n     * **@schema** The light source type\r\n     * @type {string}\r\n     */\r\n    this.type = this._type;\r\n    /**\r\n     * **@schema** The light source color\r\n     * @type {color3}\r\n     */\r\n    this.color = this._color;\r\n    /**\r\n     * **@schema** The light source intensity\r\n     * @type {number}\r\n     */\r\n    this.intensity = this._intensity;\r\n    /**\r\n     * **@schema** The light range, used for spot and point light\r\n     * @type {number}\r\n     */\r\n    this.range = this._range;\r\n    /**\r\n     * **@schema** The spot light cone angle\r\n     * @type {number}\r\n     */\r\n    this.spotAngle = this._spotAngle;\r\n    /**\r\n     * **@schema** The spot light exponential\r\n     * @type {number}\r\n     */\r\n    this.spotExp = this._spotExp;\r\n    /**\r\n     * **@schema** The shadow type\r\n     * @type {string}\r\n     */\r\n    this.shadowType = this._shadowType;\r\n    /**\r\n     * **@schema** The shadow resolution\r\n     * @type {number}\r\n     */\r\n    this.shadowResolution = this._shadowResolution;\r\n    /**\r\n     * **@schema** The shadow darkness\r\n     * @type {number}\r\n     */\r\n    this.shadowDarkness = this._shadowDarkness;\r\n    /**\r\n     * **@schema** The shadow min depth\r\n     * @type {number}\r\n     */\r\n    this.shadowMinDepth = this._shadowMinDepth;\r\n    /**\r\n     * **@schema** The shadow max depth\r\n     * @type {number}\r\n     */\r\n    this.shadowMaxDepth = this._shadowMaxDepth;\r\n    /**\r\n     * **@schema** The shadow depth scale\r\n     * @type {number}\r\n     */\r\n    this.shadowDepthScale = this._shadowDepthScale;\r\n    /**\r\n     * **@schema** The shadow frustum size\r\n     * @type {number}\r\n     */\r\n    this.shadowFrustumSize = this._shadowFrustumSize;\r\n    /**\r\n     * **@schema** The shadow bias\r\n     * @type {number}\r\n     */\r\n    this.shadowBias = this._shadowBias;\r\n  }\r\n\r\n  onEnable() {\r\n    this._app.scene.addLight(this._light);\r\n  }\r\n\r\n  onDisable() {\r\n    this._app.scene.removeLight(this._light);\r\n  }\r\n}\r\n\r\nLightComponent.schema = {\r\n  type: {\r\n    type: 'enums',\r\n    default: 'directional',\r\n    options: ['directional', 'point', 'spot'],\r\n    set(val) {\r\n      this._type = val;\r\n\r\n      let type = renderer.LIGHT_DIRECTIONAL;\r\n      if (this._type === 'point') {\r\n        type = renderer.LIGHT_POINT;\r\n      } else if (this._type === 'spot') {\r\n        type = renderer.LIGHT_SPOT;\r\n      }\r\n      this._light.setType(type);\r\n    }\r\n  },\r\n\r\n  color: {\r\n    type: 'color3',\r\n    default: [1, 1, 1],\r\n    set(val) {\r\n      this._color = val;\r\n      this._light.setColor(val.r, val.g, val.b);\r\n    }\r\n  },\r\n\r\n  intensity: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._intensity = val;\r\n      this._light.setIntensity(val);\r\n    }\r\n  },\r\n\r\n  range: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._range = val;\r\n      this._light.setRange(val);\r\n    }\r\n  },\r\n\r\n  spotAngle: {\r\n    type: 'number',\r\n    default: 60,\r\n    set(val) {\r\n      this._spotAngle = val;\r\n      this._light.setSpotAngle(toRadian(val));\r\n    }\r\n  },\r\n\r\n  spotExp: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._spotExp = val;\r\n      this._light.setSpotExp(val);\r\n    }\r\n  },\r\n\r\n  shadowType: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'hard', 'soft'],\r\n    set(val) {\r\n      this._shadowType = val;\r\n\r\n      let type = renderer.SHADOW_NONE;\r\n      if (val === 'hard') {\r\n        type = renderer.SHADOW_HARD;\r\n      } else if (val === 'soft') {\r\n        type = renderer.SHADOW_SOFT;\r\n      }\r\n      this._light.setShadowType(type);\r\n    }\r\n  },\r\n\r\n  shadowResolution: {\r\n    type: 'number',\r\n    default: 1024,\r\n    set(val) {\r\n      this._shadowResolution = val;\r\n      this._light.setShadowResolution(val);\r\n    }\r\n  },\r\n\r\n  shadowDarkness: {\r\n    type: 'number',\r\n    default: 0.5,\r\n    set(val) {\r\n      this._shadowDarkness = val;\r\n      this._light.setShadowDarkness(val);\r\n    }\r\n  },\r\n\r\n  shadowMinDepth: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._shadowMinDepth = val;\r\n      this._light.setShadowMinDepth(val);\r\n    }\r\n  },\r\n\r\n  shadowMaxDepth: {\r\n    type: 'number',\r\n    default: 1000,\r\n    set(val) {\r\n      this._shadowMaxDepth = val;\r\n      this._light.setShadowMaxDepth(val);\r\n    }\r\n  },\r\n\r\n  shadowDepthScale: {\r\n    type: 'number',\r\n    default: 250,\r\n    set(val) {\r\n      this._shadowDepthScale = val;\r\n      this._light.setShadowDepthScale(val);\r\n    }\r\n  },\r\n\r\n  shadowFrustumSize: {\r\n    type: 'number',\r\n    default: 50,\r\n    set(val) {\r\n      this._shadowFrustumSize = val;\r\n      this._light.setShadowFrustumSize(val);\r\n    }\r\n  },\r\n\r\n  shadowBias: {\r\n    type: 'number',\r\n    default: 0.0005,\r\n    set(val) {\r\n      this._shadowBias = val;\r\n      this._light.setShadowBias(val);\r\n    }\r\n  }\r\n};","import { Component } from '../ecs';\r\nimport renderer from '../renderer';\r\n\r\nexport default class ModelComponent extends Component {\r\n  onInit() {\r\n    this._models = [];\r\n\r\n    /**\r\n     * **@schema** The material of the model\r\n     * @type {Material}\r\n     */\r\n    this.materials = this._materials;\r\n    /**\r\n     * **@schema** The mesh of the model\r\n     * @type {Mesh}\r\n     */\r\n    this.mesh = this._mesh;\r\n    /**\r\n     * **@schema** The shadow casting mode\r\n     * @type {string}\r\n     */\r\n    this.shadowCastingMode = this._shadowCastingMode;\r\n    /**\r\n     * **@schema** Does this model receive shadows?\r\n     * @type {boolean}\r\n     */\r\n    this.receiveShadows = this._receiveShadows;\r\n  }\r\n\r\n  onEnable() {\r\n    for (let i = 0; i < this._models.length; ++i) {\r\n      this._app.scene.addModel(this._models[i]);\r\n    }\r\n  }\r\n\r\n  onDisable() {\r\n    for (let i = 0; i < this._models.length; ++i) {\r\n      this._app.scene.removeModel(this._models[i]);\r\n    }\r\n  }\r\n\r\n  getMaterial(idx) {\r\n    if (this._materials.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    if (idx < this._materials.length) {\r\n      return this._materials[idx];\r\n    }\r\n\r\n    return this._materials[this._materials.length - 1];\r\n  }\r\n\r\n  get material() {\r\n    return this.getMaterial(0);\r\n  }\r\n  set material(val) {\r\n    if (this._materials.length === 1 && this._materials[0] === val) {\r\n      return;\r\n    }\r\n\r\n    this._materials[0] = val;\r\n\r\n    if (this._models.length > 0) {\r\n      this._models[0].setEffect(val.effectInst);\r\n    }\r\n  }\r\n\r\n  _updateModels() {\r\n    let meshCount = this._mesh ? this._mesh.subMeshCount : 0;\r\n    let oldModels = this._models;\r\n\r\n    this._models = new Array(meshCount);\r\n    for (let i = 0; i < meshCount; ++i) {\r\n      let model = new renderer.Model();\r\n      model.createBoundingBox(this._mesh._minPos, this._mesh._maxPos);\r\n      this._models[i] = model;\r\n    }\r\n\r\n    this._updateModelParams();\r\n\r\n    if (this.enabled) {\r\n      for (let i = 0; i < oldModels.length; ++i) {\r\n        this._app.scene.removeModel(oldModels[i]);\r\n      }\r\n      for (let i = 0; i < this._models.length; ++i) {\r\n        this._app.scene.addModel(this._models[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  _updateModelParams() {\r\n    for (let i = 0; i < this._models.length; ++i) {\r\n      let model = this._models[i];\r\n      let material = this.getMaterial(i);\r\n      let inputAssembler = this._mesh.getSubMesh(i);\r\n\r\n      model.setInputAssembler(inputAssembler);\r\n      model.setEffect(material ? material.effectInst : null);\r\n      model.setNode(this._entity);\r\n    }\r\n  }\r\n\r\n  _updateCastShadow() {\r\n    if (this._shadowCastingMode === 'off') {\r\n      for (let i = 0; i < this._models.length; ++i) {\r\n        let model = this._models[i];\r\n        model._castShadow = false;\r\n      }\r\n    } else if (this._shadowCastingMode === 'on') {\r\n      for (let i = 0; i < this._models.length; ++i) {\r\n        let model = this._models[i];\r\n        model._castShadow = true;\r\n      }\r\n    } else {\r\n      console.warn(`ShadowCastingMode ${this._shadowCastingMode} is not supported.`);\r\n    }\r\n  }\r\n\r\n  _updateReceiveShadow() {\r\n    for (let i = 0; i < this._models.length; ++i) {\r\n      let model = this._models[i];\r\n      if (model._defines['USE_SHADOW_MAP'] != undefined) {\r\n        model._effect.define('USE_SHADOW_MAP', this._receiveShadows);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nModelComponent.schema = {\r\n  materials: {\r\n    type: 'asset',\r\n    default: [],\r\n    array: true,\r\n    set(val) {\r\n      this._materials = val;\r\n      this._updateModelParams();\r\n    }\r\n  },\r\n\r\n  mesh: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      this._mesh = val;\r\n      this._updateModels();\r\n    }\r\n  },\r\n\r\n  shadowCastingMode: {\r\n    type: 'enums',\r\n    default: 'off',\r\n    options: [\r\n      'off',\r\n      'on',\r\n      'twoSided',\r\n      'shadowsOnly'\r\n    ],\r\n    set(val) {\r\n      this._shadowCastingMode = val;\r\n      this._updateCastShadow();\r\n    }\r\n  },\r\n\r\n  receiveShadows: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      this._receiveShadows = val;\r\n      this._updateReceiveShadow();\r\n    }\r\n  }\r\n};","import { mat4 } from '../vmath';\r\nimport ModelComponent from './model-component';\r\nimport renderer from '../renderer';\r\nimport utils from '../misc/utils';\r\n\r\nlet _m4_tmp = mat4.create();\r\n\r\nexport default class SkinningModelComponent extends ModelComponent {\r\n  onInit() {\r\n    this._models = [];\r\n    // internal skinning data\r\n    this._jointsTexture = null;\r\n    this._refSkeleton = null;\r\n\r\n    this._updateModels();\r\n    this._updateCastShadow();\r\n    this._updateReceiveShadow();\r\n\r\n    let rootEnt = this._entity.parent;\r\n    let animComp = rootEnt.getComp('Animation');\r\n    if (animComp) {\r\n      this._refSkeleton = animComp.skeleton;\r\n    } else {\r\n      console.warn('Can not find Animation component in root entity.');\r\n    }\r\n\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n\r\n  _updateMatrices() {\r\n    if (!this._mesh || !this._mesh.skinning) {\r\n      return;\r\n    }\r\n\r\n    const texture = this._jointsTexture;\r\n    const jointIndices = this._mesh.skinning.jointIndices;\r\n    const bindposes = this._mesh.skinning.bindposes;\r\n\r\n    for (let i = 0; i < jointIndices.length; ++i) {\r\n      let bindpose = bindposes[i];\r\n      let idx = jointIndices[i];\r\n\r\n      let worldMatrix = this._refSkeleton.getWorldMatrix(idx);\r\n      mat4.multiply(_m4_tmp, worldMatrix, bindpose);\r\n\r\n      texture.data[16 * i + 0]  = _m4_tmp.m00;\r\n      texture.data[16 * i + 1]  = _m4_tmp.m01;\r\n      texture.data[16 * i + 2]  = _m4_tmp.m02;\r\n      texture.data[16 * i + 3]  = _m4_tmp.m03;\r\n      texture.data[16 * i + 4]  = _m4_tmp.m04;\r\n      texture.data[16 * i + 5]  = _m4_tmp.m05;\r\n      texture.data[16 * i + 6]  = _m4_tmp.m06;\r\n      texture.data[16 * i + 7]  = _m4_tmp.m07;\r\n      texture.data[16 * i + 8]  = _m4_tmp.m08;\r\n      texture.data[16 * i + 9]  = _m4_tmp.m09;\r\n      texture.data[16 * i + 10] = _m4_tmp.m10;\r\n      texture.data[16 * i + 11] = _m4_tmp.m11;\r\n      texture.data[16 * i + 12] = _m4_tmp.m12;\r\n      texture.data[16 * i + 13] = _m4_tmp.m13;\r\n      texture.data[16 * i + 14] = _m4_tmp.m14;\r\n      texture.data[16 * i + 15] = _m4_tmp.m15;\r\n    }\r\n\r\n    texture.commit();\r\n  }\r\n\r\n  _updateModels() {\r\n    if (this._mesh.skinning) {\r\n      if (this._jointsTexture) {\r\n        this._jointsTexture.unload();\r\n        this._jointsTexture = null;\r\n      }\r\n\r\n      this._jointsTexture = utils.createJointsTexture(\r\n        this._app,\r\n        this._mesh.skinning\r\n      );\r\n    }\r\n\r\n    let meshCount = this._mesh ? this._mesh.subMeshCount : 0;\r\n    let oldModels = this._models;\r\n\r\n    this._models = new Array(meshCount);\r\n    for (let i = 0; i < meshCount; ++i) {\r\n      let model = new renderer.SkinningModel();\r\n      model.createBoundingBox(this._mesh._minPos, this._mesh._maxPos);\r\n      this._models[i] = model;\r\n    }\r\n\r\n    this. _updateModelParams();\r\n\r\n    if (this.enabled) {\r\n      this._entity.emit('skinning-model-changed', this, 'mesh', oldModels);\r\n    }\r\n  }\r\n\r\n  _updateModelParams() {\r\n    super._updateModelParams();\r\n    for (let i = 0; i < this._models.length; ++i)\r\n      this._models[i].setJointsTexture(this._jointsTexture._texture);\r\n  }\r\n}\r\n","import { Component } from '../ecs';\r\n\r\nclass AnimationState {\r\n  constructor(clip) {\r\n    this.clip = clip;\r\n    this.blendMode = 'blend'; // 'blend', 'additive'\r\n    this.wrapMode = 'loop'; // 'once', 'loop', 'ping-pong', 'clamp'\r\n    this.speed = 1.0;\r\n    this.time = 0.0;\r\n    this.weight = 1.0;\r\n  }\r\n}\r\n\r\nclass AnimationCtrl {\r\n  constructor() {\r\n    this._current = null;\r\n    this._next = null;\r\n    this._blendTime = 0.0;\r\n    this._blendDuration = 0.3;\r\n\r\n    this._skeleton = null;\r\n    this._skelFrom = null;\r\n    this._skelTo = null;\r\n  }\r\n\r\n  setSkeleton(skel) {\r\n    this._skeleton = skel;\r\n    this._skelFrom = skel.clone();\r\n    this._skelTo = skel.clone();\r\n  }\r\n\r\n  crossFade(to, duration) {\r\n    if (this._current && duration > 0.0) {\r\n      this._next = to;\r\n      this._blendTime = 0.0;\r\n      this._blendDuration = duration;\r\n    } else {\r\n      this._current = to;\r\n      this._next = null;\r\n    }\r\n  }\r\n\r\n  tick(dt) {\r\n    // handle blend\r\n    if (this._current && this._next) {\r\n      let t0 = this._getTime(this._current);\r\n      let t1 = this._getTime(this._next);\r\n\r\n      let alpha = this._blendTime / this._blendDuration;\r\n\r\n      this._current.time += dt;\r\n      this._next.time += dt;\r\n      this._blendTime += dt;\r\n\r\n      if (alpha > 1.0) {\r\n        this._current = this._next;\r\n        this._next = null;\r\n\r\n        this._current.clip.sample(this._skeleton, t1);\r\n      } else {\r\n        this._current.clip.sample(this._skelFrom, t0);\r\n        this._next.clip.sample(this._skelTo, t1);\r\n\r\n        this._skeleton.blend(this._skelFrom, this._skelTo, alpha);\r\n        this._skeleton.updateMatrices();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // handle playing\r\n    if (this._current) {\r\n      let t0 = this._getTime(this._current);\r\n      this._current.clip.sample(this._skeleton, t0);\r\n\r\n      this._current.time += dt;\r\n    }\r\n  }\r\n\r\n  _getTime(state) {\r\n    let t = state.time;\r\n    let length = state.clip.length;\r\n\r\n    if (state.wrapMode === 'once') {\r\n      if (t > length) {\r\n        t = 0.0;\r\n      }\r\n    } else if (state.wrapMode === 'loop') {\r\n      t %= length;\r\n    } else if (state.wrapMode === 'ping-pong') {\r\n      let order = Math.floor(t / length);\r\n      if (order % 2 === 1) {\r\n        t = length - t % length;\r\n      }\r\n    }\r\n\r\n    return t;\r\n  }\r\n}\r\n\r\nexport default class AnimationComponent extends Component {\r\n  onInit() {\r\n    this._name2states = {};\r\n    this._animCtrl = new AnimationCtrl();\r\n\r\n    /**\r\n     * **@schema** The animation clips\r\n     * @type {AnimationClip[]}\r\n     */\r\n    this.clips = this._clips;\r\n    /**\r\n     * **@schema** The animation skeleton\r\n     * @type {Joints}\r\n     */\r\n    this.joints = this._joints;\r\n\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n\r\n  get skeleton () {\r\n    return this._skeleton;\r\n  }\r\n\r\n  addClip(name, animClip) {\r\n    if (this._name2states[name]) {\r\n      console.warn(`Failed to add clip ${name}, the name already exsits.`);\r\n      return;\r\n    }\r\n\r\n    this._clips.push(animClip);\r\n    this._name2states[name] = new AnimationState(animClip);\r\n  }\r\n\r\n  getState(name) {\r\n    return this._name2states[name];\r\n  }\r\n\r\n  play(name, fadeDuration = 0.3) {\r\n    if (!this._name2states[name]) {\r\n      console.warn(`Failed to play animation ${name}, not found.`);\r\n      return;\r\n    }\r\n\r\n    let animState = this._name2states[name];\r\n    animState.time = 0.0;\r\n\r\n    this._animCtrl.crossFade(animState, fadeDuration);\r\n  }\r\n\r\n  _updateSkeleton() {\r\n    this.joints = this._joints;\r\n  }\r\n}\r\n\r\nAnimationComponent.schema = {\r\n  clips: {\r\n    type: 'asset',\r\n    default: [],\r\n    array: true,\r\n    set (val) {\r\n      this._clips = val;\r\n\r\n      for (let i = 0; i < this._clips.length; ++i) {\r\n        let clip = this._clips[i];\r\n        if (this._name2states[clip.name]) {\r\n          console.warn(`Failed to add clip ${clip.name}, the name already exsits.`);\r\n          continue;\r\n        }\r\n        this._name2states[clip.name] = new AnimationState(clip);\r\n      }\r\n    }\r\n  },\r\n\r\n  joints: {\r\n    type: 'asset',\r\n    default: null,\r\n    set (val) {\r\n      this._joints = val;\r\n\r\n      if (this._joints) {\r\n        this._skeleton = this._joints.instantiate();\r\n        this._animCtrl.setSkeleton(this._skeleton);\r\n      } else {\r\n        this._skeleton = null;\r\n      }\r\n    }\r\n  },\r\n};","import { Component } from '../ecs';\r\nimport AudioClip from '../assets/audio-clip';\r\n\r\n// TODO\r\nlet CC_WECHATGAME = false;\r\nlet CC_QQPLAY = false;\r\nlet touchBinded = false;\r\nlet touchPlayList = [\r\n    //{ instance: Audio, offset: 0, audio: audio }\r\n];\r\nlet Audio = {};\r\n/**\r\n* !#en Audio state.\r\n* !#zh 声音播放状态\r\n* @enum audioEngine.AudioState\r\n* @memberof cc\r\n*/\r\n// TODO - At present, the state is mixed with two states of users and systems, and it is best to split into two types. A 'loading' should also be added to the system state.\r\nAudio.State = {\r\n  /**\r\n  * @property {Number} ERROR\r\n  */\r\n  ERROR : -1,\r\n  /**\r\n  * @property {Number} INITIALZING\r\n  */\r\n  INITIALZING: 0,\r\n  /**\r\n  * @property {Number} PLAYING\r\n  */\r\n  PLAYING: 1,\r\n  /**\r\n  * @property {Number} PAUSED\r\n  */\r\n  PAUSED: 2\r\n};\r\n\r\n/**\r\n * A representation of a single audio source,\r\n * contains basic functionalities like play, pause and stop.\r\n */\r\nexport default class AudioSourceComponent extends Component {\r\n  constructor() {\r\n    super();\r\n    this._element = null;\r\n    this._nextTime = 0;  // playback position to set\r\n    this._state = Audio.State.INITIALZING;\r\n  }\r\n\r\n  onInit() {\r\n    this._system.add(this);\r\n    /**\r\n     * **@schema** The AudioClip to play\r\n     * @type {AudioClip}\r\n     */\r\n    this.clip = this._clip;\r\n    /**\r\n     * **@schema** Is the audio clip looping?\r\n     * @type {boolean}\r\n     */\r\n    this.loop = this._loop;\r\n    /**\r\n     * **@schema** The volume of the audio source (0.0 to 1.0).\r\n     * @type {number}\r\n     */\r\n    this.volume = this._volume;\r\n    /**\r\n     * **@schema** If set to true, the audio source will automatically start playing on awake.\r\n     * @type {boolean}\r\n     */\r\n    this.playOnAwake = this._playOnAwake;\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n\r\n  /**\r\n   * Plays the clip\r\n   */\r\n  play() {\r\n    // marked as playing so it will playOnLoad\r\n    this._state = Audio.State.PLAYING;\r\n\r\n    if (!this._element) {\r\n      return;\r\n    }\r\n\r\n    this._bindEnded();\r\n    this._element.play();\r\n\r\n    if (!(CC_QQPLAY || CC_WECHATGAME) && this._clip && this._clip.loadMode === AudioClip.DOM_AUDIO && this._element.paused) {\r\n      touchPlayList.push({ instance: this, offset: 0, audio: this._element });\r\n    }\r\n\r\n    if (touchBinded) return;\r\n    touchBinded = true;\r\n\r\n    // Listen to the touchstart body event and play the audio when necessary.\r\n    window.addEventListener('touchstart', function () {\r\n      let item = touchPlayList.pop();\r\n      while (item) {\r\n        item.audio.play(item.offset);\r\n        item = touchPlayList.pop();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Pause the clip\r\n   */\r\n  pause() {\r\n    if (!this._element) return;\r\n    this._unbindEnded();\r\n    this._element.pause();\r\n    this._state = Audio.State.PAUSED;\r\n  }\r\n\r\n  /**\r\n   * Resume the clip\r\n   */\r\n  resume() {\r\n    if (!this._element || this._state === Audio.State.PLAYING) return;\r\n    this._bindEnded();\r\n    this._element.play();\r\n    this._state = Audio.State.PLAYING;\r\n  }\r\n\r\n  /**\r\n   * Stop the clip\r\n   */\r\n  stop() {\r\n    if (!this._element) return;\r\n    try {\r\n      this._element.currentTime = 0;\r\n    } catch (error) { console.log(error); }\r\n    this._element.pause();\r\n    // remove touchPlayList\r\n    for (let i=0; i<touchPlayList.length; i++) {\r\n      if (touchPlayList[i].instance === this) {\r\n        touchPlayList.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n    this._unbindEnded();\r\n    this._state = Audio.State.PAUSED;\r\n  }\r\n\r\n  /**\r\n   * set the current time, in seconds\r\n   * @param {number} num time you want to jump to \r\n   */\r\n  set currentTime(num) {\r\n    if (this._element) {\r\n      this._nextTime = 0;\r\n    }\r\n    else {\r\n      this._nextTime = num;\r\n      return;\r\n    }\r\n\r\n    this._unbindEnded();\r\n    if (!(CC_QQPLAY || CC_WECHATGAME)) {\r\n      this._bindEnded(function () {\r\n        this._bindEnded();\r\n      }.bind(this));\r\n    }\r\n    try {\r\n      this._element.currentTime = num;\r\n    }\r\n    catch (err) {\r\n      let _element = this._element;\r\n      if (_element.addEventListener) {\r\n        let func = function () {\r\n          _element.removeEventListener('loadedmetadata', func);\r\n          _element.currentTime = num;\r\n        };\r\n        _element.addEventListener('loadedmetadata', func);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get the current time, in seconds\r\n   * @return {number} time current played time\r\n   */\r\n  get currentTime() {\r\n    return this._element ? this._element.currentTime : 0;\r\n  }\r\n\r\n  /**\r\n   * get the audio duration, in seconds\r\n   * @return {number} audio duration\r\n   */\r\n  get duration() {\r\n    return this._element ? this._element.duration : 0;\r\n  }\r\n\r\n  /**\r\n   * get the audio duration, in seconds\r\n   * @return {number} audio duration\r\n   */\r\n  get state() {\r\n    if (!CC_WECHATGAME) {\r\n      let elem = this._element;\r\n      if (elem && Audio.State.PLAYING === this._state && elem.paused) {\r\n        this._state = Audio.State.PAUSED;\r\n      }\r\n    }\r\n    return this._state;\r\n  }\r\n\r\n  /**\r\n   * is the audio currently paused?\r\n   * @return {boolean} paused?\r\n   */\r\n  get paused() {\r\n    return this._element ? this._element.paused : true;\r\n  }\r\n\r\n  _bindEnded(callback) {\r\n    callback = callback || this._onended;\r\n    if (this._clip && this._clip.loadMode === AudioClip.DOM_AUDIO) {\r\n      this._element.addEventListener('ended', callback);\r\n    } else {\r\n      this._element.onended = callback;\r\n    }\r\n  }\r\n\r\n  _unbindEnded() {\r\n    if (this._clip && this._clip.loadMode === AudioClip.DOM_AUDIO) {\r\n      this._element.removeEventListener('ended', this._onended);\r\n    } else {\r\n      this._element.onended = null;\r\n    }\r\n  }\r\n\r\n  _onLoaded() {\r\n    let elem = this._clip.nativeAsset;\r\n    if (this._clip.loadMode === AudioClip.DOM_AUDIO || CC_QQPLAY || CC_WECHATGAME) {\r\n      this._element = elem;\r\n    }\r\n    else {\r\n      this._element = new WebAudioElement(elem, this);\r\n    }\r\n\r\n    this.volume = this._volume;\r\n    this.loop = this._loop;\r\n    if (this._nextTime !== 0) {\r\n      this.setCurrentTime(this._nextTime);\r\n    }\r\n    if (this._state === Audio.State.PLAYING || this._playOnAwake) {\r\n      this.play();\r\n    }\r\n    else {\r\n      this._state = Audio.State.INITIALZING;\r\n    }\r\n  }\r\n}\r\n\r\nAudioSourceComponent.schema = {\r\n  clip: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val) {\r\n        this._clip = val;\r\n        if (val._loaded) {\r\n          this._onLoaded();\r\n        }\r\n        else {\r\n          val.once('load', function () {\r\n            if (val === this._clip) {\r\n              this._onLoaded();\r\n            }\r\n          }.bind(this));\r\n        }\r\n      }\r\n      else {\r\n        this._clip = null;\r\n        this._element = null;\r\n        this._state = Audio.State.INITIALZING;\r\n      }\r\n      return val;\r\n    },\r\n  },\r\n  loop: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      this._loop = val;\r\n      if (this._element) {\r\n        this._element.loop = val;\r\n      }\r\n    },\r\n  },\r\n  playOnAwake: {\r\n    type: 'boolean',\r\n    default: true,\r\n    set(val) {\r\n      this._playOnAwake = val;\r\n      if (val) this._state = Audio.State.PLAYING;\r\n    },\r\n  },\r\n  volume: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._volume = val;\r\n      if (this._element) {\r\n        this._element.volume = val;\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\n// possible TODO: everything below could be moved into AudioClip\r\n// so that the component could be agnostic about the clip being played\r\n// and behave uniformly across clips. Let AudioClip worry about its LoadMode.\r\n\r\n// Encapsulated WebAudio interface\r\nlet WebAudioElement = function (buffer, audio) {\r\n  this._audio = audio;\r\n  this._context = this._audio._system.__audioSupport.context;\r\n  this._buffer = buffer;\r\n\r\n  this._gainObj = this._context['createGain']();\r\n  this._volume = 1;\r\n  // https://www.chromestatus.com/features/5287995770929152\r\n  if (this._gainObj['gain'].setTargetAtTime) {\r\n    this._gainObj['gain'].setTargetAtTime(this._volume, this._context.currentTime, 0.01);\r\n  } else {\r\n    this._gainObj['gain'].value = this._volume;\r\n  }\r\n  this._gainObj['connect'](this._context['destination']);\r\n\r\n  this._loop = false;\r\n  // The time stamp on the audio time axis when the recording begins to play.\r\n  this._startTime = -1;\r\n  // Record the currently playing 'Source'\r\n  this._currentSource = null;\r\n  // Record the time has been played\r\n  this.playedLength = 0;\r\n\r\n  this._currextTimer = null;\r\n\r\n  this._endCallback = function () {\r\n    if (this.onended) {\r\n      this.onended(this);\r\n    }\r\n  }.bind(this);\r\n};\r\n\r\n(function (proto) {\r\n  proto.play = function (offset) {\r\n    // If repeat play, you need to stop before an audio\r\n    if (this._currentSource && !this.paused) {\r\n      this._currentSource.onended = null;\r\n      this._currentSource.stop(0);\r\n      this.playedLength = 0;\r\n    }\r\n\r\n    let audio = this._context['createBufferSource']();\r\n    audio.buffer = this._buffer;\r\n    audio['connect'](this._gainObj);\r\n    audio.loop = this._loop;\r\n\r\n    this._startTime = this._context.currentTime;\r\n    offset = offset || this.playedLength;\r\n    if (offset) {\r\n      this._startTime -= offset;\r\n    }\r\n    let duration = this._buffer.duration;\r\n\r\n    let startTime = offset;\r\n    let endTime;\r\n    if (this._loop) {\r\n      if (audio.start)\r\n        audio.start(0, startTime);\r\n      else if (audio['notoGrainOn'])\r\n        audio['noteGrainOn'](0, startTime);\r\n      else\r\n        audio['noteOn'](0, startTime);\r\n    } else {\r\n      endTime = duration - offset;\r\n      if (audio.start)\r\n        audio.start(0, startTime, endTime);\r\n      else if (audio['notoGrainOn'])\r\n        audio['noteGrainOn'](0, startTime, endTime);\r\n      else\r\n        audio['noteOn'](0, startTime, endTime);\r\n    }\r\n\r\n    this._currentSource = audio;\r\n\r\n    audio.onended = this._endCallback;\r\n\r\n    // If the current audio context time stamp is 0 and audio context state is suspended\r\n    // There may be a need to touch events before you can actually start playing audio\r\n    if ((!audio.context.state || audio.context.state === 'suspended') && this._context.currentTime === 0) {\r\n      let self = this;\r\n      clearTimeout(this._currextTimer);\r\n      this._currextTimer = setTimeout(function () {\r\n        if (!(CC_QQPLAY || CC_WECHATGAME) && self._context.currentTime === 0) {\r\n          touchPlayList.push({\r\n            instance: self._audio,\r\n            offset: offset,\r\n            audio: self\r\n          });\r\n        }\r\n      }, 10);\r\n    }\r\n  };\r\n\r\n  proto.pause = function () {\r\n    clearTimeout(this._currextTimer);\r\n    if (this.paused) return;\r\n    // Record the time the current has been played\r\n    this.playedLength = this._context.currentTime - this._startTime;\r\n    // If more than the duration of the audio, Need to take the remainder\r\n    this.playedLength %= this._buffer.duration;\r\n    let audio = this._currentSource;\r\n    this._currentSource = null;\r\n    this._startTime = -1;\r\n    if (audio)\r\n      audio.stop(0);\r\n  };\r\n\r\n  proto.__defineGetter__('paused', function () {\r\n    // If the current audio is a loop, paused is false\r\n    if (this._currentSource && this._currentSource.loop)\r\n      return false;\r\n\r\n    // startTime default is -1\r\n    if (this._startTime === -1)\r\n      return true;\r\n\r\n    // Current time -  Start playing time > Audio duration\r\n    return this._context.currentTime - this._startTime > this._buffer.duration;\r\n  });\r\n\r\n  proto.__defineGetter__('loop', function () { return this._loop; });\r\n  proto.__defineSetter__('loop', function (bool) {\r\n    if (this._currentSource)\r\n      this._currentSource.loop = bool;\r\n\r\n    return this._loop = bool;\r\n  });\r\n\r\n  proto.__defineGetter__('volume', function () {\r\n    return this._volume;\r\n  });\r\n  proto.__defineSetter__('volume', function (num) {\r\n    this._volume = num;\r\n    if (this._gainObj['gain'].setTargetAtTime) {\r\n      this._gainObj['gain'].setTargetAtTime(this._volume, this._context.currentTime, 0.01);\r\n    } else {\r\n      this._volume['gain'].value = num;\r\n    }\r\n    if (this._audio._system.os === this._audio._system.OS_IOS && !this.paused && this._currentSource) {\r\n      // IOS must be stop webAudio\r\n      this._currentSource.onended = null;\r\n      this.pause();\r\n      this.play();\r\n    }\r\n    return num;\r\n  });\r\n\r\n  proto.__defineGetter__('currentTime', function () {\r\n    if (this.paused) {\r\n      return this.playedLength;\r\n    }\r\n    // Record the time the current has been played\r\n    this.playedLength = this._context.currentTime - this._startTime;\r\n    // If more than the duration of the audio, Need to take the remainder\r\n    this.playedLength %= this._buffer.duration;\r\n    return this.playedLength;\r\n  });\r\n  proto.__defineSetter__('currentTime', function (num) {\r\n    if (!this.paused) {\r\n      this.pause();\r\n      this.playedLength = num;\r\n      this.play();\r\n    } else {\r\n      this.playedLength = num;\r\n    }\r\n    return num;\r\n  });\r\n\r\n  proto.__defineGetter__('duration', function () {\r\n    return this._buffer.duration;\r\n  });\r\n\r\n})(WebAudioElement.prototype);\r\n","export default class CannonWorld {\r\n  constructor() {\r\n  }\r\n  \r\n  add(comp) {\r\n  }\r\n\r\n  onDestroy() {\r\n  }\r\n\r\n  step(dt) {\r\n  }\r\n}\r\n","/*\n * Copyright (c) 2015 cannon.js Authors\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use, copy,\n * modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE\n * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&false)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.CANNON=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\nmodule.exports={\n  \"name\": \"cannon\",\n  \"version\": \"0.6.2\",\n  \"description\": \"A lightweight 3D physics engine written in JavaScript.\",\n  \"homepage\": \"https://github.com/schteppe/cannon.js\",\n  \"author\": \"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)\",\n  \"keywords\": [\n    \"cannon.js\",\n    \"cannon\",\n    \"physics\",\n    \"engine\",\n    \"3d\"\n  ],\n  \"main\": \"./build/cannon.js\",\n  \"engines\": {\n    \"node\": \"*\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/schteppe/cannon.js.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/schteppe/cannon.js/issues\"\n  },\n  \"licenses\": [\n    {\n      \"type\": \"MIT\"\n    }\n  ],\n  \"devDependencies\": {\n    \"jshint\": \"latest\",\n    \"uglify-js\": \"latest\",\n    \"nodeunit\": \"^0.9.0\",\n    \"grunt\": \"~0.4.0\",\n    \"grunt-contrib-jshint\": \"~0.1.1\",\n    \"grunt-contrib-nodeunit\": \"^0.4.1\",\n    \"grunt-contrib-concat\": \"~0.1.3\",\n    \"grunt-contrib-uglify\": \"^0.5.1\",\n    \"grunt-browserify\": \"^2.1.4\",\n    \"grunt-contrib-yuidoc\": \"^0.5.2\",\n    \"browserify\": \"*\"\n  },\n  \"dependencies\": {}\n}\n\n},{}],2:[function(_dereq_,module,exports){\n// Export classes\nmodule.exports = {\n    version :                       _dereq_('../package.json').version,\n\n    AABB :                          _dereq_('./collision/AABB'),\n    ArrayCollisionMatrix :          _dereq_('./collision/ArrayCollisionMatrix'),\n    Body :                          _dereq_('./objects/Body'),\n    Box :                           _dereq_('./shapes/Box'),\n    Broadphase :                    _dereq_('./collision/Broadphase'),\n    Constraint :                    _dereq_('./constraints/Constraint'),\n    ContactEquation :               _dereq_('./equations/ContactEquation'),\n    Narrowphase :                   _dereq_('./world/Narrowphase'),\n    ConeTwistConstraint :           _dereq_('./constraints/ConeTwistConstraint'),\n    ContactMaterial :               _dereq_('./material/ContactMaterial'),\n    ConvexPolyhedron :              _dereq_('./shapes/ConvexPolyhedron'),\n    Cylinder :                      _dereq_('./shapes/Cylinder'),\n    DistanceConstraint :            _dereq_('./constraints/DistanceConstraint'),\n    Equation :                      _dereq_('./equations/Equation'),\n    EventTarget :                   _dereq_('./utils/EventTarget'),\n    FrictionEquation :              _dereq_('./equations/FrictionEquation'),\n    GSSolver :                      _dereq_('./solver/GSSolver'),\n    GridBroadphase :                _dereq_('./collision/GridBroadphase'),\n    Heightfield :                   _dereq_('./shapes/Heightfield'),\n    HingeConstraint :               _dereq_('./constraints/HingeConstraint'),\n    LockConstraint :                _dereq_('./constraints/LockConstraint'),\n    Mat3 :                          _dereq_('./math/Mat3'),\n    Material :                      _dereq_('./material/Material'),\n    NaiveBroadphase :               _dereq_('./collision/NaiveBroadphase'),\n    ObjectCollisionMatrix :         _dereq_('./collision/ObjectCollisionMatrix'),\n    Pool :                          _dereq_('./utils/Pool'),\n    Particle :                      _dereq_('./shapes/Particle'),\n    Plane :                         _dereq_('./shapes/Plane'),\n    PointToPointConstraint :        _dereq_('./constraints/PointToPointConstraint'),\n    Quaternion :                    _dereq_('./math/Quaternion'),\n    Ray :                           _dereq_('./collision/Ray'),\n    RaycastVehicle :                _dereq_('./objects/RaycastVehicle'),\n    RaycastResult :                 _dereq_('./collision/RaycastResult'),\n    RigidVehicle :                  _dereq_('./objects/RigidVehicle'),\n    RotationalEquation :            _dereq_('./equations/RotationalEquation'),\n    RotationalMotorEquation :       _dereq_('./equations/RotationalMotorEquation'),\n    SAPBroadphase :                 _dereq_('./collision/SAPBroadphase'),\n    SPHSystem :                     _dereq_('./objects/SPHSystem'),\n    Shape :                         _dereq_('./shapes/Shape'),\n    Solver :                        _dereq_('./solver/Solver'),\n    Sphere :                        _dereq_('./shapes/Sphere'),\n    SplitSolver :                   _dereq_('./solver/SplitSolver'),\n    Spring :                        _dereq_('./objects/Spring'),\n    Trimesh :                       _dereq_('./shapes/Trimesh'),\n    Vec3 :                          _dereq_('./math/Vec3'),\n    Vec3Pool :                      _dereq_('./utils/Vec3Pool'),\n    World :                         _dereq_('./world/World'),\n};\n\n},{\"../package.json\":1,\"./collision/AABB\":3,\"./collision/ArrayCollisionMatrix\":4,\"./collision/Broadphase\":5,\"./collision/GridBroadphase\":6,\"./collision/NaiveBroadphase\":7,\"./collision/ObjectCollisionMatrix\":8,\"./collision/Ray\":9,\"./collision/RaycastResult\":10,\"./collision/SAPBroadphase\":11,\"./constraints/ConeTwistConstraint\":12,\"./constraints/Constraint\":13,\"./constraints/DistanceConstraint\":14,\"./constraints/HingeConstraint\":15,\"./constraints/LockConstraint\":16,\"./constraints/PointToPointConstraint\":17,\"./equations/ContactEquation\":19,\"./equations/Equation\":20,\"./equations/FrictionEquation\":21,\"./equations/RotationalEquation\":22,\"./equations/RotationalMotorEquation\":23,\"./material/ContactMaterial\":24,\"./material/Material\":25,\"./math/Mat3\":27,\"./math/Quaternion\":28,\"./math/Vec3\":30,\"./objects/Body\":31,\"./objects/RaycastVehicle\":32,\"./objects/RigidVehicle\":33,\"./objects/SPHSystem\":34,\"./objects/Spring\":35,\"./shapes/Box\":37,\"./shapes/ConvexPolyhedron\":38,\"./shapes/Cylinder\":39,\"./shapes/Heightfield\":40,\"./shapes/Particle\":41,\"./shapes/Plane\":42,\"./shapes/Shape\":43,\"./shapes/Sphere\":44,\"./shapes/Trimesh\":45,\"./solver/GSSolver\":46,\"./solver/Solver\":47,\"./solver/SplitSolver\":48,\"./utils/EventTarget\":49,\"./utils/Pool\":51,\"./utils/Vec3Pool\":54,\"./world/Narrowphase\":55,\"./world/World\":56}],3:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = AABB;\n\n/**\n * Axis aligned bounding box class.\n * @class AABB\n * @constructor\n * @param {Object} [options]\n * @param {Vec3}   [options.upperBound]\n * @param {Vec3}   [options.lowerBound]\n */\nfunction AABB(options){\n    options = options || {};\n\n    /**\n     * The lower bound of the bounding box.\n     * @property lowerBound\n     * @type {Vec3}\n     */\n    this.lowerBound = new Vec3();\n    if(options.lowerBound){\n        this.lowerBound.copy(options.lowerBound);\n    }\n\n    /**\n     * The upper bound of the bounding box.\n     * @property upperBound\n     * @type {Vec3}\n     */\n    this.upperBound = new Vec3();\n    if(options.upperBound){\n        this.upperBound.copy(options.upperBound);\n    }\n}\n\nvar tmp = new Vec3();\n\n/**\n * Set the AABB bounds from a set of points.\n * @method setFromPoints\n * @param {Array} points An array of Vec3's.\n * @param {Vec3} position\n * @param {Quaternion} quaternion\n * @param {number} skinSize\n * @return {AABB} The self object\n */\nAABB.prototype.setFromPoints = function(points, position, quaternion, skinSize){\n    var l = this.lowerBound,\n        u = this.upperBound,\n        q = quaternion;\n\n    // Set to the first point\n    l.copy(points[0]);\n    if(q){\n        q.vmult(l, l);\n    }\n    u.copy(l);\n\n    for(var i = 1; i<points.length; i++){\n        var p = points[i];\n\n        if(q){\n            q.vmult(p, tmp);\n            p = tmp;\n        }\n\n        if(p.x > u.x){ u.x = p.x; }\n        if(p.x < l.x){ l.x = p.x; }\n        if(p.y > u.y){ u.y = p.y; }\n        if(p.y < l.y){ l.y = p.y; }\n        if(p.z > u.z){ u.z = p.z; }\n        if(p.z < l.z){ l.z = p.z; }\n    }\n\n    // Add offset\n    if (position) {\n        position.vadd(l, l);\n        position.vadd(u, u);\n    }\n\n    if(skinSize){\n        l.x -= skinSize;\n        l.y -= skinSize;\n        l.z -= skinSize;\n        u.x += skinSize;\n        u.y += skinSize;\n        u.z += skinSize;\n    }\n\n    return this;\n};\n\n/**\n * Copy bounds from an AABB to this AABB\n * @method copy\n * @param  {AABB} aabb Source to copy from\n * @return {AABB} The this object, for chainability\n */\nAABB.prototype.copy = function(aabb){\n    this.lowerBound.copy(aabb.lowerBound);\n    this.upperBound.copy(aabb.upperBound);\n    return this;\n};\n\n/**\n * Clone an AABB\n * @method clone\n */\nAABB.prototype.clone = function(){\n    return new AABB().copy(this);\n};\n\n/**\n * Extend this AABB so that it covers the given AABB too.\n * @method extend\n * @param  {AABB} aabb\n */\nAABB.prototype.extend = function(aabb){\n    // Extend lower bound\n    var l = aabb.lowerBound.x;\n    if(this.lowerBound.x > l){\n        this.lowerBound.x = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.x;\n    if(this.upperBound.x < u){\n        this.upperBound.x = u;\n    }\n\n    // Extend lower bound\n    var l = aabb.lowerBound.y;\n    if(this.lowerBound.y > l){\n        this.lowerBound.y = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.y;\n    if(this.upperBound.y < u){\n        this.upperBound.y = u;\n    }\n\n    // Extend lower bound\n    var l = aabb.lowerBound.z;\n    if(this.lowerBound.z > l){\n        this.lowerBound.z = l;\n    }\n\n    // Upper\n    var u = aabb.upperBound.z;\n    if(this.upperBound.z < u){\n        this.upperBound.z = u;\n    }\n};\n\n/**\n * Returns true if the given AABB overlaps this AABB.\n * @method overlaps\n * @param  {AABB} aabb\n * @return {Boolean}\n */\nAABB.prototype.overlaps = function(aabb){\n    var l1 = this.lowerBound,\n        u1 = this.upperBound,\n        l2 = aabb.lowerBound,\n        u2 = aabb.upperBound;\n\n    //      l2        u2\n    //      |---------|\n    // |--------|\n    // l1       u1\n\n    return ((l2.x <= u1.x && u1.x <= u2.x) || (l1.x <= u2.x && u2.x <= u1.x)) &&\n           ((l2.y <= u1.y && u1.y <= u2.y) || (l1.y <= u2.y && u2.y <= u1.y)) &&\n           ((l2.z <= u1.z && u1.z <= u2.z) || (l1.z <= u2.z && u2.z <= u1.z));\n};\n\n/**\n * Returns true if the given AABB is fully contained in this AABB.\n * @method contains\n * @param {AABB} aabb\n * @return {Boolean}\n */\nAABB.prototype.contains = function(aabb){\n    var l1 = this.lowerBound,\n        u1 = this.upperBound,\n        l2 = aabb.lowerBound,\n        u2 = aabb.upperBound;\n\n    //      l2        u2\n    //      |---------|\n    // |---------------|\n    // l1              u1\n\n    return (\n        (l1.x <= l2.x && u1.x >= u2.x) &&\n        (l1.y <= l2.y && u1.y >= u2.y) &&\n        (l1.z <= l2.z && u1.z >= u2.z)\n    );\n};\n\n/**\n * @method getCorners\n * @param {Vec3} a\n * @param {Vec3} b\n * @param {Vec3} c\n * @param {Vec3} d\n * @param {Vec3} e\n * @param {Vec3} f\n * @param {Vec3} g\n * @param {Vec3} h\n */\nAABB.prototype.getCorners = function(a, b, c, d, e, f, g, h){\n    var l = this.lowerBound,\n        u = this.upperBound;\n\n    a.copy(l);\n    b.set( u.x, l.y, l.z );\n    c.set( u.x, u.y, l.z );\n    d.set( l.x, u.y, u.z );\n    e.set( u.x, l.y, l.z );\n    f.set( l.x, u.y, l.z );\n    g.set( l.x, l.y, u.z );\n    h.copy(u);\n};\n\nvar transformIntoFrame_corners = [\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3()\n];\n\n/**\n * Get the representation of an AABB in another frame.\n * @method toLocalFrame\n * @param  {Transform} frame\n * @param  {AABB} target\n * @return {AABB} The \"target\" AABB object.\n */\nAABB.prototype.toLocalFrame = function(frame, target){\n\n    var corners = transformIntoFrame_corners;\n    var a = corners[0];\n    var b = corners[1];\n    var c = corners[2];\n    var d = corners[3];\n    var e = corners[4];\n    var f = corners[5];\n    var g = corners[6];\n    var h = corners[7];\n\n    // Get corners in current frame\n    this.getCorners(a, b, c, d, e, f, g, h);\n\n    // Transform them to new local frame\n    for(var i=0; i !== 8; i++){\n        var corner = corners[i];\n        frame.pointToLocal(corner, corner);\n    }\n\n    return target.setFromPoints(corners);\n};\n\n/**\n * Get the representation of an AABB in the global frame.\n * @method toWorldFrame\n * @param  {Transform} frame\n * @param  {AABB} target\n * @return {AABB} The \"target\" AABB object.\n */\nAABB.prototype.toWorldFrame = function(frame, target){\n\n    var corners = transformIntoFrame_corners;\n    var a = corners[0];\n    var b = corners[1];\n    var c = corners[2];\n    var d = corners[3];\n    var e = corners[4];\n    var f = corners[5];\n    var g = corners[6];\n    var h = corners[7];\n\n    // Get corners in current frame\n    this.getCorners(a, b, c, d, e, f, g, h);\n\n    // Transform them to new local frame\n    for(var i=0; i !== 8; i++){\n        var corner = corners[i];\n        frame.pointToWorld(corner, corner);\n    }\n\n    return target.setFromPoints(corners);\n};\n\n},{\"../math/Vec3\":30,\"../utils/Utils\":53}],4:[function(_dereq_,module,exports){\nmodule.exports = ArrayCollisionMatrix;\n\n/**\n * Collision \"matrix\". It's actually a triangular-shaped array of whether two bodies are touching this step, for reference next step\n * @class ArrayCollisionMatrix\n * @constructor\n */\nfunction ArrayCollisionMatrix() {\n\n    /**\n     * The matrix storage\n     * @property matrix\n     * @type {Array}\n     */\n\tthis.matrix = [];\n}\n\n/**\n * Get an element\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nArrayCollisionMatrix.prototype.get = function(i, j) {\n\ti = i.index;\n\tj = j.index;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\treturn this.matrix[(i*(i + 1)>>1) + j-1];\n};\n\n/**\n * Set an element\n * @method set\n * @param {Number} i\n * @param {Number} j\n * @param {Number} value\n */\nArrayCollisionMatrix.prototype.set = function(i, j, value) {\n\ti = i.index;\n\tj = j.index;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\tthis.matrix[(i*(i + 1)>>1) + j-1] = value ? 1 : 0;\n};\n\n/**\n * Sets all elements to zero\n * @method reset\n */\nArrayCollisionMatrix.prototype.reset = function() {\n\tfor (var i=0, l=this.matrix.length; i!==l; i++) {\n\t\tthis.matrix[i]=0;\n\t}\n};\n\n/**\n * Sets the max number of objects\n * @method setNumObjects\n * @param {Number} n\n */\nArrayCollisionMatrix.prototype.setNumObjects = function(n) {\n\tthis.matrix.length = n*(n-1)>>1;\n};\n\n},{}],5:[function(_dereq_,module,exports){\nvar Body = _dereq_('../objects/Body');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Shape = _dereq_('../shapes/Shape');\nvar Plane = _dereq_('../shapes/Plane');\n\nmodule.exports = Broadphase;\n\n/**\n * Base class for broadphase implementations\n * @class Broadphase\n * @constructor\n * @author schteppe\n */\nfunction Broadphase(){\n    /**\n    * The world to search for collisions in.\n    * @property world\n    * @type {World}\n    */\n    this.world = null;\n\n    /**\n     * If set to true, the broadphase uses bounding boxes for intersection test, else it uses bounding spheres.\n     * @property useBoundingBoxes\n     * @type {Boolean}\n     */\n    this.useBoundingBoxes = false;\n\n    /**\n     * Set to true if the objects in the world moved.\n     * @property {Boolean} dirty\n     */\n    this.dirty = true;\n}\n\n/**\n * Get the collision pairs from the world\n * @method collisionPairs\n * @param {World} world The world to search in\n * @param {Array} p1 Empty array to be filled with body objects\n * @param {Array} p2 Empty array to be filled with body objects\n */\nBroadphase.prototype.collisionPairs = function(world,p1,p2){\n    throw new Error(\"collisionPairs not implemented for this BroadPhase class!\");\n};\n\n/**\n * Check if a body pair needs to be intersection tested at all.\n * @method needBroadphaseCollision\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @return {bool}\n */\nvar Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC = Body.STATIC | Body.KINEMATIC;\nBroadphase.prototype.needBroadphaseCollision = function(bodyA,bodyB){\n\n    // Check collision filter masks\n    if( (bodyA.collisionFilterGroup & bodyB.collisionFilterMask)===0 || (bodyB.collisionFilterGroup & bodyA.collisionFilterMask)===0){\n        return false;\n    }\n\n    // Check types\n    if(((bodyA.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyA.sleepState === Body.SLEEPING) &&\n       ((bodyB.type & Broadphase_needBroadphaseCollision_STATIC_OR_KINEMATIC)!==0 || bodyB.sleepState === Body.SLEEPING)) {\n        // Both bodies are static, kinematic or sleeping. Skip.\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * Check if the bounding volumes of two bodies intersect.\n * @method intersectionTest\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {array} pairs1\n * @param {array} pairs2\n  */\nBroadphase.prototype.intersectionTest = function(bodyA, bodyB, pairs1, pairs2){\n    if(this.useBoundingBoxes){\n        this.doBoundingBoxBroadphase(bodyA,bodyB,pairs1,pairs2);\n    } else {\n        this.doBoundingSphereBroadphase(bodyA,bodyB,pairs1,pairs2);\n    }\n};\n\n/**\n * Check if the bounding spheres of two bodies are intersecting.\n * @method doBoundingSphereBroadphase\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Array} pairs1 bodyA is appended to this array if intersection\n * @param {Array} pairs2 bodyB is appended to this array if intersection\n */\nvar Broadphase_collisionPairs_r = new Vec3(), // Temp objects\n    Broadphase_collisionPairs_normal =  new Vec3(),\n    Broadphase_collisionPairs_quat =  new Quaternion(),\n    Broadphase_collisionPairs_relpos  =  new Vec3();\nBroadphase.prototype.doBoundingSphereBroadphase = function(bodyA,bodyB,pairs1,pairs2){\n    var r = Broadphase_collisionPairs_r;\n    bodyB.position.vsub(bodyA.position,r);\n    var boundingRadiusSum2 = Math.pow(bodyA.boundingRadius + bodyB.boundingRadius, 2);\n    var norm2 = r.norm2();\n    if(norm2 < boundingRadiusSum2){\n        pairs1.push(bodyA);\n        pairs2.push(bodyB);\n    }\n};\n\n/**\n * Check if the bounding boxes of two bodies are intersecting.\n * @method doBoundingBoxBroadphase\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nBroadphase.prototype.doBoundingBoxBroadphase = function(bodyA,bodyB,pairs1,pairs2){\n    if(bodyA.aabbNeedsUpdate){\n        bodyA.computeAABB();\n    }\n    if(bodyB.aabbNeedsUpdate){\n        bodyB.computeAABB();\n    }\n\n    // Check AABB / AABB\n    if(bodyA.aabb.overlaps(bodyB.aabb)){\n        pairs1.push(bodyA);\n        pairs2.push(bodyB);\n    }\n};\n\n/**\n * Removes duplicate pairs from the pair arrays.\n * @method makePairsUnique\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nvar Broadphase_makePairsUnique_temp = { keys:[] },\n    Broadphase_makePairsUnique_p1 = [],\n    Broadphase_makePairsUnique_p2 = [];\nBroadphase.prototype.makePairsUnique = function(pairs1,pairs2){\n    var t = Broadphase_makePairsUnique_temp,\n        p1 = Broadphase_makePairsUnique_p1,\n        p2 = Broadphase_makePairsUnique_p2,\n        N = pairs1.length;\n\n    for(var i=0; i!==N; i++){\n        p1[i] = pairs1[i];\n        p2[i] = pairs2[i];\n    }\n\n    pairs1.length = 0;\n    pairs2.length = 0;\n\n    for(var i=0; i!==N; i++){\n        var id1 = p1[i].id,\n            id2 = p2[i].id;\n        var key = id1 < id2 ? id1+\",\"+id2 :  id2+\",\"+id1;\n        t[key] = i;\n        t.keys.push(key);\n    }\n\n    for(var i=0; i!==t.keys.length; i++){\n        var key = t.keys.pop(),\n            pairIndex = t[key];\n        pairs1.push(p1[pairIndex]);\n        pairs2.push(p2[pairIndex]);\n        delete t[key];\n    }\n};\n\n/**\n * To be implemented by subcasses\n * @method setWorld\n * @param {World} world\n */\nBroadphase.prototype.setWorld = function(world){\n};\n\n/**\n * Check if the bounding spheres of two bodies overlap.\n * @method boundingSphereCheck\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @return {boolean}\n */\nvar bsc_dist = new Vec3();\nBroadphase.boundingSphereCheck = function(bodyA,bodyB){\n    var dist = bsc_dist;\n    bodyA.position.vsub(bodyB.position,dist);\n    return Math.pow(bodyA.shape.boundingSphereRadius + bodyB.shape.boundingSphereRadius,2) > dist.norm2();\n};\n\n/**\n * Returns all the bodies within the AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param  {array} result An array to store resulting bodies in.\n * @return {array}\n */\nBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    console.warn('.aabbQuery is not implemented in this Broadphase subclass.');\n    return [];\n};\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Plane\":42,\"../shapes/Shape\":43}],6:[function(_dereq_,module,exports){\nmodule.exports = GridBroadphase;\n\nvar Broadphase = _dereq_('./Broadphase');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Shape = _dereq_('../shapes/Shape');\n\n/**\n * Axis aligned uniform grid broadphase.\n * @class GridBroadphase\n * @constructor\n * @extends Broadphase\n * @todo Needs support for more than just planes and spheres.\n * @param {Vec3} aabbMin\n * @param {Vec3} aabbMax\n * @param {Number} nx Number of boxes along x\n * @param {Number} ny Number of boxes along y\n * @param {Number} nz Number of boxes along z\n */\nfunction GridBroadphase(aabbMin,aabbMax,nx,ny,nz){\n    Broadphase.apply(this);\n    this.nx = nx || 10;\n    this.ny = ny || 10;\n    this.nz = nz || 10;\n    this.aabbMin = aabbMin || new Vec3(100,100,100);\n    this.aabbMax = aabbMax || new Vec3(-100,-100,-100);\n\tvar nbins = this.nx * this.ny * this.nz;\n\tif (nbins <= 0) {\n\t\tthrow \"GridBroadphase: Each dimension's n must be >0\";\n\t}\n    this.bins = [];\n\tthis.binLengths = []; //Rather than continually resizing arrays (thrashing the memory), just record length and allow them to grow\n\tthis.bins.length = nbins;\n\tthis.binLengths.length = nbins;\n\tfor (var i=0;i<nbins;i++) {\n\t\tthis.bins[i]=[];\n\t\tthis.binLengths[i]=0;\n\t}\n}\nGridBroadphase.prototype = new Broadphase();\nGridBroadphase.prototype.constructor = GridBroadphase;\n\n/**\n * Get all the collision pairs in the physics world\n * @method collisionPairs\n * @param {World} world\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nvar GridBroadphase_collisionPairs_d = new Vec3();\nvar GridBroadphase_collisionPairs_binPos = new Vec3();\nGridBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\n    var N = world.numObjects(),\n        bodies = world.bodies;\n\n    var max = this.aabbMax,\n        min = this.aabbMin,\n        nx = this.nx,\n        ny = this.ny,\n        nz = this.nz;\n\n\tvar xstep = ny*nz;\n\tvar ystep = nz;\n\tvar zstep = 1;\n\n    var xmax = max.x,\n        ymax = max.y,\n        zmax = max.z,\n        xmin = min.x,\n        ymin = min.y,\n        zmin = min.z;\n\n    var xmult = nx / (xmax-xmin),\n        ymult = ny / (ymax-ymin),\n        zmult = nz / (zmax-zmin);\n\n    var binsizeX = (xmax - xmin) / nx,\n        binsizeY = (ymax - ymin) / ny,\n        binsizeZ = (zmax - zmin) / nz;\n\n\tvar binRadius = Math.sqrt(binsizeX*binsizeX + binsizeY*binsizeY + binsizeZ*binsizeZ) * 0.5;\n\n    var types = Shape.types;\n    var SPHERE =            types.SPHERE,\n        PLANE =             types.PLANE,\n        BOX =               types.BOX,\n        COMPOUND =          types.COMPOUND,\n        CONVEXPOLYHEDRON =  types.CONVEXPOLYHEDRON;\n\n    var bins=this.bins,\n\t\tbinLengths=this.binLengths,\n        Nbins=this.bins.length;\n\n    // Reset bins\n    for(var i=0; i!==Nbins; i++){\n        binLengths[i] = 0;\n    }\n\n    var ceil = Math.ceil;\n\tvar min = Math.min;\n\tvar max = Math.max;\n\n\tfunction addBoxToBins(x0,y0,z0,x1,y1,z1,bi) {\n\t\tvar xoff0 = ((x0 - xmin) * xmult)|0,\n\t\t\tyoff0 = ((y0 - ymin) * ymult)|0,\n\t\t\tzoff0 = ((z0 - zmin) * zmult)|0,\n\t\t\txoff1 = ceil((x1 - xmin) * xmult),\n\t\t\tyoff1 = ceil((y1 - ymin) * ymult),\n\t\t\tzoff1 = ceil((z1 - zmin) * zmult);\n\n\t\tif (xoff0 < 0) { xoff0 = 0; } else if (xoff0 >= nx) { xoff0 = nx - 1; }\n\t\tif (yoff0 < 0) { yoff0 = 0; } else if (yoff0 >= ny) { yoff0 = ny - 1; }\n\t\tif (zoff0 < 0) { zoff0 = 0; } else if (zoff0 >= nz) { zoff0 = nz - 1; }\n\t\tif (xoff1 < 0) { xoff1 = 0; } else if (xoff1 >= nx) { xoff1 = nx - 1; }\n\t\tif (yoff1 < 0) { yoff1 = 0; } else if (yoff1 >= ny) { yoff1 = ny - 1; }\n\t\tif (zoff1 < 0) { zoff1 = 0; } else if (zoff1 >= nz) { zoff1 = nz - 1; }\n\n\t\txoff0 *= xstep;\n\t\tyoff0 *= ystep;\n\t\tzoff0 *= zstep;\n\t\txoff1 *= xstep;\n\t\tyoff1 *= ystep;\n\t\tzoff1 *= zstep;\n\n\t\tfor (var xoff = xoff0; xoff <= xoff1; xoff += xstep) {\n\t\t\tfor (var yoff = yoff0; yoff <= yoff1; yoff += ystep) {\n\t\t\t\tfor (var zoff = zoff0; zoff <= zoff1; zoff += zstep) {\n\t\t\t\t\tvar idx = xoff+yoff+zoff;\n\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n    // Put all bodies into the bins\n    for(var i=0; i!==N; i++){\n        var bi = bodies[i];\n        var si = bi.shape;\n\n        switch(si.type){\n        case SPHERE:\n            // Put in bin\n            // check if overlap with other bins\n            var x = bi.position.x,\n                y = bi.position.y,\n                z = bi.position.z;\n            var r = si.radius;\n\n\t\t\taddBoxToBins(x-r, y-r, z-r, x+r, y+r, z+r, bi);\n            break;\n\n        case PLANE:\n            if(si.worldNormalNeedsUpdate){\n                si.computeWorldNormal(bi.quaternion);\n            }\n            var planeNormal = si.worldNormal;\n\n\t\t\t//Relative position from origin of plane object to the first bin\n\t\t\t//Incremented as we iterate through the bins\n\t\t\tvar xreset = xmin + binsizeX*0.5 - bi.position.x,\n\t\t\t\tyreset = ymin + binsizeY*0.5 - bi.position.y,\n\t\t\t\tzreset = zmin + binsizeZ*0.5 - bi.position.z;\n\n            var d = GridBroadphase_collisionPairs_d;\n\t\t\td.set(xreset, yreset, zreset);\n\n\t\t\tfor (var xi = 0, xoff = 0; xi !== nx; xi++, xoff += xstep, d.y = yreset, d.x += binsizeX) {\n\t\t\t\tfor (var yi = 0, yoff = 0; yi !== ny; yi++, yoff += ystep, d.z = zreset, d.y += binsizeY) {\n\t\t\t\t\tfor (var zi = 0, zoff = 0; zi !== nz; zi++, zoff += zstep, d.z += binsizeZ) {\n\t\t\t\t\t\tif (d.dot(planeNormal) < binRadius) {\n\t\t\t\t\t\t\tvar idx = xoff + yoff + zoff;\n\t\t\t\t\t\t\tbins[idx][binLengths[idx]++] = bi;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n            break;\n\n        default:\n\t\t\tif (bi.aabbNeedsUpdate) {\n\t\t\t\tbi.computeAABB();\n\t\t\t}\n\n\t\t\taddBoxToBins(\n\t\t\t\tbi.aabb.lowerBound.x,\n\t\t\t\tbi.aabb.lowerBound.y,\n\t\t\t\tbi.aabb.lowerBound.z,\n\t\t\t\tbi.aabb.upperBound.x,\n\t\t\t\tbi.aabb.upperBound.y,\n\t\t\t\tbi.aabb.upperBound.z,\n\t\t\t\tbi);\n            break;\n        }\n    }\n\n    // Check each bin\n    for(var i=0; i!==Nbins; i++){\n\t\tvar binLength = binLengths[i];\n\t\t//Skip bins with no potential collisions\n\t\tif (binLength > 1) {\n\t\t\tvar bin = bins[i];\n\n\t\t\t// Do N^2 broadphase inside\n\t\t\tfor(var xi=0; xi!==binLength; xi++){\n\t\t\t\tvar bi = bin[xi];\n\t\t\t\tfor(var yi=0; yi!==xi; yi++){\n\t\t\t\t\tvar bj = bin[yi];\n\t\t\t\t\tif(this.needBroadphaseCollision(bi,bj)){\n\t\t\t\t\t\tthis.intersectionTest(bi,bj,pairs1,pairs2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    }\n\n//\tfor (var zi = 0, zoff=0; zi < nz; zi++, zoff+= zstep) {\n//\t\tconsole.log(\"layer \"+zi);\n//\t\tfor (var yi = 0, yoff=0; yi < ny; yi++, yoff += ystep) {\n//\t\t\tvar row = '';\n//\t\t\tfor (var xi = 0, xoff=0; xi < nx; xi++, xoff += xstep) {\n//\t\t\t\tvar idx = xoff + yoff + zoff;\n//\t\t\t\trow += ' ' + binLengths[idx];\n//\t\t\t}\n//\t\t\tconsole.log(row);\n//\t\t}\n//\t}\n\n    this.makePairsUnique(pairs1,pairs2);\n};\n\n},{\"../math/Vec3\":30,\"../shapes/Shape\":43,\"./Broadphase\":5}],7:[function(_dereq_,module,exports){\nmodule.exports = NaiveBroadphase;\n\nvar Broadphase = _dereq_('./Broadphase');\nvar AABB = _dereq_('./AABB');\n\n/**\n * Naive broadphase implementation, used in lack of better ones.\n * @class NaiveBroadphase\n * @constructor\n * @description The naive broadphase looks at all possible pairs without restriction, therefore it has complexity N^2 (which is bad)\n * @extends Broadphase\n */\nfunction NaiveBroadphase(){\n    Broadphase.apply(this);\n}\nNaiveBroadphase.prototype = new Broadphase();\nNaiveBroadphase.prototype.constructor = NaiveBroadphase;\n\n/**\n * Get all the collision pairs in the physics world\n * @method collisionPairs\n * @param {World} world\n * @param {Array} pairs1\n * @param {Array} pairs2\n */\nNaiveBroadphase.prototype.collisionPairs = function(world,pairs1,pairs2){\n    var bodies = world.bodies,\n        n = bodies.length,\n        i,j,bi,bj;\n\n    // Naive N^2 ftw!\n    for(i=0; i!==n; i++){\n        for(j=0; j!==i; j++){\n\n            bi = bodies[i];\n            bj = bodies[j];\n\n            if(!this.needBroadphaseCollision(bi,bj)){\n                continue;\n            }\n\n            this.intersectionTest(bi,bj,pairs1,pairs2);\n        }\n    }\n};\n\nvar tmpAABB = new AABB();\n\n/**\n * Returns all the bodies within an AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param {array} result An array to store resulting bodies in.\n * @return {array}\n */\nNaiveBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    result = result || [];\n\n    for(var i = 0; i < world.bodies.length; i++){\n        var b = world.bodies[i];\n\n        if(b.aabbNeedsUpdate){\n            b.computeAABB();\n        }\n\n        // Ugly hack until Body gets aabb\n        if(b.aabb.overlaps(aabb)){\n            result.push(b);\n        }\n    }\n\n    return result;\n};\n},{\"./AABB\":3,\"./Broadphase\":5}],8:[function(_dereq_,module,exports){\nmodule.exports = ObjectCollisionMatrix;\n\n/**\n * Records what objects are colliding with each other\n * @class ObjectCollisionMatrix\n * @constructor\n */\nfunction ObjectCollisionMatrix() {\n\n    /**\n     * The matrix storage\n     * @property matrix\n     * @type {Object}\n     */\n\tthis.matrix = {};\n}\n\n/**\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nObjectCollisionMatrix.prototype.get = function(i, j) {\n\ti = i.id;\n\tj = j.id;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n\treturn i+'-'+j in this.matrix;\n};\n\n/**\n * @method set\n * @param  {Number} i\n * @param  {Number} j\n * @param {Number} value\n */\nObjectCollisionMatrix.prototype.set = function(i, j, value) {\n\ti = i.id;\n\tj = j.id;\n    if (j > i) {\n        var temp = j;\n        j = i;\n        i = temp;\n\t}\n\tif (value) {\n\t\tthis.matrix[i+'-'+j] = true;\n\t}\n\telse {\n\t\tdelete this.matrix[i+'-'+j];\n\t}\n};\n\n/**\n * Empty the matrix\n * @method reset\n */\nObjectCollisionMatrix.prototype.reset = function() {\n\tthis.matrix = {};\n};\n\n/**\n * Set max number of objects\n * @method setNumObjects\n * @param {Number} n\n */\nObjectCollisionMatrix.prototype.setNumObjects = function(n) {\n};\n\n},{}],9:[function(_dereq_,module,exports){\nmodule.exports = Ray;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\nvar Box = _dereq_('../shapes/Box');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Shape = _dereq_('../shapes/Shape');\nvar AABB = _dereq_('../collision/AABB');\n\n/**\n * A line in 3D space that intersects bodies and return points.\n * @class Ray\n * @constructor\n * @param {Vec3} from\n * @param {Vec3} to\n */\nfunction Ray(from, to){\n    /**\n     * @property {Vec3} from\n     */\n    this.from = from ? from.clone() : new Vec3();\n\n    /**\n     * @property {Vec3} to\n     */\n    this.to = to ? to.clone() : new Vec3();\n\n    /**\n     * @private\n     * @property {Vec3} _direction\n     */\n    this._direction = new Vec3();\n\n    /**\n     * The precision of the ray. Used when checking parallelity etc.\n     * @property {Number} precision\n     */\n    this.precision = 0.0001;\n\n    /**\n     * Set to true if you want the Ray to take .collisionResponse flags into account on bodies and shapes.\n     * @property {Boolean} checkCollisionResponse\n     */\n    this.checkCollisionResponse = true;\n\n    /**\n     * If set to true, the ray skips any hits with normal.dot(rayDirection) < 0.\n     * @property {Boolean} skipBackfaces\n     */\n    this.skipBackfaces = false;\n\n    /**\n     * @property {number} collisionFilterMask\n     * @default -1\n     */\n    this.collisionFilterMask = -1;\n\n    /**\n     * @property {number} collisionFilterGroup\n     * @default -1\n     */\n    this.collisionFilterGroup = -1;\n\n    /**\n     * The intersection mode. Should be Ray.ANY, Ray.ALL or Ray.CLOSEST.\n     * @property {number} mode\n     */\n    this.mode = Ray.ANY;\n\n    /**\n     * Current result object.\n     * @property {RaycastResult} result\n     */\n    this.result = new RaycastResult();\n\n    /**\n     * Will be set to true during intersectWorld() if the ray hit anything.\n     * @property {Boolean} hasHit\n     */\n    this.hasHit = false;\n\n    /**\n     * Current, user-provided result callback. Will be used if mode is Ray.ALL.\n     * @property {Function} callback\n     */\n    this.callback = function(result){};\n}\nRay.prototype.constructor = Ray;\n\nRay.CLOSEST = 1;\nRay.ANY = 2;\nRay.ALL = 4;\n\nvar tmpAABB = new AABB();\nvar tmpArray = [];\n\n/**\n * Do itersection against all bodies in the given World.\n * @method intersectWorld\n * @param  {World} world\n * @param  {object} options\n * @return {Boolean} True if the ray hit anything, otherwise false.\n */\nRay.prototype.intersectWorld = function (world, options) {\n    this.mode = options.mode || Ray.ANY;\n    this.result = options.result || new RaycastResult();\n    this.skipBackfaces = !!options.skipBackfaces;\n    this.collisionFilterMask = typeof(options.collisionFilterMask) !== 'undefined' ? options.collisionFilterMask : -1;\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) !== 'undefined' ? options.collisionFilterGroup : -1;\n    if(options.from){\n        this.from.copy(options.from);\n    }\n    if(options.to){\n        this.to.copy(options.to);\n    }\n    this.callback = options.callback || function(){};\n    this.hasHit = false;\n\n    this.result.reset();\n    this._updateDirection();\n\n    this.getAABB(tmpAABB);\n    tmpArray.length = 0;\n    world.broadphase.aabbQuery(world, tmpAABB, tmpArray);\n    this.intersectBodies(tmpArray);\n\n    return this.hasHit;\n};\n\nvar v1 = new Vec3(),\n    v2 = new Vec3();\n\n/*\n * As per \"Barycentric Technique\" as named here http://www.blackpawn.com/texts/pointinpoly/default.html But without the division\n */\nRay.pointInTriangle = pointInTriangle;\nfunction pointInTriangle(p, a, b, c) {\n    c.vsub(a,v0);\n    b.vsub(a,v1);\n    p.vsub(a,v2);\n\n    var dot00 = v0.dot( v0 );\n    var dot01 = v0.dot( v1 );\n    var dot02 = v0.dot( v2 );\n    var dot11 = v1.dot( v1 );\n    var dot12 = v1.dot( v2 );\n\n    var u,v;\n\n    return  ( (u = dot11 * dot02 - dot01 * dot12) >= 0 ) &&\n            ( (v = dot00 * dot12 - dot01 * dot02) >= 0 ) &&\n            ( u + v < ( dot00 * dot11 - dot01 * dot01 ) );\n}\n\n/**\n * Shoot a ray at a body, get back information about the hit.\n * @method intersectBody\n * @private\n * @param {Body} body\n * @param {RaycastResult} [result] Deprecated - set the result property of the Ray instead.\n */\nvar intersectBody_xi = new Vec3();\nvar intersectBody_qi = new Quaternion();\nRay.prototype.intersectBody = function (body, result) {\n    if(result){\n        this.result = result;\n        this._updateDirection();\n    }\n    var checkCollisionResponse = this.checkCollisionResponse;\n\n    if(checkCollisionResponse && !body.collisionResponse){\n        return;\n    }\n\n    if((this.collisionFilterGroup & body.collisionFilterMask)===0 || (body.collisionFilterGroup & this.collisionFilterMask)===0){\n        return;\n    }\n\n    var xi = intersectBody_xi;\n    var qi = intersectBody_qi;\n\n    for (var i = 0, N = body.shapes.length; i < N; i++) {\n        var shape = body.shapes[i];\n\n        if(checkCollisionResponse && !shape.collisionResponse){\n            continue; // Skip\n        }\n\n        body.quaternion.mult(body.shapeOrientations[i], qi);\n        body.quaternion.vmult(body.shapeOffsets[i], xi);\n        xi.vadd(body.position, xi);\n\n        this.intersectShape(\n            shape,\n            qi,\n            xi,\n            body\n        );\n\n        if(this.result._shouldStop){\n            break;\n        }\n    }\n};\n\n/**\n * @method intersectBodies\n * @param {Array} bodies An array of Body objects.\n * @param {RaycastResult} [result] Deprecated\n */\nRay.prototype.intersectBodies = function (bodies, result) {\n    if(result){\n        this.result = result;\n        this._updateDirection();\n    }\n\n    for ( var i = 0, l = bodies.length; !this.result._shouldStop && i < l; i ++ ) {\n        this.intersectBody(bodies[i]);\n    }\n};\n\n/**\n * Updates the _direction vector.\n * @private\n * @method _updateDirection\n */\nRay.prototype._updateDirection = function(){\n    this.to.vsub(this.from, this._direction);\n    this._direction.normalize();\n};\n\n/**\n * @method intersectShape\n * @private\n * @param {Shape} shape\n * @param {Quaternion} quat\n * @param {Vec3} position\n * @param {Body} body\n */\nRay.prototype.intersectShape = function(shape, quat, position, body){\n    var from = this.from;\n\n\n    // Checking boundingSphere\n    var distance = distanceFromIntersection(from, this._direction, position);\n    if ( distance > shape.boundingSphereRadius ) {\n        return;\n    }\n\n    var intersectMethod = this[shape.type];\n    if(intersectMethod){\n        intersectMethod.call(this, shape, quat, position, body);\n    }\n};\n\nvar vector = new Vec3();\nvar normal = new Vec3();\nvar intersectPoint = new Vec3();\n\nvar a = new Vec3();\nvar b = new Vec3();\nvar c = new Vec3();\nvar d = new Vec3();\n\nvar tmpRaycastResult = new RaycastResult();\n\n/**\n * @method intersectBox\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectBox = function(shape, quat, position, body){\n    return this.intersectConvex(shape.convexPolyhedronRepresentation, quat, position, body);\n};\nRay.prototype[Shape.types.BOX] = Ray.prototype.intersectBox;\n\n/**\n * @method intersectPlane\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectPlane = function(shape, quat, position, body){\n    var from = this.from;\n    var to = this.to;\n    var direction = this._direction;\n\n    // Get plane normal\n    var worldNormal = new Vec3(0, 0, 1);\n    quat.vmult(worldNormal, worldNormal);\n\n    var len = new Vec3();\n    from.vsub(position, len);\n    var planeToFrom = len.dot(worldNormal);\n    to.vsub(position, len);\n    var planeToTo = len.dot(worldNormal);\n\n    if(planeToFrom * planeToTo > 0){\n        // \"from\" and \"to\" are on the same side of the plane... bail out\n        return;\n    }\n\n    if(from.distanceTo(to) < planeToFrom){\n        return;\n    }\n\n    var n_dot_dir = worldNormal.dot(direction);\n\n    if (Math.abs(n_dot_dir) < this.precision) {\n        // No intersection\n        return;\n    }\n\n    var planePointToFrom = new Vec3();\n    var dir_scaled_with_t = new Vec3();\n    var hitPointWorld = new Vec3();\n\n    from.vsub(position, planePointToFrom);\n    var t = -worldNormal.dot(planePointToFrom) / n_dot_dir;\n    direction.scale(t, dir_scaled_with_t);\n    from.vadd(dir_scaled_with_t, hitPointWorld);\n\n    this.reportIntersection(worldNormal, hitPointWorld, shape, body, -1);\n};\nRay.prototype[Shape.types.PLANE] = Ray.prototype.intersectPlane;\n\n/**\n * Get the world AABB of the ray.\n * @method getAABB\n * @param  {AABB} aabb\n */\nRay.prototype.getAABB = function(result){\n    var to = this.to;\n    var from = this.from;\n    result.lowerBound.x = Math.min(to.x, from.x);\n    result.lowerBound.y = Math.min(to.y, from.y);\n    result.lowerBound.z = Math.min(to.z, from.z);\n    result.upperBound.x = Math.max(to.x, from.x);\n    result.upperBound.y = Math.max(to.y, from.y);\n    result.upperBound.z = Math.max(to.z, from.z);\n};\n\nvar intersectConvexOptions = {\n    faceList: [0]\n};\n\n/**\n * @method intersectHeightfield\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectHeightfield = function(shape, quat, position, body){\n    var data = shape.data,\n        w = shape.elementSize,\n        worldPillarOffset = new Vec3();\n\n    // Convert the ray to local heightfield coordinates\n    var localRay = new Ray(this.from, this.to);\n    Transform.pointToLocalFrame(position, quat, localRay.from, localRay.from);\n    Transform.pointToLocalFrame(position, quat, localRay.to, localRay.to);\n\n    // Get the index of the data points to test against\n    var index = [];\n    var iMinX = null;\n    var iMinY = null;\n    var iMaxX = null;\n    var iMaxY = null;\n\n    var inside = shape.getIndexOfPosition(localRay.from.x, localRay.from.y, index, false);\n    if(inside){\n        iMinX = index[0];\n        iMinY = index[1];\n        iMaxX = index[0];\n        iMaxY = index[1];\n    }\n    inside = shape.getIndexOfPosition(localRay.to.x, localRay.to.y, index, false);\n    if(inside){\n        if (iMinX === null || index[0] < iMinX) { iMinX = index[0]; }\n        if (iMaxX === null || index[0] > iMaxX) { iMaxX = index[0]; }\n        if (iMinY === null || index[1] < iMinY) { iMinY = index[1]; }\n        if (iMaxY === null || index[1] > iMaxY) { iMaxY = index[1]; }\n    }\n\n    if(iMinX === null){\n        return;\n    }\n\n    var minMax = [];\n    shape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // // Bail out if the ray can't touch the bounding box\n    // // TODO\n    // var aabb = new AABB();\n    // this.getAABB(aabb);\n    // if(aabb.intersects()){\n    //     return;\n    // }\n\n    for(var i = iMinX; i <= iMaxX; i++){\n        for(var j = iMinY; j <= iMaxY; j++){\n\n            if(this.result._shouldStop){\n                return;\n            }\n\n            // Lower triangle\n            shape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\n\n            if(this.result._shouldStop){\n                return;\n            }\n\n            // Upper triangle\n            shape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(position, quat, shape.pillarOffset, worldPillarOffset);\n            this.intersectConvex(shape.pillarConvex, quat, worldPillarOffset, body, intersectConvexOptions);\n        }\n    }\n};\nRay.prototype[Shape.types.HEIGHTFIELD] = Ray.prototype.intersectHeightfield;\n\nvar Ray_intersectSphere_intersectionPoint = new Vec3();\nvar Ray_intersectSphere_normal = new Vec3();\n\n/**\n * @method intersectSphere\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n */\nRay.prototype.intersectSphere = function(shape, quat, position, body){\n    var from = this.from,\n        to = this.to,\n        r = shape.radius;\n\n    var a = Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2) + Math.pow(to.z - from.z, 2);\n    var b = 2 * ((to.x - from.x) * (from.x - position.x) + (to.y - from.y) * (from.y - position.y) + (to.z - from.z) * (from.z - position.z));\n    var c = Math.pow(from.x - position.x, 2) + Math.pow(from.y - position.y, 2) + Math.pow(from.z - position.z, 2) - Math.pow(r, 2);\n\n    var delta = Math.pow(b, 2) - 4 * a * c;\n\n    var intersectionPoint = Ray_intersectSphere_intersectionPoint;\n    var normal = Ray_intersectSphere_normal;\n\n    if(delta < 0){\n        // No intersection\n        return;\n\n    } else if(delta === 0){\n        // single intersection point\n        from.lerp(to, delta, intersectionPoint);\n\n        intersectionPoint.vsub(position, normal);\n        normal.normalize();\n\n        this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n\n    } else {\n        var d1 = (- b - Math.sqrt(delta)) / (2 * a);\n        var d2 = (- b + Math.sqrt(delta)) / (2 * a);\n\n        if(d1 >= 0 && d1 <= 1){\n            from.lerp(to, d1, intersectionPoint);\n            intersectionPoint.vsub(position, normal);\n            normal.normalize();\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n        }\n\n        if(this.result._shouldStop){\n            return;\n        }\n\n        if(d2 >= 0 && d2 <= 1){\n            from.lerp(to, d2, intersectionPoint);\n            intersectionPoint.vsub(position, normal);\n            normal.normalize();\n            this.reportIntersection(normal, intersectionPoint, shape, body, -1);\n        }\n    }\n};\nRay.prototype[Shape.types.SPHERE] = Ray.prototype.intersectSphere;\n\n\nvar intersectConvex_normal = new Vec3();\nvar intersectConvex_minDistNormal = new Vec3();\nvar intersectConvex_minDistIntersect = new Vec3();\nvar intersectConvex_vector = new Vec3();\n\n/**\n * @method intersectConvex\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n * @param {object} [options]\n * @param {array} [options.faceList]\n */\nRay.prototype.intersectConvex = function intersectConvex(\n    shape,\n    quat,\n    position,\n    body,\n    options\n){\n    var minDistNormal = intersectConvex_minDistNormal;\n    var normal = intersectConvex_normal;\n    var vector = intersectConvex_vector;\n    var minDistIntersect = intersectConvex_minDistIntersect;\n    var faceList = (options && options.faceList) || null;\n\n    // Checking faces\n    var faces = shape.faces,\n        vertices = shape.vertices,\n        normals = shape.faceNormals;\n    var direction = this._direction;\n\n    var from = this.from;\n    var to = this.to;\n    var fromToDistance = from.distanceTo(to);\n\n    var minDist = -1;\n    var Nfaces = faceList ? faceList.length : faces.length;\n    var result = this.result;\n\n    for (var j = 0; !result._shouldStop && j < Nfaces; j++) {\n        var fi = faceList ? faceList[j] : j;\n\n        var face = faces[fi];\n        var faceNormal = normals[fi];\n        var q = quat;\n        var x = position;\n\n        // determine if ray intersects the plane of the face\n        // note: this works regardless of the direction of the face normal\n\n        // Get plane point in world coordinates...\n        vector.copy(vertices[face[0]]);\n        q.vmult(vector,vector);\n        vector.vadd(x,vector);\n\n        // ...but make it relative to the ray from. We'll fix this later.\n        vector.vsub(from,vector);\n\n        // Get plane normal\n        q.vmult(faceNormal,normal);\n\n        // If this dot product is negative, we have something interesting\n        var dot = direction.dot(normal);\n\n        // Bail out if ray and plane are parallel\n        if ( Math.abs( dot ) < this.precision ){\n            continue;\n        }\n\n        // calc distance to plane\n        var scalar = normal.dot(vector) / dot;\n\n        // if negative distance, then plane is behind ray\n        if (scalar < 0){\n            continue;\n        }\n\n        // if (dot < 0) {\n\n        // Intersection point is from + direction * scalar\n        direction.mult(scalar,intersectPoint);\n        intersectPoint.vadd(from,intersectPoint);\n\n        // a is the point we compare points b and c with.\n        a.copy(vertices[face[0]]);\n        q.vmult(a,a);\n        x.vadd(a,a);\n\n        for(var i = 1; !result._shouldStop && i < face.length - 1; i++){\n            // Transform 3 vertices to world coords\n            b.copy(vertices[face[i]]);\n            c.copy(vertices[face[i+1]]);\n            q.vmult(b,b);\n            q.vmult(c,c);\n            x.vadd(b,b);\n            x.vadd(c,c);\n\n            var distance = intersectPoint.distanceTo(from);\n\n            if(!(pointInTriangle(intersectPoint, a, b, c) || pointInTriangle(intersectPoint, b, a, c)) || distance > fromToDistance){\n                continue;\n            }\n\n            this.reportIntersection(normal, intersectPoint, shape, body, fi);\n        }\n        // }\n    }\n};\nRay.prototype[Shape.types.CONVEXPOLYHEDRON] = Ray.prototype.intersectConvex;\n\nvar intersectTrimesh_normal = new Vec3();\nvar intersectTrimesh_localDirection = new Vec3();\nvar intersectTrimesh_localFrom = new Vec3();\nvar intersectTrimesh_localTo = new Vec3();\nvar intersectTrimesh_worldNormal = new Vec3();\nvar intersectTrimesh_worldIntersectPoint = new Vec3();\nvar intersectTrimesh_localAABB = new AABB();\nvar intersectTrimesh_triangles = [];\nvar intersectTrimesh_treeTransform = new Transform();\n\n/**\n * @method intersectTrimesh\n * @private\n * @param  {Shape} shape\n * @param  {Quaternion} quat\n * @param  {Vec3} position\n * @param  {Body} body\n * @param {object} [options]\n * @todo Optimize by transforming the world to local space first.\n * @todo Use Octree lookup\n */\nRay.prototype.intersectTrimesh = function intersectTrimesh(\n    mesh,\n    quat,\n    position,\n    body,\n    options\n){\n    var normal = intersectTrimesh_normal;\n    var triangles = intersectTrimesh_triangles;\n    var treeTransform = intersectTrimesh_treeTransform;\n    var minDistNormal = intersectConvex_minDistNormal;\n    var vector = intersectConvex_vector;\n    var minDistIntersect = intersectConvex_minDistIntersect;\n    var localAABB = intersectTrimesh_localAABB;\n    var localDirection = intersectTrimesh_localDirection;\n    var localFrom = intersectTrimesh_localFrom;\n    var localTo = intersectTrimesh_localTo;\n    var worldIntersectPoint = intersectTrimesh_worldIntersectPoint;\n    var worldNormal = intersectTrimesh_worldNormal;\n    var faceList = (options && options.faceList) || null;\n\n    // Checking faces\n    var indices = mesh.indices,\n        vertices = mesh.vertices,\n        normals = mesh.faceNormals;\n\n    var from = this.from;\n    var to = this.to;\n    var direction = this._direction;\n\n    var minDist = -1;\n    treeTransform.position.copy(position);\n    treeTransform.quaternion.copy(quat);\n\n    // Transform ray to local space!\n    Transform.vectorToLocalFrame(position, quat, direction, localDirection);\n    //body.vectorToLocalFrame(direction, localDirection);\n    Transform.pointToLocalFrame(position, quat, from, localFrom);\n    //body.pointToLocalFrame(from, localFrom);\n    Transform.pointToLocalFrame(position, quat, to, localTo);\n    //body.pointToLocalFrame(to, localTo);\n    var fromToDistanceSquared = localFrom.distanceSquared(localTo);\n\n    mesh.tree.rayQuery(this, treeTransform, triangles);\n\n    for (var i = 0, N = triangles.length; !this.result._shouldStop && i !== N; i++) {\n        var trianglesIndex = triangles[i];\n\n        mesh.getNormal(trianglesIndex, normal);\n\n        // determine if ray intersects the plane of the face\n        // note: this works regardless of the direction of the face normal\n\n        // Get plane point in world coordinates...\n        mesh.getVertex(indices[trianglesIndex * 3], a);\n\n        // ...but make it relative to the ray from. We'll fix this later.\n        a.vsub(localFrom,vector);\n\n        // Get plane normal\n        // quat.vmult(normal, normal);\n\n        // If this dot product is negative, we have something interesting\n        var dot = localDirection.dot(normal);\n\n        // Bail out if ray and plane are parallel\n        // if (Math.abs( dot ) < this.precision){\n        //     continue;\n        // }\n\n        // calc distance to plane\n        var scalar = normal.dot(vector) / dot;\n\n        // if negative distance, then plane is behind ray\n        if (scalar < 0){\n            continue;\n        }\n\n        // Intersection point is from + direction * scalar\n        localDirection.scale(scalar,intersectPoint);\n        intersectPoint.vadd(localFrom,intersectPoint);\n\n        // Get triangle vertices\n        mesh.getVertex(indices[trianglesIndex * 3 + 1], b);\n        mesh.getVertex(indices[trianglesIndex * 3 + 2], c);\n\n        var squaredDistance = intersectPoint.distanceSquared(localFrom);\n\n        if(!(pointInTriangle(intersectPoint, b, a, c) || pointInTriangle(intersectPoint, a, b, c)) || squaredDistance > fromToDistanceSquared){\n            continue;\n        }\n\n        // transform intersectpoint and normal to world\n        Transform.vectorToWorldFrame(quat, normal, worldNormal);\n        //body.vectorToWorldFrame(normal, worldNormal);\n        Transform.pointToWorldFrame(position, quat, intersectPoint, worldIntersectPoint);\n        //body.pointToWorldFrame(intersectPoint, worldIntersectPoint);\n        this.reportIntersection(worldNormal, worldIntersectPoint, mesh, body, trianglesIndex);\n    }\n    triangles.length = 0;\n};\nRay.prototype[Shape.types.TRIMESH] = Ray.prototype.intersectTrimesh;\n\n\n/**\n * @method reportIntersection\n * @private\n * @param  {Vec3} normal\n * @param  {Vec3} hitPointWorld\n * @param  {Shape} shape\n * @param  {Body} body\n * @return {boolean} True if the intersections should continue\n */\nRay.prototype.reportIntersection = function(normal, hitPointWorld, shape, body, hitFaceIndex){\n    var from = this.from;\n    var to = this.to;\n    var distance = from.distanceTo(hitPointWorld);\n    var result = this.result;\n\n    // Skip back faces?\n    if(this.skipBackfaces && normal.dot(this._direction) > 0){\n        return;\n    }\n\n    result.hitFaceIndex = typeof(hitFaceIndex) !== 'undefined' ? hitFaceIndex : -1;\n\n    switch(this.mode){\n    case Ray.ALL:\n        this.hasHit = true;\n        result.set(\n            from,\n            to,\n            normal,\n            hitPointWorld,\n            shape,\n            body,\n            distance\n        );\n        result.hasHit = true;\n        this.callback(result);\n        break;\n\n    case Ray.CLOSEST:\n\n        // Store if closer than current closest\n        if(distance < result.distance || !result.hasHit){\n            this.hasHit = true;\n            result.hasHit = true;\n            result.set(\n                from,\n                to,\n                normal,\n                hitPointWorld,\n                shape,\n                body,\n                distance\n            );\n        }\n        break;\n\n    case Ray.ANY:\n\n        // Report and stop.\n        this.hasHit = true;\n        result.hasHit = true;\n        result.set(\n            from,\n            to,\n            normal,\n            hitPointWorld,\n            shape,\n            body,\n            distance\n        );\n        result._shouldStop = true;\n        break;\n    }\n};\n\nvar v0 = new Vec3(),\n    intersect = new Vec3();\nfunction distanceFromIntersection(from, direction, position) {\n\n    // v0 is vector from from to position\n    position.vsub(from,v0);\n    var dot = v0.dot(direction);\n\n    // intersect = direction*dot + from\n    direction.mult(dot,intersect);\n    intersect.vadd(from,intersect);\n\n    var distance = position.distanceTo(intersect);\n\n    return distance;\n}\n\n\n},{\"../collision/AABB\":3,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43}],10:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = RaycastResult;\n\n/**\n * Storage for Ray casting data.\n * @class RaycastResult\n * @constructor\n */\nfunction RaycastResult(){\n\n\t/**\n\t * @property {Vec3} rayFromWorld\n\t */\n\tthis.rayFromWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} rayToWorld\n\t */\n\tthis.rayToWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} hitNormalWorld\n\t */\n\tthis.hitNormalWorld = new Vec3();\n\n\t/**\n\t * @property {Vec3} hitPointWorld\n\t */\n\tthis.hitPointWorld = new Vec3();\n\n\t/**\n\t * @property {boolean} hasHit\n\t */\n\tthis.hasHit = false;\n\n\t/**\n\t * The hit shape, or null.\n\t * @property {Shape} shape\n\t */\n\tthis.shape = null;\n\n\t/**\n\t * The hit body, or null.\n\t * @property {Body} body\n\t */\n\tthis.body = null;\n\n\t/**\n\t * The index of the hit triangle, if the hit shape was a trimesh.\n\t * @property {number} hitFaceIndex\n\t * @default -1\n\t */\n\tthis.hitFaceIndex = -1;\n\n\t/**\n\t * Distance to the hit. Will be set to -1 if there was no hit.\n\t * @property {number} distance\n\t * @default -1\n\t */\n\tthis.distance = -1;\n\n\t/**\n\t * If the ray should stop traversing the bodies.\n\t * @private\n\t * @property {Boolean} _shouldStop\n\t * @default false\n\t */\n\tthis._shouldStop = false;\n}\n\n/**\n * Reset all result data.\n * @method reset\n */\nRaycastResult.prototype.reset = function () {\n\tthis.rayFromWorld.setZero();\n\tthis.rayToWorld.setZero();\n\tthis.hitNormalWorld.setZero();\n\tthis.hitPointWorld.setZero();\n\tthis.hasHit = false;\n\tthis.shape = null;\n\tthis.body = null;\n\tthis.hitFaceIndex = -1;\n\tthis.distance = -1;\n\tthis._shouldStop = false;\n};\n\n/**\n * @method abort\n */\nRaycastResult.prototype.abort = function(){\n\tthis._shouldStop = true;\n};\n\n/**\n * @method set\n * @param {Vec3} rayFromWorld\n * @param {Vec3} rayToWorld\n * @param {Vec3} hitNormalWorld\n * @param {Vec3} hitPointWorld\n * @param {Shape} shape\n * @param {Body} body\n * @param {number} distance\n */\nRaycastResult.prototype.set = function(\n\trayFromWorld,\n\trayToWorld,\n\thitNormalWorld,\n\thitPointWorld,\n\tshape,\n\tbody,\n\tdistance\n){\n\tthis.rayFromWorld.copy(rayFromWorld);\n\tthis.rayToWorld.copy(rayToWorld);\n\tthis.hitNormalWorld.copy(hitNormalWorld);\n\tthis.hitPointWorld.copy(hitPointWorld);\n\tthis.shape = shape;\n\tthis.body = body;\n\tthis.distance = distance;\n};\n},{\"../math/Vec3\":30}],11:[function(_dereq_,module,exports){\nvar Shape = _dereq_('../shapes/Shape');\nvar Broadphase = _dereq_('../collision/Broadphase');\n\nmodule.exports = SAPBroadphase;\n\n/**\n * Sweep and prune broadphase along one axis.\n *\n * @class SAPBroadphase\n * @constructor\n * @param {World} [world]\n * @extends Broadphase\n */\nfunction SAPBroadphase(world){\n    Broadphase.apply(this);\n\n    /**\n     * List of bodies currently in the broadphase.\n     * @property axisList\n     * @type {Array}\n     */\n    this.axisList = [];\n\n    /**\n     * The world to search in.\n     * @property world\n     * @type {World}\n     */\n    this.world = null;\n\n    /**\n     * Axis to sort the bodies along. Set to 0 for x axis, and 1 for y axis. For best performance, choose an axis that the bodies are spread out more on.\n     * @property axisIndex\n     * @type {Number}\n     */\n    this.axisIndex = 0;\n\n    var axisList = this.axisList;\n\n    this._addBodyHandler = function(e){\n        axisList.push(e.body);\n    };\n\n    this._removeBodyHandler = function(e){\n        var idx = axisList.indexOf(e.body);\n        if(idx !== -1){\n            axisList.splice(idx,1);\n        }\n    };\n\n    if(world){\n        this.setWorld(world);\n    }\n}\nSAPBroadphase.prototype = new Broadphase();\n\n/**\n * Change the world\n * @method setWorld\n * @param  {World} world\n */\nSAPBroadphase.prototype.setWorld = function(world){\n    // Clear the old axis array\n    this.axisList.length = 0;\n\n    // Add all bodies from the new world\n    for(var i=0; i<world.bodies.length; i++){\n        this.axisList.push(world.bodies[i]);\n    }\n\n    // Remove old handlers, if any\n    world.removeEventListener(\"addBody\", this._addBodyHandler);\n    world.removeEventListener(\"removeBody\", this._removeBodyHandler);\n\n    // Add handlers to update the list of bodies.\n    world.addEventListener(\"addBody\", this._addBodyHandler);\n    world.addEventListener(\"removeBody\", this._removeBodyHandler);\n\n    this.world = world;\n    this.dirty = true;\n};\n\n/**\n * @static\n * @method insertionSortX\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortX = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.x <= v.aabb.lowerBound.x){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * @static\n * @method insertionSortY\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortY = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.y <= v.aabb.lowerBound.y){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * @static\n * @method insertionSortZ\n * @param  {Array} a\n * @return {Array}\n */\nSAPBroadphase.insertionSortZ = function(a) {\n    for(var i=1,l=a.length;i<l;i++) {\n        var v = a[i];\n        for(var j=i - 1;j>=0;j--) {\n            if(a[j].aabb.lowerBound.z <= v.aabb.lowerBound.z){\n                break;\n            }\n            a[j+1] = a[j];\n        }\n        a[j+1] = v;\n    }\n    return a;\n};\n\n/**\n * Collect all collision pairs\n * @method collisionPairs\n * @param  {World} world\n * @param  {Array} p1\n * @param  {Array} p2\n */\nSAPBroadphase.prototype.collisionPairs = function(world,p1,p2){\n    var bodies = this.axisList,\n        N = bodies.length,\n        axisIndex = this.axisIndex,\n        i, j;\n\n    if(this.dirty){\n        this.sortList();\n        this.dirty = false;\n    }\n\n    // Look through the list\n    for(i=0; i !== N; i++){\n        var bi = bodies[i];\n\n        for(j=i+1; j < N; j++){\n            var bj = bodies[j];\n\n            if(!this.needBroadphaseCollision(bi,bj)){\n                continue;\n            }\n\n            if(!SAPBroadphase.checkBounds(bi,bj,axisIndex)){\n                break;\n            }\n\n            this.intersectionTest(bi,bj,p1,p2);\n        }\n    }\n};\n\nSAPBroadphase.prototype.sortList = function(){\n    var axisList = this.axisList;\n    var axisIndex = this.axisIndex;\n    var N = axisList.length;\n\n    // Update AABBs\n    for(var i = 0; i!==N; i++){\n        var bi = axisList[i];\n        if(bi.aabbNeedsUpdate){\n            bi.computeAABB();\n        }\n    }\n\n    // Sort the list\n    if(axisIndex === 0){\n        SAPBroadphase.insertionSortX(axisList);\n    } else if(axisIndex === 1){\n        SAPBroadphase.insertionSortY(axisList);\n    } else if(axisIndex === 2){\n        SAPBroadphase.insertionSortZ(axisList);\n    }\n};\n\n/**\n * Check if the bounds of two bodies overlap, along the given SAP axis.\n * @static\n * @method checkBounds\n * @param  {Body} bi\n * @param  {Body} bj\n * @param  {Number} axisIndex\n * @return {Boolean}\n */\nSAPBroadphase.checkBounds = function(bi, bj, axisIndex){\n    var biPos;\n    var bjPos;\n\n    if(axisIndex === 0){\n        biPos = bi.position.x;\n        bjPos = bj.position.x;\n    } else if(axisIndex === 1){\n        biPos = bi.position.y;\n        bjPos = bj.position.y;\n    } else if(axisIndex === 2){\n        biPos = bi.position.z;\n        bjPos = bj.position.z;\n    }\n\n    var ri = bi.boundingRadius,\n        rj = bj.boundingRadius,\n        boundA1 = biPos - ri,\n        boundA2 = biPos + ri,\n        boundB1 = bjPos - rj,\n        boundB2 = bjPos + rj;\n\n    return boundB1 < boundA2;\n};\n\n/**\n * Computes the variance of the body positions and estimates the best\n * axis to use. Will automatically set property .axisIndex.\n * @method autoDetectAxis\n */\nSAPBroadphase.prototype.autoDetectAxis = function(){\n    var sumX=0,\n        sumX2=0,\n        sumY=0,\n        sumY2=0,\n        sumZ=0,\n        sumZ2=0,\n        bodies = this.axisList,\n        N = bodies.length,\n        invN=1/N;\n\n    for(var i=0; i!==N; i++){\n        var b = bodies[i];\n\n        var centerX = b.position.x;\n        sumX += centerX;\n        sumX2 += centerX*centerX;\n\n        var centerY = b.position.y;\n        sumY += centerY;\n        sumY2 += centerY*centerY;\n\n        var centerZ = b.position.z;\n        sumZ += centerZ;\n        sumZ2 += centerZ*centerZ;\n    }\n\n    var varianceX = sumX2 - sumX*sumX*invN,\n        varianceY = sumY2 - sumY*sumY*invN,\n        varianceZ = sumZ2 - sumZ*sumZ*invN;\n\n    if(varianceX > varianceY){\n        if(varianceX > varianceZ){\n            this.axisIndex = 0;\n        } else{\n            this.axisIndex = 2;\n        }\n    } else if(varianceY > varianceZ){\n        this.axisIndex = 1;\n    } else{\n        this.axisIndex = 2;\n    }\n};\n\n/**\n * Returns all the bodies within an AABB.\n * @method aabbQuery\n * @param  {World} world\n * @param  {AABB} aabb\n * @param {array} result An array to store resulting bodies in.\n * @return {array}\n */\nSAPBroadphase.prototype.aabbQuery = function(world, aabb, result){\n    result = result || [];\n\n    if(this.dirty){\n        this.sortList();\n        this.dirty = false;\n    }\n\n    var axisIndex = this.axisIndex, axis = 'x';\n    if(axisIndex === 1){ axis = 'y'; }\n    if(axisIndex === 2){ axis = 'z'; }\n\n    var axisList = this.axisList;\n    var lower = aabb.lowerBound[axis];\n    var upper = aabb.upperBound[axis];\n    for(var i = 0; i < axisList.length; i++){\n        var b = axisList[i];\n\n        if(b.aabbNeedsUpdate){\n            b.computeAABB();\n        }\n\n        if(b.aabb.overlaps(aabb)){\n            result.push(b);\n        }\n    }\n\n    return result;\n};\n},{\"../collision/Broadphase\":5,\"../shapes/Shape\":43}],12:[function(_dereq_,module,exports){\nmodule.exports = ConeTwistConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar ConeEquation = _dereq_('../equations/ConeEquation');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * @class ConeTwistConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Vec3} [options.pivotA]\n * @param {Vec3} [options.pivotB]\n * @param {Vec3} [options.axisA]\n * @param {Vec3} [options.axisB]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction ConeTwistConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    // Set pivot point in between\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3();\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3();\n\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    this.collideConnected = !!options.collideConnected;\n\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\n\n    /**\n     * @property {ConeEquation} coneEquation\n     */\n    var c = this.coneEquation = new ConeEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} twistEquation\n     */\n    var t = this.twistEquation = new RotationalEquation(bodyA,bodyB,options);\n    this.twistAngle = typeof(options.twistAngle) !== 'undefined' ? options.twistAngle : 0;\n\n    // Make the cone equation push the bodies toward the cone axis, not outward\n    c.maxForce = 0;\n    c.minForce = -maxForce;\n\n    // Make the twist equation add torque toward the initial position\n    t.maxForce = 0;\n    t.minForce = -maxForce;\n\n    this.equations.push(c, t);\n}\nConeTwistConstraint.prototype = new PointToPointConstraint();\nConeTwistConstraint.constructor = ConeTwistConstraint;\n\nvar ConeTwistConstraint_update_tmpVec1 = new Vec3();\nvar ConeTwistConstraint_update_tmpVec2 = new Vec3();\n\nConeTwistConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        cone = this.coneEquation,\n        twist = this.twistEquation;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    // Update the axes to the cone constraint\n    bodyA.vectorToWorldFrame(this.axisA, cone.axisA);\n    bodyB.vectorToWorldFrame(this.axisB, cone.axisB);\n\n    // Update the world axes in the twist constraint\n    this.axisA.tangents(twist.axisA, twist.axisA);\n    bodyA.vectorToWorldFrame(twist.axisA, twist.axisA);\n\n    this.axisB.tangents(twist.axisB, twist.axisB);\n    bodyB.vectorToWorldFrame(twist.axisB, twist.axisB);\n\n    cone.angle = this.angle;\n    twist.maxAngle = this.twistAngle;\n};\n\n\n},{\"../equations/ConeEquation\":18,\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],13:[function(_dereq_,module,exports){\nmodule.exports = Constraint;\n\nvar Utils = _dereq_('../utils/Utils');\n\n/**\n * Constraint base class\n * @class Constraint\n * @author schteppe\n * @constructor\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {boolean} [options.collideConnected=true]\n * @param {boolean} [options.wakeUpBodies=true]\n */\nfunction Constraint(bodyA, bodyB, options){\n    options = Utils.defaults(options,{\n        collideConnected : true,\n        wakeUpBodies : true,\n    });\n\n    /**\n     * Equations to be solved in this constraint\n     * @property equations\n     * @type {Array}\n     */\n    this.equations = [];\n\n    /**\n     * @property {Body} bodyA\n     */\n    this.bodyA = bodyA;\n\n    /**\n     * @property {Body} bodyB\n     */\n    this.bodyB = bodyB;\n\n    /**\n     * @property {Number} id\n     */\n    this.id = Constraint.idCounter++;\n\n    /**\n     * Set to true if you want the bodies to collide when they are connected.\n     * @property collideConnected\n     * @type {boolean}\n     */\n    this.collideConnected = options.collideConnected;\n\n    if(options.wakeUpBodies){\n        if(bodyA){\n            bodyA.wakeUp();\n        }\n        if(bodyB){\n            bodyB.wakeUp();\n        }\n    }\n}\n\n/**\n * Update all the equations with data.\n * @method update\n */\nConstraint.prototype.update = function(){\n    throw new Error(\"method update() not implmemented in this Constraint subclass!\");\n};\n\n/**\n * Enables all equations in the constraint.\n * @method enable\n */\nConstraint.prototype.enable = function(){\n    var eqs = this.equations;\n    for(var i=0; i<eqs.length; i++){\n        eqs[i].enabled = true;\n    }\n};\n\n/**\n * Disables all equations in the constraint.\n * @method disable\n */\nConstraint.prototype.disable = function(){\n    var eqs = this.equations;\n    for(var i=0; i<eqs.length; i++){\n        eqs[i].enabled = false;\n    }\n};\n\nConstraint.idCounter = 0;\n\n},{\"../utils/Utils\":53}],14:[function(_dereq_,module,exports){\nmodule.exports = DistanceConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\n\n/**\n * Constrains two bodies to be at a constant distance from each others center of mass.\n * @class DistanceConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} [distance] The distance to keep. If undefined, it will be set to the current distance between bodyA and bodyB\n * @param {Number} [maxForce=1e6]\n * @extends Constraint\n */\nfunction DistanceConstraint(bodyA,bodyB,distance,maxForce){\n    Constraint.call(this,bodyA,bodyB);\n\n    if(typeof(distance)===\"undefined\") {\n        distance = bodyA.position.distanceTo(bodyB.position);\n    }\n\n    if(typeof(maxForce)===\"undefined\") {\n        maxForce = 1e6;\n    }\n\n    /**\n     * @property {number} distance\n     */\n    this.distance = distance;\n\n    /**\n     * @property {ContactEquation} distanceEquation\n     */\n    var eq = this.distanceEquation = new ContactEquation(bodyA, bodyB);\n    this.equations.push(eq);\n\n    // Make it bidirectional\n    eq.minForce = -maxForce;\n    eq.maxForce =  maxForce;\n}\nDistanceConstraint.prototype = new Constraint();\n\nDistanceConstraint.prototype.update = function(){\n    var bodyA = this.bodyA;\n    var bodyB = this.bodyB;\n    var eq = this.distanceEquation;\n    var halfDist = this.distance * 0.5;\n    var normal = eq.ni;\n\n    bodyB.position.vsub(bodyA.position, normal);\n    normal.normalize();\n    normal.mult(halfDist, eq.ri);\n    normal.mult(-halfDist, eq.rj);\n};\n},{\"../equations/ContactEquation\":19,\"./Constraint\":13}],15:[function(_dereq_,module,exports){\nmodule.exports = HingeConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Hinge constraint. Think of it as a door hinge. It tries to keep the door in the correct place and with the correct orientation.\n * @class HingeConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Vec3} [options.pivotA] A point defined locally in bodyA. This defines the offset of axisA.\n * @param {Vec3} [options.axisA] An axis that bodyA can rotate around, defined locally in bodyA.\n * @param {Vec3} [options.pivotB]\n * @param {Vec3} [options.axisB]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction HingeConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n    var pivotA = options.pivotA ? options.pivotA.clone() : new Vec3();\n    var pivotB = options.pivotB ? options.pivotB.clone() : new Vec3();\n\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    /**\n     * Rotation axis, defined locally in bodyA.\n     * @property {Vec3} axisA\n     */\n    var axisA = this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1,0,0);\n    axisA.normalize();\n\n    /**\n     * Rotation axis, defined locally in bodyB.\n     * @property {Vec3} axisB\n     */\n    var axisB = this.axisB = options.axisB ? options.axisB.clone() : new Vec3(1,0,0);\n    axisB.normalize();\n\n    /**\n     * @property {RotationalEquation} rotationalEquation1\n     */\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation2\n     */\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalMotorEquation} motorEquation\n     */\n    var motor = this.motorEquation = new RotationalMotorEquation(bodyA,bodyB,maxForce);\n    motor.enabled = false; // Not enabled by default\n\n    // Equations to be fed to the solver\n    this.equations.push(\n        r1, // rotational1\n        r2, // rotational2\n        motor\n    );\n}\nHingeConstraint.prototype = new PointToPointConstraint();\nHingeConstraint.constructor = HingeConstraint;\n\n/**\n * @method enableMotor\n */\nHingeConstraint.prototype.enableMotor = function(){\n    this.motorEquation.enabled = true;\n};\n\n/**\n * @method disableMotor\n */\nHingeConstraint.prototype.disableMotor = function(){\n    this.motorEquation.enabled = false;\n};\n\n/**\n * @method setMotorSpeed\n * @param {number} speed\n */\nHingeConstraint.prototype.setMotorSpeed = function(speed){\n    this.motorEquation.targetVelocity = speed;\n};\n\n/**\n * @method setMotorMaxForce\n * @param {number} maxForce\n */\nHingeConstraint.prototype.setMotorMaxForce = function(maxForce){\n    this.motorEquation.maxForce = maxForce;\n    this.motorEquation.minForce = -maxForce;\n};\n\nvar HingeConstraint_update_tmpVec1 = new Vec3();\nvar HingeConstraint_update_tmpVec2 = new Vec3();\n\nHingeConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        motor = this.motorEquation,\n        r1 = this.rotationalEquation1,\n        r2 = this.rotationalEquation2,\n        worldAxisA = HingeConstraint_update_tmpVec1,\n        worldAxisB = HingeConstraint_update_tmpVec2;\n\n    var axisA = this.axisA;\n    var axisB = this.axisB;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    // Get world axes\n    bodyA.quaternion.vmult(axisA, worldAxisA);\n    bodyB.quaternion.vmult(axisB, worldAxisB);\n\n    worldAxisA.tangents(r1.axisA, r2.axisA);\n    r1.axisB.copy(worldAxisB);\n    r2.axisB.copy(worldAxisB);\n\n    if(this.motorEquation.enabled){\n        bodyA.quaternion.vmult(this.axisA, motor.axisA);\n        bodyB.quaternion.vmult(this.axisB, motor.axisB);\n    }\n};\n\n\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],16:[function(_dereq_,module,exports){\nmodule.exports = LockConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar PointToPointConstraint = _dereq_('./PointToPointConstraint');\nvar RotationalEquation = _dereq_('../equations/RotationalEquation');\nvar RotationalMotorEquation = _dereq_('../equations/RotationalMotorEquation');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Lock constraint. Will remove all degrees of freedom between the bodies.\n * @class LockConstraint\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {object} [options]\n * @param {Number} [options.maxForce=1e6]\n * @extends PointToPointConstraint\n */\nfunction LockConstraint(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    // Set pivot point in between\n    var pivotA = new Vec3();\n    var pivotB = new Vec3();\n    var halfWay = new Vec3();\n    bodyA.position.vadd(bodyB.position, halfWay);\n    halfWay.scale(0.5, halfWay);\n    bodyB.pointToLocalFrame(halfWay, pivotB);\n    bodyA.pointToLocalFrame(halfWay, pivotA);\n    PointToPointConstraint.call(this, bodyA, pivotA, bodyB, pivotB, maxForce);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation1\n     */\n    var r1 = this.rotationalEquation1 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation2\n     */\n    var r2 = this.rotationalEquation2 = new RotationalEquation(bodyA,bodyB,options);\n\n    /**\n     * @property {RotationalEquation} rotationalEquation3\n     */\n    var r3 = this.rotationalEquation3 = new RotationalEquation(bodyA,bodyB,options);\n\n    this.equations.push(r1, r2, r3);\n}\nLockConstraint.prototype = new PointToPointConstraint();\nLockConstraint.constructor = LockConstraint;\n\nvar LockConstraint_update_tmpVec1 = new Vec3();\nvar LockConstraint_update_tmpVec2 = new Vec3();\n\nLockConstraint.prototype.update = function(){\n    var bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        motor = this.motorEquation,\n        r1 = this.rotationalEquation1,\n        r2 = this.rotationalEquation2,\n        r3 = this.rotationalEquation3,\n        worldAxisA = LockConstraint_update_tmpVec1,\n        worldAxisB = LockConstraint_update_tmpVec2;\n\n    PointToPointConstraint.prototype.update.call(this);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_X, r1.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Y, r1.axisB);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Y, r2.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_Z, r2.axisB);\n\n    bodyA.vectorToWorldFrame(Vec3.UNIT_Z, r3.axisA);\n    bodyB.vectorToWorldFrame(Vec3.UNIT_X, r3.axisB);\n};\n\n\n},{\"../equations/ContactEquation\":19,\"../equations/RotationalEquation\":22,\"../equations/RotationalMotorEquation\":23,\"../math/Vec3\":30,\"./Constraint\":13,\"./PointToPointConstraint\":17}],17:[function(_dereq_,module,exports){\nmodule.exports = PointToPointConstraint;\n\nvar Constraint = _dereq_('./Constraint');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Connects two bodies at given offset points.\n * @class PointToPointConstraint\n * @extends Constraint\n * @constructor\n * @param {Body} bodyA\n * @param {Vec3} pivotA The point relative to the center of mass of bodyA which bodyA is constrained to.\n * @param {Body} bodyB Body that will be constrained in a similar way to the same point as bodyA. We will therefore get a link between bodyA and bodyB. If not specified, bodyA will be constrained to a static point.\n * @param {Vec3} pivotB See pivotA.\n * @param {Number} maxForce The maximum force that should be applied to constrain the bodies.\n *\n * @example\n *     var bodyA = new Body({ mass: 1 });\n *     var bodyB = new Body({ mass: 1 });\n *     bodyA.position.set(-1, 0, 0);\n *     bodyB.position.set(1, 0, 0);\n *     bodyA.addShape(shapeA);\n *     bodyB.addShape(shapeB);\n *     world.addBody(bodyA);\n *     world.addBody(bodyB);\n *     var localPivotA = new Vec3(1, 0, 0);\n *     var localPivotB = new Vec3(-1, 0, 0);\n *     var constraint = new PointToPointConstraint(bodyA, localPivotA, bodyB, localPivotB);\n *     world.addConstraint(constraint);\n */\nfunction PointToPointConstraint(bodyA,pivotA,bodyB,pivotB,maxForce){\n    Constraint.call(this,bodyA,bodyB);\n\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\n\n    /**\n     * Pivot, defined locally in bodyA.\n     * @property {Vec3} pivotA\n     */\n    this.pivotA = pivotA ? pivotA.clone() : new Vec3();\n\n    /**\n     * Pivot, defined locally in bodyB.\n     * @property {Vec3} pivotB\n     */\n    this.pivotB = pivotB ? pivotB.clone() : new Vec3();\n\n    /**\n     * @property {ContactEquation} equationX\n     */\n    var x = this.equationX = new ContactEquation(bodyA,bodyB);\n\n    /**\n     * @property {ContactEquation} equationY\n     */\n    var y = this.equationY = new ContactEquation(bodyA,bodyB);\n\n    /**\n     * @property {ContactEquation} equationZ\n     */\n    var z = this.equationZ = new ContactEquation(bodyA,bodyB);\n\n    // Equations to be fed to the solver\n    this.equations.push(x, y, z);\n\n    // Make the equations bidirectional\n    x.minForce = y.minForce = z.minForce = -maxForce;\n    x.maxForce = y.maxForce = z.maxForce =  maxForce;\n\n    x.ni.set(1, 0, 0);\n    y.ni.set(0, 1, 0);\n    z.ni.set(0, 0, 1);\n}\nPointToPointConstraint.prototype = new Constraint();\n\nPointToPointConstraint.prototype.update = function(){\n    var bodyA = this.bodyA;\n    var bodyB = this.bodyB;\n    var x = this.equationX;\n    var y = this.equationY;\n    var z = this.equationZ;\n\n    // Rotate the pivots to world space\n    bodyA.quaternion.vmult(this.pivotA,x.ri);\n    bodyB.quaternion.vmult(this.pivotB,x.rj);\n\n    y.ri.copy(x.ri);\n    y.rj.copy(x.rj);\n    z.ri.copy(x.ri);\n    z.rj.copy(x.rj);\n};\n},{\"../equations/ContactEquation\":19,\"../math/Vec3\":30,\"./Constraint\":13}],18:[function(_dereq_,module,exports){\nmodule.exports = ConeEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Cone equation. Works to keep the given body world vectors aligned, or tilted within a given angle from each other.\n * @class ConeEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec3} [options.axisA] Local axis in A\n * @param {Vec3} [options.axisB] Local axis in B\n * @param {Vec3} [options.angle] The \"cone angle\" to keep\n * @param {number} [options.maxForce=1e6]\n * @extends Equation\n */\nfunction ConeEquation(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\n\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\n\n    /**\n     * The cone angle to keep\n     * @property {number} angle\n     */\n    this.angle = typeof(options.angle) !== 'undefined' ? options.angle : 0;\n}\n\nConeEquation.prototype = new Equation();\nConeEquation.prototype.constructor = ConeEquation;\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\n\nConeEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n\n        ni = this.axisA,\n        nj = this.axisB,\n\n        nixnj = tmpVec1,\n        njxni = tmpVec2,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // Caluclate cross products\n    ni.cross(nj, nixnj);\n    nj.cross(ni, njxni);\n\n    // The angle between two vector is:\n    // cos(theta) = a * b / (length(a) * length(b) = { len(a) = len(b) = 1 } = a * b\n\n    // g = a * b\n    // gdot = (b x a) * wi + (a x b) * wj\n    // G = [0 bxa 0 axb]\n    // W = [vi wi vj wj]\n    GA.rotational.copy(njxni);\n    GB.rotational.copy(nixnj);\n\n    var g = Math.cos(this.angle) - ni.dot(nj),\n        GW = this.computeGW(),\n        GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h * GiMf;\n\n    return B;\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],19:[function(_dereq_,module,exports){\nmodule.exports = ContactEquation;\n\nvar Equation = _dereq_('./Equation');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\n\n/**\n * Contact/non-penetration constraint equation\n * @class ContactEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @extends Equation\n */\nfunction ContactEquation(bodyA, bodyB, maxForce){\n    maxForce = typeof(maxForce) !== 'undefined' ? maxForce : 1e6;\n    Equation.call(this, bodyA, bodyB, 0, maxForce);\n\n    /**\n     * @property restitution\n     * @type {Number}\n     */\n    this.restitution = 0.0; // \"bounciness\": u1 = -e*u0\n\n    /**\n     * World-oriented vector that goes from the center of bi to the contact point.\n     * @property {Vec3} ri\n     */\n    this.ri = new Vec3();\n\n    /**\n     * World-oriented vector that starts in body j position and goes to the contact point.\n     * @property {Vec3} rj\n     */\n    this.rj = new Vec3();\n\n    /**\n     * Contact normal, pointing out of body i.\n     * @property {Vec3} ni\n     */\n    this.ni = new Vec3();\n}\n\nContactEquation.prototype = new Equation();\nContactEquation.prototype.constructor = ContactEquation;\n\nvar ContactEquation_computeB_temp1 = new Vec3(); // Temp vectors\nvar ContactEquation_computeB_temp2 = new Vec3();\nvar ContactEquation_computeB_temp3 = new Vec3();\nContactEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n        ri = this.ri,\n        rj = this.rj,\n        rixn = ContactEquation_computeB_temp1,\n        rjxn = ContactEquation_computeB_temp2,\n\n        vi = bi.velocity,\n        wi = bi.angularVelocity,\n        fi = bi.force,\n        taui = bi.torque,\n\n        vj = bj.velocity,\n        wj = bj.angularVelocity,\n        fj = bj.force,\n        tauj = bj.torque,\n\n        penetrationVec = ContactEquation_computeB_temp3,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n\n        n = this.ni;\n\n    // Caluclate cross products\n    ri.cross(n,rixn);\n    rj.cross(n,rjxn);\n\n    // g = xj+rj -(xi+ri)\n    // G = [ -ni  -rixn  ni  rjxn ]\n    n.negate(GA.spatial);\n    rixn.negate(GA.rotational);\n    GB.spatial.copy(n);\n    GB.rotational.copy(rjxn);\n\n    // Calculate the penetration vector\n    penetrationVec.copy(bj.position);\n    penetrationVec.vadd(rj,penetrationVec);\n    penetrationVec.vsub(bi.position,penetrationVec);\n    penetrationVec.vsub(ri,penetrationVec);\n\n    var g = n.dot(penetrationVec);\n\n    // Compute iteration\n    var ePlusOne = this.restitution + 1;\n    var GW = ePlusOne * vj.dot(n) - ePlusOne * vi.dot(n) + wj.dot(rjxn) - wi.dot(rixn);\n    var GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h*GiMf;\n\n    return B;\n};\n\nvar ContactEquation_getImpactVelocityAlongNormal_vi = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_vj = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_xi = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_xj = new Vec3();\nvar ContactEquation_getImpactVelocityAlongNormal_relVel = new Vec3();\n\n/**\n * Get the current relative velocity in the contact point.\n * @method getImpactVelocityAlongNormal\n * @return {number}\n */\nContactEquation.prototype.getImpactVelocityAlongNormal = function(){\n    var vi = ContactEquation_getImpactVelocityAlongNormal_vi;\n    var vj = ContactEquation_getImpactVelocityAlongNormal_vj;\n    var xi = ContactEquation_getImpactVelocityAlongNormal_xi;\n    var xj = ContactEquation_getImpactVelocityAlongNormal_xj;\n    var relVel = ContactEquation_getImpactVelocityAlongNormal_relVel;\n\n    this.bi.position.vadd(this.ri, xi);\n    this.bj.position.vadd(this.rj, xj);\n\n    this.bi.getVelocityAtWorldPoint(xi, vi);\n    this.bj.getVelocityAtWorldPoint(xj, vj);\n\n    vi.vsub(vj, relVel);\n\n    return this.ni.dot(relVel);\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],20:[function(_dereq_,module,exports){\nmodule.exports = Equation;\n\nvar JacobianElement = _dereq_('../math/JacobianElement'),\n    Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Equation base class\n * @class Equation\n * @constructor\n * @author schteppe\n * @param {Body} bi\n * @param {Body} bj\n * @param {Number} minForce Minimum (read: negative max) force to be applied by the constraint.\n * @param {Number} maxForce Maximum (read: positive max) force to be applied by the constraint.\n */\nfunction Equation(bi,bj,minForce,maxForce){\n    this.id = Equation.id++;\n\n    /**\n     * @property {number} minForce\n     */\n    this.minForce = typeof(minForce)===\"undefined\" ? -1e6 : minForce;\n\n    /**\n     * @property {number} maxForce\n     */\n    this.maxForce = typeof(maxForce)===\"undefined\" ? 1e6 : maxForce;\n\n    /**\n     * @property bi\n     * @type {Body}\n     */\n    this.bi = bi;\n\n    /**\n     * @property bj\n     * @type {Body}\n     */\n    this.bj = bj;\n\n    /**\n     * SPOOK parameter\n     * @property {number} a\n     */\n    this.a = 0.0;\n\n    /**\n     * SPOOK parameter\n     * @property {number} b\n     */\n    this.b = 0.0;\n\n    /**\n     * SPOOK parameter\n     * @property {number} eps\n     */\n    this.eps = 0.0;\n\n    /**\n     * @property {JacobianElement} jacobianElementA\n     */\n    this.jacobianElementA = new JacobianElement();\n\n    /**\n     * @property {JacobianElement} jacobianElementB\n     */\n    this.jacobianElementB = new JacobianElement();\n\n    /**\n     * @property {boolean} enabled\n     * @default true\n     */\n    this.enabled = true;\n\n    // Set typical spook params\n    this.setSpookParams(1e7,4,1/60);\n}\nEquation.prototype.constructor = Equation;\n\nEquation.id = 0;\n\n/**\n * Recalculates a,b,eps.\n * @method setSpookParams\n */\nEquation.prototype.setSpookParams = function(stiffness,relaxation,timeStep){\n    var d = relaxation,\n        k = stiffness,\n        h = timeStep;\n    this.a = 4.0 / (h * (1 + 4 * d));\n    this.b = (4.0 * d) / (1 + 4 * d);\n    this.eps = 4.0 / (h * h * k * (1 + 4 * d));\n};\n\n/**\n * Computes the RHS of the SPOOK equation\n * @method computeB\n * @return {Number}\n */\nEquation.prototype.computeB = function(a,b,h){\n    var GW = this.computeGW(),\n        Gq = this.computeGq(),\n        GiMf = this.computeGiMf();\n    return - Gq * a - GW * b - GiMf*h;\n};\n\n/**\n * Computes G*q, where q are the generalized body coordinates\n * @method computeGq\n * @return {Number}\n */\nEquation.prototype.computeGq = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        xi = bi.position,\n        xj = bj.position;\n    return GA.spatial.dot(xi) + GB.spatial.dot(xj);\n};\n\nvar zero = new Vec3();\n\n/**\n * Computes G*W, where W are the body velocities\n * @method computeGW\n * @return {Number}\n */\nEquation.prototype.computeGW = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        vi = bi.velocity,\n        vj = bj.velocity,\n        wi = bi.angularVelocity || zero,\n        wj = bj.angularVelocity || zero;\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\n};\n\n\n/**\n * Computes G*Wlambda, where W are the body velocities\n * @method computeGWlambda\n * @return {Number}\n */\nEquation.prototype.computeGWlambda = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        vi = bi.vlambda,\n        vj = bj.vlambda,\n        wi = bi.wlambda || zero,\n        wj = bj.wlambda || zero;\n    return GA.multiplyVectors(vi,wi) + GB.multiplyVectors(vj,wj);\n};\n\n/**\n * Computes G*inv(M)*f, where M is the mass matrix with diagonal blocks for each body, and f are the forces on the bodies.\n * @method computeGiMf\n * @return {Number}\n */\nvar iMfi = new Vec3(),\n    iMfj = new Vec3(),\n    invIi_vmult_taui = new Vec3(),\n    invIj_vmult_tauj = new Vec3();\nEquation.prototype.computeGiMf = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        fi = bi.force,\n        ti = bi.torque,\n        fj = bj.force,\n        tj = bj.torque,\n        invMassi = bi.invMassSolve,\n        invMassj = bj.invMassSolve;\n\n    if(bi.invInertiaWorldSolve){ bi.invInertiaWorldSolve.vmult(ti,invIi_vmult_taui); }\n    else { invIi_vmult_taui.set(0,0,0); }\n    if(bj.invInertiaWorldSolve){ bj.invInertiaWorldSolve.vmult(tj,invIj_vmult_tauj); }\n    else { invIj_vmult_tauj.set(0,0,0); }\n\n    fi.mult(invMassi,iMfi);\n    fj.mult(invMassj,iMfj);\n\n    return GA.multiplyVectors(iMfi,invIi_vmult_taui) + GB.multiplyVectors(iMfj,invIj_vmult_tauj);\n};\n\n/**\n * Computes G*inv(M)*G'\n * @method computeGiMGt\n * @return {Number}\n */\nvar tmp = new Vec3();\nEquation.prototype.computeGiMGt = function(){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        invMassi = bi.invMassSolve,\n        invMassj = bj.invMassSolve,\n        invIi = bi.invInertiaWorldSolve,\n        invIj = bj.invInertiaWorldSolve,\n        result = invMassi + invMassj;\n\n    if(invIi){\n        invIi.vmult(GA.rotational,tmp);\n        result += tmp.dot(GA.rotational);\n    }\n\n    if(invIj){\n        invIj.vmult(GB.rotational,tmp);\n        result += tmp.dot(GB.rotational);\n    }\n\n    return  result;\n};\n\nvar addToWlambda_temp = new Vec3(),\n    addToWlambda_Gi = new Vec3(),\n    addToWlambda_Gj = new Vec3(),\n    addToWlambda_ri = new Vec3(),\n    addToWlambda_rj = new Vec3(),\n    addToWlambda_Mdiag = new Vec3();\n\n/**\n * Add constraint velocity to the bodies.\n * @method addToWlambda\n * @param {Number} deltalambda\n */\nEquation.prototype.addToWlambda = function(deltalambda){\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB,\n        bi = this.bi,\n        bj = this.bj,\n        temp = addToWlambda_temp;\n\n    // Add to linear velocity\n    // v_lambda += inv(M) * delta_lamba * G\n    GA.spatial.mult(bi.invMassSolve * deltalambda,temp);\n    bi.vlambda.vadd(temp, bi.vlambda);\n\n    GB.spatial.mult(bj.invMassSolve * deltalambda,temp);\n    bj.vlambda.vadd(temp, bj.vlambda);\n\n    // Add to angular velocity\n    if(bi.invInertiaWorldSolve){\n        bi.invInertiaWorldSolve.vmult(GA.rotational,temp);\n        temp.mult(deltalambda,temp);\n        bi.wlambda.vadd(temp,bi.wlambda);\n    }\n\n    if(bj.invInertiaWorldSolve){\n        bj.invInertiaWorldSolve.vmult(GB.rotational,temp);\n        temp.mult(deltalambda,temp);\n        bj.wlambda.vadd(temp,bj.wlambda);\n    }\n};\n\n/**\n * Compute the denominator part of the SPOOK equation: C = G*inv(M)*G' + eps\n * @method computeInvC\n * @param  {Number} eps\n * @return {Number}\n */\nEquation.prototype.computeC = function(){\n    return this.computeGiMGt() + this.eps;\n};\n\n},{\"../math/JacobianElement\":26,\"../math/Vec3\":30}],21:[function(_dereq_,module,exports){\nmodule.exports = FrictionEquation;\n\nvar Equation = _dereq_('./Equation');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\n\n/**\n * Constrains the slipping in a contact along a tangent\n * @class FrictionEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} slipForce should be +-F_friction = +-mu * F_normal = +-mu * m * g\n * @extends Equation\n */\nfunction FrictionEquation(bodyA, bodyB, slipForce){\n    Equation.call(this,bodyA, bodyB, -slipForce, slipForce);\n    this.ri = new Vec3();\n    this.rj = new Vec3();\n    this.t = new Vec3(); // tangent\n}\n\nFrictionEquation.prototype = new Equation();\nFrictionEquation.prototype.constructor = FrictionEquation;\n\nvar FrictionEquation_computeB_temp1 = new Vec3();\nvar FrictionEquation_computeB_temp2 = new Vec3();\nFrictionEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n        ri = this.ri,\n        rj = this.rj,\n        rixt = FrictionEquation_computeB_temp1,\n        rjxt = FrictionEquation_computeB_temp2,\n        t = this.t;\n\n    // Caluclate cross products\n    ri.cross(t,rixt);\n    rj.cross(t,rjxt);\n\n    // G = [-t -rixt t rjxt]\n    // And remember, this is a pure velocity constraint, g is always zero!\n    var GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n    t.negate(GA.spatial);\n    rixt.negate(GA.rotational);\n    GB.spatial.copy(t);\n    GB.rotational.copy(rjxt);\n\n    var GW = this.computeGW();\n    var GiMf = this.computeGiMf();\n\n    var B = - GW * b - h * GiMf;\n\n    return B;\n};\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],22:[function(_dereq_,module,exports){\nmodule.exports = RotationalEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Rotational constraint. Works to keep the local vectors orthogonal to each other in world space.\n * @class RotationalEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec3} [options.axisA]\n * @param {Vec3} [options.axisB]\n * @param {number} [options.maxForce]\n * @extends Equation\n */\nfunction RotationalEquation(bodyA, bodyB, options){\n    options = options || {};\n    var maxForce = typeof(options.maxForce) !== 'undefined' ? options.maxForce : 1e6;\n\n    Equation.call(this,bodyA,bodyB,-maxForce, maxForce);\n\n    this.axisA = options.axisA ? options.axisA.clone() : new Vec3(1, 0, 0);\n    this.axisB = options.axisB ? options.axisB.clone() : new Vec3(0, 1, 0);\n\n    this.maxAngle = Math.PI / 2;\n}\n\nRotationalEquation.prototype = new Equation();\nRotationalEquation.prototype.constructor = RotationalEquation;\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\n\nRotationalEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n\n        ni = this.axisA,\n        nj = this.axisB,\n\n        nixnj = tmpVec1,\n        njxni = tmpVec2,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // Caluclate cross products\n    ni.cross(nj, nixnj);\n    nj.cross(ni, njxni);\n\n    // g = ni * nj\n    // gdot = (nj x ni) * wi + (ni x nj) * wj\n    // G = [0 njxni 0 nixnj]\n    // W = [vi wi vj wj]\n    GA.rotational.copy(njxni);\n    GB.rotational.copy(nixnj);\n\n    var g = Math.cos(this.maxAngle) - ni.dot(nj),\n        GW = this.computeGW(),\n        GiMf = this.computeGiMf();\n\n    var B = - g * a - GW * b - h * GiMf;\n\n    return B;\n};\n\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],23:[function(_dereq_,module,exports){\nmodule.exports = RotationalMotorEquation;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Equation = _dereq_('./Equation');\n\n/**\n * Rotational motor constraint. Tries to keep the relative angular velocity of the bodies to a given value.\n * @class RotationalMotorEquation\n * @constructor\n * @author schteppe\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Number} maxForce\n * @extends Equation\n */\nfunction RotationalMotorEquation(bodyA, bodyB, maxForce){\n    maxForce = typeof(maxForce)!=='undefined' ? maxForce : 1e6;\n    Equation.call(this,bodyA,bodyB,-maxForce,maxForce);\n\n    /**\n     * World oriented rotational axis\n     * @property {Vec3} axisA\n     */\n    this.axisA = new Vec3();\n\n    /**\n     * World oriented rotational axis\n     * @property {Vec3} axisB\n     */\n    this.axisB = new Vec3(); // World oriented rotational axis\n\n    /**\n     * Motor velocity\n     * @property {Number} targetVelocity\n     */\n    this.targetVelocity = 0;\n}\n\nRotationalMotorEquation.prototype = new Equation();\nRotationalMotorEquation.prototype.constructor = RotationalMotorEquation;\n\nRotationalMotorEquation.prototype.computeB = function(h){\n    var a = this.a,\n        b = this.b,\n        bi = this.bi,\n        bj = this.bj,\n\n        axisA = this.axisA,\n        axisB = this.axisB,\n\n        GA = this.jacobianElementA,\n        GB = this.jacobianElementB;\n\n    // g = 0\n    // gdot = axisA * wi - axisB * wj\n    // gdot = G * W = G * [vi wi vj wj]\n    // =>\n    // G = [0 axisA 0 -axisB]\n\n    GA.rotational.copy(axisA);\n    axisB.negate(GB.rotational);\n\n    var GW = this.computeGW() - this.targetVelocity,\n        GiMf = this.computeGiMf();\n\n    var B = - GW * b - h * GiMf;\n\n    return B;\n};\n\n},{\"../math/Mat3\":27,\"../math/Vec3\":30,\"./Equation\":20}],24:[function(_dereq_,module,exports){\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = ContactMaterial;\n\n/**\n * Defines what happens when two materials meet.\n * @class ContactMaterial\n * @constructor\n * @param {Material} m1\n * @param {Material} m2\n * @param {object} [options]\n * @param {Number} [options.friction=0.3]\n * @param {Number} [options.restitution=0.3]\n * @param {number} [options.contactEquationStiffness=1e7]\n * @param {number} [options.contactEquationRelaxation=3]\n * @param {number} [options.frictionEquationStiffness=1e7]\n * @param {Number} [options.frictionEquationRelaxation=3]\n */\nfunction ContactMaterial(m1, m2, options){\n    options = Utils.defaults(options, {\n        friction: 0.3,\n        restitution: 0.3,\n        contactEquationStiffness: 1e7,\n        contactEquationRelaxation: 3,\n        frictionEquationStiffness: 1e7,\n        frictionEquationRelaxation: 3\n    });\n\n    /**\n     * Identifier of this material\n     * @property {Number} id\n     */\n    this.id = ContactMaterial.idCounter++;\n\n    /**\n     * Participating materials\n     * @property {Array} materials\n     * @todo  Should be .materialA and .materialB instead\n     */\n    this.materials = [m1, m2];\n\n    /**\n     * Friction coefficient\n     * @property {Number} friction\n     */\n    this.friction = options.friction;\n\n    /**\n     * Restitution coefficient\n     * @property {Number} restitution\n     */\n    this.restitution = options.restitution;\n\n    /**\n     * Stiffness of the produced contact equations\n     * @property {Number} contactEquationStiffness\n     */\n    this.contactEquationStiffness = options.contactEquationStiffness;\n\n    /**\n     * Relaxation time of the produced contact equations\n     * @property {Number} contactEquationRelaxation\n     */\n    this.contactEquationRelaxation = options.contactEquationRelaxation;\n\n    /**\n     * Stiffness of the produced friction equations\n     * @property {Number} frictionEquationStiffness\n     */\n    this.frictionEquationStiffness = options.frictionEquationStiffness;\n\n    /**\n     * Relaxation time of the produced friction equations\n     * @property {Number} frictionEquationRelaxation\n     */\n    this.frictionEquationRelaxation = options.frictionEquationRelaxation;\n}\n\nContactMaterial.idCounter = 0;\n\n},{\"../utils/Utils\":53}],25:[function(_dereq_,module,exports){\nmodule.exports = Material;\n\n/**\n * Defines a physics material.\n * @class Material\n * @constructor\n * @param {object} [options]\n * @author schteppe\n */\nfunction Material(options){\n    var name = '';\n    options = options || {};\n\n    // Backwards compatibility fix\n    if(typeof(options) === 'string'){\n        name = options;\n        options = {};\n    } else if(typeof(options) === 'object') {\n        name = '';\n    }\n\n    /**\n     * @property name\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * material id.\n     * @property id\n     * @type {number}\n     */\n    this.id = Material.idCounter++;\n\n    /**\n     * Friction for this material. If non-negative, it will be used instead of the friction given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\n     * @property {number} friction\n     */\n    this.friction = typeof(options.friction) !== 'undefined' ? options.friction : -1;\n\n    /**\n     * Restitution for this material. If non-negative, it will be used instead of the restitution given by ContactMaterials. If there's no matching ContactMaterial, the value from .defaultContactMaterial in the World will be used.\n     * @property {number} restitution\n     */\n    this.restitution = typeof(options.restitution) !== 'undefined' ? options.restitution : -1;\n}\n\nMaterial.idCounter = 0;\n\n},{}],26:[function(_dereq_,module,exports){\nmodule.exports = JacobianElement;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * An element containing 6 entries, 3 spatial and 3 rotational degrees of freedom.\n * @class JacobianElement\n * @constructor\n */\nfunction JacobianElement(){\n\n    /**\n     * @property {Vec3} spatial\n     */\n    this.spatial = new Vec3();\n\n    /**\n     * @property {Vec3} rotational\n     */\n    this.rotational = new Vec3();\n}\n\n/**\n * Multiply with other JacobianElement\n * @method multiplyElement\n * @param  {JacobianElement} element\n * @return {Number}\n */\nJacobianElement.prototype.multiplyElement = function(element){\n    return element.spatial.dot(this.spatial) + element.rotational.dot(this.rotational);\n};\n\n/**\n * Multiply with two vectors\n * @method multiplyVectors\n * @param  {Vec3} spatial\n * @param  {Vec3} rotational\n * @return {Number}\n */\nJacobianElement.prototype.multiplyVectors = function(spatial,rotational){\n    return spatial.dot(this.spatial) + rotational.dot(this.rotational);\n};\n\n},{\"./Vec3\":30}],27:[function(_dereq_,module,exports){\nmodule.exports = Mat3;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * A 3x3 matrix.\n * @class Mat3\n * @constructor\n * @param array elements Array of nine elements. Optional.\n * @author schteppe / http://github.com/schteppe\n */\nfunction Mat3(elements){\n    /**\n     * A vector of length 9, containing all matrix elements\n     * @property {Array} elements\n     */\n    if(elements){\n        this.elements = elements;\n    } else {\n        this.elements = [0,0,0,0,0,0,0,0,0];\n    }\n}\n\n/**\n * Sets the matrix to identity\n * @method identity\n * @todo Should perhaps be renamed to setIdentity() to be more clear.\n * @todo Create another function that immediately creates an identity matrix eg. eye()\n */\nMat3.prototype.identity = function(){\n    var e = this.elements;\n    e[0] = 1;\n    e[1] = 0;\n    e[2] = 0;\n\n    e[3] = 0;\n    e[4] = 1;\n    e[5] = 0;\n\n    e[6] = 0;\n    e[7] = 0;\n    e[8] = 1;\n};\n\n/**\n * Set all elements to zero\n * @method setZero\n */\nMat3.prototype.setZero = function(){\n    var e = this.elements;\n    e[0] = 0;\n    e[1] = 0;\n    e[2] = 0;\n    e[3] = 0;\n    e[4] = 0;\n    e[5] = 0;\n    e[6] = 0;\n    e[7] = 0;\n    e[8] = 0;\n};\n\n/**\n * Sets the matrix diagonal elements from a Vec3\n * @method setTrace\n * @param {Vec3} vec3\n */\nMat3.prototype.setTrace = function(vec3){\n    var e = this.elements;\n    e[0] = vec3.x;\n    e[4] = vec3.y;\n    e[8] = vec3.z;\n};\n\n/**\n * Gets the matrix diagonal elements\n * @method getTrace\n * @return {Vec3}\n */\nMat3.prototype.getTrace = function(target){\n    var target = target || new Vec3();\n    var e = this.elements;\n    target.x = e[0];\n    target.y = e[4];\n    target.z = e[8];\n};\n\n/**\n * Matrix-Vector multiplication\n * @method vmult\n * @param {Vec3} v The vector to multiply with\n * @param {Vec3} target Optional, target to save the result in.\n */\nMat3.prototype.vmult = function(v,target){\n    target = target || new Vec3();\n\n    var e = this.elements,\n        x = v.x,\n        y = v.y,\n        z = v.z;\n    target.x = e[0]*x + e[1]*y + e[2]*z;\n    target.y = e[3]*x + e[4]*y + e[5]*z;\n    target.z = e[6]*x + e[7]*y + e[8]*z;\n\n    return target;\n};\n\n/**\n * Matrix-scalar multiplication\n * @method smult\n * @param {Number} s\n */\nMat3.prototype.smult = function(s){\n    for(var i=0; i<this.elements.length; i++){\n        this.elements[i] *= s;\n    }\n};\n\n/**\n * Matrix multiplication\n * @method mmult\n * @param {Mat3} m Matrix to multiply with from left side.\n * @return {Mat3} The result.\n */\nMat3.prototype.mmult = function(m,target){\n    var r = target || new Mat3();\n    for(var i=0; i<3; i++){\n        for(var j=0; j<3; j++){\n            var sum = 0.0;\n            for(var k=0; k<3; k++){\n                sum += m.elements[i+k*3] * this.elements[k+j*3];\n            }\n            r.elements[i+j*3] = sum;\n        }\n    }\n    return r;\n};\n\n/**\n * Scale each column of the matrix\n * @method scale\n * @param {Vec3} v\n * @return {Mat3} The result.\n */\nMat3.prototype.scale = function(v,target){\n    target = target || new Mat3();\n    var e = this.elements,\n        t = target.elements;\n    for(var i=0; i!==3; i++){\n        t[3*i + 0] = v.x * e[3*i + 0];\n        t[3*i + 1] = v.y * e[3*i + 1];\n        t[3*i + 2] = v.z * e[3*i + 2];\n    }\n    return target;\n};\n\n/**\n * Solve Ax=b\n * @method solve\n * @param {Vec3} b The right hand side\n * @param {Vec3} target Optional. Target vector to save in.\n * @return {Vec3} The solution x\n * @todo should reuse arrays\n */\nMat3.prototype.solve = function(b,target){\n    target = target || new Vec3();\n\n    // Construct equations\n    var nr = 3; // num rows\n    var nc = 4; // num cols\n    var eqns = [];\n    for(var i=0; i<nr*nc; i++){\n        eqns.push(0);\n    }\n    var i,j;\n    for(i=0; i<3; i++){\n        for(j=0; j<3; j++){\n            eqns[i+nc*j] = this.elements[i+3*j];\n        }\n    }\n    eqns[3+4*0] = b.x;\n    eqns[3+4*1] = b.y;\n    eqns[3+4*2] = b.z;\n\n    // Compute right upper triangular version of the matrix - Gauss elimination\n    var n = 3, k = n, np;\n    var kp = 4; // num rows\n    var p, els;\n    do {\n        i = k - n;\n        if (eqns[i+nc*i] === 0) {\n            // the pivot is null, swap lines\n            for (j = i + 1; j < k; j++) {\n                if (eqns[i+nc*j] !== 0) {\n                    np = kp;\n                    do {  // do ligne( i ) = ligne( i ) + ligne( k )\n                        p = kp - np;\n                        eqns[p+nc*i] += eqns[p+nc*j];\n                    } while (--np);\n                    break;\n                }\n            }\n        }\n        if (eqns[i+nc*i] !== 0) {\n            for (j = i + 1; j < k; j++) {\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n                np = kp;\n                do {  // do ligne( k ) = ligne( k ) - multiplier * ligne( i )\n                    p = kp - np;\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n                } while (--np);\n            }\n        }\n    } while (--n);\n\n    // Get the solution\n    target.z = eqns[2*nc+3] / eqns[2*nc+2];\n    target.y = (eqns[1*nc+3] - eqns[1*nc+2]*target.z) / eqns[1*nc+1];\n    target.x = (eqns[0*nc+3] - eqns[0*nc+2]*target.z - eqns[0*nc+1]*target.y) / eqns[0*nc+0];\n\n    if(isNaN(target.x) || isNaN(target.y) || isNaN(target.z) || target.x===Infinity || target.y===Infinity || target.z===Infinity){\n        throw \"Could not solve equation! Got x=[\"+target.toString()+\"], b=[\"+b.toString()+\"], A=[\"+this.toString()+\"]\";\n    }\n\n    return target;\n};\n\n/**\n * Get an element in the matrix by index. Index starts at 0, not 1!!!\n * @method e\n * @param {Number} row\n * @param {Number} column\n * @param {Number} value Optional. If provided, the matrix element will be set to this value.\n * @return {Number}\n */\nMat3.prototype.e = function( row , column ,value){\n    if(value===undefined){\n        return this.elements[column+3*row];\n    } else {\n        // Set value\n        this.elements[column+3*row] = value;\n    }\n};\n\n/**\n * Copy another matrix into this matrix object.\n * @method copy\n * @param {Mat3} source\n * @return {Mat3} this\n */\nMat3.prototype.copy = function(source){\n    for(var i=0; i < source.elements.length; i++){\n        this.elements[i] = source.elements[i];\n    }\n    return this;\n};\n\n/**\n * Returns a string representation of the matrix.\n * @method toString\n * @return string\n */\nMat3.prototype.toString = function(){\n    var r = \"\";\n    var sep = \",\";\n    for(var i=0; i<9; i++){\n        r += this.elements[i] + sep;\n    }\n    return r;\n};\n\n/**\n * reverse the matrix\n * @method reverse\n * @param {Mat3} target Optional. Target matrix to save in.\n * @return {Mat3} The solution x\n */\nMat3.prototype.reverse = function(target){\n\n    target = target || new Mat3();\n\n    // Construct equations\n    var nr = 3; // num rows\n    var nc = 6; // num cols\n    var eqns = [];\n    for(var i=0; i<nr*nc; i++){\n        eqns.push(0);\n    }\n    var i,j;\n    for(i=0; i<3; i++){\n        for(j=0; j<3; j++){\n            eqns[i+nc*j] = this.elements[i+3*j];\n        }\n    }\n    eqns[3+6*0] = 1;\n    eqns[3+6*1] = 0;\n    eqns[3+6*2] = 0;\n    eqns[4+6*0] = 0;\n    eqns[4+6*1] = 1;\n    eqns[4+6*2] = 0;\n    eqns[5+6*0] = 0;\n    eqns[5+6*1] = 0;\n    eqns[5+6*2] = 1;\n\n    // Compute right upper triangular version of the matrix - Gauss elimination\n    var n = 3, k = n, np;\n    var kp = nc; // num rows\n    var p;\n    do {\n        i = k - n;\n        if (eqns[i+nc*i] === 0) {\n            // the pivot is null, swap lines\n            for (j = i + 1; j < k; j++) {\n                if (eqns[i+nc*j] !== 0) {\n                    np = kp;\n                    do { // do line( i ) = line( i ) + line( k )\n                        p = kp - np;\n                        eqns[p+nc*i] += eqns[p+nc*j];\n                    } while (--np);\n                    break;\n                }\n            }\n        }\n        if (eqns[i+nc*i] !== 0) {\n            for (j = i + 1; j < k; j++) {\n                var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n                np = kp;\n                do { // do line( k ) = line( k ) - multiplier * line( i )\n                    p = kp - np;\n                    eqns[p+nc*j] = p <= i ? 0 : eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n                } while (--np);\n            }\n        }\n    } while (--n);\n\n    // eliminate the upper left triangle of the matrix\n    i = 2;\n    do {\n        j = i-1;\n        do {\n            var multiplier = eqns[i+nc*j] / eqns[i+nc*i];\n            np = nc;\n            do {\n                p = nc - np;\n                eqns[p+nc*j] =  eqns[p+nc*j] - eqns[p+nc*i] * multiplier ;\n            } while (--np);\n        } while (j--);\n    } while (--i);\n\n    // operations on the diagonal\n    i = 2;\n    do {\n        var multiplier = 1 / eqns[i+nc*i];\n        np = nc;\n        do {\n            p = nc - np;\n            eqns[p+nc*i] = eqns[p+nc*i] * multiplier ;\n        } while (--np);\n    } while (i--);\n\n    i = 2;\n    do {\n        j = 2;\n        do {\n            p = eqns[nr+j+nc*i];\n            if( isNaN( p ) || p ===Infinity ){\n                throw \"Could not reverse! A=[\"+this.toString()+\"]\";\n            }\n            target.e( i , j , p );\n        } while (j--);\n    } while (i--);\n\n    return target;\n};\n\n/**\n * Set the matrix from a quaterion\n * @method setRotationFromQuaternion\n * @param {Quaternion} q\n */\nMat3.prototype.setRotationFromQuaternion = function( q ) {\n    var x = q.x, y = q.y, z = q.z, w = q.w,\n        x2 = x + x, y2 = y + y, z2 = z + z,\n        xx = x * x2, xy = x * y2, xz = x * z2,\n        yy = y * y2, yz = y * z2, zz = z * z2,\n        wx = w * x2, wy = w * y2, wz = w * z2,\n        e = this.elements;\n\n    e[3*0 + 0] = 1 - ( yy + zz );\n    e[3*0 + 1] = xy - wz;\n    e[3*0 + 2] = xz + wy;\n\n    e[3*1 + 0] = xy + wz;\n    e[3*1 + 1] = 1 - ( xx + zz );\n    e[3*1 + 2] = yz - wx;\n\n    e[3*2 + 0] = xz - wy;\n    e[3*2 + 1] = yz + wx;\n    e[3*2 + 2] = 1 - ( xx + yy );\n\n    return this;\n};\n\n/**\n * Transpose the matrix\n * @method transpose\n * @param  {Mat3} target Where to store the result.\n * @return {Mat3} The target Mat3, or a new Mat3 if target was omitted.\n */\nMat3.prototype.transpose = function( target ) {\n    target = target || new Mat3();\n\n    var Mt = target.elements,\n        M = this.elements;\n\n    for(var i=0; i!==3; i++){\n        for(var j=0; j!==3; j++){\n            Mt[3*i + j] = M[3*j + i];\n        }\n    }\n\n    return target;\n};\n\n},{\"./Vec3\":30}],28:[function(_dereq_,module,exports){\nmodule.exports = Quaternion;\n\nvar Vec3 = _dereq_('./Vec3');\n\n/**\n * A Quaternion describes a rotation in 3D space. The Quaternion is mathematically defined as Q = x*i + y*j + z*k + w, where (i,j,k) are imaginary basis vectors. (x,y,z) can be seen as a vector related to the axis of rotation, while the real multiplier, w, is related to the amount of rotation.\n * @class Quaternion\n * @constructor\n * @param {Number} x Multiplier of the imaginary basis vector i.\n * @param {Number} y Multiplier of the imaginary basis vector j.\n * @param {Number} z Multiplier of the imaginary basis vector k.\n * @param {Number} w Multiplier of the real part.\n * @see http://en.wikipedia.org/wiki/Quaternion\n */\nfunction Quaternion(x,y,z,w){\n    /**\n     * @property {Number} x\n     */\n    this.x = x!==undefined ? x : 0;\n\n    /**\n     * @property {Number} y\n     */\n    this.y = y!==undefined ? y : 0;\n\n    /**\n     * @property {Number} z\n     */\n    this.z = z!==undefined ? z : 0;\n\n    /**\n     * The multiplier of the real quaternion basis vector.\n     * @property {Number} w\n     */\n    this.w = w!==undefined ? w : 1;\n}\n\n/**\n * Set the value of the quaternion.\n * @method set\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @param {Number} w\n */\nQuaternion.prototype.set = function(x,y,z,w){\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n};\n\n/**\n * Convert to a readable format\n * @method toString\n * @return string\n */\nQuaternion.prototype.toString = function(){\n    return this.x+\",\"+this.y+\",\"+this.z+\",\"+this.w;\n};\n\n/**\n * Convert to an Array\n * @method toArray\n * @return Array\n */\nQuaternion.prototype.toArray = function(){\n    return [this.x, this.y, this.z, this.w];\n};\n\n/**\n * Set the quaternion components given an axis and an angle.\n * @method setFromAxisAngle\n * @param {Vec3} axis\n * @param {Number} angle in radians\n */\nQuaternion.prototype.setFromAxisAngle = function(axis,angle){\n    var s = Math.sin(angle*0.5);\n    this.x = axis.x * s;\n    this.y = axis.y * s;\n    this.z = axis.z * s;\n    this.w = Math.cos(angle*0.5);\n};\n\n/**\n * Converts the quaternion to axis/angle representation.\n * @method toAxisAngle\n * @param {Vec3} targetAxis Optional. A vector object to reuse for storing the axis.\n * @return Array An array, first elemnt is the axis and the second is the angle in radians.\n */\nQuaternion.prototype.toAxisAngle = function(targetAxis){\n    targetAxis = targetAxis || new Vec3();\n    this.normalize(); // if w>1 acos and sqrt will produce errors, this cant happen if quaternion is normalised\n    var angle = 2 * Math.acos(this.w);\n    var s = Math.sqrt(1-this.w*this.w); // assuming quaternion normalised then w is less than 1, so term always positive.\n    if (s < 0.001) { // test to avoid divide by zero, s is always positive due to sqrt\n        // if s close to zero then direction of axis not important\n        targetAxis.x = this.x; // if it is important that axis is normalised then replace with x=1; y=z=0;\n        targetAxis.y = this.y;\n        targetAxis.z = this.z;\n    } else {\n        targetAxis.x = this.x / s; // normalise axis\n        targetAxis.y = this.y / s;\n        targetAxis.z = this.z / s;\n    }\n    return [targetAxis,angle];\n};\n\nvar sfv_t1 = new Vec3(),\n    sfv_t2 = new Vec3();\n\n/**\n * Set the quaternion value given two vectors. The resulting rotation will be the needed rotation to rotate u to v.\n * @method setFromVectors\n * @param {Vec3} u\n * @param {Vec3} v\n */\nQuaternion.prototype.setFromVectors = function(u,v){\n    if(u.isAntiparallelTo(v)){\n        var t1 = sfv_t1;\n        var t2 = sfv_t2;\n\n        u.tangents(t1,t2);\n        this.setFromAxisAngle(t1,Math.PI);\n    } else {\n        var a = u.cross(v);\n        this.x = a.x;\n        this.y = a.y;\n        this.z = a.z;\n        this.w = Math.sqrt(Math.pow(u.norm(),2) * Math.pow(v.norm(),2)) + u.dot(v);\n        this.normalize();\n    }\n};\n\n/**\n * Quaternion multiplication\n * @method mult\n * @param {Quaternion} q\n * @param {Quaternion} target Optional.\n * @return {Quaternion}\n */\nvar Quaternion_mult_va = new Vec3();\nvar Quaternion_mult_vb = new Vec3();\nvar Quaternion_mult_vaxvb = new Vec3();\nQuaternion.prototype.mult = function(q,target){\n    target = target || new Quaternion();\n    var w = this.w,\n        va = Quaternion_mult_va,\n        vb = Quaternion_mult_vb,\n        vaxvb = Quaternion_mult_vaxvb;\n\n    va.set(this.x,this.y,this.z);\n    vb.set(q.x,q.y,q.z);\n    target.w = w*q.w - va.dot(vb);\n    va.cross(vb,vaxvb);\n\n    target.x = w * vb.x + q.w*va.x + vaxvb.x;\n    target.y = w * vb.y + q.w*va.y + vaxvb.y;\n    target.z = w * vb.z + q.w*va.z + vaxvb.z;\n\n    return target;\n};\n\n/**\n * Get the inverse quaternion rotation.\n * @method inverse\n * @param {Quaternion} target\n * @return {Quaternion}\n */\nQuaternion.prototype.inverse = function(target){\n    var x = this.x, y = this.y, z = this.z, w = this.w;\n    target = target || new Quaternion();\n\n    this.conjugate(target);\n    var inorm2 = 1/(x*x + y*y + z*z + w*w);\n    target.x *= inorm2;\n    target.y *= inorm2;\n    target.z *= inorm2;\n    target.w *= inorm2;\n\n    return target;\n};\n\n/**\n * Get the quaternion conjugate\n * @method conjugate\n * @param {Quaternion} target\n * @return {Quaternion}\n */\nQuaternion.prototype.conjugate = function(target){\n    target = target || new Quaternion();\n\n    target.x = -this.x;\n    target.y = -this.y;\n    target.z = -this.z;\n    target.w = this.w;\n\n    return target;\n};\n\n/**\n * Normalize the quaternion. Note that this changes the values of the quaternion.\n * @method normalize\n */\nQuaternion.prototype.normalize = function(){\n    var l = Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);\n    if ( l === 0 ) {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.w = 0;\n    } else {\n        l = 1 / l;\n        this.x *= l;\n        this.y *= l;\n        this.z *= l;\n        this.w *= l;\n    }\n};\n\n/**\n * Approximation of quaternion normalization. Works best when quat is already almost-normalized.\n * @method normalizeFast\n * @see http://jsperf.com/fast-quaternion-normalization\n * @author unphased, https://github.com/unphased\n */\nQuaternion.prototype.normalizeFast = function () {\n    var f = (3.0-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2.0;\n    if ( f === 0 ) {\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n        this.w = 0;\n    } else {\n        this.x *= f;\n        this.y *= f;\n        this.z *= f;\n        this.w *= f;\n    }\n};\n\n/**\n * Multiply the quaternion by a vector\n * @method vmult\n * @param {Vec3} v\n * @param {Vec3} target Optional\n * @return {Vec3}\n */\nQuaternion.prototype.vmult = function(v,target){\n    target = target || new Vec3();\n\n    var x = v.x,\n        y = v.y,\n        z = v.z;\n\n    var qx = this.x,\n        qy = this.y,\n        qz = this.z,\n        qw = this.w;\n\n    // q*v\n    var ix =  qw * x + qy * z - qz * y,\n    iy =  qw * y + qz * x - qx * z,\n    iz =  qw * z + qx * y - qy * x,\n    iw = -qx * x - qy * y - qz * z;\n\n    target.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    target.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    target.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n    return target;\n};\n\n/**\n * Copies value of source to this quaternion.\n * @method copy\n * @param {Quaternion} source\n * @return {Quaternion} this\n */\nQuaternion.prototype.copy = function(source){\n    this.x = source.x;\n    this.y = source.y;\n    this.z = source.z;\n    this.w = source.w;\n    return this;\n};\n\n/**\n * Convert the quaternion to euler angle representation. Order: YZX, as this page describes: http://www.euclideanspace.com/maths/standards/index.htm\n * @method toEuler\n * @param {Vec3} target\n * @param string order Three-character string e.g. \"YZX\", which also is default.\n */\nQuaternion.prototype.toEuler = function(target,order){\n    order = order || \"YZX\";\n\n    var heading, attitude, bank;\n    var x = this.x, y = this.y, z = this.z, w = this.w;\n\n    switch(order){\n    case \"YZX\":\n        var test = x*y + z*w;\n        if (test > 0.499) { // singularity at north pole\n            heading = 2 * Math.atan2(x,w);\n            attitude = Math.PI/2;\n            bank = 0;\n        }\n        if (test < -0.499) { // singularity at south pole\n            heading = -2 * Math.atan2(x,w);\n            attitude = - Math.PI/2;\n            bank = 0;\n        }\n        if(isNaN(heading)){\n            var sqx = x*x;\n            var sqy = y*y;\n            var sqz = z*z;\n            heading = Math.atan2(2*y*w - 2*x*z , 1 - 2*sqy - 2*sqz); // Heading\n            attitude = Math.asin(2*test); // attitude\n            bank = Math.atan2(2*x*w - 2*y*z , 1 - 2*sqx - 2*sqz); // bank\n        }\n        break;\n    default:\n        throw new Error(\"Euler order \"+order+\" not supported yet.\");\n    }\n\n    target.y = heading;\n    target.z = attitude;\n    target.x = bank;\n};\n\n/**\n * See http://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/content/SpinCalc.m\n * @method setFromEuler\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @param {String} order The order to apply angles: 'XYZ' or 'YXZ' or any other combination\n */\nQuaternion.prototype.setFromEuler = function ( x, y, z, order ) {\n    order = order || \"XYZ\";\n\n    var c1 = Math.cos( x / 2 );\n    var c2 = Math.cos( y / 2 );\n    var c3 = Math.cos( z / 2 );\n    var s1 = Math.sin( x / 2 );\n    var s2 = Math.sin( y / 2 );\n    var s3 = Math.sin( z / 2 );\n\n    if ( order === 'XYZ' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'YXZ' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'ZXY' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'ZYX' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    } else if ( order === 'YZX' ) {\n\n        this.x = s1 * c2 * c3 + c1 * s2 * s3;\n        this.y = c1 * s2 * c3 + s1 * c2 * s3;\n        this.z = c1 * c2 * s3 - s1 * s2 * c3;\n        this.w = c1 * c2 * c3 - s1 * s2 * s3;\n\n    } else if ( order === 'XZY' ) {\n\n        this.x = s1 * c2 * c3 - c1 * s2 * s3;\n        this.y = c1 * s2 * c3 - s1 * c2 * s3;\n        this.z = c1 * c2 * s3 + s1 * s2 * c3;\n        this.w = c1 * c2 * c3 + s1 * s2 * s3;\n\n    }\n\n    return this;\n\n};\n\nQuaternion.prototype.clone = function(){\n    return new Quaternion(this.x, this.y, this.z, this.w);\n};\n},{\"./Vec3\":30}],29:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('./Vec3');\nvar Quaternion = _dereq_('./Quaternion');\n\nmodule.exports = Transform;\n\n/**\n * @class Transform\n * @constructor\n */\nfunction Transform(options) {\n    options = options || {};\n\n\t/**\n\t * @property {Vec3} position\n\t */\n\tthis.position = new Vec3();\n    if(options.position){\n        this.position.copy(options.position);\n    }\n\n\t/**\n\t * @property {Quaternion} quaternion\n\t */\n\tthis.quaternion = new Quaternion();\n    if(options.quaternion){\n        this.quaternion.copy(options.quaternion);\n    }\n}\n\nvar tmpQuat = new Quaternion();\n\n/**\n * @static\n * @method pointToLocaFrame\n * @param {Vec3} position\n * @param {Quaternion} quaternion\n * @param {Vec3} worldPoint\n * @param {Vec3} result\n */\nTransform.pointToLocalFrame = function(position, quaternion, worldPoint, result){\n    var result = result || new Vec3();\n    worldPoint.vsub(position, result);\n    quaternion.conjugate(tmpQuat);\n    tmpQuat.vmult(result, result);\n    return result;\n};\n\n/**\n * Get a global point in local transform coordinates.\n * @method pointToLocal\n * @param  {Vec3} point\n * @param  {Vec3} result\n * @return {Vec3} The \"result\" vector object\n */\nTransform.prototype.pointToLocal = function(worldPoint, result){\n    return Transform.pointToLocalFrame(this.position, this.quaternion, worldPoint, result);\n};\n\n/**\n * @static\n * @method pointToWorldFrame\n * @param {Vec3} position\n * @param {Vec3} quaternion\n * @param {Vec3} localPoint\n * @param {Vec3} result\n */\nTransform.pointToWorldFrame = function(position, quaternion, localPoint, result){\n    var result = result || new Vec3();\n    quaternion.vmult(localPoint, result);\n    result.vadd(position, result);\n    return result;\n};\n\n/**\n * Get a local point in global transform coordinates.\n * @method pointToWorld\n * @param  {Vec3} point\n * @param  {Vec3} result\n * @return {Vec3} The \"result\" vector object\n */\nTransform.prototype.pointToWorld = function(localPoint, result){\n    return Transform.pointToWorldFrame(this.position, this.quaternion, localPoint, result);\n};\n\n\nTransform.prototype.vectorToWorldFrame = function(localVector, result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localVector, result);\n    return result;\n};\n\nTransform.vectorToWorldFrame = function(quaternion, localVector, result){\n    quaternion.vmult(localVector, result);\n    return result;\n};\n\nTransform.vectorToLocalFrame = function(position, quaternion, worldVector, result){\n    var result = result || new Vec3();\n    quaternion.w *= -1;\n    quaternion.vmult(worldVector, result);\n    quaternion.w *= -1;\n    return result;\n};\n\n},{\"./Quaternion\":28,\"./Vec3\":30}],30:[function(_dereq_,module,exports){\nmodule.exports = Vec3;\n\nvar Mat3 = _dereq_('./Mat3');\n\n/**\n * 3-dimensional vector\n * @class Vec3\n * @constructor\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @author schteppe\n * @example\n *     var v = new Vec3(1, 2, 3);\n *     console.log('x=' + v.x); // x=1\n */\nfunction Vec3(x,y,z){\n    /**\n     * @property x\n     * @type {Number}\n     */\n    this.x = x||0.0;\n\n    /**\n     * @property y\n     * @type {Number}\n     */\n    this.y = y||0.0;\n\n    /**\n     * @property z\n     * @type {Number}\n     */\n    this.z = z||0.0;\n}\n\n/**\n * @static\n * @property {Vec3} ZERO\n */\nVec3.ZERO = new Vec3(0, 0, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_X\n */\nVec3.UNIT_X = new Vec3(1, 0, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_Y\n */\nVec3.UNIT_Y = new Vec3(0, 1, 0);\n\n/**\n * @static\n * @property {Vec3} UNIT_Z\n */\nVec3.UNIT_Z = new Vec3(0, 0, 1);\n\n/**\n * Vector cross product\n * @method cross\n * @param {Vec3} v\n * @param {Vec3} target Optional. Target to save in.\n * @return {Vec3}\n */\nVec3.prototype.cross = function(v,target){\n    var vx=v.x, vy=v.y, vz=v.z, x=this.x, y=this.y, z=this.z;\n    target = target || new Vec3();\n\n    target.x = (y * vz) - (z * vy);\n    target.y = (z * vx) - (x * vz);\n    target.z = (x * vy) - (y * vx);\n\n    return target;\n};\n\n/**\n * Set the vectors' 3 elements\n * @method set\n * @param {Number} x\n * @param {Number} y\n * @param {Number} z\n * @return Vec3\n */\nVec3.prototype.set = function(x,y,z){\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n};\n\n/**\n * Set all components of the vector to zero.\n * @method setZero\n */\nVec3.prototype.setZero = function(){\n    this.x = this.y = this.z = 0;\n};\n\n/**\n * Vector addition\n * @method vadd\n * @param {Vec3} v\n * @param {Vec3} target Optional.\n * @return {Vec3}\n */\nVec3.prototype.vadd = function(v,target){\n    if(target){\n        target.x = v.x + this.x;\n        target.y = v.y + this.y;\n        target.z = v.z + this.z;\n    } else {\n        return new Vec3(this.x + v.x,\n                               this.y + v.y,\n                               this.z + v.z);\n    }\n};\n\n/**\n * Vector subtraction\n * @method vsub\n * @param {Vec3} v\n * @param {Vec3} target Optional. Target to save in.\n * @return {Vec3}\n */\nVec3.prototype.vsub = function(v,target){\n    if(target){\n        target.x = this.x - v.x;\n        target.y = this.y - v.y;\n        target.z = this.z - v.z;\n    } else {\n        return new Vec3(this.x-v.x,\n                               this.y-v.y,\n                               this.z-v.z);\n    }\n};\n\n/**\n * Get the cross product matrix a_cross from a vector, such that a x b = a_cross * b = c\n * @method crossmat\n * @see http://www8.cs.umu.se/kurser/TDBD24/VT06/lectures/Lecture6.pdf\n * @return {Mat3}\n */\nVec3.prototype.crossmat = function(){\n    return new Mat3([     0,  -this.z,   this.y,\n                            this.z,        0,  -this.x,\n                           -this.y,   this.x,        0]);\n};\n\n/**\n * Normalize the vector. Note that this changes the values in the vector.\n * @method normalize\n * @return {Number} Returns the norm of the vector\n */\nVec3.prototype.normalize = function(){\n    var x=this.x, y=this.y, z=this.z;\n    var n = Math.sqrt(x*x + y*y + z*z);\n    if(n>0.0){\n        var invN = 1/n;\n        this.x *= invN;\n        this.y *= invN;\n        this.z *= invN;\n    } else {\n        // Make something up\n        this.x = 0;\n        this.y = 0;\n        this.z = 0;\n    }\n    return n;\n};\n\n/**\n * Get the version of this vector that is of length 1.\n * @method unit\n * @param {Vec3} target Optional target to save in\n * @return {Vec3} Returns the unit vector\n */\nVec3.prototype.unit = function(target){\n    target = target || new Vec3();\n    var x=this.x, y=this.y, z=this.z;\n    var ninv = Math.sqrt(x*x + y*y + z*z);\n    if(ninv>0.0){\n        ninv = 1.0/ninv;\n        target.x = x * ninv;\n        target.y = y * ninv;\n        target.z = z * ninv;\n    } else {\n        target.x = 1;\n        target.y = 0;\n        target.z = 0;\n    }\n    return target;\n};\n\n/**\n * Get the length of the vector\n * @method norm\n * @return {Number}\n * @deprecated Use .length() instead\n */\nVec3.prototype.norm = function(){\n    var x=this.x, y=this.y, z=this.z;\n    return Math.sqrt(x*x + y*y + z*z);\n};\n\n/**\n * Get the length of the vector\n * @method length\n * @return {Number}\n */\nVec3.prototype.length = Vec3.prototype.norm;\n\n/**\n * Get the squared length of the vector\n * @method norm2\n * @return {Number}\n * @deprecated Use .lengthSquared() instead.\n */\nVec3.prototype.norm2 = function(){\n    return this.dot(this);\n};\n\n/**\n * Get the squared length of the vector.\n * @method lengthSquared\n * @return {Number}\n */\nVec3.prototype.lengthSquared = Vec3.prototype.norm2;\n\n/**\n * Get distance from this point to another point\n * @method distanceTo\n * @param  {Vec3} p\n * @return {Number}\n */\nVec3.prototype.distanceTo = function(p){\n    var x=this.x, y=this.y, z=this.z;\n    var px=p.x, py=p.y, pz=p.z;\n    return Math.sqrt((px-x)*(px-x)+\n                     (py-y)*(py-y)+\n                     (pz-z)*(pz-z));\n};\n\n/**\n * Get squared distance from this point to another point\n * @method distanceSquared\n * @param  {Vec3} p\n * @return {Number}\n */\nVec3.prototype.distanceSquared = function(p){\n    var x=this.x, y=this.y, z=this.z;\n    var px=p.x, py=p.y, pz=p.z;\n    return (px-x)*(px-x) + (py-y)*(py-y) + (pz-z)*(pz-z);\n};\n\n/**\n * Multiply all the components of the vector with a scalar.\n * @deprecated Use .scale instead\n * @method mult\n * @param {Number} scalar\n * @param {Vec3} target The vector to save the result in.\n * @return {Vec3}\n * @deprecated Use .scale() instead\n */\nVec3.prototype.mult = function(scalar,target){\n    target = target || new Vec3();\n    var x = this.x,\n        y = this.y,\n        z = this.z;\n    target.x = scalar * x;\n    target.y = scalar * y;\n    target.z = scalar * z;\n    return target;\n};\n\n/**\n * Multiply the vector with a scalar.\n * @method scale\n * @param {Number} scalar\n * @param {Vec3} target\n * @return {Vec3}\n */\nVec3.prototype.scale = Vec3.prototype.mult;\n\n/**\n * Calculate dot product\n * @method dot\n * @param {Vec3} v\n * @return {Number}\n */\nVec3.prototype.dot = function(v){\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n};\n\n/**\n * @method isZero\n * @return bool\n */\nVec3.prototype.isZero = function(){\n    return this.x===0 && this.y===0 && this.z===0;\n};\n\n/**\n * Make the vector point in the opposite direction.\n * @method negate\n * @param {Vec3} target Optional target to save in\n * @return {Vec3}\n */\nVec3.prototype.negate = function(target){\n    target = target || new Vec3();\n    target.x = -this.x;\n    target.y = -this.y;\n    target.z = -this.z;\n    return target;\n};\n\n/**\n * Compute two artificial tangents to the vector\n * @method tangents\n * @param {Vec3} t1 Vector object to save the first tangent in\n * @param {Vec3} t2 Vector object to save the second tangent in\n */\nvar Vec3_tangents_n = new Vec3();\nvar Vec3_tangents_randVec = new Vec3();\nVec3.prototype.tangents = function(t1,t2){\n    var norm = this.norm();\n    if(norm>0.0){\n        var n = Vec3_tangents_n;\n        var inorm = 1/norm;\n        n.set(this.x*inorm,this.y*inorm,this.z*inorm);\n        var randVec = Vec3_tangents_randVec;\n        if(Math.abs(n.x) < 0.9){\n            randVec.set(1,0,0);\n            n.cross(randVec,t1);\n        } else {\n            randVec.set(0,1,0);\n            n.cross(randVec,t1);\n        }\n        n.cross(t1,t2);\n    } else {\n        // The normal length is zero, make something up\n        t1.set(1, 0, 0);\n        t2.set(0, 1, 0);\n    }\n};\n\n/**\n * Converts to a more readable format\n * @method toString\n * @return string\n */\nVec3.prototype.toString = function(){\n    return this.x+\",\"+this.y+\",\"+this.z;\n};\n\n/**\n * Converts to an array\n * @method toArray\n * @return Array\n */\nVec3.prototype.toArray = function(){\n    return [this.x, this.y, this.z];\n};\n\n/**\n * Copies value of source to this vector.\n * @method copy\n * @param {Vec3} source\n * @return {Vec3} this\n */\nVec3.prototype.copy = function(source){\n    this.x = source.x;\n    this.y = source.y;\n    this.z = source.z;\n    return this;\n};\n\n\n/**\n * Do a linear interpolation between two vectors\n * @method lerp\n * @param {Vec3} v\n * @param {Number} t A number between 0 and 1. 0 will make this function return u, and 1 will make it return v. Numbers in between will generate a vector in between them.\n * @param {Vec3} target\n */\nVec3.prototype.lerp = function(v,t,target){\n    var x=this.x, y=this.y, z=this.z;\n    target.x = x + (v.x-x)*t;\n    target.y = y + (v.y-y)*t;\n    target.z = z + (v.z-z)*t;\n};\n\n/**\n * Check if a vector equals is almost equal to another one.\n * @method almostEquals\n * @param {Vec3} v\n * @param {Number} precision\n * @return bool\n */\nVec3.prototype.almostEquals = function(v,precision){\n    if(precision===undefined){\n        precision = 1e-6;\n    }\n    if( Math.abs(this.x-v.x)>precision ||\n        Math.abs(this.y-v.y)>precision ||\n        Math.abs(this.z-v.z)>precision){\n        return false;\n    }\n    return true;\n};\n\n/**\n * Check if a vector is almost zero\n * @method almostZero\n * @param {Number} precision\n */\nVec3.prototype.almostZero = function(precision){\n    if(precision===undefined){\n        precision = 1e-6;\n    }\n    if( Math.abs(this.x)>precision ||\n        Math.abs(this.y)>precision ||\n        Math.abs(this.z)>precision){\n        return false;\n    }\n    return true;\n};\n\nvar antip_neg = new Vec3();\n\n/**\n * Check if the vector is anti-parallel to another vector.\n * @method isAntiparallelTo\n * @param  {Vec3}  v\n * @param  {Number}  precision Set to zero for exact comparisons\n * @return {Boolean}\n */\nVec3.prototype.isAntiparallelTo = function(v,precision){\n    this.negate(antip_neg);\n    return antip_neg.almostEquals(v,precision);\n};\n\n/**\n * Clone the vector\n * @method clone\n * @return {Vec3}\n */\nVec3.prototype.clone = function(){\n    return new Vec3(this.x, this.y, this.z);\n};\n},{\"./Mat3\":27}],31:[function(_dereq_,module,exports){\nmodule.exports = Body;\n\nvar EventTarget = _dereq_('../utils/EventTarget');\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Mat3 = _dereq_('../math/Mat3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Material = _dereq_('../material/Material');\nvar AABB = _dereq_('../collision/AABB');\nvar Box = _dereq_('../shapes/Box');\n\n/**\n * Base class for all body types.\n * @class Body\n * @constructor\n * @extends EventTarget\n * @param {object} [options]\n * @param {Vec3} [options.position]\n * @param {Vec3} [options.velocity]\n * @param {Vec3} [options.angularVelocity]\n * @param {Quaternion} [options.quaternion]\n * @param {number} [options.mass]\n * @param {Material} [options.material]\n * @param {number} [options.type]\n * @param {number} [options.linearDamping=0.01]\n * @param {number} [options.angularDamping=0.01]\n * @param {boolean} [options.allowSleep=true]\n * @param {number} [options.sleepSpeedLimit=0.1]\n * @param {number} [options.sleepTimeLimit=1]\n * @param {number} [options.collisionFilterGroup=1]\n * @param {number} [options.collisionFilterMask=1]\n * @param {boolean} [options.fixedRotation=false]\n * @param {Body} [options.shape]\n * @example\n *     var body = new Body({\n *         mass: 1\n *     });\n *     var shape = new Sphere(1);\n *     body.addShape(shape);\n *     world.add(body);\n */\nfunction Body(options){\n    options = options || {};\n\n    EventTarget.apply(this);\n\n    this.id = Body.idCounter++;\n\n    /**\n     * Reference to the world the body is living in\n     * @property world\n     * @type {World}\n     */\n    this.world = null;\n\n    /**\n     * Callback function that is used BEFORE stepping the system. Use it to apply forces, for example. Inside the function, \"this\" will refer to this Body object.\n     * @property preStep\n     * @type {Function}\n     * @deprecated Use World events instead\n     */\n    this.preStep = null;\n\n    /**\n     * Callback function that is used AFTER stepping the system. Inside the function, \"this\" will refer to this Body object.\n     * @property postStep\n     * @type {Function}\n     * @deprecated Use World events instead\n     */\n    this.postStep = null;\n\n    this.vlambda = new Vec3();\n\n    /**\n     * @property {Number} collisionFilterGroup\n     */\n    this.collisionFilterGroup = typeof(options.collisionFilterGroup) === 'number' ? options.collisionFilterGroup : 1;\n\n    /**\n     * @property {Number} collisionFilterMask\n     */\n    this.collisionFilterMask = typeof(options.collisionFilterMask) === 'number' ? options.collisionFilterMask : 1;\n\n    /**\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\n     * @property {Number} collisionResponse\n     */\n\tthis.collisionResponse = true;\n\n    /**\n     * @property position\n     * @type {Vec3}\n     */\n    this.position = new Vec3();\n\n    if(options.position){\n        this.position.copy(options.position);\n    }\n\n    /**\n     * @property {Vec3} previousPosition\n     */\n    this.previousPosition = new Vec3();\n\n    /**\n     * Initial position of the body\n     * @property initPosition\n     * @type {Vec3}\n     */\n    this.initPosition = new Vec3();\n\n    /**\n     * @property velocity\n     * @type {Vec3}\n     */\n    this.velocity = new Vec3();\n\n    if(options.velocity){\n        this.velocity.copy(options.velocity);\n    }\n\n    /**\n     * @property initVelocity\n     * @type {Vec3}\n     */\n    this.initVelocity = new Vec3();\n\n    /**\n     * Linear force on the body\n     * @property force\n     * @type {Vec3}\n     */\n    this.force = new Vec3();\n\n    var mass = typeof(options.mass) === 'number' ? options.mass : 0;\n\n    /**\n     * @property mass\n     * @type {Number}\n     * @default 0\n     */\n    this.mass = mass;\n\n    /**\n     * @property invMass\n     * @type {Number}\n     */\n    this.invMass = mass > 0 ? 1.0 / mass : 0;\n\n    /**\n     * @property material\n     * @type {Material}\n     */\n    this.material = options.material || null;\n\n    /**\n     * @property linearDamping\n     * @type {Number}\n     */\n    this.linearDamping = typeof(options.linearDamping) === 'number' ? options.linearDamping : 0.01;\n\n    /**\n     * One of: Body.DYNAMIC, Body.STATIC and Body.KINEMATIC.\n     * @property type\n     * @type {Number}\n     */\n    this.type = (mass <= 0.0 ? Body.STATIC : Body.DYNAMIC);\n    if(typeof(options.type) === typeof(Body.STATIC)){\n        this.type = options.type;\n    }\n\n    /**\n     * If true, the body will automatically fall to sleep.\n     * @property allowSleep\n     * @type {Boolean}\n     * @default true\n     */\n    this.allowSleep = typeof(options.allowSleep) !== 'undefined' ? options.allowSleep : true;\n\n    /**\n     * Current sleep state.\n     * @property sleepState\n     * @type {Number}\n     */\n    this.sleepState = 0;\n\n    /**\n     * If the speed (the norm of the velocity) is smaller than this value, the body is considered sleepy.\n     * @property sleepSpeedLimit\n     * @type {Number}\n     * @default 0.1\n     */\n    this.sleepSpeedLimit = typeof(options.sleepSpeedLimit) !== 'undefined' ? options.sleepSpeedLimit : 0.1;\n\n    /**\n     * If the body has been sleepy for this sleepTimeLimit seconds, it is considered sleeping.\n     * @property sleepTimeLimit\n     * @type {Number}\n     * @default 1\n     */\n    this.sleepTimeLimit = typeof(options.sleepTimeLimit) !== 'undefined' ? options.sleepTimeLimit : 1;\n\n    this.timeLastSleepy = 0;\n\n    this._wakeUpAfterNarrowphase = false;\n\n\n    /**\n     * Rotational force on the body, around center of mass\n     * @property {Vec3} torque\n     */\n    this.torque = new Vec3();\n\n    /**\n     * Orientation of the body\n     * @property quaternion\n     * @type {Quaternion}\n     */\n    this.quaternion = new Quaternion();\n\n    if(options.quaternion){\n        this.quaternion.copy(options.quaternion);\n    }\n\n    /**\n     * @property initQuaternion\n     * @type {Quaternion}\n     */\n    this.initQuaternion = new Quaternion();\n\n    /**\n     * @property angularVelocity\n     * @type {Vec3}\n     */\n    this.angularVelocity = new Vec3();\n\n    if(options.angularVelocity){\n        this.angularVelocity.copy(options.angularVelocity);\n    }\n\n    /**\n     * @property initAngularVelocity\n     * @type {Vec3}\n     */\n    this.initAngularVelocity = new Vec3();\n\n    this.interpolatedPosition = new Vec3();\n    this.interpolatedQuaternion = new Quaternion();\n\n    /**\n     * @property shapes\n     * @type {array}\n     */\n    this.shapes = [];\n\n    /**\n     * @property shapeOffsets\n     * @type {array}\n     */\n    this.shapeOffsets = [];\n\n    /**\n     * @property shapeOrientations\n     * @type {array}\n     */\n    this.shapeOrientations = [];\n\n    /**\n     * @property inertia\n     * @type {Vec3}\n     */\n    this.inertia = new Vec3();\n\n    /**\n     * @property {Vec3} invInertia\n     */\n    this.invInertia = new Vec3();\n\n    /**\n     * @property {Mat3} invInertiaWorld\n     */\n    this.invInertiaWorld = new Mat3();\n\n    this.invMassSolve = 0;\n\n    /**\n     * @property {Vec3} invInertiaSolve\n     */\n    this.invInertiaSolve = new Vec3();\n\n    /**\n     * @property {Mat3} invInertiaWorldSolve\n     */\n    this.invInertiaWorldSolve = new Mat3();\n\n    /**\n     * Set to true if you don't want the body to rotate. Make sure to run .updateMassProperties() after changing this.\n     * @property {Boolean} fixedRotation\n     * @default false\n     */\n    this.fixedRotation = typeof(options.fixedRotation) !== \"undefined\" ? options.fixedRotation : false;\n\n    /**\n     * @property {Number} angularDamping\n     */\n    this.angularDamping = typeof(options.angularDamping) !== 'undefined' ? options.angularDamping : 0.01;\n\n    /**\n     * @property aabb\n     * @type {AABB}\n     */\n    this.aabb = new AABB();\n\n    /**\n     * Indicates if the AABB needs to be updated before use.\n     * @property aabbNeedsUpdate\n     * @type {Boolean}\n     */\n    this.aabbNeedsUpdate = true;\n\n    this.wlambda = new Vec3();\n\n    if(options.shape){\n        this.addShape(options.shape);\n    }\n\n    this.updateMassProperties();\n}\nBody.prototype = new EventTarget();\nBody.prototype.constructor = Body;\n\n/**\n * A dynamic body is fully simulated. Can be moved manually by the user, but normally they move according to forces. A dynamic body can collide with all body types. A dynamic body always has finite, non-zero mass.\n * @static\n * @property DYNAMIC\n * @type {Number}\n */\nBody.DYNAMIC = 1;\n\n/**\n * A static body does not move during simulation and behaves as if it has infinite mass. Static bodies can be moved manually by setting the position of the body. The velocity of a static body is always zero. Static bodies do not collide with other static or kinematic bodies.\n * @static\n * @property STATIC\n * @type {Number}\n */\nBody.STATIC = 2;\n\n/**\n * A kinematic body moves under simulation according to its velocity. They do not respond to forces. They can be moved manually, but normally a kinematic body is moved by setting its velocity. A kinematic body behaves as if it has infinite mass. Kinematic bodies do not collide with other static or kinematic bodies.\n * @static\n * @property KINEMATIC\n * @type {Number}\n */\nBody.KINEMATIC = 4;\n\n\n\n/**\n * @static\n * @property AWAKE\n * @type {number}\n */\nBody.AWAKE = 0;\n\n/**\n * @static\n * @property SLEEPY\n * @type {number}\n */\nBody.SLEEPY = 1;\n\n/**\n * @static\n * @property SLEEPING\n * @type {number}\n */\nBody.SLEEPING = 2;\n\nBody.idCounter = 0;\n\n/**\n * Wake the body up.\n * @method wakeUp\n */\nBody.prototype.wakeUp = function(){\n    var s = this.sleepState;\n    this.sleepState = 0;\n    if(s === Body.SLEEPING){\n        this.dispatchEvent({type:\"wakeup\"});\n    }\n};\n\n/**\n * Force body sleep\n * @method sleep\n */\nBody.prototype.sleep = function(){\n    this.sleepState = Body.SLEEPING;\n    this.velocity.set(0,0,0);\n    this.angularVelocity.set(0,0,0);\n};\n\nBody.sleepyEvent = {\n    type: \"sleepy\"\n};\n\nBody.sleepEvent = {\n    type: \"sleep\"\n};\n\n/**\n * Called every timestep to update internal sleep timer and change sleep state if needed.\n * @method sleepTick\n * @param {Number} time The world time in seconds\n */\nBody.prototype.sleepTick = function(time){\n    if(this.allowSleep){\n        var sleepState = this.sleepState;\n        var speedSquared = this.velocity.norm2() + this.angularVelocity.norm2();\n        var speedLimitSquared = Math.pow(this.sleepSpeedLimit,2);\n        if(sleepState===Body.AWAKE && speedSquared < speedLimitSquared){\n            this.sleepState = Body.SLEEPY; // Sleepy\n            this.timeLastSleepy = time;\n            this.dispatchEvent(Body.sleepyEvent);\n        } else if(sleepState===Body.SLEEPY && speedSquared > speedLimitSquared){\n            this.wakeUp(); // Wake up\n        } else if(sleepState===Body.SLEEPY && (time - this.timeLastSleepy ) > this.sleepTimeLimit){\n            this.sleep(); // Sleeping\n            this.dispatchEvent(Body.sleepEvent);\n        }\n    }\n};\n\n/**\n * If the body is sleeping, it should be immovable / have infinite mass during solve. We solve it by having a separate \"solve mass\".\n * @method updateSolveMassProperties\n */\nBody.prototype.updateSolveMassProperties = function(){\n    if(this.sleepState === Body.SLEEPING || this.type === Body.KINEMATIC){\n        this.invMassSolve = 0;\n        this.invInertiaSolve.setZero();\n        this.invInertiaWorldSolve.setZero();\n    } else {\n        this.invMassSolve = this.invMass;\n        this.invInertiaSolve.copy(this.invInertia);\n        this.invInertiaWorldSolve.copy(this.invInertiaWorld);\n    }\n};\n\n/**\n * Convert a world point to local body frame.\n * @method pointToLocalFrame\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.pointToLocalFrame = function(worldPoint,result){\n    var result = result || new Vec3();\n    worldPoint.vsub(this.position,result);\n    this.quaternion.conjugate().vmult(result,result);\n    return result;\n};\n\n/**\n * Convert a world vector to local body frame.\n * @method vectorToLocalFrame\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.vectorToLocalFrame = function(worldVector, result){\n    var result = result || new Vec3();\n    this.quaternion.conjugate().vmult(worldVector,result);\n    return result;\n};\n\n/**\n * Convert a local body point to world frame.\n * @method pointToWorldFrame\n * @param  {Vec3} localPoint\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.pointToWorldFrame = function(localPoint,result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localPoint,result);\n    result.vadd(this.position,result);\n    return result;\n};\n\n/**\n * Convert a local body point to world frame.\n * @method vectorToWorldFrame\n * @param  {Vec3} localVector\n * @param  {Vec3} result\n * @return {Vec3}\n */\nBody.prototype.vectorToWorldFrame = function(localVector, result){\n    var result = result || new Vec3();\n    this.quaternion.vmult(localVector, result);\n    return result;\n};\n\nvar tmpVec = new Vec3();\nvar tmpQuat = new Quaternion();\n\n/**\n * Add a shape to the body with a local offset and orientation.\n * @method addShape\n * @param {Shape} shape\n * @param {Vec3} offset\n * @param {Quaternion} quaternion\n * @return {Body} The body object, for chainability.\n */\nBody.prototype.addShape = function(shape, _offset, _orientation){\n    var offset = new Vec3();\n    var orientation = new Quaternion();\n\n    if(_offset){\n        offset.copy(_offset);\n    }\n    if(_orientation){\n        orientation.copy(_orientation);\n    }\n\n    this.shapes.push(shape);\n    this.shapeOffsets.push(offset);\n    this.shapeOrientations.push(orientation);\n    this.updateMassProperties();\n    this.updateBoundingRadius();\n\n    this.aabbNeedsUpdate = true;\n\n    return this;\n};\n\n/**\n * Update the bounding radius of the body. Should be done if any of the shapes are changed.\n * @method updateBoundingRadius\n */\nBody.prototype.updateBoundingRadius = function(){\n    var shapes = this.shapes,\n        shapeOffsets = this.shapeOffsets,\n        N = shapes.length,\n        radius = 0;\n\n    for(var i=0; i!==N; i++){\n        var shape = shapes[i];\n        shape.updateBoundingSphereRadius();\n        var offset = shapeOffsets[i].norm(),\n            r = shape.boundingSphereRadius;\n        if(offset + r > radius){\n            radius = offset + r;\n        }\n    }\n\n    this.boundingRadius = radius;\n};\n\nvar computeAABB_shapeAABB = new AABB();\n\n/**\n * Updates the .aabb\n * @method computeAABB\n * @todo rename to updateAABB()\n */\nBody.prototype.computeAABB = function(){\n    var shapes = this.shapes,\n        shapeOffsets = this.shapeOffsets,\n        shapeOrientations = this.shapeOrientations,\n        N = shapes.length,\n        offset = tmpVec,\n        orientation = tmpQuat,\n        bodyQuat = this.quaternion,\n        aabb = this.aabb,\n        shapeAABB = computeAABB_shapeAABB;\n\n    for(var i=0; i!==N; i++){\n        var shape = shapes[i];\n\n        // Get shape world quaternion\n        shapeOrientations[i].mult(bodyQuat, orientation);\n\n        // Get shape world position\n        orientation.vmult(shapeOffsets[i], offset);\n        offset.vadd(this.position, offset);\n\n        // vec2.rotate(offset, shapeOffsets[i], bodyAngle);\n        // vec2.add(offset, offset, this.position);\n\n        // Get shape AABB\n        shape.calculateWorldAABB(offset, orientation, shapeAABB.lowerBound, shapeAABB.upperBound);\n\n        if(i === 0){\n            aabb.copy(shapeAABB);\n        } else {\n            aabb.extend(shapeAABB);\n        }\n    }\n\n    this.aabbNeedsUpdate = false;\n};\n\nvar uiw_m1 = new Mat3(),\n    uiw_m2 = new Mat3(),\n    uiw_m3 = new Mat3();\n\n/**\n * Update .inertiaWorld and .invInertiaWorld\n * @method updateInertiaWorld\n */\nBody.prototype.updateInertiaWorld = function(force){\n    var I = this.invInertia;\n    if (I.x === I.y && I.y === I.z && !force) {\n        // If inertia M = s*I, where I is identity and s a scalar, then\n        //    R*M*R' = R*(s*I)*R' = s*R*I*R' = s*R*R' = s*I = M\n        // where R is the rotation matrix.\n        // In other words, we don't have to transform the inertia if all\n        // inertia diagonal entries are equal.\n    } else {\n        var m1 = uiw_m1,\n            m2 = uiw_m2,\n            m3 = uiw_m3;\n        m1.setRotationFromQuaternion(this.quaternion);\n        m1.transpose(m2);\n        m1.scale(I,m1);\n        m1.mmult(m2,this.invInertiaWorld);\n        //m3.getTrace(this.invInertiaWorld);\n    }\n\n    /*\n    this.quaternion.vmult(this.inertia,this.inertiaWorld);\n    this.quaternion.vmult(this.invInertia,this.invInertiaWorld);\n    */\n};\n\n/**\n * Apply force to a world point. This could for example be a point on the Body surface. Applying force this way will add to Body.force and Body.torque.\n * @method applyForce\n * @param  {Vec3} force The amount of force to add.\n * @param  {Vec3} worldPoint A world point to apply the force on.\n */\nvar Body_applyForce_r = new Vec3();\nvar Body_applyForce_rotForce = new Vec3();\nBody.prototype.applyForce = function(force,worldPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    // Compute point position relative to the body center\n    var r = Body_applyForce_r;\n    worldPoint.vsub(this.position,r);\n\n    // Compute produced rotational force\n    var rotForce = Body_applyForce_rotForce;\n    r.cross(force,rotForce);\n\n    // Add linear force\n    this.force.vadd(force,this.force);\n\n    // Add rotational force\n    this.torque.vadd(rotForce,this.torque);\n};\n\n/**\n * Apply force to a local point in the body.\n * @method applyLocalForce\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\n */\nvar Body_applyLocalForce_worldForce = new Vec3();\nvar Body_applyLocalForce_worldPoint = new Vec3();\nBody.prototype.applyLocalForce = function(localForce, localPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    var worldForce = Body_applyLocalForce_worldForce;\n    var worldPoint = Body_applyLocalForce_worldPoint;\n\n    // Transform the force vector to world space\n    this.vectorToWorldFrame(localForce, worldForce);\n    this.pointToWorldFrame(localPoint, worldPoint);\n\n    this.applyForce(worldForce, worldPoint);\n};\n\n/**\n * Apply impulse to a world point. This could for example be a point on the Body surface. An impulse is a force added to a body during a short period of time (impulse = force * time). Impulses will be added to Body.velocity and Body.angularVelocity.\n * @method applyImpulse\n * @param  {Vec3} impulse The amount of impulse to add.\n * @param  {Vec3} worldPoint A world point to apply the force on.\n */\nvar Body_applyImpulse_r = new Vec3();\nvar Body_applyImpulse_velo = new Vec3();\nvar Body_applyImpulse_rotVelo = new Vec3();\nBody.prototype.applyImpulse = function(impulse, worldPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    // Compute point position relative to the body center\n    var r = Body_applyImpulse_r;\n    worldPoint.vsub(this.position,r);\n\n    // Compute produced central impulse velocity\n    var velo = Body_applyImpulse_velo;\n    velo.copy(impulse);\n    velo.mult(this.invMass,velo);\n\n    // Add linear impulse\n    this.velocity.vadd(velo, this.velocity);\n\n    // Compute produced rotational impulse velocity\n    var rotVelo = Body_applyImpulse_rotVelo;\n    r.cross(impulse,rotVelo);\n\n    /*\n    rotVelo.x *= this.invInertia.x;\n    rotVelo.y *= this.invInertia.y;\n    rotVelo.z *= this.invInertia.z;\n    */\n    this.invInertiaWorld.vmult(rotVelo,rotVelo);\n\n    // Add rotational Impulse\n    this.angularVelocity.vadd(rotVelo, this.angularVelocity);\n};\n\n/**\n * Apply locally-defined impulse to a local point in the body.\n * @method applyLocalImpulse\n * @param  {Vec3} force The force vector to apply, defined locally in the body frame.\n * @param  {Vec3} localPoint A local point in the body to apply the force on.\n */\nvar Body_applyLocalImpulse_worldImpulse = new Vec3();\nvar Body_applyLocalImpulse_worldPoint = new Vec3();\nBody.prototype.applyLocalImpulse = function(localImpulse, localPoint){\n    if(this.type !== Body.DYNAMIC){\n        return;\n    }\n\n    var worldImpulse = Body_applyLocalImpulse_worldImpulse;\n    var worldPoint = Body_applyLocalImpulse_worldPoint;\n\n    // Transform the force vector to world space\n    this.vectorToWorldFrame(localImpulse, worldImpulse);\n    this.pointToWorldFrame(localPoint, worldPoint);\n\n    this.applyImpulse(worldImpulse, worldPoint);\n};\n\nvar Body_updateMassProperties_halfExtents = new Vec3();\n\n/**\n * Should be called whenever you change the body shape or mass.\n * @method updateMassProperties\n */\nBody.prototype.updateMassProperties = function(){\n    var halfExtents = Body_updateMassProperties_halfExtents;\n\n    this.invMass = this.mass > 0 ? 1.0 / this.mass : 0;\n    var I = this.inertia;\n    var fixed = this.fixedRotation;\n\n    // Approximate with AABB box\n    this.computeAABB();\n    halfExtents.set(\n        (this.aabb.upperBound.x-this.aabb.lowerBound.x) / 2,\n        (this.aabb.upperBound.y-this.aabb.lowerBound.y) / 2,\n        (this.aabb.upperBound.z-this.aabb.lowerBound.z) / 2\n    );\n    Box.calculateInertia(halfExtents, this.mass, I);\n\n    this.invInertia.set(\n        I.x > 0 && !fixed ? 1.0 / I.x : 0,\n        I.y > 0 && !fixed ? 1.0 / I.y : 0,\n        I.z > 0 && !fixed ? 1.0 / I.z : 0\n    );\n    this.updateInertiaWorld(true);\n};\n\n/**\n * Get world velocity of a point in the body.\n * @method getVelocityAtWorldPoint\n * @param  {Vec3} worldPoint\n * @param  {Vec3} result\n * @return {Vec3} The result vector.\n */\nBody.prototype.getVelocityAtWorldPoint = function(worldPoint, result){\n    var r = new Vec3();\n    worldPoint.vsub(this.position, r);\n    this.angularVelocity.cross(r, result);\n    this.velocity.vadd(result, result);\n    return result;\n};\n\n},{\"../collision/AABB\":3,\"../material/Material\":25,\"../math/Mat3\":27,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Shape\":43,\"../utils/EventTarget\":49}],32:[function(_dereq_,module,exports){\nvar Body = _dereq_('./Body');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Ray = _dereq_('../collision/Ray');\nvar WheelInfo = _dereq_('../objects/WheelInfo');\n\nmodule.exports = RaycastVehicle;\n\n/**\n * Vehicle helper class that casts rays from the wheel positions towards the ground and applies forces.\n * @class RaycastVehicle\n * @constructor\n * @param {object} [options]\n * @param {Body} [options.chassisBody] The car chassis body.\n * @param {integer} [options.indexRightAxis] Axis to use for right. x=0, y=1, z=2\n * @param {integer} [options.indexLeftAxis]\n * @param {integer} [options.indexUpAxis]\n */\nfunction RaycastVehicle(options){\n\n    /**\n     * @property {Body} chassisBody\n     */\n    this.chassisBody = options.chassisBody;\n\n    /**\n     * An array of WheelInfo objects.\n     * @property {array} wheelInfos\n     */\n    this.wheelInfos = [];\n\n    /**\n     * Will be set to true if the car is sliding.\n     * @property {boolean} sliding\n     */\n    this.sliding = false;\n\n    /**\n     * @property {World} world\n     */\n    this.world = null;\n\n    /**\n     * Index of the right axis, 0=x, 1=y, 2=z\n     * @property {integer} indexRightAxis\n     * @default 1\n     */\n    this.indexRightAxis = typeof(options.indexRightAxis) !== 'undefined' ? options.indexRightAxis : 1;\n\n    /**\n     * Index of the forward axis, 0=x, 1=y, 2=z\n     * @property {integer} indexForwardAxis\n     * @default 0\n     */\n    this.indexForwardAxis = typeof(options.indexForwardAxis) !== 'undefined' ? options.indexForwardAxis : 0;\n\n    /**\n     * Index of the up axis, 0=x, 1=y, 2=z\n     * @property {integer} indexUpAxis\n     * @default 2\n     */\n    this.indexUpAxis = typeof(options.indexUpAxis) !== 'undefined' ? options.indexUpAxis : 2;\n}\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\nvar tmpVec3 = new Vec3();\nvar tmpVec4 = new Vec3();\nvar tmpVec5 = new Vec3();\nvar tmpVec6 = new Vec3();\nvar tmpRay = new Ray();\n\n/**\n * Add a wheel. For information about the options, see WheelInfo.\n * @method addWheel\n * @param {object} [options]\n */\nRaycastVehicle.prototype.addWheel = function(options){\n    options = options || {};\n\n    var info = new WheelInfo(options);\n    var index = this.wheelInfos.length;\n    this.wheelInfos.push(info);\n\n    return index;\n};\n\n/**\n * Set the steering value of a wheel.\n * @method setSteeringValue\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRaycastVehicle.prototype.setSteeringValue = function(value, wheelIndex){\n    var wheel = this.wheelInfos[wheelIndex];\n    wheel.steering = value;\n};\n\nvar torque = new Vec3();\n\n/**\n * Set the wheel force to apply on one of the wheels each time step\n * @method applyEngineForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRaycastVehicle.prototype.applyEngineForce = function(value, wheelIndex){\n    this.wheelInfos[wheelIndex].engineForce = value;\n};\n\n/**\n * Set the braking force of a wheel\n * @method setBrake\n * @param {number} brake\n * @param {integer} wheelIndex\n */\nRaycastVehicle.prototype.setBrake = function(brake, wheelIndex){\n    this.wheelInfos[wheelIndex].brake = brake;\n};\n\n/**\n * Add the vehicle including its constraints to the world.\n * @method addToWorld\n * @param {World} world\n */\nRaycastVehicle.prototype.addToWorld = function(world){\n    var constraints = this.constraints;\n    world.add(this.chassisBody);\n    var that = this;\n    this.preStepCallback = function(){\n        that.updateVehicle(world.dt);\n    };\n    world.addEventListener('preStep', this.preStepCallback);\n    this.world = world;\n};\n\n/**\n * Get one of the wheel axles, world-oriented.\n * @private\n * @method getVehicleAxisWorld\n * @param  {integer} axisIndex\n * @param  {Vec3} result\n */\nRaycastVehicle.prototype.getVehicleAxisWorld = function(axisIndex, result){\n    result.set(\n        axisIndex === 0 ? 1 : 0,\n        axisIndex === 1 ? 1 : 0,\n        axisIndex === 2 ? 1 : 0\n    );\n    this.chassisBody.vectorToWorldFrame(result, result);\n};\n\nRaycastVehicle.prototype.updateVehicle = function(timeStep){\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n    var chassisBody = this.chassisBody;\n\n    for (var i = 0; i < numWheels; i++) {\n        this.updateWheelTransform(i);\n    }\n\n    this.currentVehicleSpeedKmHour = 3.6 * chassisBody.velocity.norm();\n\n    var forwardWorld = new Vec3();\n    this.getVehicleAxisWorld(this.indexForwardAxis, forwardWorld);\n\n    if (forwardWorld.dot(chassisBody.velocity) < 0){\n        this.currentVehicleSpeedKmHour *= -1;\n    }\n\n    // simulate suspension\n    for (var i = 0; i < numWheels; i++) {\n        this.castRay(wheelInfos[i]);\n    }\n\n    this.updateSuspension(timeStep);\n\n    var impulse = new Vec3();\n    var relpos = new Vec3();\n    for (var i = 0; i < numWheels; i++) {\n        //apply suspension force\n        var wheel = wheelInfos[i];\n        var suspensionForce = wheel.suspensionForce;\n        if (suspensionForce > wheel.maxSuspensionForce) {\n            suspensionForce = wheel.maxSuspensionForce;\n        }\n        wheel.raycastResult.hitNormalWorld.scale(suspensionForce * timeStep, impulse);\n\n        wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, relpos);\n        chassisBody.applyImpulse(impulse, wheel.raycastResult.hitPointWorld/*relpos*/);\n    }\n\n    this.updateFriction(timeStep);\n\n    var hitNormalWorldScaledWithProj = new Vec3();\n    var fwd  = new Vec3();\n    var vel = new Vec3();\n    for (i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n        //var relpos = new Vec3();\n        //wheel.chassisConnectionPointWorld.vsub(chassisBody.position, relpos);\n        chassisBody.getVelocityAtWorldPoint(wheel.chassisConnectionPointWorld, vel);\n\n        // Hack to get the rotation in the correct direction\n        var m = 1;\n        switch(this.indexUpAxis){\n        case 1:\n            m = -1;\n            break;\n        }\n\n        if (wheel.isInContact) {\n\n            this.getVehicleAxisWorld(this.indexForwardAxis, fwd);\n            var proj = fwd.dot(wheel.raycastResult.hitNormalWorld);\n            wheel.raycastResult.hitNormalWorld.scale(proj, hitNormalWorldScaledWithProj);\n\n            fwd.vsub(hitNormalWorldScaledWithProj, fwd);\n\n            var proj2 = fwd.dot(vel);\n            wheel.deltaRotation = m * proj2 * timeStep / wheel.radius;\n        }\n\n        if((wheel.sliding || !wheel.isInContact) && wheel.engineForce !== 0 && wheel.useCustomSlidingRotationalSpeed){\n            // Apply custom rotation when accelerating and sliding\n            wheel.deltaRotation = (wheel.engineForce > 0 ? 1 : -1) * wheel.customSlidingRotationalSpeed * timeStep;\n        }\n\n        // Lock wheels\n        if(Math.abs(wheel.brake) > Math.abs(wheel.engineForce)){\n            wheel.deltaRotation = 0;\n        }\n\n        wheel.rotation += wheel.deltaRotation; // Use the old value\n        wheel.deltaRotation *= 0.99; // damping of rotation when not in contact\n    }\n};\n\nRaycastVehicle.prototype.updateSuspension = function(deltaTime) {\n    var chassisBody = this.chassisBody;\n    var chassisMass = chassisBody.mass;\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n\n    for (var w_it = 0; w_it < numWheels; w_it++){\n        var wheel = wheelInfos[w_it];\n\n        if (wheel.isInContact){\n            var force;\n\n            // Spring\n            var susp_length = wheel.suspensionRestLength;\n            var current_length = wheel.suspensionLength;\n            var length_diff = (susp_length - current_length);\n\n            force = wheel.suspensionStiffness * length_diff * wheel.clippedInvContactDotSuspension;\n\n            // Damper\n            var projected_rel_vel = wheel.suspensionRelativeVelocity;\n            var susp_damping;\n            if (projected_rel_vel < 0) {\n                susp_damping = wheel.dampingCompression;\n            } else {\n                susp_damping = wheel.dampingRelaxation;\n            }\n            force -= susp_damping * projected_rel_vel;\n\n            wheel.suspensionForce = force * chassisMass;\n            if (wheel.suspensionForce < 0) {\n                wheel.suspensionForce = 0;\n            }\n        } else {\n            wheel.suspensionForce = 0;\n        }\n    }\n};\n\n/**\n * Remove the vehicle including its constraints from the world.\n * @method removeFromWorld\n * @param {World} world\n */\nRaycastVehicle.prototype.removeFromWorld = function(world){\n    var constraints = this.constraints;\n    world.remove(this.chassisBody);\n    world.removeEventListener('preStep', this.preStepCallback);\n    this.world = null;\n};\n\nvar castRay_rayvector = new Vec3();\nvar castRay_target = new Vec3();\nRaycastVehicle.prototype.castRay = function(wheel) {\n    var rayvector = castRay_rayvector;\n    var target = castRay_target;\n\n    this.updateWheelTransformWorld(wheel);\n    var chassisBody = this.chassisBody;\n\n    var depth = -1;\n\n    var raylen = wheel.suspensionRestLength + wheel.radius;\n\n    wheel.directionWorld.scale(raylen, rayvector);\n    var source = wheel.chassisConnectionPointWorld;\n    source.vadd(rayvector, target);\n    var raycastResult = wheel.raycastResult;\n\n    var param = 0;\n\n    raycastResult.reset();\n    // Turn off ray collision with the chassis temporarily\n    var oldState = chassisBody.collisionResponse;\n    chassisBody.collisionResponse = false;\n\n    // Cast ray against world\n    this.world.rayTest(source, target, raycastResult);\n    chassisBody.collisionResponse = oldState;\n\n    var object = raycastResult.body;\n\n    wheel.raycastResult.groundObject = 0;\n\n    if (object) {\n        depth = raycastResult.distance;\n        wheel.raycastResult.hitNormalWorld  = raycastResult.hitNormalWorld;\n        wheel.isInContact = true;\n\n        var hitDistance = raycastResult.distance;\n        wheel.suspensionLength = hitDistance - wheel.radius;\n\n        // clamp on max suspension travel\n        var minSuspensionLength = wheel.suspensionRestLength - wheel.maxSuspensionTravel;\n        var maxSuspensionLength = wheel.suspensionRestLength + wheel.maxSuspensionTravel;\n        if (wheel.suspensionLength < minSuspensionLength) {\n            wheel.suspensionLength = minSuspensionLength;\n        }\n        if (wheel.suspensionLength > maxSuspensionLength) {\n            wheel.suspensionLength = maxSuspensionLength;\n            wheel.raycastResult.reset();\n        }\n\n        var denominator = wheel.raycastResult.hitNormalWorld.dot(wheel.directionWorld);\n\n        var chassis_velocity_at_contactPoint = new Vec3();\n        chassisBody.getVelocityAtWorldPoint(wheel.raycastResult.hitPointWorld, chassis_velocity_at_contactPoint);\n\n        var projVel = wheel.raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\n\n        if (denominator >= -0.1) {\n            wheel.suspensionRelativeVelocity = 0;\n            wheel.clippedInvContactDotSuspension = 1 / 0.1;\n        } else {\n            var inv = -1 / denominator;\n            wheel.suspensionRelativeVelocity = projVel * inv;\n            wheel.clippedInvContactDotSuspension = inv;\n        }\n\n    } else {\n\n        //put wheel info as in rest position\n        wheel.suspensionLength = wheel.suspensionRestLength + 0 * wheel.maxSuspensionTravel;\n        wheel.suspensionRelativeVelocity = 0.0;\n        wheel.directionWorld.scale(-1, wheel.raycastResult.hitNormalWorld);\n        wheel.clippedInvContactDotSuspension = 1.0;\n    }\n\n    return depth;\n};\n\nRaycastVehicle.prototype.updateWheelTransformWorld = function(wheel){\n    wheel.isInContact = false;\n    var chassisBody = this.chassisBody;\n    chassisBody.pointToWorldFrame(wheel.chassisConnectionPointLocal, wheel.chassisConnectionPointWorld);\n    chassisBody.vectorToWorldFrame(wheel.directionLocal, wheel.directionWorld);\n    chassisBody.vectorToWorldFrame(wheel.axleLocal, wheel.axleWorld);\n};\n\n\n/**\n * Update one of the wheel transform.\n * Note when rendering wheels: during each step, wheel transforms are updated BEFORE the chassis; ie. their position becomes invalid after the step. Thus when you render wheels, you must update wheel transforms before rendering them. See raycastVehicle demo for an example.\n * @method updateWheelTransform\n * @param {integer} wheelIndex The wheel index to update.\n */\nRaycastVehicle.prototype.updateWheelTransform = function(wheelIndex){\n    var up = tmpVec4;\n    var right = tmpVec5;\n    var fwd = tmpVec6;\n\n    var wheel = this.wheelInfos[wheelIndex];\n    this.updateWheelTransformWorld(wheel);\n\n    wheel.directionLocal.scale(-1, up);\n    right.copy(wheel.axleLocal);\n    up.cross(right, fwd);\n    fwd.normalize();\n    right.normalize();\n\n    // Rotate around steering over the wheelAxle\n    var steering = wheel.steering;\n    var steeringOrn = new Quaternion();\n    steeringOrn.setFromAxisAngle(up, steering);\n\n    var rotatingOrn = new Quaternion();\n    rotatingOrn.setFromAxisAngle(right, wheel.rotation);\n\n    // World rotation of the wheel\n    var q = wheel.worldTransform.quaternion;\n    this.chassisBody.quaternion.mult(steeringOrn, q);\n    q.mult(rotatingOrn, q);\n\n    q.normalize();\n\n    // world position of the wheel\n    var p = wheel.worldTransform.position;\n    p.copy(wheel.directionWorld);\n    p.scale(wheel.suspensionLength, p);\n    p.vadd(wheel.chassisConnectionPointWorld, p);\n};\n\nvar directions = [\n    new Vec3(1, 0, 0),\n    new Vec3(0, 1, 0),\n    new Vec3(0, 0, 1)\n];\n\n/**\n * Get the world transform of one of the wheels\n * @method getWheelTransformWorld\n * @param  {integer} wheelIndex\n * @return {Transform}\n */\nRaycastVehicle.prototype.getWheelTransformWorld = function(wheelIndex) {\n    return this.wheelInfos[wheelIndex].worldTransform;\n};\n\n\nvar updateFriction_surfNormalWS_scaled_proj = new Vec3();\nvar updateFriction_axle = [];\nvar updateFriction_forwardWS = [];\nvar sideFrictionStiffness2 = 1;\nRaycastVehicle.prototype.updateFriction = function(timeStep) {\n    var surfNormalWS_scaled_proj = updateFriction_surfNormalWS_scaled_proj;\n\n    //calculate the impulse, so that the wheels don't move sidewards\n    var wheelInfos = this.wheelInfos;\n    var numWheels = wheelInfos.length;\n    var chassisBody = this.chassisBody;\n    var forwardWS = updateFriction_forwardWS;\n    var axle = updateFriction_axle;\n\n    var numWheelsOnGround = 0;\n\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n\n        var groundObject = wheel.raycastResult.body;\n        if (groundObject){\n            numWheelsOnGround++;\n        }\n\n        wheel.sideImpulse = 0;\n        wheel.forwardImpulse = 0;\n        if(!forwardWS[i]){\n            forwardWS[i] = new Vec3();\n        }\n        if(!axle[i]){\n            axle[i] = new Vec3();\n        }\n    }\n\n    for (var i = 0; i < numWheels; i++){\n        var wheel = wheelInfos[i];\n\n        var groundObject = wheel.raycastResult.body;\n\n        if (groundObject) {\n            var axlei = axle[i];\n            var wheelTrans = this.getWheelTransformWorld(i);\n\n            // Get world axle\n            wheelTrans.vectorToWorldFrame(directions[this.indexRightAxis], axlei);\n\n            var surfNormalWS = wheel.raycastResult.hitNormalWorld;\n            var proj = axlei.dot(surfNormalWS);\n            surfNormalWS.scale(proj, surfNormalWS_scaled_proj);\n            axlei.vsub(surfNormalWS_scaled_proj, axlei);\n            axlei.normalize();\n\n            surfNormalWS.cross(axlei, forwardWS[i]);\n            forwardWS[i].normalize();\n\n            wheel.sideImpulse = resolveSingleBilateral(\n                chassisBody,\n                wheel.raycastResult.hitPointWorld,\n                groundObject,\n                wheel.raycastResult.hitPointWorld,\n                axlei\n            );\n\n            wheel.sideImpulse *= sideFrictionStiffness2;\n        }\n    }\n\n    var sideFactor = 1;\n    var fwdFactor = 0.5;\n\n    this.sliding = false;\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n        var groundObject = wheel.raycastResult.body;\n\n        var rollingFriction = 0;\n\n        wheel.slipInfo = 1;\n        if (groundObject) {\n            var defaultRollingFrictionImpulse = 0;\n            var maxImpulse = wheel.brake ? wheel.brake : defaultRollingFrictionImpulse;\n\n            // btWheelContactPoint contactPt(chassisBody,groundObject,wheelInfraycastInfo.hitPointWorld,forwardWS[wheel],maxImpulse);\n            // rollingFriction = calcRollingFriction(contactPt);\n            rollingFriction = calcRollingFriction(chassisBody, groundObject, wheel.raycastResult.hitPointWorld, forwardWS[i], maxImpulse);\n\n            rollingFriction += wheel.engineForce * timeStep;\n\n            // rollingFriction = 0;\n            var factor = maxImpulse / rollingFriction;\n            wheel.slipInfo *= factor;\n        }\n\n        //switch between active rolling (throttle), braking and non-active rolling friction (nthrottle/break)\n\n        wheel.forwardImpulse = 0;\n        wheel.skidInfo = 1;\n\n        if (groundObject) {\n            wheel.skidInfo = 1;\n\n            var maximp = wheel.suspensionForce * timeStep * wheel.frictionSlip;\n            var maximpSide = maximp;\n\n            var maximpSquared = maximp * maximpSide;\n\n            wheel.forwardImpulse = rollingFriction;//wheelInfo.engineForce* timeStep;\n\n            var x = wheel.forwardImpulse * fwdFactor;\n            var y = wheel.sideImpulse * sideFactor;\n\n            var impulseSquared = x * x + y * y;\n\n            wheel.sliding = false;\n            if (impulseSquared > maximpSquared) {\n                this.sliding = true;\n                wheel.sliding = true;\n\n                var factor = maximp / Math.sqrt(impulseSquared);\n\n                wheel.skidInfo *= factor;\n            }\n        }\n    }\n\n    if (this.sliding) {\n        for (var i = 0; i < numWheels; i++) {\n            var wheel = wheelInfos[i];\n            if (wheel.sideImpulse !== 0) {\n                if (wheel.skidInfo < 1){\n                    wheel.forwardImpulse *= wheel.skidInfo;\n                    wheel.sideImpulse *= wheel.skidInfo;\n                }\n            }\n        }\n    }\n\n    // apply the impulses\n    for (var i = 0; i < numWheels; i++) {\n        var wheel = wheelInfos[i];\n\n        var rel_pos = new Vec3();\n        //wheel.raycastResult.hitPointWorld.vsub(chassisBody.position, rel_pos);\n        // cannons applyimpulse is using world coord for the position\n        rel_pos.copy(wheel.raycastResult.hitPointWorld);\n\n        if (wheel.forwardImpulse !== 0) {\n            var impulse = new Vec3();\n            forwardWS[i].scale(wheel.forwardImpulse, impulse);\n            chassisBody.applyImpulse(impulse, rel_pos);\n        }\n\n        if (wheel.sideImpulse !== 0){\n            var groundObject = wheel.raycastResult.body;\n\n            var rel_pos2 = new Vec3();\n            //wheel.raycastResult.hitPointWorld.vsub(groundObject.position, rel_pos2);\n            rel_pos2.copy(wheel.raycastResult.hitPointWorld);\n            var sideImp = new Vec3();\n            axle[i].scale(wheel.sideImpulse, sideImp);\n\n            // Scale the relative position in the up direction with rollInfluence.\n            // If rollInfluence is 1, the impulse will be applied on the hitPoint (easy to roll over), if it is zero it will be applied in the same plane as the center of mass (not easy to roll over).\n            chassisBody.pointToLocalFrame(rel_pos, rel_pos);\n            rel_pos['xyz'[this.indexUpAxis]] *= wheel.rollInfluence;\n            chassisBody.pointToWorldFrame(rel_pos, rel_pos);\n            chassisBody.applyImpulse(sideImp, rel_pos);\n\n            //apply friction impulse on the ground\n            sideImp.scale(-1, sideImp);\n            groundObject.applyImpulse(sideImp, rel_pos2);\n        }\n    }\n};\n\nvar calcRollingFriction_vel1 = new Vec3();\nvar calcRollingFriction_vel2 = new Vec3();\nvar calcRollingFriction_vel = new Vec3();\n\nfunction calcRollingFriction(body0, body1, frictionPosWorld, frictionDirectionWorld, maxImpulse) {\n    var j1 = 0;\n    var contactPosWorld = frictionPosWorld;\n\n    // var rel_pos1 = new Vec3();\n    // var rel_pos2 = new Vec3();\n    var vel1 = calcRollingFriction_vel1;\n    var vel2 = calcRollingFriction_vel2;\n    var vel = calcRollingFriction_vel;\n    // contactPosWorld.vsub(body0.position, rel_pos1);\n    // contactPosWorld.vsub(body1.position, rel_pos2);\n\n    body0.getVelocityAtWorldPoint(contactPosWorld, vel1);\n    body1.getVelocityAtWorldPoint(contactPosWorld, vel2);\n    vel1.vsub(vel2, vel);\n\n    var vrel = frictionDirectionWorld.dot(vel);\n\n    var denom0 = computeImpulseDenominator(body0, frictionPosWorld, frictionDirectionWorld);\n    var denom1 = computeImpulseDenominator(body1, frictionPosWorld, frictionDirectionWorld);\n    var relaxation = 1;\n    var jacDiagABInv = relaxation / (denom0 + denom1);\n\n    // calculate j that moves us to zero relative velocity\n    j1 = -vrel * jacDiagABInv;\n\n    if (maxImpulse < j1) {\n        j1 = maxImpulse;\n    }\n    if (j1 < -maxImpulse) {\n        j1 = -maxImpulse;\n    }\n\n    return j1;\n}\n\nvar computeImpulseDenominator_r0 = new Vec3();\nvar computeImpulseDenominator_c0 = new Vec3();\nvar computeImpulseDenominator_vec = new Vec3();\nvar computeImpulseDenominator_m = new Vec3();\nfunction computeImpulseDenominator(body, pos, normal) {\n    var r0 = computeImpulseDenominator_r0;\n    var c0 = computeImpulseDenominator_c0;\n    var vec = computeImpulseDenominator_vec;\n    var m = computeImpulseDenominator_m;\n\n    pos.vsub(body.position, r0);\n    r0.cross(normal, c0);\n    body.invInertiaWorld.vmult(c0, m);\n    m.cross(r0, vec);\n\n    return body.invMass + normal.dot(vec);\n}\n\n\nvar resolveSingleBilateral_vel1 = new Vec3();\nvar resolveSingleBilateral_vel2 = new Vec3();\nvar resolveSingleBilateral_vel = new Vec3();\n\n//bilateral constraint between two dynamic objects\nfunction resolveSingleBilateral(body1, pos1, body2, pos2, normal, impulse){\n    var normalLenSqr = normal.norm2();\n    if (normalLenSqr > 1.1){\n        return 0; // no impulse\n    }\n    // var rel_pos1 = new Vec3();\n    // var rel_pos2 = new Vec3();\n    // pos1.vsub(body1.position, rel_pos1);\n    // pos2.vsub(body2.position, rel_pos2);\n\n    var vel1 = resolveSingleBilateral_vel1;\n    var vel2 = resolveSingleBilateral_vel2;\n    var vel = resolveSingleBilateral_vel;\n    body1.getVelocityAtWorldPoint(pos1, vel1);\n    body2.getVelocityAtWorldPoint(pos2, vel2);\n\n    vel1.vsub(vel2, vel);\n\n    var rel_vel = normal.dot(vel);\n\n    var contactDamping = 0.2;\n    var massTerm = 1 / (body1.invMass + body2.invMass);\n    var impulse = - contactDamping * rel_vel * massTerm;\n\n    return impulse;\n}\n},{\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/WheelInfo\":36,\"./Body\":31}],33:[function(_dereq_,module,exports){\nvar Body = _dereq_('./Body');\nvar Sphere = _dereq_('../shapes/Sphere');\nvar Box = _dereq_('../shapes/Box');\nvar Vec3 = _dereq_('../math/Vec3');\nvar HingeConstraint = _dereq_('../constraints/HingeConstraint');\n\nmodule.exports = RigidVehicle;\n\n/**\n * Simple vehicle helper class with spherical rigid body wheels.\n * @class RigidVehicle\n * @constructor\n * @param {Body} [options.chassisBody]\n */\nfunction RigidVehicle(options){\n    this.wheelBodies = [];\n\n    /**\n     * @property coordinateSystem\n     * @type {Vec3}\n     */\n    this.coordinateSystem = typeof(options.coordinateSystem)==='undefined' ? new Vec3(1, 2, 3) : options.coordinateSystem.clone();\n\n    /**\n     * @property {Body} chassisBody\n     */\n    this.chassisBody = options.chassisBody;\n\n    if(!this.chassisBody){\n        // No chassis body given. Create it!\n        var chassisShape = new Box(new Vec3(5, 2, 0.5));\n        this.chassisBody = new Body(1, chassisShape);\n    }\n\n    /**\n     * @property constraints\n     * @type {Array}\n     */\n    this.constraints = [];\n\n    this.wheelAxes = [];\n    this.wheelForces = [];\n}\n\n/**\n * Add a wheel\n * @method addWheel\n * @param {object} options\n * @param {boolean} [options.isFrontWheel]\n * @param {Vec3} [options.position] Position of the wheel, locally in the chassis body.\n * @param {Vec3} [options.direction] Slide direction of the wheel along the suspension.\n * @param {Vec3} [options.axis] Axis of rotation of the wheel, locally defined in the chassis.\n * @param {Body} [options.body] The wheel body.\n */\nRigidVehicle.prototype.addWheel = function(options){\n    options = options || {};\n    var wheelBody = options.body;\n    if(!wheelBody){\n        wheelBody =  new Body(1, new Sphere(1.2));\n    }\n    this.wheelBodies.push(wheelBody);\n    this.wheelForces.push(0);\n\n    // Position constrain wheels\n    var zero = new Vec3();\n    var position = typeof(options.position) !== 'undefined' ? options.position.clone() : new Vec3();\n\n    // Set position locally to the chassis\n    var worldPosition = new Vec3();\n    this.chassisBody.pointToWorldFrame(position, worldPosition);\n    wheelBody.position.set(worldPosition.x, worldPosition.y, worldPosition.z);\n\n    // Constrain wheel\n    var axis = typeof(options.axis) !== 'undefined' ? options.axis.clone() : new Vec3(0, 1, 0);\n    this.wheelAxes.push(axis);\n\n    var hingeConstraint = new HingeConstraint(this.chassisBody, wheelBody, {\n        pivotA: position,\n        axisA: axis,\n        pivotB: Vec3.ZERO,\n        axisB: axis,\n        collideConnected: false\n    });\n    this.constraints.push(hingeConstraint);\n\n    return this.wheelBodies.length - 1;\n};\n\n/**\n * Set the steering value of a wheel.\n * @method setSteeringValue\n * @param {number} value\n * @param {integer} wheelIndex\n * @todo check coordinateSystem\n */\nRigidVehicle.prototype.setSteeringValue = function(value, wheelIndex){\n    // Set angle of the hinge axis\n    var axis = this.wheelAxes[wheelIndex];\n\n    var c = Math.cos(value),\n        s = Math.sin(value),\n        x = axis.x,\n        y = axis.y;\n    this.constraints[wheelIndex].axisA.set(\n        c*x -s*y,\n        s*x +c*y,\n        0\n    );\n};\n\n/**\n * Set the target rotational speed of the hinge constraint.\n * @method setMotorSpeed\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.setMotorSpeed = function(value, wheelIndex){\n    var hingeConstraint = this.constraints[wheelIndex];\n    hingeConstraint.enableMotor();\n    hingeConstraint.motorTargetVelocity = value;\n};\n\n/**\n * Set the target rotational speed of the hinge constraint.\n * @method disableMotor\n * @param {number} value\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.disableMotor = function(wheelIndex){\n    var hingeConstraint = this.constraints[wheelIndex];\n    hingeConstraint.disableMotor();\n};\n\nvar torque = new Vec3();\n\n/**\n * Set the wheel force to apply on one of the wheels each time step\n * @method setWheelForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRigidVehicle.prototype.setWheelForce = function(value, wheelIndex){\n    this.wheelForces[wheelIndex] = value;\n};\n\n/**\n * Apply a torque on one of the wheels.\n * @method applyWheelForce\n * @param  {number} value\n * @param  {integer} wheelIndex\n */\nRigidVehicle.prototype.applyWheelForce = function(value, wheelIndex){\n    var axis = this.wheelAxes[wheelIndex];\n    var wheelBody = this.wheelBodies[wheelIndex];\n    var bodyTorque = wheelBody.torque;\n\n    axis.scale(value, torque);\n    wheelBody.vectorToWorldFrame(torque, torque);\n    bodyTorque.vadd(torque, bodyTorque);\n};\n\n/**\n * Add the vehicle including its constraints to the world.\n * @method addToWorld\n * @param {World} world\n */\nRigidVehicle.prototype.addToWorld = function(world){\n    var constraints = this.constraints;\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\n\n    for (var i = 0; i < bodies.length; i++) {\n        world.add(bodies[i]);\n    }\n\n    for (var i = 0; i < constraints.length; i++) {\n        world.addConstraint(constraints[i]);\n    }\n\n    world.addEventListener('preStep', this._update.bind(this));\n};\n\nRigidVehicle.prototype._update = function(){\n    var wheelForces = this.wheelForces;\n    for (var i = 0; i < wheelForces.length; i++) {\n        this.applyWheelForce(wheelForces[i], i);\n    }\n};\n\n/**\n * Remove the vehicle including its constraints from the world.\n * @method removeFromWorld\n * @param {World} world\n */\nRigidVehicle.prototype.removeFromWorld = function(world){\n    var constraints = this.constraints;\n    var bodies = this.wheelBodies.concat([this.chassisBody]);\n\n    for (var i = 0; i < bodies.length; i++) {\n        world.remove(bodies[i]);\n    }\n\n    for (var i = 0; i < constraints.length; i++) {\n        world.removeConstraint(constraints[i]);\n    }\n};\n\nvar worldAxis = new Vec3();\n\n/**\n * Get current rotational velocity of a wheel\n * @method getWheelSpeed\n * @param {integer} wheelIndex\n */\nRigidVehicle.prototype.getWheelSpeed = function(wheelIndex){\n    var axis = this.wheelAxes[wheelIndex];\n    var wheelBody = this.wheelBodies[wheelIndex];\n    var w = wheelBody.angularVelocity;\n    this.chassisBody.vectorToWorldFrame(axis, worldAxis);\n    return w.dot(worldAxis);\n};\n\n},{\"../constraints/HingeConstraint\":15,\"../math/Vec3\":30,\"../shapes/Box\":37,\"../shapes/Sphere\":44,\"./Body\":31}],34:[function(_dereq_,module,exports){\nmodule.exports = SPHSystem;\n\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Particle = _dereq_('../shapes/Particle');\nvar Body = _dereq_('../objects/Body');\nvar Material = _dereq_('../material/Material');\n\n/**\n * Smoothed-particle hydrodynamics system\n * @class SPHSystem\n * @constructor\n */\nfunction SPHSystem(){\n    this.particles = [];\n\t\n    /**\n     * Density of the system (kg/m3).\n     * @property {number} density\n     */\n    this.density = 1;\n\t\n    /**\n     * Distance below which two particles are considered to be neighbors.\n     * It should be adjusted so there are about 15-20 neighbor particles within this radius.\n     * @property {number} smoothingRadius\n     */\n    this.smoothingRadius = 1;\n    this.speedOfSound = 1;\n\t\n    /**\n     * Viscosity of the system.\n     * @property {number} viscosity\n     */\n    this.viscosity = 0.01;\n    this.eps = 0.000001;\n\n    // Stuff Computed per particle\n    this.pressures = [];\n    this.densities = [];\n    this.neighbors = [];\n}\n\n/**\n * Add a particle to the system.\n * @method add\n * @param {Body} particle\n */\nSPHSystem.prototype.add = function(particle){\n    this.particles.push(particle);\n    if(this.neighbors.length < this.particles.length){\n        this.neighbors.push([]);\n    }\n};\n\n/**\n * Remove a particle from the system.\n * @method remove\n * @param {Body} particle\n */\nSPHSystem.prototype.remove = function(particle){\n    var idx = this.particles.indexOf(particle);\n    if(idx !== -1){\n        this.particles.splice(idx,1);\n        if(this.neighbors.length > this.particles.length){\n            this.neighbors.pop();\n        }\n    }\n};\n\n/**\n * Get neighbors within smoothing volume, save in the array neighbors\n * @method getNeighbors\n * @param {Body} particle\n * @param {Array} neighbors\n */\nvar SPHSystem_getNeighbors_dist = new Vec3();\nSPHSystem.prototype.getNeighbors = function(particle,neighbors){\n    var N = this.particles.length,\n        id = particle.id,\n        R2 = this.smoothingRadius * this.smoothingRadius,\n        dist = SPHSystem_getNeighbors_dist;\n    for(var i=0; i!==N; i++){\n        var p = this.particles[i];\n        p.position.vsub(particle.position,dist);\n        if(id!==p.id && dist.norm2() < R2){\n            neighbors.push(p);\n        }\n    }\n};\n\n// Temp vectors for calculation\nvar SPHSystem_update_dist = new Vec3(),\n    SPHSystem_update_a_pressure = new Vec3(),\n    SPHSystem_update_a_visc = new Vec3(),\n    SPHSystem_update_gradW = new Vec3(),\n    SPHSystem_update_r_vec = new Vec3(),\n    SPHSystem_update_u = new Vec3(); // Relative velocity\nSPHSystem.prototype.update = function(){\n    var N = this.particles.length,\n        dist = SPHSystem_update_dist,\n        cs = this.speedOfSound,\n        eps = this.eps;\n\n    for(var i=0; i!==N; i++){\n        var p = this.particles[i]; // Current particle\n        var neighbors = this.neighbors[i];\n\n        // Get neighbors\n        neighbors.length = 0;\n        this.getNeighbors(p,neighbors);\n        neighbors.push(this.particles[i]); // Add current too\n        var numNeighbors = neighbors.length;\n\n        // Accumulate density for the particle\n        var sum = 0.0;\n        for(var j=0; j!==numNeighbors; j++){\n\n            //printf(\"Current particle has position %f %f %f\\n\",objects[id].pos.x(),objects[id].pos.y(),objects[id].pos.z());\n            p.position.vsub(neighbors[j].position, dist);\n            var len = dist.norm();\n\n            var weight = this.w(len);\n            sum += neighbors[j].mass * weight;\n        }\n\n        // Save\n        this.densities[i] = sum;\n        this.pressures[i] = cs * cs * (this.densities[i] - this.density);\n    }\n\n    // Add forces\n\n    // Sum to these accelerations\n    var a_pressure= SPHSystem_update_a_pressure;\n    var a_visc =    SPHSystem_update_a_visc;\n    var gradW =     SPHSystem_update_gradW;\n    var r_vec =     SPHSystem_update_r_vec;\n    var u =         SPHSystem_update_u;\n\n    for(var i=0; i!==N; i++){\n\n        var particle = this.particles[i];\n\n        a_pressure.set(0,0,0);\n        a_visc.set(0,0,0);\n\n        // Init vars\n        var Pij;\n        var nabla;\n        var Vij;\n\n        // Sum up for all other neighbors\n        var neighbors = this.neighbors[i];\n        var numNeighbors = neighbors.length;\n\n        //printf(\"Neighbors: \");\n        for(var j=0; j!==numNeighbors; j++){\n\n            var neighbor = neighbors[j];\n            //printf(\"%d \",nj);\n\n            // Get r once for all..\n            particle.position.vsub(neighbor.position,r_vec);\n            var r = r_vec.norm();\n\n            // Pressure contribution\n            Pij = -neighbor.mass * (this.pressures[i] / (this.densities[i]*this.densities[i] + eps) + this.pressures[j] / (this.densities[j]*this.densities[j] + eps));\n            this.gradw(r_vec, gradW);\n            // Add to pressure acceleration\n            gradW.mult(Pij , gradW);\n            a_pressure.vadd(gradW, a_pressure);\n\n            // Viscosity contribution\n            neighbor.velocity.vsub(particle.velocity, u);\n            u.mult( 1.0 / (0.0001+this.densities[i] * this.densities[j]) * this.viscosity * neighbor.mass , u );\n            nabla = this.nablaw(r);\n            u.mult(nabla,u);\n            // Add to viscosity acceleration\n            a_visc.vadd( u, a_visc );\n        }\n\n        // Calculate force\n        a_visc.mult(particle.mass, a_visc);\n        a_pressure.mult(particle.mass, a_pressure);\n\n        // Add force to particles\n        particle.force.vadd(a_visc, particle.force);\n        particle.force.vadd(a_pressure, particle.force);\n    }\n};\n\n// Calculate the weight using the W(r) weightfunction\nSPHSystem.prototype.w = function(r){\n    // 315\n    var h = this.smoothingRadius;\n    return 315.0/(64.0*Math.PI*Math.pow(h,9)) * Math.pow(h*h-r*r,3);\n};\n\n// calculate gradient of the weight function\nSPHSystem.prototype.gradw = function(rVec,resultVec){\n    var r = rVec.norm(),\n        h = this.smoothingRadius;\n    rVec.mult(945.0/(32.0*Math.PI*Math.pow(h,9)) * Math.pow((h*h-r*r),2) , resultVec);\n};\n\n// Calculate nabla(W)\nSPHSystem.prototype.nablaw = function(r){\n    var h = this.smoothingRadius;\n    var nabla = 945.0/(32.0*Math.PI*Math.pow(h,9)) * (h*h-r*r)*(7*r*r - 3*h*h);\n    return nabla;\n};\n\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Particle\":41,\"../shapes/Shape\":43}],35:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = Spring;\n\n/**\n * A spring, connecting two bodies.\n *\n * @class Spring\n * @constructor\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Object} [options]\n * @param {number} [options.restLength]   A number > 0. Default: 1\n * @param {number} [options.stiffness]    A number >= 0. Default: 100\n * @param {number} [options.damping]      A number >= 0. Default: 1\n * @param {Vec3}  [options.worldAnchorA] Where to hook the spring to body A, in world coordinates.\n * @param {Vec3}  [options.worldAnchorB]\n * @param {Vec3}  [options.localAnchorA] Where to hook the spring to body A, in local body coordinates.\n * @param {Vec3}  [options.localAnchorB]\n */\nfunction Spring(bodyA,bodyB,options){\n    options = options || {};\n\n    /**\n     * Rest length of the spring.\n     * @property restLength\n     * @type {number}\n     */\n    this.restLength = typeof(options.restLength) === \"number\" ? options.restLength : 1;\n\n    /**\n     * Stiffness of the spring.\n     * @property stiffness\n     * @type {number}\n     */\n    this.stiffness = options.stiffness || 100;\n\n    /**\n     * Damping of the spring.\n     * @property damping\n     * @type {number}\n     */\n    this.damping = options.damping || 1;\n\n    /**\n     * First connected body.\n     * @property bodyA\n     * @type {Body}\n     */\n    this.bodyA = bodyA;\n\n    /**\n     * Second connected body.\n     * @property bodyB\n     * @type {Body}\n     */\n    this.bodyB = bodyB;\n\n    /**\n     * Anchor for bodyA in local bodyA coordinates.\n     * @property localAnchorA\n     * @type {Vec3}\n     */\n    this.localAnchorA = new Vec3();\n\n    /**\n     * Anchor for bodyB in local bodyB coordinates.\n     * @property localAnchorB\n     * @type {Vec3}\n     */\n    this.localAnchorB = new Vec3();\n\n    if(options.localAnchorA){\n        this.localAnchorA.copy(options.localAnchorA);\n    }\n    if(options.localAnchorB){\n        this.localAnchorB.copy(options.localAnchorB);\n    }\n    if(options.worldAnchorA){\n        this.setWorldAnchorA(options.worldAnchorA);\n    }\n    if(options.worldAnchorB){\n        this.setWorldAnchorB(options.worldAnchorB);\n    }\n}\n\n/**\n * Set the anchor point on body A, using world coordinates.\n * @method setWorldAnchorA\n * @param {Vec3} worldAnchorA\n */\nSpring.prototype.setWorldAnchorA = function(worldAnchorA){\n    this.bodyA.pointToLocalFrame(worldAnchorA,this.localAnchorA);\n};\n\n/**\n * Set the anchor point on body B, using world coordinates.\n * @method setWorldAnchorB\n * @param {Vec3} worldAnchorB\n */\nSpring.prototype.setWorldAnchorB = function(worldAnchorB){\n    this.bodyB.pointToLocalFrame(worldAnchorB,this.localAnchorB);\n};\n\n/**\n * Get the anchor point on body A, in world coordinates.\n * @method getWorldAnchorA\n * @param {Vec3} result The vector to store the result in.\n */\nSpring.prototype.getWorldAnchorA = function(result){\n    this.bodyA.pointToWorldFrame(this.localAnchorA,result);\n};\n\n/**\n * Get the anchor point on body B, in world coordinates.\n * @method getWorldAnchorB\n * @param {Vec3} result The vector to store the result in.\n */\nSpring.prototype.getWorldAnchorB = function(result){\n    this.bodyB.pointToWorldFrame(this.localAnchorB,result);\n};\n\nvar applyForce_r =              new Vec3(),\n    applyForce_r_unit =         new Vec3(),\n    applyForce_u =              new Vec3(),\n    applyForce_f =              new Vec3(),\n    applyForce_worldAnchorA =   new Vec3(),\n    applyForce_worldAnchorB =   new Vec3(),\n    applyForce_ri =             new Vec3(),\n    applyForce_rj =             new Vec3(),\n    applyForce_ri_x_f =         new Vec3(),\n    applyForce_rj_x_f =         new Vec3(),\n    applyForce_tmp =            new Vec3();\n\n/**\n * Apply the spring force to the connected bodies.\n * @method applyForce\n */\nSpring.prototype.applyForce = function(){\n    var k = this.stiffness,\n        d = this.damping,\n        l = this.restLength,\n        bodyA = this.bodyA,\n        bodyB = this.bodyB,\n        r = applyForce_r,\n        r_unit = applyForce_r_unit,\n        u = applyForce_u,\n        f = applyForce_f,\n        tmp = applyForce_tmp;\n\n    var worldAnchorA = applyForce_worldAnchorA,\n        worldAnchorB = applyForce_worldAnchorB,\n        ri = applyForce_ri,\n        rj = applyForce_rj,\n        ri_x_f = applyForce_ri_x_f,\n        rj_x_f = applyForce_rj_x_f;\n\n    // Get world anchors\n    this.getWorldAnchorA(worldAnchorA);\n    this.getWorldAnchorB(worldAnchorB);\n\n    // Get offset points\n    worldAnchorA.vsub(bodyA.position,ri);\n    worldAnchorB.vsub(bodyB.position,rj);\n\n    // Compute distance vector between world anchor points\n    worldAnchorB.vsub(worldAnchorA,r);\n    var rlen = r.norm();\n    r_unit.copy(r);\n    r_unit.normalize();\n\n    // Compute relative velocity of the anchor points, u\n    bodyB.velocity.vsub(bodyA.velocity,u);\n    // Add rotational velocity\n\n    bodyB.angularVelocity.cross(rj,tmp);\n    u.vadd(tmp,u);\n    bodyA.angularVelocity.cross(ri,tmp);\n    u.vsub(tmp,u);\n\n    // F = - k * ( x - L ) - D * ( u )\n    r_unit.mult(-k*(rlen-l) - d*u.dot(r_unit), f);\n\n    // Add forces to bodies\n    bodyA.force.vsub(f,bodyA.force);\n    bodyB.force.vadd(f,bodyB.force);\n\n    // Angular force\n    ri.cross(f,ri_x_f);\n    rj.cross(f,rj_x_f);\n    bodyA.torque.vsub(ri_x_f,bodyA.torque);\n    bodyB.torque.vadd(rj_x_f,bodyB.torque);\n};\n\n},{\"../math/Vec3\":30}],36:[function(_dereq_,module,exports){\nvar Vec3 = _dereq_('../math/Vec3');\nvar Transform = _dereq_('../math/Transform');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = WheelInfo;\n\n/**\n * @class WheelInfo\n * @constructor\n * @param {Object} [options]\n *\n * @param {Vec3} [options.chassisConnectionPointLocal]\n * @param {Vec3} [options.chassisConnectionPointWorld]\n * @param {Vec3} [options.directionLocal]\n * @param {Vec3} [options.directionWorld]\n * @param {Vec3} [options.axleLocal]\n * @param {Vec3} [options.axleWorld]\n * @param {number} [options.suspensionRestLength=1]\n * @param {number} [options.suspensionMaxLength=2]\n * @param {number} [options.radius=1]\n * @param {number} [options.suspensionStiffness=100]\n * @param {number} [options.dampingCompression=10]\n * @param {number} [options.dampingRelaxation=10]\n * @param {number} [options.frictionSlip=10000]\n * @param {number} [options.steering=0]\n * @param {number} [options.rotation=0]\n * @param {number} [options.deltaRotation=0]\n * @param {number} [options.rollInfluence=0.01]\n * @param {number} [options.maxSuspensionForce]\n * @param {boolean} [options.isFrontWheel=true]\n * @param {number} [options.clippedInvContactDotSuspension=1]\n * @param {number} [options.suspensionRelativeVelocity=0]\n * @param {number} [options.suspensionForce=0]\n * @param {number} [options.skidInfo=0]\n * @param {number} [options.suspensionLength=0]\n * @param {number} [options.maxSuspensionTravel=1]\n * @param {boolean} [options.useCustomSlidingRotationalSpeed=false]\n * @param {number} [options.customSlidingRotationalSpeed=-0.1]\n */\nfunction WheelInfo(options){\n    options = Utils.defaults(options, {\n        chassisConnectionPointLocal: new Vec3(),\n        chassisConnectionPointWorld: new Vec3(),\n        directionLocal: new Vec3(),\n        directionWorld: new Vec3(),\n        axleLocal: new Vec3(),\n        axleWorld: new Vec3(),\n        suspensionRestLength: 1,\n        suspensionMaxLength: 2,\n        radius: 1,\n        suspensionStiffness: 100,\n        dampingCompression: 10,\n        dampingRelaxation: 10,\n        frictionSlip: 10000,\n        steering: 0,\n        rotation: 0,\n        deltaRotation: 0,\n        rollInfluence: 0.01,\n        maxSuspensionForce: Number.MAX_VALUE,\n        isFrontWheel: true,\n        clippedInvContactDotSuspension: 1,\n        suspensionRelativeVelocity: 0,\n        suspensionForce: 0,\n        skidInfo: 0,\n        suspensionLength: 0,\n        maxSuspensionTravel: 1,\n        useCustomSlidingRotationalSpeed: false,\n        customSlidingRotationalSpeed: -0.1\n    });\n\n    /**\n     * Max travel distance of the suspension, in meters.\n     * @property {number} maxSuspensionTravel\n     */\n    this.maxSuspensionTravel = options.maxSuspensionTravel;\n\n    /**\n     * Speed to apply to the wheel rotation when the wheel is sliding.\n     * @property {number} customSlidingRotationalSpeed\n     */\n    this.customSlidingRotationalSpeed = options.customSlidingRotationalSpeed;\n\n    /**\n     * If the customSlidingRotationalSpeed should be used.\n     * @property {Boolean} useCustomSlidingRotationalSpeed\n     */\n    this.useCustomSlidingRotationalSpeed = options.useCustomSlidingRotationalSpeed;\n\n    /**\n     * @property {Boolean} sliding\n     */\n    this.sliding = false;\n\n    /**\n     * Connection point, defined locally in the chassis body frame.\n     * @property {Vec3} chassisConnectionPointLocal\n     */\n    this.chassisConnectionPointLocal = options.chassisConnectionPointLocal.clone();\n\n    /**\n     * @property {Vec3} chassisConnectionPointWorld\n     */\n    this.chassisConnectionPointWorld = options.chassisConnectionPointWorld.clone();\n\n    /**\n     * @property {Vec3} directionLocal\n     */\n    this.directionLocal = options.directionLocal.clone();\n\n    /**\n     * @property {Vec3} directionWorld\n     */\n    this.directionWorld = options.directionWorld.clone();\n\n    /**\n     * @property {Vec3} axleLocal\n     */\n    this.axleLocal = options.axleLocal.clone();\n\n    /**\n     * @property {Vec3} axleWorld\n     */\n    this.axleWorld = options.axleWorld.clone();\n\n    /**\n     * @property {number} suspensionRestLength\n     */\n    this.suspensionRestLength = options.suspensionRestLength;\n\n    /**\n     * @property {number} suspensionMaxLength\n     */\n    this.suspensionMaxLength = options.suspensionMaxLength;\n\n    /**\n     * @property {number} radius\n     */\n    this.radius = options.radius;\n\n    /**\n     * @property {number} suspensionStiffness\n     */\n    this.suspensionStiffness = options.suspensionStiffness;\n\n    /**\n     * @property {number} dampingCompression\n     */\n    this.dampingCompression = options.dampingCompression;\n\n    /**\n     * @property {number} dampingRelaxation\n     */\n    this.dampingRelaxation = options.dampingRelaxation;\n\n    /**\n     * @property {number} frictionSlip\n     */\n    this.frictionSlip = options.frictionSlip;\n\n    /**\n     * @property {number} steering\n     */\n    this.steering = 0;\n\n    /**\n     * Rotation value, in radians.\n     * @property {number} rotation\n     */\n    this.rotation = 0;\n\n    /**\n     * @property {number} deltaRotation\n     */\n    this.deltaRotation = 0;\n\n    /**\n     * @property {number} rollInfluence\n     */\n    this.rollInfluence = options.rollInfluence;\n\n    /**\n     * @property {number} maxSuspensionForce\n     */\n    this.maxSuspensionForce = options.maxSuspensionForce;\n\n    /**\n     * @property {number} engineForce\n     */\n    this.engineForce = 0;\n\n    /**\n     * @property {number} brake\n     */\n    this.brake = 0;\n\n    /**\n     * @property {number} isFrontWheel\n     */\n    this.isFrontWheel = options.isFrontWheel;\n\n    /**\n     * @property {number} clippedInvContactDotSuspension\n     */\n    this.clippedInvContactDotSuspension = 1;\n\n    /**\n     * @property {number} suspensionRelativeVelocity\n     */\n    this.suspensionRelativeVelocity = 0;\n\n    /**\n     * @property {number} suspensionForce\n     */\n    this.suspensionForce = 0;\n\n    /**\n     * @property {number} skidInfo\n     */\n    this.skidInfo = 0;\n\n    /**\n     * @property {number} suspensionLength\n     */\n    this.suspensionLength = 0;\n\n    /**\n     * @property {number} sideImpulse\n     */\n    this.sideImpulse = 0;\n\n    /**\n     * @property {number} forwardImpulse\n     */\n    this.forwardImpulse = 0;\n\n    /**\n     * The result from raycasting\n     * @property {RaycastResult} raycastResult\n     */\n    this.raycastResult = new RaycastResult();\n\n    /**\n     * Wheel world transform\n     * @property {Transform} worldTransform\n     */\n    this.worldTransform = new Transform();\n\n    /**\n     * @property {boolean} isInContact\n     */\n    this.isInContact = false;\n}\n\nvar chassis_velocity_at_contactPoint = new Vec3();\nvar relpos = new Vec3();\nvar chassis_velocity_at_contactPoint = new Vec3();\nWheelInfo.prototype.updateWheel = function(chassis){\n    var raycastResult = this.raycastResult;\n\n    if (this.isInContact){\n        var project= raycastResult.hitNormalWorld.dot(raycastResult.directionWorld);\n        raycastResult.hitPointWorld.vsub(chassis.position, relpos);\n        chassis.getVelocityAtWorldPoint(relpos, chassis_velocity_at_contactPoint);\n        var projVel = raycastResult.hitNormalWorld.dot( chassis_velocity_at_contactPoint );\n        if (project >= -0.1) {\n            this.suspensionRelativeVelocity = 0.0;\n            this.clippedInvContactDotSuspension = 1.0 / 0.1;\n        } else {\n            var inv = -1 / project;\n            this.suspensionRelativeVelocity = projVel * inv;\n            this.clippedInvContactDotSuspension = inv;\n        }\n\n    } else {\n        // Not in contact : position wheel in a nice (rest length) position\n        raycastResult.suspensionLength = this.suspensionRestLength;\n        this.suspensionRelativeVelocity = 0.0;\n        raycastResult.directionWorld.scale(-1, raycastResult.hitNormalWorld);\n        this.clippedInvContactDotSuspension = 1.0;\n    }\n};\n},{\"../collision/RaycastResult\":10,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Utils\":53}],37:[function(_dereq_,module,exports){\nmodule.exports = Box;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\n\n/**\n * A 3d box shape.\n * @class Box\n * @constructor\n * @param {Vec3} halfExtents\n * @author schteppe\n * @extends Shape\n */\nfunction Box(halfExtents){\n    Shape.call(this);\n\n    this.type = Shape.types.BOX;\n\n    /**\n     * @property halfExtents\n     * @type {Vec3}\n     */\n    this.halfExtents = halfExtents;\n\n    /**\n     * Used by the contact generator to make contacts with other convex polyhedra for example\n     * @property convexPolyhedronRepresentation\n     * @type {ConvexPolyhedron}\n     */\n    this.convexPolyhedronRepresentation = null;\n\n    this.updateConvexPolyhedronRepresentation();\n    this.updateBoundingSphereRadius();\n}\nBox.prototype = new Shape();\nBox.prototype.constructor = Box;\n\n/**\n * Updates the local convex polyhedron representation used for some collisions.\n * @method updateConvexPolyhedronRepresentation\n */\nBox.prototype.updateConvexPolyhedronRepresentation = function(){\n    var sx = this.halfExtents.x;\n    var sy = this.halfExtents.y;\n    var sz = this.halfExtents.z;\n    var V = Vec3;\n\n    var vertices = [\n        new V(-sx,-sy,-sz),\n        new V( sx,-sy,-sz),\n        new V( sx, sy,-sz),\n        new V(-sx, sy,-sz),\n        new V(-sx,-sy, sz),\n        new V( sx,-sy, sz),\n        new V( sx, sy, sz),\n        new V(-sx, sy, sz)\n    ];\n\n    var indices = [\n        [3,2,1,0], // -z\n        [4,5,6,7], // +z\n        [5,4,0,1], // -y\n        [2,3,7,6], // +y\n        [0,4,7,3], // -x\n        [1,2,6,5], // +x\n    ];\n\n    var axes = [\n        new V(0, 0, 1),\n        new V(0, 1, 0),\n        new V(1, 0, 0)\n    ];\n\n    var h = new ConvexPolyhedron(vertices, indices);\n    this.convexPolyhedronRepresentation = h;\n    h.material = this.material;\n};\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3}\n */\nBox.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    Box.calculateInertia(this.halfExtents, mass, target);\n    return target;\n};\n\nBox.calculateInertia = function(halfExtents,mass,target){\n    var e = halfExtents;\n    target.x = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.z*2*e.z );\n    target.y = 1.0 / 12.0 * mass * (   2*e.x*2*e.x + 2*e.z*2*e.z );\n    target.z = 1.0 / 12.0 * mass * (   2*e.y*2*e.y + 2*e.x*2*e.x );\n};\n\n/**\n * Get the box 6 side normals\n * @method getSideNormals\n * @param {array}      sixTargetVectors An array of 6 vectors, to store the resulting side normals in.\n * @param {Quaternion} quat             Orientation to apply to the normal vectors. If not provided, the vectors will be in respect to the local frame.\n * @return {array}\n */\nBox.prototype.getSideNormals = function(sixTargetVectors,quat){\n    var sides = sixTargetVectors;\n    var ex = this.halfExtents;\n    sides[0].set(  ex.x,     0,     0);\n    sides[1].set(     0,  ex.y,     0);\n    sides[2].set(     0,     0,  ex.z);\n    sides[3].set( -ex.x,     0,     0);\n    sides[4].set(     0, -ex.y,     0);\n    sides[5].set(     0,     0, -ex.z);\n\n    if(quat!==undefined){\n        for(var i=0; i!==sides.length; i++){\n            quat.vmult(sides[i],sides[i]);\n        }\n    }\n\n    return sides;\n};\n\nBox.prototype.volume = function(){\n    return 8.0 * this.halfExtents.x * this.halfExtents.y * this.halfExtents.z;\n};\n\nBox.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = this.halfExtents.norm();\n};\n\nvar worldCornerTempPos = new Vec3();\nvar worldCornerTempNeg = new Vec3();\nBox.prototype.forEachWorldCorner = function(pos,quat,callback){\n\n    var e = this.halfExtents;\n    var corners = [[  e.x,  e.y,  e.z],\n                   [ -e.x,  e.y,  e.z],\n                   [ -e.x, -e.y,  e.z],\n                   [ -e.x, -e.y, -e.z],\n                   [  e.x, -e.y, -e.z],\n                   [  e.x,  e.y, -e.z],\n                   [ -e.x,  e.y, -e.z],\n                   [  e.x, -e.y,  e.z]];\n    for(var i=0; i<corners.length; i++){\n        worldCornerTempPos.set(corners[i][0],corners[i][1],corners[i][2]);\n        quat.vmult(worldCornerTempPos,worldCornerTempPos);\n        pos.vadd(worldCornerTempPos,worldCornerTempPos);\n        callback(worldCornerTempPos.x,\n                 worldCornerTempPos.y,\n                 worldCornerTempPos.z);\n    }\n};\n\nvar worldCornersTemp = [\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3(),\n    new Vec3()\n];\nBox.prototype.calculateWorldAABB = function(pos,quat,min,max){\n\n    var e = this.halfExtents;\n    worldCornersTemp[0].set(e.x, e.y, e.z);\n    worldCornersTemp[1].set(-e.x,  e.y, e.z);\n    worldCornersTemp[2].set(-e.x, -e.y, e.z);\n    worldCornersTemp[3].set(-e.x, -e.y, -e.z);\n    worldCornersTemp[4].set(e.x, -e.y, -e.z);\n    worldCornersTemp[5].set(e.x,  e.y, -e.z);\n    worldCornersTemp[6].set(-e.x,  e.y, -e.z);\n    worldCornersTemp[7].set(e.x, -e.y,  e.z);\n\n    var wc = worldCornersTemp[0];\n    quat.vmult(wc, wc);\n    pos.vadd(wc, wc);\n    max.copy(wc);\n    min.copy(wc);\n    for(var i=1; i<8; i++){\n        var wc = worldCornersTemp[i];\n        quat.vmult(wc, wc);\n        pos.vadd(wc, wc);\n        var x = wc.x;\n        var y = wc.y;\n        var z = wc.z;\n        if(x > max.x){\n            max.x = x;\n        }\n        if(y > max.y){\n            max.y = y;\n        }\n        if(z > max.z){\n            max.z = z;\n        }\n\n        if(x < min.x){\n            min.x = x;\n        }\n        if(y < min.y){\n            min.y = y;\n        }\n        if(z < min.z){\n            min.z = z;\n        }\n    }\n\n    // Get each axis max\n    // min.set(Infinity,Infinity,Infinity);\n    // max.set(-Infinity,-Infinity,-Infinity);\n    // this.forEachWorldCorner(pos,quat,function(x,y,z){\n    //     if(x > max.x){\n    //         max.x = x;\n    //     }\n    //     if(y > max.y){\n    //         max.y = y;\n    //     }\n    //     if(z > max.z){\n    //         max.z = z;\n    //     }\n\n    //     if(x < min.x){\n    //         min.x = x;\n    //     }\n    //     if(y < min.y){\n    //         min.y = y;\n    //     }\n    //     if(z < min.z){\n    //         min.z = z;\n    //     }\n    // });\n};\n\n},{\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],38:[function(_dereq_,module,exports){\nmodule.exports = ConvexPolyhedron;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\n\n/**\n * A set of polygons describing a convex shape.\n * @class ConvexPolyhedron\n * @constructor\n * @extends Shape\n * @description The shape MUST be convex for the code to work properly. No polygons may be coplanar (contained\n * in the same 3D plane), instead these should be merged into one polygon.\n *\n * @param {array} points An array of Vec3's\n * @param {array} faces Array of integer arrays, describing which vertices that is included in each face.\n *\n * @author qiao / https://github.com/qiao (original author, see https://github.com/qiao/three.js/commit/85026f0c769e4000148a67d45a9e9b9c5108836f)\n * @author schteppe / https://github.com/schteppe\n * @see http://www.altdevblogaday.com/2011/05/13/contact-generation-between-3d-convex-meshes/\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\n *\n * @todo Move the clipping functions to ContactGenerator?\n * @todo Automatically merge coplanar polygons in constructor.\n */\nfunction ConvexPolyhedron(points, faces, uniqueAxes) {\n    var that = this;\n    Shape.call(this);\n    this.type = Shape.types.CONVEXPOLYHEDRON;\n\n    /**\n     * Array of Vec3\n     * @property vertices\n     * @type {Array}\n     */\n    this.vertices = points||[];\n\n    this.worldVertices = []; // World transformed version of .vertices\n    this.worldVerticesNeedsUpdate = true;\n\n    /**\n     * Array of integer arrays, indicating which vertices each face consists of\n     * @property faces\n     * @type {Array}\n     */\n    this.faces = faces||[];\n\n    /**\n     * Array of Vec3\n     * @property faceNormals\n     * @type {Array}\n     */\n    this.faceNormals = [];\n    this.computeNormals();\n\n    this.worldFaceNormalsNeedsUpdate = true;\n    this.worldFaceNormals = []; // World transformed version of .faceNormals\n\n    /**\n     * Array of Vec3\n     * @property uniqueEdges\n     * @type {Array}\n     */\n    this.uniqueEdges = [];\n\n    /**\n     * If given, these locally defined, normalized axes are the only ones being checked when doing separating axis check.\n     * @property {Array} uniqueAxes\n     */\n    this.uniqueAxes = uniqueAxes ? uniqueAxes.slice() : null;\n\n    this.computeEdges();\n    this.updateBoundingSphereRadius();\n}\nConvexPolyhedron.prototype = new Shape();\nConvexPolyhedron.prototype.constructor = ConvexPolyhedron;\n\nvar computeEdges_tmpEdge = new Vec3();\n/**\n * Computes uniqueEdges\n * @method computeEdges\n */\nConvexPolyhedron.prototype.computeEdges = function(){\n    var faces = this.faces;\n    var vertices = this.vertices;\n    var nv = vertices.length;\n    var edges = this.uniqueEdges;\n\n    edges.length = 0;\n\n    var edge = computeEdges_tmpEdge;\n\n    for(var i=0; i !== faces.length; i++){\n        var face = faces[i];\n        var numVertices = face.length;\n        for(var j = 0; j !== numVertices; j++){\n            var k = ( j+1 ) % numVertices;\n            vertices[face[j]].vsub(vertices[face[k]], edge);\n            edge.normalize();\n            var found = false;\n            for(var p=0; p !== edges.length; p++){\n                if (edges[p].almostEquals(edge) || edges[p].almostEquals(edge)){\n                    found = true;\n                    break;\n                }\n            }\n\n            if (!found){\n                edges.push(edge.clone());\n            }\n        }\n    }\n};\n\n/**\n * Compute the normals of the faces. Will reuse existing Vec3 objects in the .faceNormals array if they exist.\n * @method computeNormals\n */\nConvexPolyhedron.prototype.computeNormals = function(){\n    this.faceNormals.length = this.faces.length;\n\n    // Generate normals\n    for(var i=0; i<this.faces.length; i++){\n\n        // Check so all vertices exists for this face\n        for(var j=0; j<this.faces[i].length; j++){\n            if(!this.vertices[this.faces[i][j]]){\n                throw new Error(\"Vertex \"+this.faces[i][j]+\" not found!\");\n            }\n        }\n\n        var n = this.faceNormals[i] || new Vec3();\n        this.getFaceNormal(i,n);\n        n.negate(n);\n        this.faceNormals[i] = n;\n        var vertex = this.vertices[this.faces[i][0]];\n        if(n.dot(vertex) < 0){\n            console.error(\".faceNormals[\" + i + \"] = Vec3(\"+n.toString()+\") looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.\");\n            for(var j=0; j<this.faces[i].length; j++){\n                console.warn(\".vertices[\"+this.faces[i][j]+\"] = Vec3(\"+this.vertices[this.faces[i][j]].toString()+\")\");\n            }\n        }\n    }\n};\n\n/**\n * Get face normal given 3 vertices\n * @static\n * @method getFaceNormal\n * @param {Vec3} va\n * @param {Vec3} vb\n * @param {Vec3} vc\n * @param {Vec3} target\n */\nvar cb = new Vec3();\nvar ab = new Vec3();\nConvexPolyhedron.computeNormal = function ( va, vb, vc, target ) {\n    vb.vsub(va,ab);\n    vc.vsub(vb,cb);\n    cb.cross(ab,target);\n    if ( !target.isZero() ) {\n        target.normalize();\n    }\n};\n\n/**\n * Compute the normal of a face from its vertices\n * @method getFaceNormal\n * @param  {Number} i\n * @param  {Vec3} target\n */\nConvexPolyhedron.prototype.getFaceNormal = function(i,target){\n    var f = this.faces[i];\n    var va = this.vertices[f[0]];\n    var vb = this.vertices[f[1]];\n    var vc = this.vertices[f[2]];\n    return ConvexPolyhedron.computeNormal(va,vb,vc,target);\n};\n\n/**\n * @method clipAgainstHull\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @param {Vec3} separatingNormal\n * @param {Number} minDist Clamp distance\n * @param {Number} maxDist\n * @param {array} result The an array of contact point objects, see clipFaceAgainstHull\n * @see http://bullet.googlecode.com/svn/trunk/src/BulletCollision/NarrowPhaseCollision/btPolyhedralContactClipping.cpp\n */\nvar cah_WorldNormal = new Vec3();\nConvexPolyhedron.prototype.clipAgainstHull = function(posA,quatA,hullB,posB,quatB,separatingNormal,minDist,maxDist,result){\n    var WorldNormal = cah_WorldNormal;\n    var hullA = this;\n    var curMaxDist = maxDist;\n    var closestFaceB = -1;\n    var dmax = -Number.MAX_VALUE;\n    for(var face=0; face < hullB.faces.length; face++){\n        WorldNormal.copy(hullB.faceNormals[face]);\n        quatB.vmult(WorldNormal,WorldNormal);\n        //posB.vadd(WorldNormal,WorldNormal);\n        var d = WorldNormal.dot(separatingNormal);\n        if (d > dmax){\n            dmax = d;\n            closestFaceB = face;\n        }\n    }\n    var worldVertsB1 = [];\n    var polyB = hullB.faces[closestFaceB];\n    var numVertices = polyB.length;\n    for(var e0=0; e0<numVertices; e0++){\n        var b = hullB.vertices[polyB[e0]];\n        var worldb = new Vec3();\n        worldb.copy(b);\n        quatB.vmult(worldb,worldb);\n        posB.vadd(worldb,worldb);\n        worldVertsB1.push(worldb);\n    }\n\n    if (closestFaceB>=0){\n        this.clipFaceAgainstHull(separatingNormal,\n                                 posA,\n                                 quatA,\n                                 worldVertsB1,\n                                 minDist,\n                                 maxDist,\n                                 result);\n    }\n};\n\n/**\n * Find the separating axis between this hull and another\n * @method findSeparatingAxis\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @param {Vec3} target The target vector to save the axis in\n * @return {bool} Returns false if a separation is found, else true\n */\nvar fsa_faceANormalWS3 = new Vec3(),\n    fsa_Worldnormal1 = new Vec3(),\n    fsa_deltaC = new Vec3(),\n    fsa_worldEdge0 = new Vec3(),\n    fsa_worldEdge1 = new Vec3(),\n    fsa_Cross = new Vec3();\nConvexPolyhedron.prototype.findSeparatingAxis = function(hullB,posA,quatA,posB,quatB,target, faceListA, faceListB){\n    var faceANormalWS3 = fsa_faceANormalWS3,\n        Worldnormal1 = fsa_Worldnormal1,\n        deltaC = fsa_deltaC,\n        worldEdge0 = fsa_worldEdge0,\n        worldEdge1 = fsa_worldEdge1,\n        Cross = fsa_Cross;\n\n    var dmin = Number.MAX_VALUE;\n    var hullA = this;\n    var curPlaneTests=0;\n\n    if(!hullA.uniqueAxes){\n\n        var numFacesA = faceListA ? faceListA.length : hullA.faces.length;\n\n        // Test face normals from hullA\n        for(var i=0; i<numFacesA; i++){\n            var fi = faceListA ? faceListA[i] : i;\n\n            // Get world face normal\n            faceANormalWS3.copy(hullA.faceNormals[fi]);\n            quatA.vmult(faceANormalWS3,faceANormalWS3);\n\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(faceANormalWS3);\n            }\n        }\n\n    } else {\n\n        // Test unique axes\n        for(var i = 0; i !== hullA.uniqueAxes.length; i++){\n\n            // Get world axis\n            quatA.vmult(hullA.uniqueAxes[i],faceANormalWS3);\n\n            var d = hullA.testSepAxis(faceANormalWS3, hullB, posA, quatA, posB, quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(faceANormalWS3);\n            }\n        }\n    }\n\n    if(!hullB.uniqueAxes){\n\n        // Test face normals from hullB\n        var numFacesB = faceListB ? faceListB.length : hullB.faces.length;\n        for(var i=0;i<numFacesB;i++){\n\n            var fi = faceListB ? faceListB[i] : i;\n\n            Worldnormal1.copy(hullB.faceNormals[fi]);\n            quatB.vmult(Worldnormal1,Worldnormal1);\n            curPlaneTests++;\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(Worldnormal1);\n            }\n        }\n    } else {\n\n        // Test unique axes in B\n        for(var i = 0; i !== hullB.uniqueAxes.length; i++){\n            quatB.vmult(hullB.uniqueAxes[i],Worldnormal1);\n\n            curPlaneTests++;\n            var d = hullA.testSepAxis(Worldnormal1, hullB,posA,quatA,posB,quatB);\n            if(d===false){\n                return false;\n            }\n\n            if(d<dmin){\n                dmin = d;\n                target.copy(Worldnormal1);\n            }\n        }\n    }\n\n    // Test edges\n    for(var e0=0; e0 !== hullA.uniqueEdges.length; e0++){\n\n        // Get world edge\n        quatA.vmult(hullA.uniqueEdges[e0],worldEdge0);\n\n        for(var e1=0; e1 !== hullB.uniqueEdges.length; e1++){\n\n            // Get world edge 2\n            quatB.vmult(hullB.uniqueEdges[e1], worldEdge1);\n            worldEdge0.cross(worldEdge1,Cross);\n\n            if(!Cross.almostZero()){\n                Cross.normalize();\n                var dist = hullA.testSepAxis(Cross, hullB, posA, quatA, posB, quatB);\n                if(dist === false){\n                    return false;\n                }\n                if(dist < dmin){\n                    dmin = dist;\n                    target.copy(Cross);\n                }\n            }\n        }\n    }\n\n    posB.vsub(posA,deltaC);\n    if((deltaC.dot(target))>0.0){\n        target.negate(target);\n    }\n\n    return true;\n};\n\nvar maxminA=[], maxminB=[];\n\n/**\n * Test separating axis against two hulls. Both hulls are projected onto the axis and the overlap size is returned if there is one.\n * @method testSepAxis\n * @param {Vec3} axis\n * @param {ConvexPolyhedron} hullB\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Vec3} posB\n * @param {Quaternion} quatB\n * @return {number} The overlap depth, or FALSE if no penetration.\n */\nConvexPolyhedron.prototype.testSepAxis = function(axis, hullB, posA, quatA, posB, quatB){\n    var hullA=this;\n    ConvexPolyhedron.project(hullA, axis, posA, quatA, maxminA);\n    ConvexPolyhedron.project(hullB, axis, posB, quatB, maxminB);\n    var maxA = maxminA[0];\n    var minA = maxminA[1];\n    var maxB = maxminB[0];\n    var minB = maxminB[1];\n    if(maxA<minB || maxB<minA){\n        return false; // Separated\n    }\n    var d0 = maxA - minB;\n    var d1 = maxB - minA;\n    var depth = d0<d1 ? d0:d1;\n    return depth;\n};\n\nvar cli_aabbmin = new Vec3(),\n    cli_aabbmax = new Vec3();\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n */\nConvexPolyhedron.prototype.calculateLocalInertia = function(mass,target){\n    // Approximate with box inertia\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\n    this.computeLocalAABB(cli_aabbmin,cli_aabbmax);\n    var x = cli_aabbmax.x - cli_aabbmin.x,\n        y = cli_aabbmax.y - cli_aabbmin.y,\n        z = cli_aabbmax.z - cli_aabbmin.z;\n    target.x = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z );\n    target.y = 1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z );\n    target.z = 1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x );\n};\n\n/**\n * @method getPlaneConstantOfFace\n * @param  {Number} face_i Index of the face\n * @return {Number}\n */\nConvexPolyhedron.prototype.getPlaneConstantOfFace = function(face_i){\n    var f = this.faces[face_i];\n    var n = this.faceNormals[face_i];\n    var v = this.vertices[f[0]];\n    var c = -n.dot(v);\n    return c;\n};\n\n/**\n * Clip a face against a hull.\n * @method clipFaceAgainstHull\n * @param {Vec3} separatingNormal\n * @param {Vec3} posA\n * @param {Quaternion} quatA\n * @param {Array} worldVertsB1 An array of Vec3 with vertices in the world frame.\n * @param {Number} minDist Distance clamping\n * @param {Number} maxDist\n * @param Array result Array to store resulting contact points in. Will be objects with properties: point, depth, normal. These are represented in world coordinates.\n */\nvar cfah_faceANormalWS = new Vec3(),\n    cfah_edge0 = new Vec3(),\n    cfah_WorldEdge0 = new Vec3(),\n    cfah_worldPlaneAnormal1 = new Vec3(),\n    cfah_planeNormalWS1 = new Vec3(),\n    cfah_worldA1 = new Vec3(),\n    cfah_localPlaneNormal = new Vec3(),\n    cfah_planeNormalWS = new Vec3();\nConvexPolyhedron.prototype.clipFaceAgainstHull = function(separatingNormal, posA, quatA, worldVertsB1, minDist, maxDist,result){\n    var faceANormalWS = cfah_faceANormalWS,\n        edge0 = cfah_edge0,\n        WorldEdge0 = cfah_WorldEdge0,\n        worldPlaneAnormal1 = cfah_worldPlaneAnormal1,\n        planeNormalWS1 = cfah_planeNormalWS1,\n        worldA1 = cfah_worldA1,\n        localPlaneNormal = cfah_localPlaneNormal,\n        planeNormalWS = cfah_planeNormalWS;\n\n    var hullA = this;\n    var worldVertsB2 = [];\n    var pVtxIn = worldVertsB1;\n    var pVtxOut = worldVertsB2;\n    // Find the face with normal closest to the separating axis\n    var closestFaceA = -1;\n    var dmin = Number.MAX_VALUE;\n    for(var face=0; face<hullA.faces.length; face++){\n        faceANormalWS.copy(hullA.faceNormals[face]);\n        quatA.vmult(faceANormalWS,faceANormalWS);\n        //posA.vadd(faceANormalWS,faceANormalWS);\n        var d = faceANormalWS.dot(separatingNormal);\n        if (d < dmin){\n            dmin = d;\n            closestFaceA = face;\n        }\n    }\n    if (closestFaceA < 0){\n        // console.log(\"--- did not find any closest face... ---\");\n        return;\n    }\n    //console.log(\"closest A: \",closestFaceA);\n    // Get the face and construct connected faces\n    var polyA = hullA.faces[closestFaceA];\n    polyA.connectedFaces = [];\n    for(var i=0; i<hullA.faces.length; i++){\n        for(var j=0; j<hullA.faces[i].length; j++){\n            if(polyA.indexOf(hullA.faces[i][j])!==-1 /* Sharing a vertex*/ && i!==closestFaceA /* Not the one we are looking for connections from */ && polyA.connectedFaces.indexOf(i)===-1 /* Not already added */ ){\n                polyA.connectedFaces.push(i);\n            }\n        }\n    }\n    // Clip the polygon to the back of the planes of all faces of hull A, that are adjacent to the witness face\n    var numContacts = pVtxIn.length;\n    var numVerticesA = polyA.length;\n    var res = [];\n    for(var e0=0; e0<numVerticesA; e0++){\n        var a = hullA.vertices[polyA[e0]];\n        var b = hullA.vertices[polyA[(e0+1)%numVerticesA]];\n        a.vsub(b,edge0);\n        WorldEdge0.copy(edge0);\n        quatA.vmult(WorldEdge0,WorldEdge0);\n        posA.vadd(WorldEdge0,WorldEdge0);\n        worldPlaneAnormal1.copy(this.faceNormals[closestFaceA]);//transA.getBasis()* btVector3(polyA.m_plane[0],polyA.m_plane[1],polyA.m_plane[2]);\n        quatA.vmult(worldPlaneAnormal1,worldPlaneAnormal1);\n        posA.vadd(worldPlaneAnormal1,worldPlaneAnormal1);\n        WorldEdge0.cross(worldPlaneAnormal1,planeNormalWS1);\n        planeNormalWS1.negate(planeNormalWS1);\n        worldA1.copy(a);\n        quatA.vmult(worldA1,worldA1);\n        posA.vadd(worldA1,worldA1);\n        var planeEqWS1 = -worldA1.dot(planeNormalWS1);\n        var planeEqWS;\n        if(true){\n            var otherFace = polyA.connectedFaces[e0];\n            localPlaneNormal.copy(this.faceNormals[otherFace]);\n            var localPlaneEq = this.getPlaneConstantOfFace(otherFace);\n\n            planeNormalWS.copy(localPlaneNormal);\n            quatA.vmult(planeNormalWS,planeNormalWS);\n            //posA.vadd(planeNormalWS,planeNormalWS);\n            var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\n        } else  {\n            planeNormalWS.copy(planeNormalWS1);\n            planeEqWS = planeEqWS1;\n        }\n\n        // Clip face against our constructed plane\n        this.clipFaceAgainstPlane(pVtxIn, pVtxOut, planeNormalWS, planeEqWS);\n\n        // Throw away all clipped points, but save the reamining until next clip\n        while(pVtxIn.length){\n            pVtxIn.shift();\n        }\n        while(pVtxOut.length){\n            pVtxIn.push(pVtxOut.shift());\n        }\n    }\n\n    //console.log(\"Resulting points after clip:\",pVtxIn);\n\n    // only keep contact points that are behind the witness face\n    localPlaneNormal.copy(this.faceNormals[closestFaceA]);\n\n    var localPlaneEq = this.getPlaneConstantOfFace(closestFaceA);\n    planeNormalWS.copy(localPlaneNormal);\n    quatA.vmult(planeNormalWS,planeNormalWS);\n\n    var planeEqWS = localPlaneEq - planeNormalWS.dot(posA);\n    for (var i=0; i<pVtxIn.length; i++){\n        var depth = planeNormalWS.dot(pVtxIn[i]) + planeEqWS; //???\n        /*console.log(\"depth calc from normal=\",planeNormalWS.toString(),\" and constant \"+planeEqWS+\" and vertex \",pVtxIn[i].toString(),\" gives \"+depth);*/\n        if (depth <=minDist){\n            console.log(\"clamped: depth=\"+depth+\" to minDist=\"+(minDist+\"\"));\n            depth = minDist;\n        }\n\n        if (depth <=maxDist){\n            var point = pVtxIn[i];\n            if(depth<=0){\n                /*console.log(\"Got contact point \",point.toString(),\n                  \", depth=\",depth,\n                  \"contact normal=\",separatingNormal.toString(),\n                  \"plane\",planeNormalWS.toString(),\n                  \"planeConstant\",planeEqWS);*/\n                var p = {\n                    point:point,\n                    normal:planeNormalWS,\n                    depth: depth,\n                };\n                result.push(p);\n            }\n        }\n    }\n};\n\n/**\n * Clip a face in a hull against the back of a plane.\n * @method clipFaceAgainstPlane\n * @param {Array} inVertices\n * @param {Array} outVertices\n * @param {Vec3} planeNormal\n * @param {Number} planeConstant The constant in the mathematical plane equation\n */\nConvexPolyhedron.prototype.clipFaceAgainstPlane = function(inVertices,outVertices, planeNormal, planeConstant){\n    var n_dot_first, n_dot_last;\n    var numVerts = inVertices.length;\n\n    if(numVerts < 2){\n        return outVertices;\n    }\n\n    var firstVertex = inVertices[inVertices.length-1],\n        lastVertex =   inVertices[0];\n\n    n_dot_first = planeNormal.dot(firstVertex) + planeConstant;\n\n    for(var vi = 0; vi < numVerts; vi++){\n        lastVertex = inVertices[vi];\n        n_dot_last = planeNormal.dot(lastVertex) + planeConstant;\n        if(n_dot_first < 0){\n            if(n_dot_last < 0){\n                // Start < 0, end < 0, so output lastVertex\n                var newv = new Vec3();\n                newv.copy(lastVertex);\n                outVertices.push(newv);\n            } else {\n                // Start < 0, end >= 0, so output intersection\n                var newv = new Vec3();\n                firstVertex.lerp(lastVertex,\n                                 n_dot_first / (n_dot_first - n_dot_last),\n                                 newv);\n                outVertices.push(newv);\n            }\n        } else {\n            if(n_dot_last<0){\n                // Start >= 0, end < 0 so output intersection and end\n                var newv = new Vec3();\n                firstVertex.lerp(lastVertex,\n                                 n_dot_first / (n_dot_first - n_dot_last),\n                                 newv);\n                outVertices.push(newv);\n                outVertices.push(lastVertex);\n            }\n        }\n        firstVertex = lastVertex;\n        n_dot_first = n_dot_last;\n    }\n    return outVertices;\n};\n\n// Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\nConvexPolyhedron.prototype.computeWorldVertices = function(position,quat){\n    var N = this.vertices.length;\n    while(this.worldVertices.length < N){\n        this.worldVertices.push( new Vec3() );\n    }\n\n    var verts = this.vertices,\n        worldVerts = this.worldVertices;\n    for(var i=0; i!==N; i++){\n        quat.vmult( verts[i] , worldVerts[i] );\n        position.vadd( worldVerts[i] , worldVerts[i] );\n    }\n\n    this.worldVerticesNeedsUpdate = false;\n};\n\nvar computeLocalAABB_worldVert = new Vec3();\nConvexPolyhedron.prototype.computeLocalAABB = function(aabbmin,aabbmax){\n    var n = this.vertices.length,\n        vertices = this.vertices,\n        worldVert = computeLocalAABB_worldVert;\n\n    aabbmin.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n    aabbmax.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n\n    for(var i=0; i<n; i++){\n        var v = vertices[i];\n        if     (v.x < aabbmin.x){\n            aabbmin.x = v.x;\n        } else if(v.x > aabbmax.x){\n            aabbmax.x = v.x;\n        }\n        if     (v.y < aabbmin.y){\n            aabbmin.y = v.y;\n        } else if(v.y > aabbmax.y){\n            aabbmax.y = v.y;\n        }\n        if     (v.z < aabbmin.z){\n            aabbmin.z = v.z;\n        } else if(v.z > aabbmax.z){\n            aabbmax.z = v.z;\n        }\n    }\n};\n\n/**\n * Updates .worldVertices and sets .worldVerticesNeedsUpdate to false.\n * @method computeWorldFaceNormals\n * @param  {Quaternion} quat\n */\nConvexPolyhedron.prototype.computeWorldFaceNormals = function(quat){\n    var N = this.faceNormals.length;\n    while(this.worldFaceNormals.length < N){\n        this.worldFaceNormals.push( new Vec3() );\n    }\n\n    var normals = this.faceNormals,\n        worldNormals = this.worldFaceNormals;\n    for(var i=0; i!==N; i++){\n        quat.vmult( normals[i] , worldNormals[i] );\n    }\n\n    this.worldFaceNormalsNeedsUpdate = false;\n};\n\n/**\n * @method updateBoundingSphereRadius\n */\nConvexPolyhedron.prototype.updateBoundingSphereRadius = function(){\n    // Assume points are distributed with local (0,0,0) as center\n    var max2 = 0;\n    var verts = this.vertices;\n    for(var i=0, N=verts.length; i!==N; i++) {\n        var norm2 = verts[i].norm2();\n        if(norm2 > max2){\n            max2 = norm2;\n        }\n    }\n    this.boundingSphereRadius = Math.sqrt(max2);\n};\n\nvar tempWorldVertex = new Vec3();\n\n/**\n * @method calculateWorldAABB\n * @param {Vec3}        pos\n * @param {Quaternion}  quat\n * @param {Vec3}        min\n * @param {Vec3}        max\n */\nConvexPolyhedron.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    var n = this.vertices.length, verts = this.vertices;\n    var minx,miny,minz,maxx,maxy,maxz;\n    for(var i=0; i<n; i++){\n        tempWorldVertex.copy(verts[i]);\n        quat.vmult(tempWorldVertex,tempWorldVertex);\n        pos.vadd(tempWorldVertex,tempWorldVertex);\n        var v = tempWorldVertex;\n        if     (v.x < minx || minx===undefined){\n            minx = v.x;\n        } else if(v.x > maxx || maxx===undefined){\n            maxx = v.x;\n        }\n\n        if     (v.y < miny || miny===undefined){\n            miny = v.y;\n        } else if(v.y > maxy || maxy===undefined){\n            maxy = v.y;\n        }\n\n        if     (v.z < minz || minz===undefined){\n            minz = v.z;\n        } else if(v.z > maxz || maxz===undefined){\n            maxz = v.z;\n        }\n    }\n    min.set(minx,miny,minz);\n    max.set(maxx,maxy,maxz);\n};\n\n/**\n * Get approximate convex volume\n * @method volume\n * @return {Number}\n */\nConvexPolyhedron.prototype.volume = function(){\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\n};\n\n/**\n * Get an average of all the vertices positions\n * @method getAveragePointLocal\n * @param  {Vec3} target\n * @return {Vec3}\n */\nConvexPolyhedron.prototype.getAveragePointLocal = function(target){\n    target = target || new Vec3();\n    var n = this.vertices.length,\n        verts = this.vertices;\n    for(var i=0; i<n; i++){\n        target.vadd(verts[i],target);\n    }\n    target.mult(1/n,target);\n    return target;\n};\n\n/**\n * Transform all local points. Will change the .vertices\n * @method transformAllPoints\n * @param  {Vec3} offset\n * @param  {Quaternion} quat\n */\nConvexPolyhedron.prototype.transformAllPoints = function(offset,quat){\n    var n = this.vertices.length,\n        verts = this.vertices;\n\n    // Apply rotation\n    if(quat){\n        // Rotate vertices\n        for(var i=0; i<n; i++){\n            var v = verts[i];\n            quat.vmult(v,v);\n        }\n        // Rotate face normals\n        for(var i=0; i<this.faceNormals.length; i++){\n            var v = this.faceNormals[i];\n            quat.vmult(v,v);\n        }\n        /*\n        // Rotate edges\n        for(var i=0; i<this.uniqueEdges.length; i++){\n            var v = this.uniqueEdges[i];\n            quat.vmult(v,v);\n        }*/\n    }\n\n    // Apply offset\n    if(offset){\n        for(var i=0; i<n; i++){\n            var v = verts[i];\n            v.vadd(offset,v);\n        }\n    }\n};\n\n/**\n * Checks whether p is inside the polyhedra. Must be in local coords. The point lies outside of the convex hull of the other points if and only if the direction of all the vectors from it to those other points are on less than one half of a sphere around it.\n * @method pointIsInside\n * @param  {Vec3} p      A point given in local coordinates\n * @return {Boolean}\n */\nvar ConvexPolyhedron_pointIsInside = new Vec3();\nvar ConvexPolyhedron_vToP = new Vec3();\nvar ConvexPolyhedron_vToPointInside = new Vec3();\nConvexPolyhedron.prototype.pointIsInside = function(p){\n    var n = this.vertices.length,\n        verts = this.vertices,\n        faces = this.faces,\n        normals = this.faceNormals;\n    var positiveResult = null;\n    var N = this.faces.length;\n    var pointInside = ConvexPolyhedron_pointIsInside;\n    this.getAveragePointLocal(pointInside);\n    for(var i=0; i<N; i++){\n        var numVertices = this.faces[i].length;\n        var n = normals[i];\n        var v = verts[faces[i][0]]; // We only need one point in the face\n\n        // This dot product determines which side of the edge the point is\n        var vToP = ConvexPolyhedron_vToP;\n        p.vsub(v,vToP);\n        var r1 = n.dot(vToP);\n\n        var vToPointInside = ConvexPolyhedron_vToPointInside;\n        pointInside.vsub(v,vToPointInside);\n        var r2 = n.dot(vToPointInside);\n\n        if((r1<0 && r2>0) || (r1>0 && r2<0)){\n            return false; // Encountered some other sign. Exit.\n        } else {\n        }\n    }\n\n    // If we got here, all dot products were of the same sign.\n    return positiveResult ? 1 : -1;\n};\n\n/**\n * Get max and min dot product of a convex hull at position (pos,quat) projected onto an axis. Results are saved in the array maxmin.\n * @static\n * @method project\n * @param {ConvexPolyhedron} hull\n * @param {Vec3} axis\n * @param {Vec3} pos\n * @param {Quaternion} quat\n * @param {array} result result[0] and result[1] will be set to maximum and minimum, respectively.\n */\nvar project_worldVertex = new Vec3();\nvar project_localAxis = new Vec3();\nvar project_localOrigin = new Vec3();\nConvexPolyhedron.project = function(hull, axis, pos, quat, result){\n    var n = hull.vertices.length,\n        worldVertex = project_worldVertex,\n        localAxis = project_localAxis,\n        max = 0,\n        min = 0,\n        localOrigin = project_localOrigin,\n        vs = hull.vertices;\n\n    localOrigin.setZero();\n\n    // Transform the axis to local\n    Transform.vectorToLocalFrame(pos, quat, axis, localAxis);\n    Transform.pointToLocalFrame(pos, quat, localOrigin, localOrigin);\n    var add = localOrigin.dot(localAxis);\n\n    min = max = vs[0].dot(localAxis);\n\n    for(var i = 1; i < n; i++){\n        var val = vs[i].dot(localAxis);\n\n        if(val > max){\n            max = val;\n        }\n\n        if(val < min){\n            min = val;\n        }\n    }\n\n    min -= add;\n    max -= add;\n\n    if(min > max){\n        // Inconsistent - swap\n        var temp = min;\n        min = max;\n        max = temp;\n    }\n    // Output\n    result[0] = max;\n    result[1] = min;\n};\n\n},{\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"./Shape\":43}],39:[function(_dereq_,module,exports){\nmodule.exports = Cylinder;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\n\n/**\n * @class Cylinder\n * @constructor\n * @extends ConvexPolyhedron\n * @author schteppe / https://github.com/schteppe\n * @param {Number} radiusTop\n * @param {Number} radiusBottom\n * @param {Number} height\n * @param {Number} numSegments The number of segments to build the cylinder out of\n */\nfunction Cylinder( radiusTop, radiusBottom, height , numSegments ) {\n    var N = numSegments,\n        verts = [],\n        axes = [],\n        faces = [],\n        bottomface = [],\n        topface = [],\n        cos = Math.cos,\n        sin = Math.sin;\n\n    // First bottom point\n    verts.push(new Vec3(radiusBottom*cos(0),\n                               radiusBottom*sin(0),\n                               -height*0.5));\n    bottomface.push(0);\n\n    // First top point\n    verts.push(new Vec3(radiusTop*cos(0),\n                               radiusTop*sin(0),\n                               height*0.5));\n    topface.push(1);\n\n    for(var i=0; i<N; i++){\n        var theta = 2*Math.PI/N * (i+1);\n        var thetaN = 2*Math.PI/N * (i+0.5);\n        if(i<N-1){\n            // Bottom\n            verts.push(new Vec3(radiusBottom*cos(theta),\n                                       radiusBottom*sin(theta),\n                                       -height*0.5));\n            bottomface.push(2*i+2);\n            // Top\n            verts.push(new Vec3(radiusTop*cos(theta),\n                                       radiusTop*sin(theta),\n                                       height*0.5));\n            topface.push(2*i+3);\n\n            // Face\n            faces.push([2*i+2, 2*i+3, 2*i+1,2*i]);\n        } else {\n            faces.push([0,1, 2*i+1, 2*i]); // Connect\n        }\n\n        // Axis: we can cut off half of them if we have even number of segments\n        if(N % 2 === 1 || i < N / 2){\n            axes.push(new Vec3(cos(thetaN), sin(thetaN), 0));\n        }\n    }\n    faces.push(topface);\n    axes.push(new Vec3(0,0,1));\n\n    // Reorder bottom face\n    var temp = [];\n    for(var i=0; i<bottomface.length; i++){\n        temp.push(bottomface[bottomface.length - i - 1]);\n    }\n    faces.push(temp);\n\n    this.type = Shape.types.CONVEXPOLYHEDRON;\n    ConvexPolyhedron.call( this, verts, faces, axes );\n}\n\nCylinder.prototype = new ConvexPolyhedron();\n\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./ConvexPolyhedron\":38,\"./Shape\":43}],40:[function(_dereq_,module,exports){\nvar Shape = _dereq_('./Shape');\nvar ConvexPolyhedron = _dereq_('./ConvexPolyhedron');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Utils = _dereq_('../utils/Utils');\n\nmodule.exports = Heightfield;\n\n/**\n * Heightfield shape class. Height data is given as an array. These data points are spread out evenly with a given distance.\n * @class Heightfield\n * @extends Shape\n * @constructor\n * @param {Array} data An array of Y values that will be used to construct the terrain.\n * @param {object} options\n * @param {Number} [options.minValue] Minimum value of the data points in the data array. Will be computed automatically if not given.\n * @param {Number} [options.maxValue] Maximum value.\n * @param {Number} [options.elementSize=0.1] World spacing between the data points in X direction.\n * @todo Should be possible to use along all axes, not just y\n *\n * @example\n *     // Generate some height data (y-values).\n *     var data = [];\n *     for(var i = 0; i < 1000; i++){\n *         var y = 0.5 * Math.cos(0.2 * i);\n *         data.push(y);\n *     }\n *\n *     // Create the heightfield shape\n *     var heightfieldShape = new Heightfield(data, {\n *         elementSize: 1 // Distance between the data points in X and Y directions\n *     });\n *     var heightfieldBody = new Body();\n *     heightfieldBody.addShape(heightfieldShape);\n *     world.addBody(heightfieldBody);\n */\nfunction Heightfield(data, options){\n    options = Utils.defaults(options, {\n        maxValue : null,\n        minValue : null,\n        elementSize : 1\n    });\n\n    /**\n     * An array of numbers, or height values, that are spread out along the x axis.\n     * @property {array} data\n     */\n    this.data = data;\n\n    /**\n     * Max value of the data\n     * @property {number} maxValue\n     */\n    this.maxValue = options.maxValue;\n\n    /**\n     * Max value of the data\n     * @property {number} minValue\n     */\n    this.minValue = options.minValue;\n\n    /**\n     * The width of each element\n     * @property {number} elementSize\n     * @todo elementSizeX and Y\n     */\n    this.elementSize = options.elementSize;\n\n    if(options.minValue === null){\n        this.updateMinValue();\n    }\n    if(options.maxValue === null){\n        this.updateMaxValue();\n    }\n\n    this.cacheEnabled = true;\n\n    Shape.call(this);\n\n    this.pillarConvex = new ConvexPolyhedron();\n    this.pillarOffset = new Vec3();\n\n    this.type = Shape.types.HEIGHTFIELD;\n    this.updateBoundingSphereRadius();\n\n    // \"i_j_isUpper\" => { convex: ..., offset: ... }\n    // for example:\n    // _cachedPillars[\"0_2_1\"]\n    this._cachedPillars = {};\n}\nHeightfield.prototype = new Shape();\n\n/**\n * Call whenever you change the data array.\n * @method update\n */\nHeightfield.prototype.update = function(){\n    this._cachedPillars = {};\n};\n\n/**\n * Update the .minValue property\n * @method updateMinValue\n */\nHeightfield.prototype.updateMinValue = function(){\n    var data = this.data;\n    var minValue = data[0][0];\n    for(var i=0; i !== data.length; i++){\n        for(var j=0; j !== data[i].length; j++){\n            var v = data[i][j];\n            if(v < minValue){\n                minValue = v;\n            }\n        }\n    }\n    this.minValue = minValue;\n};\n\n/**\n * Update the .maxValue property\n * @method updateMaxValue\n */\nHeightfield.prototype.updateMaxValue = function(){\n    var data = this.data;\n    var maxValue = data[0][0];\n    for(var i=0; i !== data.length; i++){\n        for(var j=0; j !== data[i].length; j++){\n            var v = data[i][j];\n            if(v > maxValue){\n                maxValue = v;\n            }\n        }\n    }\n    this.maxValue = maxValue;\n};\n\n/**\n * Set the height value at an index. Don't forget to update maxValue and minValue after you're done.\n * @method setHeightValueAtIndex\n * @param {integer} xi\n * @param {integer} yi\n * @param {number} value\n */\nHeightfield.prototype.setHeightValueAtIndex = function(xi, yi, value){\n    var data = this.data;\n    data[xi][yi] = value;\n\n    // Invalidate cache\n    this.clearCachedConvexTrianglePillar(xi, yi, false);\n    if(xi > 0){\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, true);\n        this.clearCachedConvexTrianglePillar(xi - 1, yi, false);\n    }\n    if(yi > 0){\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, true);\n        this.clearCachedConvexTrianglePillar(xi, yi - 1, false);\n    }\n    if(yi > 0 && xi > 0){\n        this.clearCachedConvexTrianglePillar(xi - 1, yi - 1, true);\n    }\n};\n\n/**\n * Get max/min in a rectangle in the matrix data\n * @method getRectMinMax\n * @param  {integer} iMinX\n * @param  {integer} iMinY\n * @param  {integer} iMaxX\n * @param  {integer} iMaxY\n * @param  {array} [result] An array to store the results in.\n * @return {array} The result array, if it was passed in. Minimum will be at position 0 and max at 1.\n */\nHeightfield.prototype.getRectMinMax = function (iMinX, iMinY, iMaxX, iMaxY, result) {\n    result = result || [];\n\n    // Get max and min of the data\n    var data = this.data,\n        max = this.minValue; // Set first value\n    for(var i = iMinX; i <= iMaxX; i++){\n        for(var j = iMinY; j <= iMaxY; j++){\n            var height = data[i][j];\n            if(height > max){\n                max = height;\n            }\n        }\n    }\n\n    result[0] = this.minValue;\n    result[1] = max;\n};\n\n/**\n * Get the index of a local position on the heightfield. The indexes indicate the rectangles, so if your terrain is made of N x N height data points, you will have rectangle indexes ranging from 0 to N-1.\n * @method getIndexOfPosition\n * @param  {number} x\n * @param  {number} y\n * @param  {array} result Two-element array\n * @param  {boolean} clamp If the position should be clamped to the heightfield edge.\n * @return {boolean}\n */\nHeightfield.prototype.getIndexOfPosition = function (x, y, result, clamp) {\n\n    // Get the index of the data points to test against\n    var w = this.elementSize;\n    var data = this.data;\n    var xi = Math.floor(x / w);\n    var yi = Math.floor(y / w);\n\n    result[0] = xi;\n    result[1] = yi;\n\n    if(clamp){\n        // Clamp index to edges\n        if(xi < 0){ xi = 0; }\n        if(yi < 0){ yi = 0; }\n        if(xi >= data.length - 1){ xi = data.length - 1; }\n        if(yi >= data[0].length - 1){ yi = data[0].length - 1; }\n    }\n\n    // Bail out if we are out of the terrain\n    if(xi < 0 || yi < 0 || xi >= data.length-1 || yi >= data[0].length-1){\n        return false;\n    }\n\n    return true;\n};\n\nHeightfield.prototype.getHeightAt = function(x, y, edgeClamp){\n    var idx = [];\n    this.getIndexOfPosition(x, y, idx, edgeClamp);\n\n    // TODO: get upper or lower triangle, then use barycentric interpolation to get the height in the triangle.\n    var minmax = [];\n    this.getRectMinMax(idx[0], idx[1] + 1, idx[0], idx[1] + 1, minmax);\n\n    return (minmax[0] + minmax[1]) / 2; // average\n};\n\nHeightfield.prototype.getCacheConvexTrianglePillarKey = function(xi, yi, getUpperTriangle){\n    return xi + '_' + yi + '_' + (getUpperTriangle ? 1 : 0);\n};\n\nHeightfield.prototype.getCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    return this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\n};\n\nHeightfield.prototype.setCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle, convex, offset){\n    this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)] = {\n        convex: convex,\n        offset: offset\n    };\n};\n\nHeightfield.prototype.clearCachedConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(xi, yi, getUpperTriangle)];\n};\n\n/**\n * Get a triangle in the terrain in the form of a triangular convex shape.\n * @method getConvexTrianglePillar\n * @param  {integer} i\n * @param  {integer} j\n * @param  {boolean} getUpperTriangle\n */\nHeightfield.prototype.getConvexTrianglePillar = function(xi, yi, getUpperTriangle){\n    var result = this.pillarConvex;\n    var offsetResult = this.pillarOffset;\n\n    if(this.cacheEnabled){\n        var data = this.getCachedConvexTrianglePillar(xi, yi, getUpperTriangle);\n        if(data){\n            this.pillarConvex = data.convex;\n            this.pillarOffset = data.offset;\n            return;\n        }\n\n        result = new ConvexPolyhedron();\n        offsetResult = new Vec3();\n\n        this.pillarConvex = result;\n        this.pillarOffset = offsetResult;\n    }\n\n    var data = this.data;\n    var elementSize = this.elementSize;\n    var faces = result.faces;\n\n    // Reuse verts if possible\n    result.vertices.length = 6;\n    for (var i = 0; i < 6; i++) {\n        if(!result.vertices[i]){\n            result.vertices[i] = new Vec3();\n        }\n    }\n\n    // Reuse faces if possible\n    faces.length = 5;\n    for (var i = 0; i < 5; i++) {\n        if(!faces[i]){\n            faces[i] = [];\n        }\n    }\n\n    var verts = result.vertices;\n\n    var h = (Math.min(\n        data[xi][yi],\n        data[xi+1][yi],\n        data[xi][yi+1],\n        data[xi+1][yi+1]\n    ) - this.minValue ) / 2 + this.minValue;\n\n    if (!getUpperTriangle) {\n\n        // Center of the triangle pillar - all polygons are given relative to this one\n        offsetResult.set(\n            (xi + 0.25) * elementSize, // sort of center of a triangle\n            (yi + 0.25) * elementSize,\n            h // vertical center\n        );\n\n        // Top triangle verts\n        verts[0].set(\n            -0.25 * elementSize,\n            -0.25 * elementSize,\n            data[xi][yi] - h\n        );\n        verts[1].set(\n            0.75 * elementSize,\n            -0.25 * elementSize,\n            data[xi + 1][yi] - h\n        );\n        verts[2].set(\n            -0.25 * elementSize,\n            0.75 * elementSize,\n            data[xi][yi + 1] - h\n        );\n\n        // bottom triangle verts\n        verts[3].set(\n            -0.25 * elementSize,\n            -0.25 * elementSize,\n            -h-1\n        );\n        verts[4].set(\n            0.75 * elementSize,\n            -0.25 * elementSize,\n            -h-1\n        );\n        verts[5].set(\n            -0.25 * elementSize,\n            0.75  * elementSize,\n            -h-1\n        );\n\n        // top triangle\n        faces[0][0] = 0;\n        faces[0][1] = 1;\n        faces[0][2] = 2;\n\n        // bottom triangle\n        faces[1][0] = 5;\n        faces[1][1] = 4;\n        faces[1][2] = 3;\n\n        // -x facing quad\n        faces[2][0] = 0;\n        faces[2][1] = 2;\n        faces[2][2] = 5;\n        faces[2][3] = 3;\n\n        // -y facing quad\n        faces[3][0] = 1;\n        faces[3][1] = 0;\n        faces[3][2] = 3;\n        faces[3][3] = 4;\n\n        // +xy facing quad\n        faces[4][0] = 4;\n        faces[4][1] = 5;\n        faces[4][2] = 2;\n        faces[4][3] = 1;\n\n\n    } else {\n\n        // Center of the triangle pillar - all polygons are given relative to this one\n        offsetResult.set(\n            (xi + 0.75) * elementSize, // sort of center of a triangle\n            (yi + 0.75) * elementSize,\n            h // vertical center\n        );\n\n        // Top triangle verts\n        verts[0].set(\n            0.25 * elementSize,\n            0.25 * elementSize,\n            data[xi + 1][yi + 1] - h\n        );\n        verts[1].set(\n            -0.75 * elementSize,\n            0.25 * elementSize,\n            data[xi][yi + 1] - h\n        );\n        verts[2].set(\n            0.25 * elementSize,\n            -0.75 * elementSize,\n            data[xi + 1][yi] - h\n        );\n\n        // bottom triangle verts\n        verts[3].set(\n            0.25 * elementSize,\n            0.25 * elementSize,\n            - h-1\n        );\n        verts[4].set(\n            -0.75 * elementSize,\n            0.25 * elementSize,\n            - h-1\n        );\n        verts[5].set(\n            0.25 * elementSize,\n            -0.75 * elementSize,\n            - h-1\n        );\n\n        // Top triangle\n        faces[0][0] = 0;\n        faces[0][1] = 1;\n        faces[0][2] = 2;\n\n        // bottom triangle\n        faces[1][0] = 5;\n        faces[1][1] = 4;\n        faces[1][2] = 3;\n\n        // +x facing quad\n        faces[2][0] = 2;\n        faces[2][1] = 5;\n        faces[2][2] = 3;\n        faces[2][3] = 0;\n\n        // +y facing quad\n        faces[3][0] = 3;\n        faces[3][1] = 4;\n        faces[3][2] = 1;\n        faces[3][3] = 0;\n\n        // -xy facing quad\n        faces[4][0] = 1;\n        faces[4][1] = 4;\n        faces[4][2] = 5;\n        faces[4][3] = 2;\n    }\n\n    result.computeNormals();\n    result.computeEdges();\n    result.updateBoundingSphereRadius();\n\n    this.setCachedConvexTrianglePillar(xi, yi, getUpperTriangle, result, offsetResult);\n};\n\nHeightfield.prototype.calculateLocalInertia = function(mass, target){\n    target = target || new Vec3();\n    target.set(0, 0, 0);\n    return target;\n};\n\nHeightfield.prototype.volume = function(){\n    return Number.MAX_VALUE; // The terrain is infinite\n};\n\nHeightfield.prototype.calculateWorldAABB = function(pos, quat, min, max){\n    // TODO: do it properly\n    min.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n    max.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n};\n\nHeightfield.prototype.updateBoundingSphereRadius = function(){\n    // Use the bounding box of the min/max values\n    var data = this.data,\n        s = this.elementSize;\n    this.boundingSphereRadius = new Vec3(data.length * s, data[0].length * s, Math.max(Math.abs(this.maxValue), Math.abs(this.minValue))).norm();\n};\n\n},{\"../math/Vec3\":30,\"../utils/Utils\":53,\"./ConvexPolyhedron\":38,\"./Shape\":43}],41:[function(_dereq_,module,exports){\nmodule.exports = Particle;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Particle shape.\n * @class Particle\n * @constructor\n * @author schteppe\n * @extends Shape\n */\nfunction Particle(){\n    Shape.call(this);\n\n    this.type = Shape.types.PARTICLE;\n}\nParticle.prototype = new Shape();\nParticle.prototype.constructor = Particle;\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3}\n */\nParticle.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    target.set(0, 0, 0);\n    return target;\n};\n\nParticle.prototype.volume = function(){\n    return 0;\n};\n\nParticle.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = 0;\n};\n\nParticle.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    // Get each axis max\n    min.copy(pos);\n    max.copy(pos);\n};\n\n},{\"../math/Vec3\":30,\"./Shape\":43}],42:[function(_dereq_,module,exports){\nmodule.exports = Plane;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * A plane, facing in the Z direction. The plane has its surface at z=0 and everything below z=0 is assumed to be solid plane. To make the plane face in some other direction than z, you must put it inside a RigidBody and rotate that body. See the demos.\n * @class Plane\n * @constructor\n * @extends Shape\n * @author schteppe\n */\nfunction Plane(){\n    Shape.call(this);\n    this.type = Shape.types.PLANE;\n\n    // World oriented normal\n    this.worldNormal = new Vec3();\n    this.worldNormalNeedsUpdate = true;\n\n    this.boundingSphereRadius = Number.MAX_VALUE;\n}\nPlane.prototype = new Shape();\nPlane.prototype.constructor = Plane;\n\nPlane.prototype.computeWorldNormal = function(quat){\n    var n = this.worldNormal;\n    n.set(0,0,1);\n    quat.vmult(n,n);\n    this.worldNormalNeedsUpdate = false;\n};\n\nPlane.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    return target;\n};\n\nPlane.prototype.volume = function(){\n    return Number.MAX_VALUE; // The plane is infinite...\n};\n\nvar tempNormal = new Vec3();\nPlane.prototype.calculateWorldAABB = function(pos, quat, min, max){\n    // The plane AABB is infinite, except if the normal is pointing along any axis\n    tempNormal.set(0,0,1); // Default plane normal is z\n    quat.vmult(tempNormal,tempNormal);\n    var maxVal = Number.MAX_VALUE;\n    min.set(-maxVal, -maxVal, -maxVal);\n    max.set(maxVal, maxVal, maxVal);\n\n    if(tempNormal.x === 1){ max.x = pos.x; }\n    if(tempNormal.y === 1){ max.y = pos.y; }\n    if(tempNormal.z === 1){ max.z = pos.z; }\n\n    if(tempNormal.x === -1){ min.x = pos.x; }\n    if(tempNormal.y === -1){ min.y = pos.y; }\n    if(tempNormal.z === -1){ min.z = pos.z; }\n};\n\nPlane.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = Number.MAX_VALUE;\n};\n},{\"../math/Vec3\":30,\"./Shape\":43}],43:[function(_dereq_,module,exports){\nmodule.exports = Shape;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Material = _dereq_('../material/Material');\n\n/**\n * Base class for shapes\n * @class Shape\n * @constructor\n * @author schteppe\n * @todo Should have a mechanism for caching bounding sphere radius instead of calculating it each time\n */\nfunction Shape(){\n\n    /**\n     * Identifyer of the Shape.\n     * @property {number} id\n     */\n    this.id = Shape.idCounter++;\n\n    /**\n     * The type of this shape. Must be set to an int > 0 by subclasses.\n     * @property type\n     * @type {Number}\n     * @see Shape.types\n     */\n    this.type = 0;\n\n    /**\n     * The local bounding sphere radius of this shape.\n     * @property {Number} boundingSphereRadius\n     */\n    this.boundingSphereRadius = 0;\n\n    /**\n     * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.\n     * @property {boolean} collisionResponse\n     */\n    this.collisionResponse = true;\n\n    /**\n     * @property {Material} material\n     */\n    this.material = null;\n}\nShape.prototype.constructor = Shape;\n\n/**\n * Computes the bounding sphere radius. The result is stored in the property .boundingSphereRadius\n * @method updateBoundingSphereRadius\n * @return {Number}\n */\nShape.prototype.updateBoundingSphereRadius = function(){\n    throw \"computeBoundingSphereRadius() not implemented for shape type \"+this.type;\n};\n\n/**\n * Get the volume of this shape\n * @method volume\n * @return {Number}\n */\nShape.prototype.volume = function(){\n    throw \"volume() not implemented for shape type \"+this.type;\n};\n\n/**\n * Calculates the inertia in the local frame for this shape.\n * @method calculateLocalInertia\n * @return {Vec3}\n * @see http://en.wikipedia.org/wiki/List_of_moments_of_inertia\n */\nShape.prototype.calculateLocalInertia = function(mass,target){\n    throw \"calculateLocalInertia() not implemented for shape type \"+this.type;\n};\n\nShape.idCounter = 0;\n\n/**\n * The available shape types.\n * @static\n * @property types\n * @type {Object}\n */\nShape.types = {\n    SPHERE:1,\n    PLANE:2,\n    BOX:4,\n    COMPOUND:8,\n    CONVEXPOLYHEDRON:16,\n    HEIGHTFIELD:32,\n    PARTICLE:64,\n    CYLINDER:128,\n    TRIMESH:256\n};\n\n\n},{\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Shape\":43}],44:[function(_dereq_,module,exports){\nmodule.exports = Sphere;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\n\n/**\n * Spherical shape\n * @class Sphere\n * @constructor\n * @extends Shape\n * @param {Number} radius The radius of the sphere, a non-negative number.\n * @author schteppe / http://github.com/schteppe\n */\nfunction Sphere(radius){\n    Shape.call(this);\n\n    /**\n     * @property {Number} radius\n     */\n    this.radius = radius!==undefined ? Number(radius) : 1.0;\n    this.type = Shape.types.SPHERE;\n\n    if(this.radius < 0){\n        throw new Error('The sphere radius cannot be negative.');\n    }\n\n    this.updateBoundingSphereRadius();\n}\nSphere.prototype = new Shape();\nSphere.prototype.constructor = Sphere;\n\nSphere.prototype.calculateLocalInertia = function(mass,target){\n    target = target || new Vec3();\n    var I = 2.0*mass*this.radius*this.radius/5.0;\n    target.x = I;\n    target.y = I;\n    target.z = I;\n    return target;\n};\n\nSphere.prototype.volume = function(){\n    return 4.0 * Math.PI * this.radius / 3.0;\n};\n\nSphere.prototype.updateBoundingSphereRadius = function(){\n    this.boundingSphereRadius = this.radius;\n};\n\nSphere.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    var r = this.radius;\n    var axes = ['x','y','z'];\n    for(var i=0; i<axes.length; i++){\n        var ax = axes[i];\n        min[ax] = pos[ax] - r;\n        max[ax] = pos[ax] + r;\n    }\n};\n\n},{\"../math/Vec3\":30,\"./Shape\":43}],45:[function(_dereq_,module,exports){\nmodule.exports = Trimesh;\n\nvar Shape = _dereq_('./Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Transform = _dereq_('../math/Transform');\nvar AABB = _dereq_('../collision/AABB');\nvar Octree = _dereq_('../utils/Octree');\n\n/**\n * @class Trimesh\n * @constructor\n * @param {array} vertices\n * @param {array} indices\n * @extends Shape\n * @example\n *     // How to make a mesh with a single triangle\n *     var vertices = [\n *         0, 0, 0, // vertex 0\n *         1, 0, 0, // vertex 1\n *         0, 1, 0  // vertex 2\n *     ];\n *     var indices = [\n *         0, 1, 2  // triangle 0\n *     ];\n *     var trimeshShape = new Trimesh(vertices, indices);\n */\nfunction Trimesh(vertices, indices) {\n    Shape.call(this);\n    this.type = Shape.types.TRIMESH;\n\n    /**\n     * @property vertices\n     * @type {Array}\n     */\n    this.vertices = new Float32Array(vertices);\n\n    /**\n     * Array of integers, indicating which vertices each triangle consists of. The length of this array is thus 3 times the number of triangles.\n     * @property indices\n     * @type {Array}\n     */\n    this.indices = new Int16Array(indices);\n\n    /**\n     * The normals data.\n     * @property normals\n     * @type {Array}\n     */\n    this.normals = new Float32Array(indices.length);\n\n    /**\n     * The local AABB of the mesh.\n     * @property aabb\n     * @type {Array}\n     */\n    this.aabb = new AABB();\n\n    /**\n     * References to vertex pairs, making up all unique edges in the trimesh.\n     * @property {array} edges\n     */\n    this.edges = null;\n\n    /**\n     * Local scaling of the mesh. Use .setScale() to set it.\n     * @property {Vec3} scale\n     */\n    this.scale = new Vec3(1, 1, 1);\n\n    /**\n     * The indexed triangles. Use .updateTree() to update it.\n     * @property {Octree} tree\n     */\n    this.tree = new Octree();\n\n    this.updateEdges();\n    this.updateNormals();\n    this.updateAABB();\n    this.updateBoundingSphereRadius();\n    this.updateTree();\n}\nTrimesh.prototype = new Shape();\nTrimesh.prototype.constructor = Trimesh;\n\nvar computeNormals_n = new Vec3();\n\n/**\n * @method updateTree\n */\nTrimesh.prototype.updateTree = function(){\n    var tree = this.tree;\n\n    tree.reset();\n    tree.aabb.copy(this.aabb);\n    var scale = this.scale; // The local mesh AABB is scaled, but the octree AABB should be unscaled\n    tree.aabb.lowerBound.x *= 1 / scale.x;\n    tree.aabb.lowerBound.y *= 1 / scale.y;\n    tree.aabb.lowerBound.z *= 1 / scale.z;\n    tree.aabb.upperBound.x *= 1 / scale.x;\n    tree.aabb.upperBound.y *= 1 / scale.y;\n    tree.aabb.upperBound.z *= 1 / scale.z;\n\n    // Insert all triangles\n    var triangleAABB = new AABB();\n    var a = new Vec3();\n    var b = new Vec3();\n    var c = new Vec3();\n    var points = [a, b, c];\n    for (var i = 0; i < this.indices.length / 3; i++) {\n        //this.getTriangleVertices(i, a, b, c);\n\n        // Get unscaled triangle verts\n        var i3 = i * 3;\n        this._getUnscaledVertex(this.indices[i3], a);\n        this._getUnscaledVertex(this.indices[i3 + 1], b);\n        this._getUnscaledVertex(this.indices[i3 + 2], c);\n\n        triangleAABB.setFromPoints(points);\n        tree.insert(triangleAABB, i);\n    }\n    tree.removeEmptyNodes();\n};\n\nvar unscaledAABB = new AABB();\n\n/**\n * Get triangles in a local AABB from the trimesh.\n * @method getTrianglesInAABB\n * @param  {AABB} aabb\n * @param  {array} result An array of integers, referencing the queried triangles.\n */\nTrimesh.prototype.getTrianglesInAABB = function(aabb, result){\n    unscaledAABB.copy(aabb);\n\n    // Scale it to local\n    var scale = this.scale;\n    var isx = scale.x;\n    var isy = scale.y;\n    var isz = scale.z;\n    var l = unscaledAABB.lowerBound;\n    var u = unscaledAABB.upperBound;\n    l.x /= isx;\n    l.y /= isy;\n    l.z /= isz;\n    u.x /= isx;\n    u.y /= isy;\n    u.z /= isz;\n\n    return this.tree.aabbQuery(unscaledAABB, result);\n};\n\n/**\n * @method setScale\n * @param {Vec3} scale\n */\nTrimesh.prototype.setScale = function(scale){\n    var wasUniform = this.scale.x === this.scale.y === this.scale.z;\n    var isUniform = scale.x === scale.y === scale.z;\n\n    if(!(wasUniform && isUniform)){\n        // Non-uniform scaling. Need to update normals.\n        this.updateNormals();\n    }\n    this.scale.copy(scale);\n    this.updateAABB();\n    this.updateBoundingSphereRadius();\n};\n\n/**\n * Compute the normals of the faces. Will save in the .normals array.\n * @method updateNormals\n */\nTrimesh.prototype.updateNormals = function(){\n    var n = computeNormals_n;\n\n    // Generate normals\n    var normals = this.normals;\n    for(var i=0; i < this.indices.length / 3; i++){\n        var i3 = i * 3;\n\n        var a = this.indices[i3],\n            b = this.indices[i3 + 1],\n            c = this.indices[i3 + 2];\n\n        this.getVertex(a, va);\n        this.getVertex(b, vb);\n        this.getVertex(c, vc);\n\n        Trimesh.computeNormal(vb, va, vc, n);\n\n        normals[i3] = n.x;\n        normals[i3 + 1] = n.y;\n        normals[i3 + 2] = n.z;\n    }\n};\n\n/**\n * Update the .edges property\n * @method updateEdges\n */\nTrimesh.prototype.updateEdges = function(){\n    var edges = {};\n    var add = function(indexA, indexB){\n        var key = a < b ? a + '_' + b : b + '_' + a;\n        edges[key] = true;\n    };\n    for(var i=0; i < this.indices.length / 3; i++){\n        var i3 = i * 3;\n        var a = this.indices[i3],\n            b = this.indices[i3 + 1],\n            c = this.indices[i3 + 2];\n        add(a,b);\n        add(b,c);\n        add(c,a);\n    }\n    var keys = Object.keys(edges);\n    this.edges = new Int16Array(keys.length * 2);\n    for (var i = 0; i < keys.length; i++) {\n        var indices = keys[i].split('_');\n        this.edges[2 * i] = parseInt(indices[0], 10);\n        this.edges[2 * i + 1] = parseInt(indices[1], 10);\n    }\n};\n\n/**\n * Get an edge vertex\n * @method getEdgeVertex\n * @param  {number} edgeIndex\n * @param  {number} firstOrSecond 0 or 1, depending on which one of the vertices you need.\n * @param  {Vec3} vertexStore Where to store the result\n */\nTrimesh.prototype.getEdgeVertex = function(edgeIndex, firstOrSecond, vertexStore){\n    var vertexIndex = this.edges[edgeIndex * 2 + (firstOrSecond ? 1 : 0)];\n    this.getVertex(vertexIndex, vertexStore);\n};\n\nvar getEdgeVector_va = new Vec3();\nvar getEdgeVector_vb = new Vec3();\n\n/**\n * Get a vector along an edge.\n * @method getEdgeVector\n * @param  {number} edgeIndex\n * @param  {Vec3} vectorStore\n */\nTrimesh.prototype.getEdgeVector = function(edgeIndex, vectorStore){\n    var va = getEdgeVector_va;\n    var vb = getEdgeVector_vb;\n    this.getEdgeVertex(edgeIndex, 0, va);\n    this.getEdgeVertex(edgeIndex, 1, vb);\n    vb.vsub(va, vectorStore);\n};\n\n/**\n * Get face normal given 3 vertices\n * @static\n * @method computeNormal\n * @param {Vec3} va\n * @param {Vec3} vb\n * @param {Vec3} vc\n * @param {Vec3} target\n */\nvar cb = new Vec3();\nvar ab = new Vec3();\nTrimesh.computeNormal = function ( va, vb, vc, target ) {\n    vb.vsub(va,ab);\n    vc.vsub(vb,cb);\n    cb.cross(ab,target);\n    if ( !target.isZero() ) {\n        target.normalize();\n    }\n};\n\nvar va = new Vec3();\nvar vb = new Vec3();\nvar vc = new Vec3();\n\n/**\n * Get vertex i.\n * @method getVertex\n * @param  {number} i\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype.getVertex = function(i, out){\n    var scale = this.scale;\n    this._getUnscaledVertex(i, out);\n    out.x *= scale.x;\n    out.y *= scale.y;\n    out.z *= scale.z;\n    return out;\n};\n\n/**\n * Get raw vertex i\n * @private\n * @method _getUnscaledVertex\n * @param  {number} i\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype._getUnscaledVertex = function(i, out){\n    var i3 = i * 3;\n    var vertices = this.vertices;\n    return out.set(\n        vertices[i3],\n        vertices[i3 + 1],\n        vertices[i3 + 2]\n    );\n};\n\n/**\n * Get a vertex from the trimesh,transformed by the given position and quaternion.\n * @method getWorldVertex\n * @param  {number} i\n * @param  {Vec3} pos\n * @param  {Quaternion} quat\n * @param  {Vec3} out\n * @return {Vec3} The \"out\" vector object\n */\nTrimesh.prototype.getWorldVertex = function(i, pos, quat, out){\n    this.getVertex(i, out);\n    Transform.pointToWorldFrame(pos, quat, out, out);\n    return out;\n};\n\n/**\n * Get the three vertices for triangle i.\n * @method getTriangleVertices\n * @param  {number} i\n * @param  {Vec3} a\n * @param  {Vec3} b\n * @param  {Vec3} c\n */\nTrimesh.prototype.getTriangleVertices = function(i, a, b, c){\n    var i3 = i * 3;\n    this.getVertex(this.indices[i3], a);\n    this.getVertex(this.indices[i3 + 1], b);\n    this.getVertex(this.indices[i3 + 2], c);\n};\n\n/**\n * Compute the normal of triangle i.\n * @method getNormal\n * @param  {Number} i\n * @param  {Vec3} target\n * @return {Vec3} The \"target\" vector object\n */\nTrimesh.prototype.getNormal = function(i, target){\n    var i3 = i * 3;\n    return target.set(\n        this.normals[i3],\n        this.normals[i3 + 1],\n        this.normals[i3 + 2]\n    );\n};\n\nvar cli_aabb = new AABB();\n\n/**\n * @method calculateLocalInertia\n * @param  {Number} mass\n * @param  {Vec3} target\n * @return {Vec3} The \"target\" vector object\n */\nTrimesh.prototype.calculateLocalInertia = function(mass,target){\n    // Approximate with box inertia\n    // Exact inertia calculation is overkill, but see http://geometrictools.com/Documentation/PolyhedralMassProperties.pdf for the correct way to do it\n    this.computeLocalAABB(cli_aabb);\n    var x = cli_aabb.upperBound.x - cli_aabb.lowerBound.x,\n        y = cli_aabb.upperBound.y - cli_aabb.lowerBound.y,\n        z = cli_aabb.upperBound.z - cli_aabb.lowerBound.z;\n    return target.set(\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*z*2*z ),\n        1.0 / 12.0 * mass * ( 2*x*2*x + 2*z*2*z ),\n        1.0 / 12.0 * mass * ( 2*y*2*y + 2*x*2*x )\n    );\n};\n\nvar computeLocalAABB_worldVert = new Vec3();\n\n/**\n * Compute the local AABB for the trimesh\n * @method computeLocalAABB\n * @param  {AABB} aabb\n */\nTrimesh.prototype.computeLocalAABB = function(aabb){\n    var l = aabb.lowerBound,\n        u = aabb.upperBound,\n        n = this.vertices.length,\n        vertices = this.vertices,\n        v = computeLocalAABB_worldVert;\n\n    this.getVertex(0, v);\n    l.copy(v);\n    u.copy(v);\n\n    for(var i=0; i !== n; i++){\n        this.getVertex(i, v);\n\n        if(v.x < l.x){\n            l.x = v.x;\n        } else if(v.x > u.x){\n            u.x = v.x;\n        }\n\n        if(v.y < l.y){\n            l.y = v.y;\n        } else if(v.y > u.y){\n            u.y = v.y;\n        }\n\n        if(v.z < l.z){\n            l.z = v.z;\n        } else if(v.z > u.z){\n            u.z = v.z;\n        }\n    }\n};\n\n\n/**\n * Update the .aabb property\n * @method updateAABB\n */\nTrimesh.prototype.updateAABB = function(){\n    this.computeLocalAABB(this.aabb);\n};\n\n/**\n * Will update the .boundingSphereRadius property\n * @method updateBoundingSphereRadius\n */\nTrimesh.prototype.updateBoundingSphereRadius = function(){\n    // Assume points are distributed with local (0,0,0) as center\n    var max2 = 0;\n    var vertices = this.vertices;\n    var v = new Vec3();\n    for(var i=0, N=vertices.length / 3; i !== N; i++) {\n        this.getVertex(i, v);\n        var norm2 = v.norm2();\n        if(norm2 > max2){\n            max2 = norm2;\n        }\n    }\n    this.boundingSphereRadius = Math.sqrt(max2);\n};\n\nvar tempWorldVertex = new Vec3();\nvar calculateWorldAABB_frame = new Transform();\nvar calculateWorldAABB_aabb = new AABB();\n\n/**\n * @method calculateWorldAABB\n * @param {Vec3}        pos\n * @param {Quaternion}  quat\n * @param {Vec3}        min\n * @param {Vec3}        max\n */\nTrimesh.prototype.calculateWorldAABB = function(pos,quat,min,max){\n    /*\n    var n = this.vertices.length / 3,\n        verts = this.vertices;\n    var minx,miny,minz,maxx,maxy,maxz;\n\n    var v = tempWorldVertex;\n    for(var i=0; i<n; i++){\n        this.getVertex(i, v);\n        quat.vmult(v, v);\n        pos.vadd(v, v);\n        if (v.x < minx || minx===undefined){\n            minx = v.x;\n        } else if(v.x > maxx || maxx===undefined){\n            maxx = v.x;\n        }\n\n        if (v.y < miny || miny===undefined){\n            miny = v.y;\n        } else if(v.y > maxy || maxy===undefined){\n            maxy = v.y;\n        }\n\n        if (v.z < minz || minz===undefined){\n            minz = v.z;\n        } else if(v.z > maxz || maxz===undefined){\n            maxz = v.z;\n        }\n    }\n    min.set(minx,miny,minz);\n    max.set(maxx,maxy,maxz);\n    */\n\n    // Faster approximation using local AABB\n    var frame = calculateWorldAABB_frame;\n    var result = calculateWorldAABB_aabb;\n    frame.position = pos;\n    frame.quaternion = quat;\n    this.aabb.toWorldFrame(frame, result);\n    min.copy(result.lowerBound);\n    max.copy(result.upperBound);\n};\n\n/**\n * Get approximate volume\n * @method volume\n * @return {Number}\n */\nTrimesh.prototype.volume = function(){\n    return 4.0 * Math.PI * this.boundingSphereRadius / 3.0;\n};\n\n/**\n * Create a Trimesh instance, shaped as a torus.\n * @static\n * @method createTorus\n * @param  {number} [radius=1]\n * @param  {number} [tube=0.5]\n * @param  {number} [radialSegments=8]\n * @param  {number} [tubularSegments=6]\n * @param  {number} [arc=6.283185307179586]\n * @return {Trimesh} A torus\n */\nTrimesh.createTorus = function (radius, tube, radialSegments, tubularSegments, arc) {\n    radius = radius || 1;\n    tube = tube || 0.5;\n    radialSegments = radialSegments || 8;\n    tubularSegments = tubularSegments || 6;\n    arc = arc || Math.PI * 2;\n\n    var vertices = [];\n    var indices = [];\n\n    for ( var j = 0; j <= radialSegments; j ++ ) {\n        for ( var i = 0; i <= tubularSegments; i ++ ) {\n            var u = i / tubularSegments * arc;\n            var v = j / radialSegments * Math.PI * 2;\n\n            var x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n            var y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n            var z = tube * Math.sin( v );\n\n            vertices.push( x, y, z );\n        }\n    }\n\n    for ( var j = 1; j <= radialSegments; j ++ ) {\n        for ( var i = 1; i <= tubularSegments; i ++ ) {\n            var a = ( tubularSegments + 1 ) * j + i - 1;\n            var b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n            var c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n            var d = ( tubularSegments + 1 ) * j + i;\n\n            indices.push(a, b, d);\n            indices.push(b, c, d);\n        }\n    }\n\n    return new Trimesh(vertices, indices);\n};\n\n},{\"../collision/AABB\":3,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../utils/Octree\":50,\"./Shape\":43}],46:[function(_dereq_,module,exports){\nmodule.exports = GSSolver;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('./Solver');\n\n/**\n * Constraint equation Gauss-Seidel solver.\n * @class GSSolver\n * @constructor\n * @todo The spook parameters should be specified for each constraint, not globally.\n * @author schteppe / https://github.com/schteppe\n * @see https://www8.cs.umu.se/kurser/5DV058/VT09/lectures/spooknotes.pdf\n * @extends Solver\n */\nfunction GSSolver(){\n    Solver.call(this);\n\n    /**\n     * The number of solver iterations determines quality of the constraints in the world. The more iterations, the more correct simulation. More iterations need more computations though. If you have a large gravity force in your world, you will need more iterations.\n     * @property iterations\n     * @type {Number}\n     * @todo write more about solver and iterations in the wiki\n     */\n    this.iterations = 10;\n\n    /**\n     * When tolerance is reached, the system is assumed to be converged.\n     * @property tolerance\n     * @type {Number}\n     */\n    this.tolerance = 1e-7;\n}\nGSSolver.prototype = new Solver();\n\nvar GSSolver_solve_lambda = []; // Just temporary number holders that we want to reuse each solve.\nvar GSSolver_solve_invCs = [];\nvar GSSolver_solve_Bs = [];\nGSSolver.prototype.solve = function(dt,world){\n    var iter = 0,\n        maxIter = this.iterations,\n        tolSquared = this.tolerance*this.tolerance,\n        equations = this.equations,\n        Neq = equations.length,\n        bodies = world.bodies,\n        Nbodies = bodies.length,\n        h = dt,\n        q, B, invC, deltalambda, deltalambdaTot, GWlambda, lambdaj;\n\n    // Update solve mass\n    if(Neq !== 0){\n        for(var i=0; i!==Nbodies; i++){\n            bodies[i].updateSolveMassProperties();\n        }\n    }\n\n    // Things that does not change during iteration can be computed once\n    var invCs = GSSolver_solve_invCs,\n        Bs = GSSolver_solve_Bs,\n        lambda = GSSolver_solve_lambda;\n    invCs.length = Neq;\n    Bs.length = Neq;\n    lambda.length = Neq;\n    for(var i=0; i!==Neq; i++){\n        var c = equations[i];\n        lambda[i] = 0.0;\n        Bs[i] = c.computeB(h);\n        invCs[i] = 1.0 / c.computeC();\n    }\n\n    if(Neq !== 0){\n\n        // Reset vlambda\n        for(var i=0; i!==Nbodies; i++){\n            var b=bodies[i],\n                vlambda=b.vlambda,\n                wlambda=b.wlambda;\n            vlambda.set(0,0,0);\n            if(wlambda){\n                wlambda.set(0,0,0);\n            }\n        }\n\n        // Iterate over equations\n        for(iter=0; iter!==maxIter; iter++){\n\n            // Accumulate the total error for each iteration.\n            deltalambdaTot = 0.0;\n\n            for(var j=0; j!==Neq; j++){\n\n                var c = equations[j];\n\n                // Compute iteration\n                B = Bs[j];\n                invC = invCs[j];\n                lambdaj = lambda[j];\n                GWlambda = c.computeGWlambda();\n                deltalambda = invC * ( B - GWlambda - c.eps * lambdaj );\n\n                // Clamp if we are not within the min/max interval\n                if(lambdaj + deltalambda < c.minForce){\n                    deltalambda = c.minForce - lambdaj;\n                } else if(lambdaj + deltalambda > c.maxForce){\n                    deltalambda = c.maxForce - lambdaj;\n                }\n                lambda[j] += deltalambda;\n\n                deltalambdaTot += deltalambda > 0.0 ? deltalambda : -deltalambda; // abs(deltalambda)\n\n                c.addToWlambda(deltalambda);\n            }\n\n            // If the total error is small enough - stop iterate\n            if(deltalambdaTot*deltalambdaTot < tolSquared){\n                break;\n            }\n        }\n\n        // Add result to velocity\n        for(var i=0; i!==Nbodies; i++){\n            var b=bodies[i],\n                v=b.velocity,\n                w=b.angularVelocity;\n            v.vadd(b.vlambda, v);\n            if(w){\n                w.vadd(b.wlambda, w);\n            }\n        }\n    }\n\n    return iter;\n};\n\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"./Solver\":47}],47:[function(_dereq_,module,exports){\nmodule.exports = Solver;\n\n/**\n * Constraint equation solver base class.\n * @class Solver\n * @constructor\n * @author schteppe / https://github.com/schteppe\n */\nfunction Solver(){\n    /**\n     * All equations to be solved\n     * @property {Array} equations\n     */\n    this.equations = [];\n}\n\n/**\n * Should be implemented in subclasses!\n * @method solve\n * @param  {Number} dt\n * @param  {World} world\n */\nSolver.prototype.solve = function(dt,world){\n    // Should return the number of iterations done!\n    return 0;\n};\n\n/**\n * Add an equation\n * @method addEquation\n * @param {Equation} eq\n */\nSolver.prototype.addEquation = function(eq){\n    if (eq.enabled) {\n        this.equations.push(eq);\n    }\n};\n\n/**\n * Remove an equation\n * @method removeEquation\n * @param {Equation} eq\n */\nSolver.prototype.removeEquation = function(eq){\n    var eqs = this.equations;\n    var i = eqs.indexOf(eq);\n    if(i !== -1){\n        eqs.splice(i,1);\n    }\n};\n\n/**\n * Add all equations\n * @method removeAllEquations\n */\nSolver.prototype.removeAllEquations = function(){\n    this.equations.length = 0;\n};\n\n\n},{}],48:[function(_dereq_,module,exports){\nmodule.exports = SplitSolver;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('./Solver');\nvar Body = _dereq_('../objects/Body');\n\n/**\n * Splits the equations into islands and solves them independently. Can improve performance.\n * @class SplitSolver\n * @constructor\n * @extends Solver\n * @param {Solver} subsolver\n */\nfunction SplitSolver(subsolver){\n    Solver.call(this);\n    this.iterations = 10;\n    this.tolerance = 1e-7;\n    this.subsolver = subsolver;\n    this.nodes = [];\n    this.nodePool = [];\n\n    // Create needed nodes, reuse if possible\n    while(this.nodePool.length < 128){\n        this.nodePool.push(this.createNode());\n    }\n}\nSplitSolver.prototype = new Solver();\n\n// Returns the number of subsystems\nvar SplitSolver_solve_nodes = []; // All allocated node objects\nvar SplitSolver_solve_nodePool = []; // All allocated node objects\nvar SplitSolver_solve_eqs = [];   // Temp array\nvar SplitSolver_solve_bds = [];   // Temp array\nvar SplitSolver_solve_dummyWorld = {bodies:[]}; // Temp object\n\nvar STATIC = Body.STATIC;\nfunction getUnvisitedNode(nodes){\n    var Nnodes = nodes.length;\n    for(var i=0; i!==Nnodes; i++){\n        var node = nodes[i];\n        if(!node.visited && !(node.body.type & STATIC)){\n            return node;\n        }\n    }\n    return false;\n}\n\nvar queue = [];\nfunction bfs(root,visitFunc,bds,eqs){\n    queue.push(root);\n    root.visited = true;\n    visitFunc(root,bds,eqs);\n    while(queue.length) {\n        var node = queue.pop();\n        // Loop over unvisited child nodes\n        var child;\n        while((child = getUnvisitedNode(node.children))) {\n            child.visited = true;\n            visitFunc(child,bds,eqs);\n            queue.push(child);\n        }\n    }\n}\n\nfunction visitFunc(node,bds,eqs){\n    bds.push(node.body);\n    var Neqs = node.eqs.length;\n    for(var i=0; i!==Neqs; i++){\n        var eq = node.eqs[i];\n        if(eqs.indexOf(eq) === -1){\n            eqs.push(eq);\n        }\n    }\n}\n\nSplitSolver.prototype.createNode = function(){\n    return { body:null, children:[], eqs:[], visited:false };\n};\n\n/**\n * Solve the subsystems\n * @method solve\n * @param  {Number} dt\n * @param  {World} world\n */\nSplitSolver.prototype.solve = function(dt,world){\n    var nodes=SplitSolver_solve_nodes,\n        nodePool=this.nodePool,\n        bodies=world.bodies,\n        equations=this.equations,\n        Neq=equations.length,\n        Nbodies=bodies.length,\n        subsolver=this.subsolver;\n\n    // Create needed nodes, reuse if possible\n    while(nodePool.length < Nbodies){\n        nodePool.push(this.createNode());\n    }\n    nodes.length = Nbodies;\n    for (var i = 0; i < Nbodies; i++) {\n        nodes[i] = nodePool[i];\n    }\n\n    // Reset node values\n    for(var i=0; i!==Nbodies; i++){\n        var node = nodes[i];\n        node.body = bodies[i];\n        node.children.length = 0;\n        node.eqs.length = 0;\n        node.visited = false;\n    }\n    for(var k=0; k!==Neq; k++){\n        var eq=equations[k],\n            i=bodies.indexOf(eq.bi),\n            j=bodies.indexOf(eq.bj),\n            ni=nodes[i],\n            nj=nodes[j];\n        ni.children.push(nj);\n        ni.eqs.push(eq);\n        nj.children.push(ni);\n        nj.eqs.push(eq);\n    }\n\n    var child, n=0, eqs=SplitSolver_solve_eqs;\n\n    subsolver.tolerance = this.tolerance;\n    subsolver.iterations = this.iterations;\n\n    var dummyWorld = SplitSolver_solve_dummyWorld;\n    while((child = getUnvisitedNode(nodes))){\n        eqs.length = 0;\n        dummyWorld.bodies.length = 0;\n        bfs(child, visitFunc, dummyWorld.bodies, eqs);\n\n        var Neqs = eqs.length;\n\n        eqs = eqs.sort(sortById);\n\n        for(var i=0; i!==Neqs; i++){\n            subsolver.addEquation(eqs[i]);\n        }\n\n        var iter = subsolver.solve(dt,dummyWorld);\n        subsolver.removeAllEquations();\n        n++;\n    }\n\n    return n;\n};\n\nfunction sortById(a, b){\n    return b.id - a.id;\n}\n},{\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"./Solver\":47}],49:[function(_dereq_,module,exports){\n/**\n * Base class for objects that dispatches events.\n * @class EventTarget\n * @constructor\n */\nvar EventTarget = function () {\n\n};\n\nmodule.exports = EventTarget;\n\nEventTarget.prototype = {\n    constructor: EventTarget,\n\n    /**\n     * Add an event listener\n     * @method addEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {EventTarget} The self object, for chainability.\n     */\n    addEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ this._listeners = {}; }\n        var listeners = this._listeners;\n        if ( listeners[ type ] === undefined ) {\n            listeners[ type ] = [];\n        }\n        if ( listeners[ type ].indexOf( listener ) === - 1 ) {\n            listeners[ type ].push( listener );\n        }\n        return this;\n    },\n\n    /**\n     * Check if an event listener is added\n     * @method hasEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {Boolean}\n     */\n    hasEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ return false; }\n        var listeners = this._listeners;\n        if ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\n            return true;\n        }\n        return false;\n    },\n\n    /**\n     * Remove an event listener\n     * @method removeEventListener\n     * @param  {String} type\n     * @param  {Function} listener\n     * @return {EventTarget} The self object, for chainability.\n     */\n    removeEventListener: function ( type, listener ) {\n        if ( this._listeners === undefined ){ return this; }\n        var listeners = this._listeners;\n        if ( listeners[type] === undefined ){ return this; }\n        var index = listeners[ type ].indexOf( listener );\n        if ( index !== - 1 ) {\n            listeners[ type ].splice( index, 1 );\n        }\n        return this;\n    },\n\n    /**\n     * Emit an event.\n     * @method dispatchEvent\n     * @param  {Object} event\n     * @param  {String} event.type\n     * @return {EventTarget} The self object, for chainability.\n     */\n    dispatchEvent: function ( event ) {\n        if ( this._listeners === undefined ){ return this; }\n        var listeners = this._listeners;\n        var listenerArray = listeners[ event.type ];\n        if ( listenerArray !== undefined ) {\n            event.target = this;\n            for ( var i = 0, l = listenerArray.length; i < l; i ++ ) {\n                listenerArray[ i ].call( this, event );\n            }\n        }\n        return this;\n    }\n};\n\n},{}],50:[function(_dereq_,module,exports){\nvar AABB = _dereq_('../collision/AABB');\nvar Vec3 = _dereq_('../math/Vec3');\n\nmodule.exports = Octree;\n\n/**\n * @class OctreeNode\n * @param {object} [options]\n * @param {Octree} [options.root]\n * @param {AABB} [options.aabb]\n */\nfunction OctreeNode(options){\n    options = options || {};\n\n    /**\n     * The root node\n     * @property {OctreeNode} root\n     */\n    this.root = options.root || null;\n\n    /**\n     * Boundary of this node\n     * @property {AABB} aabb\n     */\n    this.aabb = options.aabb ? options.aabb.clone() : new AABB();\n\n    /**\n     * Contained data at the current node level.\n     * @property {Array} data\n     */\n    this.data = [];\n\n    /**\n     * Children to this node\n     * @property {Array} children\n     */\n    this.children = [];\n}\n\n/**\n * @class Octree\n * @param {AABB} aabb The total AABB of the tree\n * @param {object} [options]\n * @param {number} [options.maxDepth=8]\n * @extends OctreeNode\n */\nfunction Octree(aabb, options){\n    options = options || {};\n    options.root = null;\n    options.aabb = aabb;\n    OctreeNode.call(this, options);\n\n    /**\n     * Maximum subdivision depth\n     * @property {number} maxDepth\n     */\n    this.maxDepth = typeof(options.maxDepth) !== 'undefined' ? options.maxDepth : 8;\n}\nOctree.prototype = new OctreeNode();\n\nOctreeNode.prototype.reset = function(aabb, options){\n    this.children.length = this.data.length = 0;\n};\n\n/**\n * Insert data into this node\n * @method insert\n * @param  {AABB} aabb\n * @param  {object} elementData\n * @return {boolean} True if successful, otherwise false\n */\nOctreeNode.prototype.insert = function(aabb, elementData, level){\n    var nodeData = this.data;\n    level = level || 0;\n\n    // Ignore objects that do not belong in this node\n    if (!this.aabb.contains(aabb)){\n        return false; // object cannot be added\n    }\n\n    var children = this.children;\n\n    if(level < (this.maxDepth || this.root.maxDepth)){\n        // Subdivide if there are no children yet\n        var subdivided = false;\n        if (!children.length){\n            this.subdivide();\n            subdivided = true;\n        }\n\n        // add to whichever node will accept it\n        for (var i = 0; i !== 8; i++) {\n            if (children[i].insert(aabb, elementData, level + 1)){\n                return true;\n            }\n        }\n\n        if(subdivided){\n            // No children accepted! Might as well just remove em since they contain none\n            children.length = 0;\n        }\n    }\n\n    // Too deep, or children didnt want it. add it in current node\n    nodeData.push(elementData);\n\n    return true;\n};\n\nvar halfDiagonal = new Vec3();\n\n/**\n * Create 8 equally sized children nodes and put them in the .children array.\n * @method subdivide\n */\nOctreeNode.prototype.subdivide = function() {\n    var aabb = this.aabb;\n    var l = aabb.lowerBound;\n    var u = aabb.upperBound;\n\n    var children = this.children;\n\n    children.push(\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,0) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,1,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,0,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(1,0,1) }) }),\n        new OctreeNode({ aabb: new AABB({ lowerBound: new Vec3(0,1,0) }) })\n    );\n\n    u.vsub(l, halfDiagonal);\n    halfDiagonal.scale(0.5, halfDiagonal);\n\n    var root = this.root || this;\n\n    for (var i = 0; i !== 8; i++) {\n        var child = children[i];\n\n        // Set current node as root\n        child.root = root;\n\n        // Compute bounds\n        var lowerBound = child.aabb.lowerBound;\n        lowerBound.x *= halfDiagonal.x;\n        lowerBound.y *= halfDiagonal.y;\n        lowerBound.z *= halfDiagonal.z;\n\n        lowerBound.vadd(l, lowerBound);\n\n        // Upper bound is always lower bound + halfDiagonal\n        lowerBound.vadd(halfDiagonal, child.aabb.upperBound);\n    }\n};\n\n/**\n * Get all data, potentially within an AABB\n * @method aabbQuery\n * @param  {AABB} aabb\n * @param  {array} result\n * @return {array} The \"result\" object\n */\nOctreeNode.prototype.aabbQuery = function(aabb, result) {\n\n    var nodeData = this.data;\n\n    // abort if the range does not intersect this node\n    // if (!this.aabb.overlaps(aabb)){\n    //     return result;\n    // }\n\n    // Add objects at this level\n    // Array.prototype.push.apply(result, nodeData);\n\n    // Add child data\n    // @todo unwrap recursion into a queue / loop, that's faster in JS\n    var children = this.children;\n\n\n    // for (var i = 0, N = this.children.length; i !== N; i++) {\n    //     children[i].aabbQuery(aabb, result);\n    // }\n\n    var queue = [this];\n    while (queue.length) {\n        var node = queue.pop();\n        if (node.aabb.overlaps(aabb)){\n            Array.prototype.push.apply(result, node.data);\n        }\n        Array.prototype.push.apply(queue, node.children);\n    }\n\n    return result;\n};\n\nvar tmpAABB = new AABB();\n\n/**\n * Get all data, potentially intersected by a ray.\n * @method rayQuery\n * @param  {Ray} ray\n * @param  {Transform} treeTransform\n * @param  {array} result\n * @return {array} The \"result\" object\n */\nOctreeNode.prototype.rayQuery = function(ray, treeTransform, result) {\n\n    // Use aabb query for now.\n    // @todo implement real ray query which needs less lookups\n    ray.getAABB(tmpAABB);\n    tmpAABB.toLocalFrame(treeTransform, tmpAABB);\n    this.aabbQuery(tmpAABB, result);\n\n    return result;\n};\n\n/**\n * @method removeEmptyNodes\n */\nOctreeNode.prototype.removeEmptyNodes = function() {\n    var queue = [this];\n    while (queue.length) {\n        var node = queue.pop();\n        for (var i = node.children.length - 1; i >= 0; i--) {\n            if(!node.children[i].data.length){\n                node.children.splice(i, 1);\n            }\n        }\n        Array.prototype.push.apply(queue, node.children);\n    }\n};\n\n},{\"../collision/AABB\":3,\"../math/Vec3\":30}],51:[function(_dereq_,module,exports){\nmodule.exports = Pool;\n\n/**\n * For pooling objects that can be reused.\n * @class Pool\n * @constructor\n */\nfunction Pool(){\n    /**\n     * The pooled objects\n     * @property {Array} objects\n     */\n    this.objects = [];\n\n    /**\n     * Constructor of the objects\n     * @property {mixed} type\n     */\n    this.type = Object;\n}\n\n/**\n * Release an object after use\n * @method release\n * @param {Object} obj\n */\nPool.prototype.release = function(){\n    var Nargs = arguments.length;\n    for(var i=0; i!==Nargs; i++){\n        this.objects.push(arguments[i]);\n    }\n};\n\n/**\n * Get an object\n * @method get\n * @return {mixed}\n */\nPool.prototype.get = function(){\n    if(this.objects.length===0){\n        return this.constructObject();\n    } else {\n        return this.objects.pop();\n    }\n};\n\n/**\n * Construct an object. Should be implmented in each subclass.\n * @method constructObject\n * @return {mixed}\n */\nPool.prototype.constructObject = function(){\n    throw new Error(\"constructObject() not implemented in this Pool subclass yet!\");\n};\n\n},{}],52:[function(_dereq_,module,exports){\nmodule.exports = TupleDictionary;\n\n/**\n * @class TupleDictionary\n * @constructor\n */\nfunction TupleDictionary() {\n\n    /**\n     * The data storage\n     * @property data\n     * @type {Object}\n     */\n    this.data = { keys:[] };\n}\n\n/**\n * @method get\n * @param  {Number} i\n * @param  {Number} j\n * @return {Number}\n */\nTupleDictionary.prototype.get = function(i, j) {\n    if (i > j) {\n        // swap\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n    return this.data[i+'-'+j];\n};\n\n/**\n * @method set\n * @param  {Number} i\n * @param  {Number} j\n * @param {Number} value\n */\nTupleDictionary.prototype.set = function(i, j, value) {\n    if (i > j) {\n        var temp = j;\n        j = i;\n        i = temp;\n    }\n    var key = i+'-'+j;\n\n    // Check if key already exists\n    if(!this.get(i,j)){\n        this.data.keys.push(key);\n    }\n\n    this.data[key] = value;\n};\n\n/**\n * @method reset\n */\nTupleDictionary.prototype.reset = function() {\n    var data = this.data,\n        keys = data.keys;\n    while(keys.length > 0){\n        var key = keys.pop();\n        delete data[key];\n    }\n};\n\n},{}],53:[function(_dereq_,module,exports){\nfunction Utils(){}\n\nmodule.exports = Utils;\n\n/**\n * Extend an options object with default values.\n * @static\n * @method defaults\n * @param  {object} options The options object. May be falsy: in this case, a new object is created and returned.\n * @param  {object} defaults An object containing default values.\n * @return {object} The modified options object.\n */\nUtils.defaults = function(options, defaults){\n    options = options || {};\n\n    for(var key in defaults){\n        if(!(key in options)){\n            options[key] = defaults[key];\n        }\n    }\n\n    return options;\n};\n\n},{}],54:[function(_dereq_,module,exports){\nmodule.exports = Vec3Pool;\n\nvar Vec3 = _dereq_('../math/Vec3');\nvar Pool = _dereq_('./Pool');\n\n/**\n * @class Vec3Pool\n * @constructor\n * @extends Pool\n */\nfunction Vec3Pool(){\n    Pool.call(this);\n    this.type = Vec3;\n}\nVec3Pool.prototype = new Pool();\n\n/**\n * Construct a vector\n * @method constructObject\n * @return {Vec3}\n */\nVec3Pool.prototype.constructObject = function(){\n    return new Vec3();\n};\n\n},{\"../math/Vec3\":30,\"./Pool\":51}],55:[function(_dereq_,module,exports){\nmodule.exports = Narrowphase;\n\nvar AABB = _dereq_('../collision/AABB');\nvar Shape = _dereq_('../shapes/Shape');\nvar Ray = _dereq_('../collision/Ray');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Transform = _dereq_('../math/Transform');\nvar ConvexPolyhedron = _dereq_('../shapes/ConvexPolyhedron');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar Solver = _dereq_('../solver/Solver');\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\n\n/**\n * Helper class for the World. Generates ContactEquations.\n * @class Narrowphase\n * @constructor\n * @todo Sphere-ConvexPolyhedron contacts\n * @todo Contact reduction\n * @todo  should move methods to prototype\n */\nfunction Narrowphase(world){\n\n    /**\n     * Internal storage of pooled contact points.\n     * @property {Array} contactPointPool\n     */\n    this.contactPointPool = [];\n\n    this.frictionEquationPool = [];\n\n    this.result = [];\n    this.frictionResult = [];\n\n    /**\n     * Pooled vectors.\n     * @property {Vec3Pool} v3pool\n     */\n    this.v3pool = new Vec3Pool();\n\n    this.world = world;\n    this.currentContactMaterial = null;\n\n    /**\n     * @property {Boolean} enableFrictionReduction\n     */\n    this.enableFrictionReduction = false;\n}\n\n/**\n * Make a contact object, by using the internal pool or creating a new one.\n * @method createContactEquation\n * @return {ContactEquation}\n */\nNarrowphase.prototype.createContactEquation = function(bi, bj, si, sj, rsi, rsj){\n    var c;\n    if(this.contactPointPool.length){\n        c = this.contactPointPool.pop();\n        c.bi = bi;\n        c.bj = bj;\n    } else {\n        c = new ContactEquation(bi, bj);\n    }\n\n    c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\n\n    var cm = this.currentContactMaterial;\n\n    c.restitution = cm.restitution;\n\n    c.setSpookParams(\n        cm.contactEquationStiffness,\n        cm.contactEquationRelaxation,\n        this.world.dt\n    );\n\n    var matA = si.material || bi.material;\n    var matB = sj.material || bj.material;\n    if(matA && matB && matA.restitution >= 0 && matB.restitution >= 0){\n        c.restitution = matA.restitution * matB.restitution;\n    }\n\n    c.si = rsi || si;\n    c.sj = rsj || sj;\n\n    return c;\n};\n\nNarrowphase.prototype.createFrictionEquationsFromContact = function(contactEquation, outArray){\n    var bodyA = contactEquation.bi;\n    var bodyB = contactEquation.bj;\n    var shapeA = contactEquation.si;\n    var shapeB = contactEquation.sj;\n\n    var world = this.world;\n    var cm = this.currentContactMaterial;\n\n    // If friction or restitution were specified in the material, use them\n    var friction = cm.friction;\n    var matA = shapeA.material || bodyA.material;\n    var matB = shapeB.material || bodyB.material;\n    if(matA && matB && matA.friction >= 0 && matB.friction >= 0){\n        friction = matA.friction * matB.friction;\n    }\n\n    if(friction > 0){\n\n        // Create 2 tangent equations\n        var mug = friction * world.gravity.length();\n        var reducedMass = (bodyA.invMass + bodyB.invMass);\n        if(reducedMass > 0){\n            reducedMass = 1/reducedMass;\n        }\n        var pool = this.frictionEquationPool;\n        var c1 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\n        var c2 = pool.length ? pool.pop() : new FrictionEquation(bodyA,bodyB,mug*reducedMass);\n\n        c1.bi = c2.bi = bodyA;\n        c1.bj = c2.bj = bodyB;\n        c1.minForce = c2.minForce = -mug*reducedMass;\n        c1.maxForce = c2.maxForce = mug*reducedMass;\n\n        // Copy over the relative vectors\n        c1.ri.copy(contactEquation.ri);\n        c1.rj.copy(contactEquation.rj);\n        c2.ri.copy(contactEquation.ri);\n        c2.rj.copy(contactEquation.rj);\n\n        // Construct tangents\n        contactEquation.ni.tangents(c1.t, c2.t);\n\n        // Set spook params\n        c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\n        c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, world.dt);\n\n        c1.enabled = c2.enabled = contactEquation.enabled;\n\n        outArray.push(c1, c2);\n\n        return true;\n    }\n\n    return false;\n};\n\nvar averageNormal = new Vec3();\nvar averageContactPointA = new Vec3();\nvar averageContactPointB = new Vec3();\n\n// Take the average N latest contact point on the plane.\nNarrowphase.prototype.createFrictionFromAverage = function(numContacts){\n    // The last contactEquation\n    var c = this.result[this.result.length - 1];\n\n    // Create the result: two \"average\" friction equations\n    if (!this.createFrictionEquationsFromContact(c, this.frictionResult) || numContacts === 1) {\n        return;\n    }\n\n    var f1 = this.frictionResult[this.frictionResult.length - 2];\n    var f2 = this.frictionResult[this.frictionResult.length - 1];\n\n    averageNormal.setZero();\n    averageContactPointA.setZero();\n    averageContactPointB.setZero();\n\n    var bodyA = c.bi;\n    var bodyB = c.bj;\n    for(var i=0; i!==numContacts; i++){\n        c = this.result[this.result.length - 1 - i];\n        if(c.bodyA !== bodyA){\n            averageNormal.vadd(c.ni, averageNormal); // vec2.add(eq.t, eq.t, c.normalA);\n            averageContactPointA.vadd(c.ri, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\n            averageContactPointB.vadd(c.rj, averageContactPointB);\n        } else {\n            averageNormal.vsub(c.ni, averageNormal); // vec2.sub(eq.t, eq.t, c.normalA);\n            averageContactPointA.vadd(c.rj, averageContactPointA); // vec2.add(eq.contactPointA, eq.contactPointA, c.contactPointA);\n            averageContactPointB.vadd(c.ri, averageContactPointB);\n        }\n    }\n\n    var invNumContacts = 1 / numContacts;\n    averageContactPointA.scale(invNumContacts, f1.ri); // vec2.scale(eq.contactPointA, eq.contactPointA, invNumContacts);\n    averageContactPointB.scale(invNumContacts, f1.rj); // vec2.scale(eq.contactPointB, eq.contactPointB, invNumContacts);\n    f2.ri.copy(f1.ri); // Should be the same\n    f2.rj.copy(f1.rj);\n    averageNormal.normalize();\n    averageNormal.tangents(f1.t, f2.t);\n    // return eq;\n};\n\n\nvar tmpVec1 = new Vec3();\nvar tmpVec2 = new Vec3();\nvar tmpQuat1 = new Quaternion();\nvar tmpQuat2 = new Quaternion();\n\n/**\n * Generate all contacts between a list of body pairs\n * @method getContacts\n * @param {array} p1 Array of body indices\n * @param {array} p2 Array of body indices\n * @param {World} world\n * @param {array} result Array to store generated contacts\n * @param {array} oldcontacts Optional. Array of reusable contact objects\n */\nNarrowphase.prototype.getContacts = function(p1, p2, world, result, oldcontacts, frictionResult, frictionPool){\n    // Save old contact objects\n    this.contactPointPool = oldcontacts;\n    this.frictionEquationPool = frictionPool;\n    this.result = result;\n    this.frictionResult = frictionResult;\n\n    var qi = tmpQuat1;\n    var qj = tmpQuat2;\n    var xi = tmpVec1;\n    var xj = tmpVec2;\n\n    for(var k=0, N=p1.length; k!==N; k++){\n\n        // Get current collision bodies\n        var bi = p1[k],\n            bj = p2[k];\n\n        // Get contact material\n        var bodyContactMaterial = null;\n        if(bi.material && bj.material){\n            bodyContactMaterial = world.getContactMaterial(bi.material,bj.material) || null;\n        }\n\n        for (var i = 0; i < bi.shapes.length; i++) {\n            bi.quaternion.mult(bi.shapeOrientations[i], qi);\n            bi.quaternion.vmult(bi.shapeOffsets[i], xi);\n            xi.vadd(bi.position, xi);\n            var si = bi.shapes[i];\n\n            for (var j = 0; j < bj.shapes.length; j++) {\n\n                // Compute world transform of shapes\n                bj.quaternion.mult(bj.shapeOrientations[j], qj);\n                bj.quaternion.vmult(bj.shapeOffsets[j], xj);\n                xj.vadd(bj.position, xj);\n                var sj = bj.shapes[j];\n\n                if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n                    continue;\n                }\n\n                // Get collision material\n                var shapeContactMaterial = null;\n                if(si.material && sj.material){\n                    shapeContactMaterial = world.getContactMaterial(si.material,sj.material) || null;\n                }\n\n                this.currentContactMaterial = shapeContactMaterial || bodyContactMaterial || world.defaultContactMaterial;\n\n                // Get contacts\n                var resolver = this[si.type | sj.type];\n                if(resolver){\n                    if (si.type < sj.type) {\n                        resolver.call(this, si, sj, xi, xj, qi, qj, bi, bj, si, sj);\n                    } else {\n                        resolver.call(this, sj, si, xj, xi, qj, qi, bj, bi, si, sj);\n                    }\n                }\n            }\n        }\n    }\n};\n\nvar numWarnings = 0;\nvar maxWarnings = 10;\n\nfunction warn(msg){\n    if(numWarnings > maxWarnings){\n        return;\n    }\n\n    numWarnings++;\n\n    console.warn(msg);\n}\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.BOX] =\nNarrowphase.prototype.boxBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    sj.convexPolyhedronRepresentation.material = sj.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\n    this.convexConvex(si.convexPolyhedronRepresentation,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.boxConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexConvex(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.PARTICLE] =\nNarrowphase.prototype.boxParticle = function(si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexParticle(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj,si,sj);\n};\n\n/**\n * @method sphereSphere\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE] =\nNarrowphase.prototype.sphereSphere = function(si,sj,xi,xj,qi,qj,bi,bj){\n    // We will have only one contact in this case\n    var r = this.createContactEquation(bi,bj,si,sj);\n\n    // Contact normal\n    xj.vsub(xi, r.ni);\n    r.ni.normalize();\n\n    // Contact point locations\n    r.ri.copy(r.ni);\n    r.rj.copy(r.ni);\n    r.ri.mult(si.radius, r.ri);\n    r.rj.mult(-sj.radius, r.rj);\n\n    r.ri.vadd(xi, r.ri);\n    r.ri.vsub(bi.position, r.ri);\n\n    r.rj.vadd(xj, r.rj);\n    r.rj.vsub(bj.position, r.rj);\n\n    this.result.push(r);\n\n    this.createFrictionEquationsFromContact(r, this.frictionResult);\n};\n\n/**\n * @method planeTrimesh\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nvar planeTrimesh_normal = new Vec3();\nvar planeTrimesh_relpos = new Vec3();\nvar planeTrimesh_projected = new Vec3();\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.TRIMESH] =\nNarrowphase.prototype.planeTrimesh = function(\n    planeShape,\n    trimeshShape,\n    planePos,\n    trimeshPos,\n    planeQuat,\n    trimeshQuat,\n    planeBody,\n    trimeshBody\n){\n    // Make contacts!\n    var v = new Vec3();\n\n    var normal = planeTrimesh_normal;\n    normal.set(0,0,1);\n    planeQuat.vmult(normal,normal); // Turn normal according to plane\n\n    for(var i=0; i<trimeshShape.vertices.length / 3; i++){\n\n        // Get world vertex from trimesh\n        trimeshShape.getVertex(i, v);\n\n        // Safe up\n        var v2 = new Vec3();\n        v2.copy(v);\n        Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\n\n        // Check plane side\n        var relpos = planeTrimesh_relpos;\n        v.vsub(planePos, relpos);\n        var dot = normal.dot(relpos);\n\n        if(dot <= 0.0){\n            var r = this.createContactEquation(planeBody,trimeshBody,planeShape,trimeshShape);\n\n            r.ni.copy(normal); // Contact normal is the plane normal\n\n            // Get vertex position projected on plane\n            var projected = planeTrimesh_projected;\n            normal.scale(relpos.dot(normal), projected);\n            v.vsub(projected,projected);\n\n            // ri is the projected world position minus plane position\n            r.ri.copy(projected);\n            r.ri.vsub(planeBody.position, r.ri);\n\n            r.rj.copy(v);\n            r.rj.vsub(trimeshBody.position, r.rj);\n\n            // Store result\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        }\n    }\n};\n\n/**\n * @method sphereTrimesh\n * @param  {Shape}      sphereShape\n * @param  {Shape}      trimeshShape\n * @param  {Vec3}       spherePos\n * @param  {Vec3}       trimeshPos\n * @param  {Quaternion} sphereQuat\n * @param  {Quaternion} trimeshQuat\n * @param  {Body}       sphereBody\n * @param  {Body}       trimeshBody\n */\nvar sphereTrimesh_normal = new Vec3();\nvar sphereTrimesh_relpos = new Vec3();\nvar sphereTrimesh_projected = new Vec3();\nvar sphereTrimesh_v = new Vec3();\nvar sphereTrimesh_v2 = new Vec3();\nvar sphereTrimesh_edgeVertexA = new Vec3();\nvar sphereTrimesh_edgeVertexB = new Vec3();\nvar sphereTrimesh_edgeVector = new Vec3();\nvar sphereTrimesh_edgeVectorUnit = new Vec3();\nvar sphereTrimesh_localSpherePos = new Vec3();\nvar sphereTrimesh_tmp = new Vec3();\nvar sphereTrimesh_va = new Vec3();\nvar sphereTrimesh_vb = new Vec3();\nvar sphereTrimesh_vc = new Vec3();\nvar sphereTrimesh_localSphereAABB = new AABB();\nvar sphereTrimesh_triangles = [];\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.TRIMESH] =\nNarrowphase.prototype.sphereTrimesh = function (\n    sphereShape,\n    trimeshShape,\n    spherePos,\n    trimeshPos,\n    sphereQuat,\n    trimeshQuat,\n    sphereBody,\n    trimeshBody\n) {\n\n    var edgeVertexA = sphereTrimesh_edgeVertexA;\n    var edgeVertexB = sphereTrimesh_edgeVertexB;\n    var edgeVector = sphereTrimesh_edgeVector;\n    var edgeVectorUnit = sphereTrimesh_edgeVectorUnit;\n    var localSpherePos = sphereTrimesh_localSpherePos;\n    var tmp = sphereTrimesh_tmp;\n    var localSphereAABB = sphereTrimesh_localSphereAABB;\n    var v2 = sphereTrimesh_v2;\n    var relpos = sphereTrimesh_relpos;\n    var triangles = sphereTrimesh_triangles;\n\n    // Convert sphere position to local in the trimesh\n    Transform.pointToLocalFrame(trimeshPos, trimeshQuat, spherePos, localSpherePos);\n\n    // Get the aabb of the sphere locally in the trimesh\n    var sphereRadius = sphereShape.radius;\n    localSphereAABB.lowerBound.set(\n        localSpherePos.x - sphereRadius,\n        localSpherePos.y - sphereRadius,\n        localSpherePos.z - sphereRadius\n    );\n    localSphereAABB.upperBound.set(\n        localSpherePos.x + sphereRadius,\n        localSpherePos.y + sphereRadius,\n        localSpherePos.z + sphereRadius\n    );\n\n    trimeshShape.getTrianglesInAABB(localSphereAABB, triangles);\n    //for (var i = 0; i < trimeshShape.indices.length / 3; i++) triangles.push(i); // All\n\n    // Vertices\n    var v = sphereTrimesh_v;\n    var radiusSquared = sphereShape.radius * sphereShape.radius;\n    for(var i=0; i<triangles.length; i++){\n        for (var j = 0; j < 3; j++) {\n\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], v);\n\n            // Check vertex overlap in sphere\n            v.vsub(localSpherePos, relpos);\n\n            if(relpos.norm2() <= radiusSquared){\n\n                // Safe up\n                v2.copy(v);\n                Transform.pointToWorldFrame(trimeshPos, trimeshQuat, v2, v);\n\n                v.vsub(spherePos, relpos);\n\n                var r = this.createContactEquation(sphereBody,trimeshBody,sphereShape,trimeshShape);\n                r.ni.copy(relpos);\n                r.ni.normalize();\n\n                // ri is the vector from sphere center to the sphere surface\n                r.ri.copy(r.ni);\n                r.ri.scale(sphereShape.radius, r.ri);\n                r.ri.vadd(spherePos, r.ri);\n                r.ri.vsub(sphereBody.position, r.ri);\n\n                r.rj.copy(v);\n                r.rj.vsub(trimeshBody.position, r.rj);\n\n                // Store result\n                this.result.push(r);\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n    }\n\n    // Check all edges\n    for(var i=0; i<triangles.length; i++){\n        for (var j = 0; j < 3; j++) {\n\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + j], edgeVertexA);\n            trimeshShape.getVertex(trimeshShape.indices[triangles[i] * 3 + ((j+1)%3)], edgeVertexB);\n            edgeVertexB.vsub(edgeVertexA, edgeVector);\n\n            // Project sphere position to the edge\n            localSpherePos.vsub(edgeVertexB, tmp);\n            var positionAlongEdgeB = tmp.dot(edgeVector);\n\n            localSpherePos.vsub(edgeVertexA, tmp);\n            var positionAlongEdgeA = tmp.dot(edgeVector);\n\n            if(positionAlongEdgeA > 0 && positionAlongEdgeB < 0){\n\n                // Now check the orthogonal distance from edge to sphere center\n                localSpherePos.vsub(edgeVertexA, tmp);\n\n                edgeVectorUnit.copy(edgeVector);\n                edgeVectorUnit.normalize();\n                positionAlongEdgeA = tmp.dot(edgeVectorUnit);\n\n                edgeVectorUnit.scale(positionAlongEdgeA, tmp);\n                tmp.vadd(edgeVertexA, tmp);\n\n                // tmp is now the sphere center position projected to the edge, defined locally in the trimesh frame\n                var dist = tmp.distanceTo(localSpherePos);\n                if(dist < sphereShape.radius){\n                    var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\n\n                    tmp.vsub(localSpherePos, r.ni);\n                    r.ni.normalize();\n                    r.ni.scale(sphereShape.radius, r.ri);\n\n                    Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\n                    tmp.vsub(trimeshBody.position, r.rj);\n\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\n                    Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\n\n                    this.result.push(r);\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\n                }\n            }\n        }\n    }\n\n    // Triangle faces\n    var va = sphereTrimesh_va;\n    var vb = sphereTrimesh_vb;\n    var vc = sphereTrimesh_vc;\n    var normal = sphereTrimesh_normal;\n    for(var i=0, N = triangles.length; i !== N; i++){\n        trimeshShape.getTriangleVertices(triangles[i], va, vb, vc);\n        trimeshShape.getNormal(triangles[i], normal);\n        localSpherePos.vsub(va, tmp);\n        var dist = tmp.dot(normal);\n        normal.scale(dist, tmp);\n        localSpherePos.vsub(tmp, tmp);\n\n        // tmp is now the sphere position projected to the triangle plane\n        dist = tmp.distanceTo(localSpherePos);\n        if(Ray.pointInTriangle(tmp, va, vb, vc) && dist < sphereShape.radius){\n            var r = this.createContactEquation(sphereBody, trimeshBody, sphereShape, trimeshShape);\n\n            tmp.vsub(localSpherePos, r.ni);\n            r.ni.normalize();\n            r.ni.scale(sphereShape.radius, r.ri);\n\n            Transform.pointToWorldFrame(trimeshPos, trimeshQuat, tmp, tmp);\n            tmp.vsub(trimeshBody.position, r.rj);\n\n            Transform.vectorToWorldFrame(trimeshQuat, r.ni, r.ni);\n            Transform.vectorToWorldFrame(trimeshQuat, r.ri, r.ri);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        }\n    }\n\n    triangles.length = 0;\n};\n\nvar point_on_plane_to_sphere = new Vec3();\nvar plane_to_sphere_ortho = new Vec3();\n\n/**\n * @method spherePlane\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.PLANE] =\nNarrowphase.prototype.spherePlane = function(si,sj,xi,xj,qi,qj,bi,bj){\n    // We will have one contact in this case\n    var r = this.createContactEquation(bi,bj,si,sj);\n\n    // Contact normal\n    r.ni.set(0,0,1);\n    qj.vmult(r.ni, r.ni);\n    r.ni.negate(r.ni); // body i is the sphere, flip normal\n    r.ni.normalize(); // Needed?\n\n    // Vector from sphere center to contact point\n    r.ni.mult(si.radius, r.ri);\n\n    // Project down sphere on plane\n    xi.vsub(xj, point_on_plane_to_sphere);\n    r.ni.mult(r.ni.dot(point_on_plane_to_sphere), plane_to_sphere_ortho);\n    point_on_plane_to_sphere.vsub(plane_to_sphere_ortho,r.rj); // The sphere position projected to plane\n\n    if(-point_on_plane_to_sphere.dot(r.ni) <= si.radius){\n\n        // Make it relative to the body\n        var ri = r.ri;\n        var rj = r.rj;\n        ri.vadd(xi, ri);\n        ri.vsub(bi.position, ri);\n        rj.vadd(xj, rj);\n        rj.vsub(bj.position, rj);\n\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\n// See http://bulletphysics.com/Bullet/BulletFull/SphereTriangleDetector_8cpp_source.html\nvar pointInPolygon_edge = new Vec3();\nvar pointInPolygon_edge_x_normal = new Vec3();\nvar pointInPolygon_vtp = new Vec3();\nfunction pointInPolygon(verts, normal, p){\n    var positiveResult = null;\n    var N = verts.length;\n    for(var i=0; i!==N; i++){\n        var v = verts[i];\n\n        // Get edge to the next vertex\n        var edge = pointInPolygon_edge;\n        verts[(i+1) % (N)].vsub(v,edge);\n\n        // Get cross product between polygon normal and the edge\n        var edge_x_normal = pointInPolygon_edge_x_normal;\n        //var edge_x_normal = new Vec3();\n        edge.cross(normal,edge_x_normal);\n\n        // Get vector between point and current vertex\n        var vertex_to_p = pointInPolygon_vtp;\n        p.vsub(v,vertex_to_p);\n\n        // This dot product determines which side of the edge the point is\n        var r = edge_x_normal.dot(vertex_to_p);\n\n        // If all such dot products have same sign, we are inside the polygon.\n        if(positiveResult===null || (r>0 && positiveResult===true) || (r<=0 && positiveResult===false)){\n            if(positiveResult===null){\n                positiveResult = r>0;\n            }\n            continue;\n        } else {\n            return false; // Encountered some other sign. Exit.\n        }\n    }\n\n    // If we got here, all dot products were of the same sign.\n    return true;\n}\n\nvar box_to_sphere = new Vec3();\nvar sphereBox_ns = new Vec3();\nvar sphereBox_ns1 = new Vec3();\nvar sphereBox_ns2 = new Vec3();\nvar sphereBox_sides = [new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3(),new Vec3()];\nvar sphereBox_sphere_to_corner = new Vec3();\nvar sphereBox_side_ns = new Vec3();\nvar sphereBox_side_ns1 = new Vec3();\nvar sphereBox_side_ns2 = new Vec3();\n\n/**\n * @method sphereBox\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.BOX] =\nNarrowphase.prototype.sphereBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    var v3pool = this.v3pool;\n\n    // we refer to the box as body j\n    var sides = sphereBox_sides;\n    xi.vsub(xj,box_to_sphere);\n    sj.getSideNormals(sides,qj);\n    var R =     si.radius;\n    var penetrating_sides = [];\n\n    // Check side (plane) intersections\n    var found = false;\n\n    // Store the resulting side penetration info\n    var side_ns = sphereBox_side_ns;\n    var side_ns1 = sphereBox_side_ns1;\n    var side_ns2 = sphereBox_side_ns2;\n    var side_h = null;\n    var side_penetrations = 0;\n    var side_dot1 = 0;\n    var side_dot2 = 0;\n    var side_distance = null;\n    for(var idx=0,nsides=sides.length; idx!==nsides && found===false; idx++){\n        // Get the plane side normal (ns)\n        var ns = sphereBox_ns;\n        ns.copy(sides[idx]);\n\n        var h = ns.norm();\n        ns.normalize();\n\n        // The normal/distance dot product tells which side of the plane we are\n        var dot = box_to_sphere.dot(ns);\n\n        if(dot<h+R && dot>0){\n            // Intersects plane. Now check the other two dimensions\n            var ns1 = sphereBox_ns1;\n            var ns2 = sphereBox_ns2;\n            ns1.copy(sides[(idx+1)%3]);\n            ns2.copy(sides[(idx+2)%3]);\n            var h1 = ns1.norm();\n            var h2 = ns2.norm();\n            ns1.normalize();\n            ns2.normalize();\n            var dot1 = box_to_sphere.dot(ns1);\n            var dot2 = box_to_sphere.dot(ns2);\n            if(dot1<h1 && dot1>-h1 && dot2<h2 && dot2>-h2){\n                var dist = Math.abs(dot-h-R);\n                if(side_distance===null || dist < side_distance){\n                    side_distance = dist;\n                    side_dot1 = dot1;\n                    side_dot2 = dot2;\n                    side_h = h;\n                    side_ns.copy(ns);\n                    side_ns1.copy(ns1);\n                    side_ns2.copy(ns2);\n                    side_penetrations++;\n                }\n            }\n        }\n    }\n    if(side_penetrations){\n        found = true;\n        var r = this.createContactEquation(bi,bj,si,sj);\n        side_ns.mult(-R,r.ri); // Sphere r\n        r.ni.copy(side_ns);\n        r.ni.negate(r.ni); // Normal should be out of sphere\n        side_ns.mult(side_h,side_ns);\n        side_ns1.mult(side_dot1,side_ns1);\n        side_ns.vadd(side_ns1,side_ns);\n        side_ns2.mult(side_dot2,side_ns2);\n        side_ns.vadd(side_ns2,r.rj);\n\n        // Make relative to bodies\n        r.ri.vadd(xi, r.ri);\n        r.ri.vsub(bi.position, r.ri);\n        r.rj.vadd(xj, r.rj);\n        r.rj.vsub(bj.position, r.rj);\n\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n\n    // Check corners\n    var rj = v3pool.get();\n    var sphere_to_corner = sphereBox_sphere_to_corner;\n    for(var j=0; j!==2 && !found; j++){\n        for(var k=0; k!==2 && !found; k++){\n            for(var l=0; l!==2 && !found; l++){\n                rj.set(0,0,0);\n                if(j){\n                    rj.vadd(sides[0],rj);\n                } else {\n                    rj.vsub(sides[0],rj);\n                }\n                if(k){\n                    rj.vadd(sides[1],rj);\n                } else {\n                    rj.vsub(sides[1],rj);\n                }\n                if(l){\n                    rj.vadd(sides[2],rj);\n                } else {\n                    rj.vsub(sides[2],rj);\n                }\n\n                // World position of corner\n                xj.vadd(rj,sphere_to_corner);\n                sphere_to_corner.vsub(xi,sphere_to_corner);\n\n                if(sphere_to_corner.norm2() < R*R){\n                    found = true;\n                    var r = this.createContactEquation(bi,bj,si,sj);\n                    r.ri.copy(sphere_to_corner);\n                    r.ri.normalize();\n                    r.ni.copy(r.ri);\n                    r.ri.mult(R,r.ri);\n                    r.rj.copy(rj);\n\n                    // Make relative to bodies\n                    r.ri.vadd(xi, r.ri);\n                    r.ri.vsub(bi.position, r.ri);\n                    r.rj.vadd(xj, r.rj);\n                    r.rj.vsub(bj.position, r.rj);\n\n                    this.result.push(r);\n                    this.createFrictionEquationsFromContact(r, this.frictionResult);\n                }\n            }\n        }\n    }\n    v3pool.release(rj);\n    rj = null;\n\n    // Check edges\n    var edgeTangent = v3pool.get();\n    var edgeCenter = v3pool.get();\n    var r = v3pool.get(); // r = edge center to sphere center\n    var orthogonal = v3pool.get();\n    var dist = v3pool.get();\n    var Nsides = sides.length;\n    for(var j=0; j!==Nsides && !found; j++){\n        for(var k=0; k!==Nsides && !found; k++){\n            if(j%3 !== k%3){\n                // Get edge tangent\n                sides[k].cross(sides[j],edgeTangent);\n                edgeTangent.normalize();\n                sides[j].vadd(sides[k], edgeCenter);\n                r.copy(xi);\n                r.vsub(edgeCenter,r);\n                r.vsub(xj,r);\n                var orthonorm = r.dot(edgeTangent); // distance from edge center to sphere center in the tangent direction\n                edgeTangent.mult(orthonorm,orthogonal); // Vector from edge center to sphere center in the tangent direction\n\n                // Find the third side orthogonal to this one\n                var l = 0;\n                while(l===j%3 || l===k%3){\n                    l++;\n                }\n\n                // vec from edge center to sphere projected to the plane orthogonal to the edge tangent\n                dist.copy(xi);\n                dist.vsub(orthogonal,dist);\n                dist.vsub(edgeCenter,dist);\n                dist.vsub(xj,dist);\n\n                // Distances in tangent direction and distance in the plane orthogonal to it\n                var tdist = Math.abs(orthonorm);\n                var ndist = dist.norm();\n\n                if(tdist < sides[l].norm() && ndist<R){\n                    found = true;\n                    var res = this.createContactEquation(bi,bj,si,sj);\n                    edgeCenter.vadd(orthogonal,res.rj); // box rj\n                    res.rj.copy(res.rj);\n                    dist.negate(res.ni);\n                    res.ni.normalize();\n\n                    res.ri.copy(res.rj);\n                    res.ri.vadd(xj,res.ri);\n                    res.ri.vsub(xi,res.ri);\n                    res.ri.normalize();\n                    res.ri.mult(R,res.ri);\n\n                    // Make relative to bodies\n                    res.ri.vadd(xi, res.ri);\n                    res.ri.vsub(bi.position, res.ri);\n                    res.rj.vadd(xj, res.rj);\n                    res.rj.vsub(bj.position, res.rj);\n\n                    this.result.push(res);\n                    this.createFrictionEquationsFromContact(res, this.frictionResult);\n                }\n            }\n        }\n    }\n    v3pool.release(edgeTangent,edgeCenter,r,orthogonal,dist);\n};\n\nvar convex_to_sphere = new Vec3();\nvar sphereConvex_edge = new Vec3();\nvar sphereConvex_edgeUnit = new Vec3();\nvar sphereConvex_sphereToCorner = new Vec3();\nvar sphereConvex_worldCorner = new Vec3();\nvar sphereConvex_worldNormal = new Vec3();\nvar sphereConvex_worldPoint = new Vec3();\nvar sphereConvex_worldSpherePointClosestToPlane = new Vec3();\nvar sphereConvex_penetrationVec = new Vec3();\nvar sphereConvex_sphereToWorldPoint = new Vec3();\n\n/**\n * @method sphereConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.sphereConvex = function(si,sj,xi,xj,qi,qj,bi,bj){\n    var v3pool = this.v3pool;\n    xi.vsub(xj,convex_to_sphere);\n    var normals = sj.faceNormals;\n    var faces = sj.faces;\n    var verts = sj.vertices;\n    var R =     si.radius;\n    var penetrating_sides = [];\n\n    // if(convex_to_sphere.norm2() > si.boundingSphereRadius + sj.boundingSphereRadius){\n    //     return;\n    // }\n\n    // Check corners\n    for(var i=0; i!==verts.length; i++){\n        var v = verts[i];\n\n        // World position of corner\n        var worldCorner = sphereConvex_worldCorner;\n        qj.vmult(v,worldCorner);\n        xj.vadd(worldCorner,worldCorner);\n        var sphere_to_corner = sphereConvex_sphereToCorner;\n        worldCorner.vsub(xi, sphere_to_corner);\n        if(sphere_to_corner.norm2() < R * R){\n            found = true;\n            var r = this.createContactEquation(bi,bj,si,sj);\n            r.ri.copy(sphere_to_corner);\n            r.ri.normalize();\n            r.ni.copy(r.ri);\n            r.ri.mult(R,r.ri);\n            worldCorner.vsub(xj,r.rj);\n\n            // Should be relative to the body.\n            r.ri.vadd(xi, r.ri);\n            r.ri.vsub(bi.position, r.ri);\n\n            // Should be relative to the body.\n            r.rj.vadd(xj, r.rj);\n            r.rj.vsub(bj.position, r.rj);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n            return;\n        }\n    }\n\n    // Check side (plane) intersections\n    var found = false;\n    for(var i=0, nfaces=faces.length; i!==nfaces && found===false; i++){\n        var normal = normals[i];\n        var face = faces[i];\n\n        // Get world-transformed normal of the face\n        var worldNormal = sphereConvex_worldNormal;\n        qj.vmult(normal,worldNormal);\n\n        // Get a world vertex from the face\n        var worldPoint = sphereConvex_worldPoint;\n        qj.vmult(verts[face[0]],worldPoint);\n        worldPoint.vadd(xj,worldPoint);\n\n        // Get a point on the sphere, closest to the face normal\n        var worldSpherePointClosestToPlane = sphereConvex_worldSpherePointClosestToPlane;\n        worldNormal.mult(-R, worldSpherePointClosestToPlane);\n        xi.vadd(worldSpherePointClosestToPlane, worldSpherePointClosestToPlane);\n\n        // Vector from a face point to the closest point on the sphere\n        var penetrationVec = sphereConvex_penetrationVec;\n        worldSpherePointClosestToPlane.vsub(worldPoint,penetrationVec);\n\n        // The penetration. Negative value means overlap.\n        var penetration = penetrationVec.dot(worldNormal);\n\n        var worldPointToSphere = sphereConvex_sphereToWorldPoint;\n        xi.vsub(worldPoint, worldPointToSphere);\n\n        if(penetration < 0 && worldPointToSphere.dot(worldNormal)>0){\n            // Intersects plane. Now check if the sphere is inside the face polygon\n            var faceVerts = []; // Face vertices, in world coords\n            for(var j=0, Nverts=face.length; j!==Nverts; j++){\n                var worldVertex = v3pool.get();\n                qj.vmult(verts[face[j]], worldVertex);\n                xj.vadd(worldVertex,worldVertex);\n                faceVerts.push(worldVertex);\n            }\n\n            if(pointInPolygon(faceVerts,worldNormal,xi)){ // Is the sphere center in the face polygon?\n                found = true;\n                var r = this.createContactEquation(bi,bj,si,sj);\n\n                worldNormal.mult(-R, r.ri); // Contact offset, from sphere center to contact\n                worldNormal.negate(r.ni); // Normal pointing out of sphere\n\n                var penetrationVec2 = v3pool.get();\n                worldNormal.mult(-penetration, penetrationVec2);\n                var penetrationSpherePoint = v3pool.get();\n                worldNormal.mult(-R, penetrationSpherePoint);\n\n                //xi.vsub(xj).vadd(penetrationSpherePoint).vadd(penetrationVec2 , r.rj);\n                xi.vsub(xj,r.rj);\n                r.rj.vadd(penetrationSpherePoint,r.rj);\n                r.rj.vadd(penetrationVec2 , r.rj);\n\n                // Should be relative to the body.\n                r.rj.vadd(xj, r.rj);\n                r.rj.vsub(bj.position, r.rj);\n\n                // Should be relative to the body.\n                r.ri.vadd(xi, r.ri);\n                r.ri.vsub(bi.position, r.ri);\n\n                v3pool.release(penetrationVec2);\n                v3pool.release(penetrationSpherePoint);\n\n                this.result.push(r);\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n\n                // Release world vertices\n                for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                    v3pool.release(faceVerts[j]);\n                }\n\n                return; // We only expect *one* face contact\n            } else {\n                // Edge?\n                for(var j=0; j!==face.length; j++){\n\n                    // Get two world transformed vertices\n                    var v1 = v3pool.get();\n                    var v2 = v3pool.get();\n                    qj.vmult(verts[face[(j+1)%face.length]], v1);\n                    qj.vmult(verts[face[(j+2)%face.length]], v2);\n                    xj.vadd(v1, v1);\n                    xj.vadd(v2, v2);\n\n                    // Construct edge vector\n                    var edge = sphereConvex_edge;\n                    v2.vsub(v1,edge);\n\n                    // Construct the same vector, but normalized\n                    var edgeUnit = sphereConvex_edgeUnit;\n                    edge.unit(edgeUnit);\n\n                    // p is xi projected onto the edge\n                    var p = v3pool.get();\n                    var v1_to_xi = v3pool.get();\n                    xi.vsub(v1, v1_to_xi);\n                    var dot = v1_to_xi.dot(edgeUnit);\n                    edgeUnit.mult(dot, p);\n                    p.vadd(v1, p);\n\n                    // Compute a vector from p to the center of the sphere\n                    var xi_to_p = v3pool.get();\n                    p.vsub(xi, xi_to_p);\n\n                    // Collision if the edge-sphere distance is less than the radius\n                    // AND if p is in between v1 and v2\n                    if(dot > 0 && dot*dot<edge.norm2() && xi_to_p.norm2() < R*R){ // Collision if the edge-sphere distance is less than the radius\n                        // Edge contact!\n                        var r = this.createContactEquation(bi,bj,si,sj);\n                        p.vsub(xj,r.rj);\n\n                        p.vsub(xi,r.ni);\n                        r.ni.normalize();\n\n                        r.ni.mult(R,r.ri);\n\n                        // Should be relative to the body.\n                        r.rj.vadd(xj, r.rj);\n                        r.rj.vsub(bj.position, r.rj);\n\n                        // Should be relative to the body.\n                        r.ri.vadd(xi, r.ri);\n                        r.ri.vsub(bi.position, r.ri);\n\n                        this.result.push(r);\n                        this.createFrictionEquationsFromContact(r, this.frictionResult);\n\n                        // Release world vertices\n                        for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                            v3pool.release(faceVerts[j]);\n                        }\n\n                        v3pool.release(v1);\n                        v3pool.release(v2);\n                        v3pool.release(p);\n                        v3pool.release(xi_to_p);\n                        v3pool.release(v1_to_xi);\n\n                        return;\n                    }\n\n                    v3pool.release(v1);\n                    v3pool.release(v2);\n                    v3pool.release(p);\n                    v3pool.release(xi_to_p);\n                    v3pool.release(v1_to_xi);\n                }\n            }\n\n            // Release world vertices\n            for(var j=0, Nfaceverts=faceVerts.length; j!==Nfaceverts; j++){\n                v3pool.release(faceVerts[j]);\n            }\n        }\n    }\n};\n\nvar planeBox_normal = new Vec3();\nvar plane_to_corner = new Vec3();\n\n/**\n * @method planeBox\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.BOX] =\nNarrowphase.prototype.planeBox = function(si,sj,xi,xj,qi,qj,bi,bj){\n    sj.convexPolyhedronRepresentation.material = sj.material;\n    sj.convexPolyhedronRepresentation.collisionResponse = sj.collisionResponse;\n    this.planeConvex(si,sj.convexPolyhedronRepresentation,xi,xj,qi,qj,bi,bj);\n};\n\nvar planeConvex_v = new Vec3();\nvar planeConvex_normal = new Vec3();\nvar planeConvex_relpos = new Vec3();\nvar planeConvex_projected = new Vec3();\n\n/**\n * @method planeConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.planeConvex = function(\n    planeShape,\n    convexShape,\n    planePosition,\n    convexPosition,\n    planeQuat,\n    convexQuat,\n    planeBody,\n    convexBody\n){\n    // Simply return the points behind the plane.\n    var worldVertex = planeConvex_v,\n        worldNormal = planeConvex_normal;\n    worldNormal.set(0,0,1);\n    planeQuat.vmult(worldNormal,worldNormal); // Turn normal according to plane orientation\n\n    var numContacts = 0;\n    var relpos = planeConvex_relpos;\n    for(var i = 0; i !== convexShape.vertices.length; i++){\n\n        // Get world convex vertex\n        worldVertex.copy(convexShape.vertices[i]);\n        convexQuat.vmult(worldVertex, worldVertex);\n        convexPosition.vadd(worldVertex, worldVertex);\n        worldVertex.vsub(planePosition, relpos);\n\n        var dot = worldNormal.dot(relpos);\n        if(dot <= 0.0){\n\n            var r = this.createContactEquation(planeBody, convexBody, planeShape, convexShape);\n\n            // Get vertex position projected on plane\n            var projected = planeConvex_projected;\n            worldNormal.mult(worldNormal.dot(relpos),projected);\n            worldVertex.vsub(projected, projected);\n            projected.vsub(planePosition, r.ri); // From plane to vertex projected on plane\n\n            r.ni.copy(worldNormal); // Contact normal is the plane normal out from plane\n\n            // rj is now just the vector from the convex center to the vertex\n            worldVertex.vsub(convexPosition, r.rj);\n\n            // Make it relative to the body\n            r.ri.vadd(planePosition, r.ri);\n            r.ri.vsub(planeBody.position, r.ri);\n            r.rj.vadd(convexPosition, r.rj);\n            r.rj.vsub(convexBody.position, r.rj);\n\n            this.result.push(r);\n            numContacts++;\n            if(!this.enableFrictionReduction){\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n    }\n\n    if(this.enableFrictionReduction && numContacts){\n        this.createFrictionFromAverage(numContacts);\n    }\n};\n\nvar convexConvex_sepAxis = new Vec3();\nvar convexConvex_q = new Vec3();\n\n/**\n * @method convexConvex\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.convexConvex = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\n    var sepAxis = convexConvex_sepAxis;\n\n    if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n        return;\n    }\n\n    if(si.findSeparatingAxis(sj,xi,qi,xj,qj,sepAxis,faceListA,faceListB)){\n        var res = [];\n        var q = convexConvex_q;\n        si.clipAgainstHull(xi,qi,sj,xj,qj,sepAxis,-100,100,res);\n        var numContacts = 0;\n        for(var j = 0; j !== res.length; j++){\n            var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\n                ri = r.ri,\n                rj = r.rj;\n            sepAxis.negate(r.ni);\n            res[j].normal.negate(q);\n            q.mult(res[j].depth, q);\n            res[j].point.vadd(q, ri);\n            rj.copy(res[j].point);\n\n            // Contact points are in world coordinates. Transform back to relative\n            ri.vsub(xi,ri);\n            rj.vsub(xj,rj);\n\n            // Make relative to bodies\n            ri.vadd(xi, ri);\n            ri.vsub(bi.position, ri);\n            rj.vadd(xj, rj);\n            rj.vsub(bj.position, rj);\n\n            this.result.push(r);\n            numContacts++;\n            if(!this.enableFrictionReduction){\n                this.createFrictionEquationsFromContact(r, this.frictionResult);\n            }\n        }\n        if(this.enableFrictionReduction && numContacts){\n            this.createFrictionFromAverage(numContacts);\n        }\n    }\n};\n\n\n/**\n * @method convexTrimesh\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\n// Narrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.TRIMESH] =\n// Narrowphase.prototype.convexTrimesh = function(si,sj,xi,xj,qi,qj,bi,bj,rsi,rsj,faceListA,faceListB){\n//     var sepAxis = convexConvex_sepAxis;\n\n//     if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){\n//         return;\n//     }\n\n//     // Construct a temp hull for each triangle\n//     var hullB = new ConvexPolyhedron();\n\n//     hullB.faces = [[0,1,2]];\n//     var va = new Vec3();\n//     var vb = new Vec3();\n//     var vc = new Vec3();\n//     hullB.vertices = [\n//         va,\n//         vb,\n//         vc\n//     ];\n\n//     for (var i = 0; i < sj.indices.length / 3; i++) {\n\n//         var triangleNormal = new Vec3();\n//         sj.getNormal(i, triangleNormal);\n//         hullB.faceNormals = [triangleNormal];\n\n//         sj.getTriangleVertices(i, va, vb, vc);\n\n//         var d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\n//         if(!d){\n//             triangleNormal.scale(-1, triangleNormal);\n//             d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);\n\n//             if(!d){\n//                 continue;\n//             }\n//         }\n\n//         var res = [];\n//         var q = convexConvex_q;\n//         si.clipAgainstHull(xi,qi,hullB,xj,qj,triangleNormal,-100,100,res);\n//         for(var j = 0; j !== res.length; j++){\n//             var r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),\n//                 ri = r.ri,\n//                 rj = r.rj;\n//             r.ni.copy(triangleNormal);\n//             r.ni.negate(r.ni);\n//             res[j].normal.negate(q);\n//             q.mult(res[j].depth, q);\n//             res[j].point.vadd(q, ri);\n//             rj.copy(res[j].point);\n\n//             // Contact points are in world coordinates. Transform back to relative\n//             ri.vsub(xi,ri);\n//             rj.vsub(xj,rj);\n\n//             // Make relative to bodies\n//             ri.vadd(xi, ri);\n//             ri.vsub(bi.position, ri);\n//             rj.vadd(xj, rj);\n//             rj.vsub(bj.position, rj);\n\n//             result.push(r);\n//         }\n//     }\n// };\n\nvar particlePlane_normal = new Vec3();\nvar particlePlane_relpos = new Vec3();\nvar particlePlane_projected = new Vec3();\n\n/**\n * @method particlePlane\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PLANE | Shape.types.PARTICLE] =\nNarrowphase.prototype.planeParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    var normal = particlePlane_normal;\n    normal.set(0,0,1);\n    bj.quaternion.vmult(normal,normal); // Turn normal according to plane orientation\n    var relpos = particlePlane_relpos;\n    xi.vsub(bj.position,relpos);\n    var dot = normal.dot(relpos);\n    if(dot <= 0.0){\n        var r = this.createContactEquation(bi,bj,si,sj);\n        r.ni.copy(normal); // Contact normal is the plane normal\n        r.ni.negate(r.ni);\n        r.ri.set(0,0,0); // Center of particle\n\n        // Get particle position projected on plane\n        var projected = particlePlane_projected;\n        normal.mult(normal.dot(xi),projected);\n        xi.vsub(projected,projected);\n        //projected.vadd(bj.position,projected);\n\n        // rj is now the projected world position minus plane position\n        r.rj.copy(projected);\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\nvar particleSphere_normal = new Vec3();\n\n/**\n * @method particleSphere\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.SPHERE] =\nNarrowphase.prototype.sphereParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    // The normal is the unit vector from sphere center to particle center\n    var normal = particleSphere_normal;\n    normal.set(0,0,1);\n    xi.vsub(xj,normal);\n    var lengthSquared = normal.norm2();\n\n    if(lengthSquared <= sj.radius * sj.radius){\n        var r = this.createContactEquation(bi,bj,si,sj);\n        normal.normalize();\n        r.rj.copy(normal);\n        r.rj.mult(sj.radius,r.rj);\n        r.ni.copy(normal); // Contact normal\n        r.ni.negate(r.ni);\n        r.ri.set(0,0,0); // Center of particle\n        this.result.push(r);\n        this.createFrictionEquationsFromContact(r, this.frictionResult);\n    }\n};\n\n// WIP\nvar cqj = new Quaternion();\nvar convexParticle_local = new Vec3();\nvar convexParticle_normal = new Vec3();\nvar convexParticle_penetratedFaceNormal = new Vec3();\nvar convexParticle_vertexToParticle = new Vec3();\nvar convexParticle_worldPenetrationVec = new Vec3();\n\n/**\n * @method convexParticle\n * @param  {Array}      result\n * @param  {Shape}      si\n * @param  {Shape}      sj\n * @param  {Vec3}       xi\n * @param  {Vec3}       xj\n * @param  {Quaternion} qi\n * @param  {Quaternion} qj\n * @param  {Body}       bi\n * @param  {Body}       bj\n */\nNarrowphase.prototype[Shape.types.PARTICLE | Shape.types.CONVEXPOLYHEDRON] =\nNarrowphase.prototype.convexParticle = function(sj,si,xj,xi,qj,qi,bj,bi){\n    var penetratedFaceIndex = -1;\n    var penetratedFaceNormal = convexParticle_penetratedFaceNormal;\n    var worldPenetrationVec = convexParticle_worldPenetrationVec;\n    var minPenetration = null;\n    var numDetectedFaces = 0;\n\n    // Convert particle position xi to local coords in the convex\n    var local = convexParticle_local;\n    local.copy(xi);\n    local.vsub(xj,local); // Convert position to relative the convex origin\n    qj.conjugate(cqj);\n    cqj.vmult(local,local);\n\n    if(sj.pointIsInside(local)){\n\n        if(sj.worldVerticesNeedsUpdate){\n            sj.computeWorldVertices(xj,qj);\n        }\n        if(sj.worldFaceNormalsNeedsUpdate){\n            sj.computeWorldFaceNormals(qj);\n        }\n\n        // For each world polygon in the polyhedra\n        for(var i=0,nfaces=sj.faces.length; i!==nfaces; i++){\n\n            // Construct world face vertices\n            var verts = [ sj.worldVertices[ sj.faces[i][0] ] ];\n            var normal = sj.worldFaceNormals[i];\n\n            // Check how much the particle penetrates the polygon plane.\n            xi.vsub(verts[0],convexParticle_vertexToParticle);\n            var penetration = -normal.dot(convexParticle_vertexToParticle);\n            if(minPenetration===null || Math.abs(penetration)<Math.abs(minPenetration)){\n                minPenetration = penetration;\n                penetratedFaceIndex = i;\n                penetratedFaceNormal.copy(normal);\n                numDetectedFaces++;\n            }\n        }\n\n        if(penetratedFaceIndex!==-1){\n            // Setup contact\n            var r = this.createContactEquation(bi,bj,si,sj);\n            penetratedFaceNormal.mult(minPenetration, worldPenetrationVec);\n\n            // rj is the particle position projected to the face\n            worldPenetrationVec.vadd(xi,worldPenetrationVec);\n            worldPenetrationVec.vsub(xj,worldPenetrationVec);\n            r.rj.copy(worldPenetrationVec);\n            //var projectedToFace = xi.vsub(xj).vadd(worldPenetrationVec);\n            //projectedToFace.copy(r.rj);\n\n            //qj.vmult(r.rj,r.rj);\n            penetratedFaceNormal.negate( r.ni ); // Contact normal\n            r.ri.set(0,0,0); // Center of particle\n\n            var ri = r.ri,\n                rj = r.rj;\n\n            // Make relative to bodies\n            ri.vadd(xi, ri);\n            ri.vsub(bi.position, ri);\n            rj.vadd(xj, rj);\n            rj.vsub(bj.position, rj);\n\n            this.result.push(r);\n            this.createFrictionEquationsFromContact(r, this.frictionResult);\n        } else {\n            console.warn(\"Point found inside convex, but did not find penetrating face!\");\n        }\n    }\n};\n\nNarrowphase.prototype[Shape.types.BOX | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.boxHeightfield = function (si,sj,xi,xj,qi,qj,bi,bj){\n    si.convexPolyhedronRepresentation.material = si.material;\n    si.convexPolyhedronRepresentation.collisionResponse = si.collisionResponse;\n    this.convexHeightfield(si.convexPolyhedronRepresentation,sj,xi,xj,qi,qj,bi,bj);\n};\n\nvar convexHeightfield_tmp1 = new Vec3();\nvar convexHeightfield_tmp2 = new Vec3();\nvar convexHeightfield_faceList = [0];\n\n/**\n * @method convexHeightfield\n */\nNarrowphase.prototype[Shape.types.CONVEXPOLYHEDRON | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.convexHeightfield = function (\n    convexShape,\n    hfShape,\n    convexPos,\n    hfPos,\n    convexQuat,\n    hfQuat,\n    convexBody,\n    hfBody\n){\n    var data = hfShape.data,\n        w = hfShape.elementSize,\n        radius = convexShape.boundingSphereRadius,\n        worldPillarOffset = convexHeightfield_tmp2,\n        faceList = convexHeightfield_faceList;\n\n    // Get sphere position to heightfield local!\n    var localConvexPos = convexHeightfield_tmp1;\n    Transform.pointToLocalFrame(hfPos, hfQuat, convexPos, localConvexPos);\n\n    // Get the index of the data points to test against\n    var iMinX = Math.floor((localConvexPos.x - radius) / w) - 1,\n        iMaxX = Math.ceil((localConvexPos.x + radius) / w) + 1,\n        iMinY = Math.floor((localConvexPos.y - radius) / w) - 1,\n        iMaxY = Math.ceil((localConvexPos.y + radius) / w) + 1;\n\n    // Bail out if we are out of the terrain\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMinY > data[0].length){\n        return;\n    }\n\n    // Clamp index to edges\n    if(iMinX < 0){ iMinX = 0; }\n    if(iMaxX < 0){ iMaxX = 0; }\n    if(iMinY < 0){ iMinY = 0; }\n    if(iMaxY < 0){ iMaxY = 0; }\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\n\n    var minMax = [];\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // Bail out if we're cant touch the bounding height box\n    if(localConvexPos.z - radius > max || localConvexPos.z + radius < min){\n        return;\n    }\n\n    for(var i = iMinX; i < iMaxX; i++){\n        for(var j = iMinY; j < iMaxY; j++){\n\n            // Lower triangle\n            hfShape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\n            }\n\n            // Upper triangle\n            hfShape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (convexPos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + convexShape.boundingSphereRadius) {\n                this.convexConvex(convexShape, hfShape.pillarConvex, convexPos, worldPillarOffset, convexQuat, hfQuat, convexBody, hfBody, null, null, faceList, null);\n            }\n        }\n    }\n};\n\nvar sphereHeightfield_tmp1 = new Vec3();\nvar sphereHeightfield_tmp2 = new Vec3();\n\n/**\n * @method sphereHeightfield\n */\nNarrowphase.prototype[Shape.types.SPHERE | Shape.types.HEIGHTFIELD] =\nNarrowphase.prototype.sphereHeightfield = function (\n    sphereShape,\n    hfShape,\n    spherePos,\n    hfPos,\n    sphereQuat,\n    hfQuat,\n    sphereBody,\n    hfBody\n){\n    var data = hfShape.data,\n        radius = sphereShape.radius,\n        w = hfShape.elementSize,\n        worldPillarOffset = sphereHeightfield_tmp2;\n\n    // Get sphere position to heightfield local!\n    var localSpherePos = sphereHeightfield_tmp1;\n    Transform.pointToLocalFrame(hfPos, hfQuat, spherePos, localSpherePos);\n\n    // Get the index of the data points to test against\n    var iMinX = Math.floor((localSpherePos.x - radius) / w) - 1,\n        iMaxX = Math.ceil((localSpherePos.x + radius) / w) + 1,\n        iMinY = Math.floor((localSpherePos.y - radius) / w) - 1,\n        iMaxY = Math.ceil((localSpherePos.y + radius) / w) + 1;\n\n    // Bail out if we are out of the terrain\n    if(iMaxX < 0 || iMaxY < 0 || iMinX > data.length || iMaxY > data[0].length){\n        return;\n    }\n\n    // Clamp index to edges\n    if(iMinX < 0){ iMinX = 0; }\n    if(iMaxX < 0){ iMaxX = 0; }\n    if(iMinY < 0){ iMinY = 0; }\n    if(iMaxY < 0){ iMaxY = 0; }\n    if(iMinX >= data.length){ iMinX = data.length - 1; }\n    if(iMaxX >= data.length){ iMaxX = data.length - 1; }\n    if(iMaxY >= data[0].length){ iMaxY = data[0].length - 1; }\n    if(iMinY >= data[0].length){ iMinY = data[0].length - 1; }\n\n    var minMax = [];\n    hfShape.getRectMinMax(iMinX, iMinY, iMaxX, iMaxY, minMax);\n    var min = minMax[0];\n    var max = minMax[1];\n\n    // Bail out if we're cant touch the bounding height box\n    if(localSpherePos.z - radius > max || localSpherePos.z + radius < min){\n        return;\n    }\n\n    var result = this.result;\n    for(var i = iMinX; i < iMaxX; i++){\n        for(var j = iMinY; j < iMaxY; j++){\n\n            var numContactsBefore = result.length;\n\n            // Lower triangle\n            hfShape.getConvexTrianglePillar(i, j, false);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\n            }\n\n            // Upper triangle\n            hfShape.getConvexTrianglePillar(i, j, true);\n            Transform.pointToWorldFrame(hfPos, hfQuat, hfShape.pillarOffset, worldPillarOffset);\n            if (spherePos.distanceTo(worldPillarOffset) < hfShape.pillarConvex.boundingSphereRadius + sphereShape.boundingSphereRadius) {\n                this.sphereConvex(sphereShape, hfShape.pillarConvex, spherePos, worldPillarOffset, sphereQuat, hfQuat, sphereBody, hfBody);\n            }\n\n            var numContacts = result.length - numContactsBefore;\n\n            if(numContacts > 2){\n                return;\n            }\n            /*\n            // Skip all but 1\n            for (var k = 0; k < numContacts - 1; k++) {\n                result.pop();\n            }\n            */\n        }\n    }\n};\n\n},{\"../collision/AABB\":3,\"../collision/Ray\":9,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../math/Quaternion\":28,\"../math/Transform\":29,\"../math/Vec3\":30,\"../shapes/ConvexPolyhedron\":38,\"../shapes/Shape\":43,\"../solver/Solver\":47,\"../utils/Vec3Pool\":54}],56:[function(_dereq_,module,exports){\n/* global performance */\n\nmodule.exports = World;\n\nvar Shape = _dereq_('../shapes/Shape');\nvar Vec3 = _dereq_('../math/Vec3');\nvar Quaternion = _dereq_('../math/Quaternion');\nvar GSSolver = _dereq_('../solver/GSSolver');\nvar Vec3Pool = _dereq_('../utils/Vec3Pool');\nvar ContactEquation = _dereq_('../equations/ContactEquation');\nvar FrictionEquation = _dereq_('../equations/FrictionEquation');\nvar Narrowphase = _dereq_('./Narrowphase');\nvar EventTarget = _dereq_('../utils/EventTarget');\nvar ArrayCollisionMatrix = _dereq_('../collision/ArrayCollisionMatrix');\nvar Material = _dereq_('../material/Material');\nvar ContactMaterial = _dereq_('../material/ContactMaterial');\nvar Body = _dereq_('../objects/Body');\nvar TupleDictionary = _dereq_('../utils/TupleDictionary');\nvar RaycastResult = _dereq_('../collision/RaycastResult');\nvar AABB = _dereq_('../collision/AABB');\nvar Ray = _dereq_('../collision/Ray');\nvar NaiveBroadphase = _dereq_('../collision/NaiveBroadphase');\n\n/**\n * The physics world\n * @class World\n * @constructor\n * @extends EventTarget\n */\nfunction World(){\n    EventTarget.apply(this);\n\n    /**\n     * Currently / last used timestep. Is set to -1 if not available. This value is updated before each internal step, which means that it is \"fresh\" inside event callbacks.\n     * @property {Number} dt\n     */\n    this.dt = -1;\n\n    /**\n     * Makes bodies go to sleep when they've been inactive\n     * @property allowSleep\n     * @type {Boolean}\n     */\n    this.allowSleep = false;\n\n    /**\n     * All the current contacts (instances of ContactEquation) in the world.\n     * @property contacts\n     * @type {Array}\n     */\n    this.contacts = [];\n    this.frictionEquations = [];\n\n    /**\n     * How often to normalize quaternions. Set to 0 for every step, 1 for every second etc.. A larger value increases performance. If bodies tend to explode, set to a smaller value (zero to be sure nothing can go wrong).\n     * @property quatNormalizeSkip\n     * @type {Number}\n     */\n    this.quatNormalizeSkip = 0;\n\n    /**\n     * Set to true to use fast quaternion normalization. It is often enough accurate to use. If bodies tend to explode, set to false.\n     * @property quatNormalizeFast\n     * @type {Boolean}\n     * @see Quaternion.normalizeFast\n     * @see Quaternion.normalize\n     */\n    this.quatNormalizeFast = false;\n\n    /**\n     * The wall-clock time since simulation start\n     * @property time\n     * @type {Number}\n     */\n    this.time = 0.0;\n\n    /**\n     * Number of timesteps taken since start\n     * @property stepnumber\n     * @type {Number}\n     */\n    this.stepnumber = 0;\n\n    /// Default and last timestep sizes\n    this.default_dt = 1/60;\n\n    this.nextId = 0;\n    /**\n     * @property gravity\n     * @type {Vec3}\n     */\n    this.gravity = new Vec3();\n\n    /**\n     * @property broadphase\n     * @type {Broadphase}\n     */\n    this.broadphase = new NaiveBroadphase();\n\n    /**\n     * @property bodies\n     * @type {Array}\n     */\n    this.bodies = [];\n\n    /**\n     * @property solver\n     * @type {Solver}\n     */\n    this.solver = new GSSolver();\n\n    /**\n     * @property constraints\n     * @type {Array}\n     */\n    this.constraints = [];\n\n    /**\n     * @property narrowphase\n     * @type {Narrowphase}\n     */\n    this.narrowphase = new Narrowphase(this);\n\n    /**\n     * @property {ArrayCollisionMatrix} collisionMatrix\n\t * @type {ArrayCollisionMatrix}\n\t */\n\tthis.collisionMatrix = new ArrayCollisionMatrix();\n\n    /**\n     * CollisionMatrix from the previous step.\n     * @property {ArrayCollisionMatrix} collisionMatrixPrevious\n\t * @type {ArrayCollisionMatrix}\n\t */\n\tthis.collisionMatrixPrevious = new ArrayCollisionMatrix();\n\n    /**\n     * All added materials\n     * @property materials\n     * @type {Array}\n     */\n    this.materials = [];\n\n    /**\n     * @property contactmaterials\n     * @type {Array}\n     */\n    this.contactmaterials = [];\n\n    /**\n     * Used to look up a ContactMaterial given two instances of Material.\n     * @property {TupleDictionary} contactMaterialTable\n     */\n    this.contactMaterialTable = new TupleDictionary();\n\n    this.defaultMaterial = new Material(\"default\");\n\n    /**\n     * This contact material is used if no suitable contactmaterial is found for a contact.\n     * @property defaultContactMaterial\n     * @type {ContactMaterial}\n     */\n    this.defaultContactMaterial = new ContactMaterial(this.defaultMaterial, this.defaultMaterial, { friction: 0.3, restitution: 0.0 });\n\n    /**\n     * @property doProfiling\n     * @type {Boolean}\n     */\n    this.doProfiling = false;\n\n    /**\n     * @property profile\n     * @type {Object}\n     */\n    this.profile = {\n        solve:0,\n        makeContactConstraints:0,\n        broadphase:0,\n        integrate:0,\n        narrowphase:0,\n    };\n\n    /**\n     * @property subsystems\n     * @type {Array}\n     */\n    this.subsystems = [];\n\n    this.addBodyEvent = {\n        type:\"addBody\",\n        body : null,\n    };\n\n    this.removeBodyEvent = {\n        type:\"removeBody\",\n        body : null,\n    };\n}\nWorld.prototype = new EventTarget();\n\n// Temp stuff\nvar tmpAABB1 = new AABB();\nvar tmpArray1 = [];\nvar tmpRay = new Ray();\n\n/**\n * Get the contact material between materials m1 and m2\n * @method getContactMaterial\n * @param {Material} m1\n * @param {Material} m2\n * @return {ContactMaterial} The contact material if it was found.\n */\nWorld.prototype.getContactMaterial = function(m1,m2){\n    return this.contactMaterialTable.get(m1.id,m2.id); //this.contactmaterials[this.mats2cmat[i+j*this.materials.length]];\n};\n\n/**\n * Get number of objects in the world.\n * @method numObjects\n * @return {Number}\n * @deprecated\n */\nWorld.prototype.numObjects = function(){\n    return this.bodies.length;\n};\n\n/**\n * Store old collision state info\n * @method collisionMatrixTick\n */\nWorld.prototype.collisionMatrixTick = function(){\n\tvar temp = this.collisionMatrixPrevious;\n\tthis.collisionMatrixPrevious = this.collisionMatrix;\n\tthis.collisionMatrix = temp;\n\tthis.collisionMatrix.reset();\n};\n\n/**\n * Add a rigid body to the simulation.\n * @method add\n * @param {Body} body\n * @todo If the simulation has not yet started, why recrete and copy arrays for each body? Accumulate in dynamic arrays in this case.\n * @todo Adding an array of bodies should be possible. This would save some loops too\n * @deprecated Use .addBody instead\n */\nWorld.prototype.add = World.prototype.addBody = function(body){\n    if(this.bodies.indexOf(body) !== -1){\n        return;\n    }\n    body.index = this.bodies.length;\n    this.bodies.push(body);\n    body.world = this;\n    body.initPosition.copy(body.position);\n    body.initVelocity.copy(body.velocity);\n    body.timeLastSleepy = this.time;\n    if(body instanceof Body){\n        body.initAngularVelocity.copy(body.angularVelocity);\n        body.initQuaternion.copy(body.quaternion);\n    }\n\tthis.collisionMatrix.setNumObjects(this.bodies.length);\n    this.addBodyEvent.body = body;\n    this.dispatchEvent(this.addBodyEvent);\n};\n\n/**\n * Add a constraint to the simulation.\n * @method addConstraint\n * @param {Constraint} c\n */\nWorld.prototype.addConstraint = function(c){\n    this.constraints.push(c);\n};\n\n/**\n * Removes a constraint\n * @method removeConstraint\n * @param {Constraint} c\n */\nWorld.prototype.removeConstraint = function(c){\n    var idx = this.constraints.indexOf(c);\n    if(idx!==-1){\n        this.constraints.splice(idx,1);\n    }\n};\n\n/**\n * Raycast test\n * @method rayTest\n * @param {Vec3} from\n * @param {Vec3} to\n * @param {Function|RaycastResult} result\n * @deprecated Use .raycastAll, .raycastClosest or .raycastAny instead.\n */\nWorld.prototype.rayTest = function(from, to, result){\n    if(result instanceof RaycastResult){\n        // Do raycastclosest\n        this.raycastClosest(from, to, {\n            skipBackfaces: true\n        }, result);\n    } else {\n        // Do raycastAll\n        this.raycastAll(from, to, {\n            skipBackfaces: true\n        }, result);\n    }\n};\n\n/**\n * Ray cast against all bodies. The provided callback will be executed for each hit with a RaycastResult as single argument.\n * @method raycastAll\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {Function} callback\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastAll = function(from, to, options, callback){\n    options.mode = Ray.ALL;\n    options.from = from;\n    options.to = to;\n    options.callback = callback;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Ray cast, and stop at the first result. Note that the order is random - but the method is fast.\n * @method raycastAny\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {RaycastResult} result\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastAny = function(from, to, options, result){\n    options.mode = Ray.ANY;\n    options.from = from;\n    options.to = to;\n    options.result = result;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Ray cast, and return information of the closest hit.\n * @method raycastClosest\n * @param  {Vec3} from\n * @param  {Vec3} to\n * @param  {Object} options\n * @param  {number} [options.collisionFilterMask=-1]\n * @param  {number} [options.collisionFilterGroup=-1]\n * @param  {boolean} [options.skipBackfaces=false]\n * @param  {boolean} [options.checkCollisionResponse=true]\n * @param  {RaycastResult} result\n * @return {boolean} True if any body was hit.\n */\nWorld.prototype.raycastClosest = function(from, to, options, result){\n    options.mode = Ray.CLOSEST;\n    options.from = from;\n    options.to = to;\n    options.result = result;\n    return tmpRay.intersectWorld(this, options);\n};\n\n/**\n * Remove a rigid body from the simulation.\n * @method remove\n * @param {Body} body\n * @deprecated Use .removeBody instead\n */\nWorld.prototype.remove = function(body){\n    body.world = null;\n    var n = this.bodies.length-1,\n        bodies = this.bodies,\n        idx = bodies.indexOf(body);\n    if(idx !== -1){\n        bodies.splice(idx, 1); // Todo: should use a garbage free method\n\n        // Recompute index\n        for(var i=0; i!==bodies.length; i++){\n            bodies[i].index = i;\n        }\n\n        this.collisionMatrix.setNumObjects(n);\n        this.removeBodyEvent.body = body;\n        this.dispatchEvent(this.removeBodyEvent);\n    }\n};\n\n/**\n * Remove a rigid body from the simulation.\n * @method removeBody\n * @param {Body} body\n */\nWorld.prototype.removeBody = World.prototype.remove;\n\n/**\n * Adds a material to the World.\n * @method addMaterial\n * @param {Material} m\n * @todo Necessary?\n */\nWorld.prototype.addMaterial = function(m){\n    this.materials.push(m);\n};\n\n/**\n * Adds a contact material to the World\n * @method addContactMaterial\n * @param {ContactMaterial} cmat\n */\nWorld.prototype.addContactMaterial = function(cmat) {\n\n    // Add contact material\n    this.contactmaterials.push(cmat);\n\n    // Add current contact material to the material table\n    this.contactMaterialTable.set(cmat.materials[0].id,cmat.materials[1].id,cmat);\n};\n\n// performance.now()\nif(typeof performance === 'undefined'){\n    performance = {};\n}\nif(!performance.now){\n    var nowOffset = Date.now();\n    if (performance.timing && performance.timing.navigationStart){\n        nowOffset = performance.timing.navigationStart;\n    }\n    performance.now = function(){\n        return Date.now() - nowOffset;\n    };\n}\n\nvar step_tmp1 = new Vec3();\n\n/**\n * Step the physics world forward in time.\n *\n * There are two modes. The simple mode is fixed timestepping without interpolation. In this case you only use the first argument. The second case uses interpolation. In that you also provide the time since the function was last used, as well as the maximum fixed timesteps to take.\n *\n * @method step\n * @param {Number} dt                       The fixed time step size to use.\n * @param {Number} [timeSinceLastCalled]    The time elapsed since the function was last called.\n * @param {Number} [maxSubSteps=10]         Maximum number of fixed steps to take per function call.\n *\n * @example\n *     // fixed timestepping without interpolation\n *     world.step(1/60);\n *\n * @see http://bulletphysics.org/mediawiki-1.5.8/index.php/Stepping_The_World\n */\nWorld.prototype.step = function(dt, timeSinceLastCalled, maxSubSteps){\n    maxSubSteps = maxSubSteps || 10;\n    timeSinceLastCalled = timeSinceLastCalled || 0;\n\n    if(timeSinceLastCalled === 0){ // Fixed, simple stepping\n\n        this.internalStep(dt);\n\n        // Increment time\n        this.time += dt;\n\n    } else {\n\n        // Compute the number of fixed steps we should have taken since the last step\n        var internalSteps = Math.floor((this.time + timeSinceLastCalled) / dt) - Math.floor(this.time / dt);\n        internalSteps = Math.min(internalSteps,maxSubSteps);\n\n        // Do some fixed steps to catch up\n        var t0 = performance.now();\n        for(var i=0; i!==internalSteps; i++){\n            this.internalStep(dt);\n            if(performance.now() - t0 > dt * 1000){\n                // We are slower than real-time. Better bail out.\n                break;\n            }\n        }\n\n        // Increment internal clock\n        this.time += timeSinceLastCalled;\n\n        // Compute \"Left over\" time step\n        var h = this.time % dt;\n        var h_div_dt = h / dt;\n        var interpvelo = step_tmp1;\n        var bodies = this.bodies;\n\n        for(var j=0; j !== bodies.length; j++){\n            var b = bodies[j];\n            if(b.type !== Body.STATIC && b.sleepState !== Body.SLEEPING){\n\n                // Interpolate\n                b.position.vsub(b.previousPosition, interpvelo);\n                interpvelo.scale(h_div_dt, interpvelo);\n                b.position.vadd(interpvelo, b.interpolatedPosition);\n\n                // TODO: interpolate quaternion\n                // b.interpolatedAngle = b.angle + (b.angle - b.previousAngle) * h_div_dt;\n\n            } else {\n\n                // For static bodies, just copy. Who else will do it?\n                b.interpolatedPosition.copy(b.position);\n                b.interpolatedQuaternion.copy(b.quaternion);\n            }\n        }\n    }\n};\n\n/**\n * Step the simulation\n * @method step\n * @param {Number} dt\n */\nvar World_step_postStepEvent = {type:\"postStep\"}, // Reusable event objects to save memory\n    World_step_preStepEvent = {type:\"preStep\"},\n    World_step_collideEvent = {type:\"collide\", body:null, contact:null },\n    World_step_oldContacts = [], // Pools for unused objects\n    World_step_frictionEquationPool = [],\n    World_step_p1 = [], // Reusable arrays for collision pairs\n    World_step_p2 = [],\n    World_step_gvec = new Vec3(), // Temporary vectors and quats\n    World_step_vi = new Vec3(),\n    World_step_vj = new Vec3(),\n    World_step_wi = new Vec3(),\n    World_step_wj = new Vec3(),\n    World_step_t1 = new Vec3(),\n    World_step_t2 = new Vec3(),\n    World_step_rixn = new Vec3(),\n    World_step_rjxn = new Vec3(),\n    World_step_step_q = new Quaternion(),\n    World_step_step_w = new Quaternion(),\n    World_step_step_wq = new Quaternion(),\n    invI_tau_dt = new Vec3();\nWorld.prototype.internalStep = function(dt){\n    this.dt = dt;\n\n    var world = this,\n        that = this,\n        contacts = this.contacts,\n        p1 = World_step_p1,\n        p2 = World_step_p2,\n        N = this.numObjects(),\n        bodies = this.bodies,\n        solver = this.solver,\n        gravity = this.gravity,\n        doProfiling = this.doProfiling,\n        profile = this.profile,\n        DYNAMIC = Body.DYNAMIC,\n        profilingStart,\n        constraints = this.constraints,\n        frictionEquationPool = World_step_frictionEquationPool,\n        gnorm = gravity.norm(),\n        gx = gravity.x,\n        gy = gravity.y,\n        gz = gravity.z,\n        i=0;\n\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n\n    // Add gravity to all objects\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\n            var f = bi.force, m = bi.mass;\n            f.x += m*gx;\n            f.y += m*gy;\n            f.z += m*gz;\n        }\n    }\n\n    // Update subsystems\n    for(var i=0, Nsubsystems=this.subsystems.length; i!==Nsubsystems; i++){\n        this.subsystems[i].update();\n    }\n\n    // Collision detection\n    if(doProfiling){ profilingStart = performance.now(); }\n    p1.length = 0; // Clean up pair arrays from last step\n    p2.length = 0;\n    this.broadphase.collisionPairs(this,p1,p2);\n    if(doProfiling){ profile.broadphase = performance.now() - profilingStart; }\n\n    // Remove constrained pairs with collideConnected == false\n    var Nconstraints = constraints.length;\n    for(i=0; i!==Nconstraints; i++){\n        var c = constraints[i];\n        if(!c.collideConnected){\n            for(var j = p1.length-1; j>=0; j-=1){\n                if( (c.bodyA === p1[j] && c.bodyB === p2[j]) ||\n                    (c.bodyB === p1[j] && c.bodyA === p2[j])){\n                    p1.splice(j, 1);\n                    p2.splice(j, 1);\n                }\n            }\n        }\n    }\n\n    this.collisionMatrixTick();\n\n    // Generate contacts\n    if(doProfiling){ profilingStart = performance.now(); }\n    var oldcontacts = World_step_oldContacts;\n    var NoldContacts = contacts.length;\n\n    for(i=0; i!==NoldContacts; i++){\n        oldcontacts.push(contacts[i]);\n    }\n    contacts.length = 0;\n\n    // Transfer FrictionEquation from current list to the pool for reuse\n    var NoldFrictionEquations = this.frictionEquations.length;\n    for(i=0; i!==NoldFrictionEquations; i++){\n        frictionEquationPool.push(this.frictionEquations[i]);\n    }\n    this.frictionEquations.length = 0;\n\n    this.narrowphase.getContacts(\n        p1,\n        p2,\n        this,\n        contacts,\n        oldcontacts, // To be reused\n        this.frictionEquations,\n        frictionEquationPool\n    );\n\n    if(doProfiling){\n        profile.narrowphase = performance.now() - profilingStart;\n    }\n\n    // Loop over all collisions\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n\n    // Add all friction eqs\n    for (var i = 0; i < this.frictionEquations.length; i++) {\n        solver.addEquation(this.frictionEquations[i]);\n    }\n\n    var ncontacts = contacts.length;\n    for(var k=0; k!==ncontacts; k++){\n\n        // Current contact\n        var c = contacts[k];\n\n        // Get current collision indeces\n        var bi = c.bi,\n            bj = c.bj,\n            si = c.si,\n            sj = c.sj;\n\n        // Get collision properties\n        var cm;\n        if(bi.material && bj.material){\n            cm = this.getContactMaterial(bi.material,bj.material) || this.defaultContactMaterial;\n        } else {\n            cm = this.defaultContactMaterial;\n        }\n\n        // c.enabled = bi.collisionResponse && bj.collisionResponse && si.collisionResponse && sj.collisionResponse;\n\n        var mu = cm.friction;\n        // c.restitution = cm.restitution;\n\n        // If friction or restitution were specified in the material, use them\n        if(bi.material && bj.material){\n            if(bi.material.friction >= 0 && bj.material.friction >= 0){\n                mu = bi.material.friction * bj.material.friction;\n            }\n\n            if(bi.material.restitution >= 0 && bj.material.restitution >= 0){\n                c.restitution = bi.material.restitution * bj.material.restitution;\n            }\n        }\n\n\t\t// c.setSpookParams(\n  //           cm.contactEquationStiffness,\n  //           cm.contactEquationRelaxation,\n  //           dt\n  //       );\n\n\t\tsolver.addEquation(c);\n\n\t\t// // Add friction constraint equation\n\t\t// if(mu > 0){\n\n\t\t// \t// Create 2 tangent equations\n\t\t// \tvar mug = mu * gnorm;\n\t\t// \tvar reducedMass = (bi.invMass + bj.invMass);\n\t\t// \tif(reducedMass > 0){\n\t\t// \t\treducedMass = 1/reducedMass;\n\t\t// \t}\n\t\t// \tvar pool = frictionEquationPool;\n\t\t// \tvar c1 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\n\t\t// \tvar c2 = pool.length ? pool.pop() : new FrictionEquation(bi,bj,mug*reducedMass);\n\t\t// \tthis.frictionEquations.push(c1, c2);\n\n\t\t// \tc1.bi = c2.bi = bi;\n\t\t// \tc1.bj = c2.bj = bj;\n\t\t// \tc1.minForce = c2.minForce = -mug*reducedMass;\n\t\t// \tc1.maxForce = c2.maxForce = mug*reducedMass;\n\n\t\t// \t// Copy over the relative vectors\n\t\t// \tc1.ri.copy(c.ri);\n\t\t// \tc1.rj.copy(c.rj);\n\t\t// \tc2.ri.copy(c.ri);\n\t\t// \tc2.rj.copy(c.rj);\n\n\t\t// \t// Construct tangents\n\t\t// \tc.ni.tangents(c1.t, c2.t);\n\n  //           // Set spook params\n  //           c1.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\n  //           c2.setSpookParams(cm.frictionEquationStiffness, cm.frictionEquationRelaxation, dt);\n\n  //           c1.enabled = c2.enabled = c.enabled;\n\n\t\t// \t// Add equations to solver\n\t\t// \tsolver.addEquation(c1);\n\t\t// \tsolver.addEquation(c2);\n\t\t// }\n\n        if( bi.allowSleep &&\n            bi.type === Body.DYNAMIC &&\n            bi.sleepState  === Body.SLEEPING &&\n            bj.sleepState  === Body.AWAKE &&\n            bj.type !== Body.STATIC\n        ){\n            var speedSquaredB = bj.velocity.norm2() + bj.angularVelocity.norm2();\n            var speedLimitSquaredB = Math.pow(bj.sleepSpeedLimit,2);\n            if(speedSquaredB >= speedLimitSquaredB*2){\n                bi._wakeUpAfterNarrowphase = true;\n            }\n        }\n\n        if( bj.allowSleep &&\n            bj.type === Body.DYNAMIC &&\n            bj.sleepState  === Body.SLEEPING &&\n            bi.sleepState  === Body.AWAKE &&\n            bi.type !== Body.STATIC\n        ){\n            var speedSquaredA = bi.velocity.norm2() + bi.angularVelocity.norm2();\n            var speedLimitSquaredA = Math.pow(bi.sleepSpeedLimit,2);\n            if(speedSquaredA >= speedLimitSquaredA*2){\n                bj._wakeUpAfterNarrowphase = true;\n            }\n        }\n\n        // Now we know that i and j are in contact. Set collision matrix state\n\t\tthis.collisionMatrix.set(bi, bj, true);\n\n        if (!this.collisionMatrixPrevious.get(bi, bj)) {\n            // First contact!\n            // We reuse the collideEvent object, otherwise we will end up creating new objects for each new contact, even if there's no event listener attached.\n            World_step_collideEvent.body = bj;\n            World_step_collideEvent.contact = c;\n            bi.dispatchEvent(World_step_collideEvent);\n\n            World_step_collideEvent.body = bi;\n            bj.dispatchEvent(World_step_collideEvent);\n        }\n    }\n    if(doProfiling){\n        profile.makeContactConstraints = performance.now() - profilingStart;\n        profilingStart = performance.now();\n    }\n\n    // Wake up bodies\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi._wakeUpAfterNarrowphase){\n            bi.wakeUp();\n            bi._wakeUpAfterNarrowphase = false;\n        }\n    }\n\n    // Add user-added constraints\n    var Nconstraints = constraints.length;\n    for(i=0; i!==Nconstraints; i++){\n        var c = constraints[i];\n        c.update();\n        for(var j=0, Neq=c.equations.length; j!==Neq; j++){\n            var eq = c.equations[j];\n            solver.addEquation(eq);\n        }\n    }\n\n    // Solve the constrained system\n    solver.solve(dt,this);\n\n    if(doProfiling){\n        profile.solve = performance.now() - profilingStart;\n    }\n\n    // Remove all contacts from solver\n    solver.removeAllEquations();\n\n    // Apply damping, see http://code.google.com/p/bullet/issues/detail?id=74 for details\n    var pow = Math.pow;\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.type & DYNAMIC){ // Only for dynamic bodies\n            var ld = pow(1.0 - bi.linearDamping,dt);\n            var v = bi.velocity;\n            v.mult(ld,v);\n            var av = bi.angularVelocity;\n            if(av){\n                var ad = pow(1.0 - bi.angularDamping,dt);\n                av.mult(ad,av);\n            }\n        }\n    }\n\n    this.dispatchEvent(World_step_preStepEvent);\n\n    // Invoke pre-step callbacks\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        if(bi.preStep){\n            bi.preStep.call(bi);\n        }\n    }\n\n    // Leap frog\n    // vnew = v + h*f/m\n    // xnew = x + h*vnew\n    if(doProfiling){\n        profilingStart = performance.now();\n    }\n    var q = World_step_step_q;\n    var w = World_step_step_w;\n    var wq = World_step_step_wq;\n    var stepnumber = this.stepnumber;\n    var DYNAMIC_OR_KINEMATIC = Body.DYNAMIC | Body.KINEMATIC;\n    var quatNormalize = stepnumber % (this.quatNormalizeSkip+1) === 0;\n    var quatNormalizeFast = this.quatNormalizeFast;\n    var half_dt = dt * 0.5;\n    var PLANE = Shape.types.PLANE,\n        CONVEX = Shape.types.CONVEXPOLYHEDRON;\n\n    for(i=0; i!==N; i++){\n        var b = bodies[i],\n            force = b.force,\n            tau = b.torque;\n        if((b.type & DYNAMIC_OR_KINEMATIC) && b.sleepState !== Body.SLEEPING){ // Only for dynamic\n            var velo = b.velocity,\n                angularVelo = b.angularVelocity,\n                pos = b.position,\n                quat = b.quaternion,\n                invMass = b.invMass,\n                invInertia = b.invInertiaWorld;\n\n            velo.x += force.x * invMass * dt;\n            velo.y += force.y * invMass * dt;\n            velo.z += force.z * invMass * dt;\n\n            if(b.angularVelocity){\n                invInertia.vmult(tau,invI_tau_dt);\n                invI_tau_dt.mult(dt,invI_tau_dt);\n                invI_tau_dt.vadd(angularVelo,angularVelo);\n            }\n\n            // Use new velocity  - leap frog\n            pos.x += velo.x * dt;\n            pos.y += velo.y * dt;\n            pos.z += velo.z * dt;\n\n            if(b.angularVelocity){\n                w.set(angularVelo.x, angularVelo.y, angularVelo.z, 0);\n                w.mult(quat,wq);\n                quat.x += half_dt * wq.x;\n                quat.y += half_dt * wq.y;\n                quat.z += half_dt * wq.z;\n                quat.w += half_dt * wq.w;\n                if(quatNormalize){\n                    if(quatNormalizeFast){\n                        quat.normalizeFast();\n                    } else {\n                        quat.normalize();\n                    }\n                }\n            }\n\n            if(b.aabb){\n                b.aabbNeedsUpdate = true;\n            }\n\n            // Update world inertia\n            if(b.updateInertiaWorld){\n                b.updateInertiaWorld();\n            }\n        }\n    }\n    this.clearForces();\n\n    this.broadphase.dirty = true;\n\n    if(doProfiling){\n        profile.integrate = performance.now() - profilingStart;\n    }\n\n    // Update world time\n    this.time += dt;\n    this.stepnumber += 1;\n\n    this.dispatchEvent(World_step_postStepEvent);\n\n    // Invoke post-step callbacks\n    for(i=0; i!==N; i++){\n        var bi = bodies[i];\n        var postStep = bi.postStep;\n        if(postStep){\n            postStep.call(bi);\n        }\n    }\n\n    // Sleeping update\n    if(this.allowSleep){\n        for(i=0; i!==N; i++){\n            bodies[i].sleepTick(this.time);\n        }\n    }\n};\n\n/**\n * Sets all body forces in the world to zero.\n * @method clearForces\n */\nWorld.prototype.clearForces = function(){\n    var bodies = this.bodies;\n    var N = bodies.length;\n    for(var i=0; i !== N; i++){\n        var b = bodies[i],\n            force = b.force,\n            tau = b.torque;\n\n        b.force.set(0,0,0);\n        b.torque.set(0,0,0);\n    }\n};\n\n},{\"../collision/AABB\":3,\"../collision/ArrayCollisionMatrix\":4,\"../collision/NaiveBroadphase\":7,\"../collision/Ray\":9,\"../collision/RaycastResult\":10,\"../equations/ContactEquation\":19,\"../equations/FrictionEquation\":21,\"../material/ContactMaterial\":24,\"../material/Material\":25,\"../math/Quaternion\":28,\"../math/Vec3\":30,\"../objects/Body\":31,\"../shapes/Shape\":43,\"../solver/GSSolver\":46,\"../utils/EventTarget\":49,\"../utils/TupleDictionary\":52,\"../utils/Vec3Pool\":54,\"./Narrowphase\":55}]},{},[2])\n(2)\n});","import CANNON from '../../../node_modules/cannon/build/cannon';\r\n\r\nconst fixedTimeStep = 1 / 60;\r\nconst maxSubSteps = 3;\r\n\r\nexport default class CannonWorld extends CANNON.World {\r\n  constructor() {\r\n    super();\r\n    this.gravity.set(0, -9.82, 0);\r\n  }\r\n\r\n  setGravity(x, y, z) {\r\n    this.gravity.set(x, y, z);\r\n  }\r\n  \r\n  add(comp) {\r\n    this.addBody(comp.collider);\r\n  }\r\n\r\n  remove(comp) {\r\n    this.removeBody(comp.collider);\r\n  }\r\n\r\n  step(dt) {\r\n    super.step(fixedTimeStep, dt, maxSubSteps);\r\n  }\r\n}\r\n","import { System } from '../../ecs';\r\nimport BuiltInWorld from './built-in-world';\r\nimport CannonWorld from './cannon-world';\r\n\r\nconst enums = {\r\n  ENGINE_BUILTIN: 0,\r\n  ENGINE_CANNON: 1,\r\n};\r\n\r\nconst fixedTimeStep = 1 / 60;\r\nconst maxSubSteps = 3;\r\n\r\nexport default class PhysicsSystem extends System {\r\n  constructor() {\r\n    super();\r\n    this._engine = enums.ENGINE_CANNON;\r\n    this._fullSimulation = false;\r\n  }\r\n\r\n  init() {\r\n    switch (this._engine) {\r\n      case enums.ENGINE_BUILTIN:\r\n        this.world = new BuiltInWorld();\r\n        break;\r\n      case enums.ENGINE_CANNON:\r\n        this.world = new CannonWorld();\r\n        break;\r\n    }\r\n  }\r\n  \r\n  add(comp) {\r\n    this.world.add(comp);\r\n  }\r\n\r\n  remove(comp) {\r\n    this.world.remove(comp);\r\n  }\r\n\r\n  postTick() {\r\n    if (!this._fullSimulation) return;\r\n    this.world.step(fixedTimeStep, this._app.deltaTime, maxSubSteps);\r\n  }\r\n}\r\n\r\nObject.assign(PhysicsSystem, enums);\r\n","export default class BuiltInCollider {\r\n  constructor() {\r\n  }\r\n  \r\n  onDestroy() {\r\n  }\r\n}\r\n","import CANNON from '../../../node_modules/cannon/build/cannon';\r\nimport { vec3, quat } from '../../vmath';\r\n\r\nlet v3_tmp = vec3.zero();\r\nlet qt_tmp = quat.create();\r\n\r\nfunction maxComponent(v) { return Math.max(Math.max(v.x, v.y), v.z); }\r\n\r\nexport default class CannonCollider extends CANNON.Body {\r\n  constructor(options) {\r\n    super(options);\r\n    // save the entity reference\r\n    this._entity = options._entity;\r\n    this._world = options._system.world;\r\n    this._size = vec3.new(1, 1, 1);\r\n    // create shape\r\n    this.shapeType = options.type;\r\n    this.shape = this.createShape(options);\r\n    this.addShape(this.shape, new CANNON.Vec3().copy(options.center));\r\n    // dispatch collision events to entity\r\n    this.addEventListener('collide', (event) => {\r\n      // TODO: uniform event interface across engines\r\n      this._entity.emit('collide', event);\r\n    });\r\n    this.updateIn = this.updateIn.bind(this);\r\n    this.updateOut = this.updateOut.bind(this);\r\n    this.updateIn(); // TODO: emit event after transform change perhaps?\r\n  }\r\n\r\n  setUpdateMode(options) {\r\n    if (options.in) this._world.addEventListener('preStep', this.updateIn);\r\n    else this._world.removeEventListener('preStep', this.updateIn);\r\n    if (options.out) this._world.addEventListener('postStep', this.updateOut);\r\n    else this._world.removeEventListener('postStep', this.updateOut);\r\n  }\r\n  \r\n  createShape(options) {\r\n    this._entity.getWorldScale(v3_tmp);\r\n    switch (options.type) {\r\n      case 'box':\r\n        vec3.scale(v3_tmp, vec3.mul(v3_tmp, v3_tmp, options.size), 0.5);\r\n        return new CANNON.Box(new CANNON.Vec3(v3_tmp.x, v3_tmp.y, v3_tmp.z));\r\n      case 'sphere':\r\n        return new CANNON.Sphere(options.radius * maxComponent(v3_tmp));\r\n      default:\r\n        return new CANNON.Shape();\r\n    }\r\n  }\r\n\r\n  setFixedRotation(val) {\r\n    this.fixedRotation = val;\r\n    this.updateMassProperties();\r\n  }\r\n\r\n  setIsKinematic(val) {\r\n    this._isKinematic = val;\r\n    if (val) this.type = CANNON.Body.KINEMATIC;\r\n    else this.type = (this.mass <= 0 ?\r\n      CANNON.Body.STATIC : CANNON.Body.DYNAMIC);\r\n    if (this.type !== CANNON.Body.STATIC)\r\n      this.setUpdateMode({out: true});\r\n  }\r\n\r\n  /**\r\n   * Set the mass of the body, note that air resistance is not \r\n   * simulated so the value here doesn't affect the final velocity\r\n   * @param {number} val the new mass\r\n   */\r\n  setMass(val) {\r\n    this.mass = val;\r\n    this.setIsKinematic(this._isKinematic);\r\n    this.updateMassProperties();\r\n  }\r\n\r\n  setCenter(val) {\r\n    this.shapeOffsets[0].set(val.x, val.y, val.z);\r\n    this.updateBoundingRadius();\r\n  }\r\n\r\n  setSize(val) {\r\n    if (this.shapeType != 'box') return;\r\n    if (!val) val = this._size;\r\n    this._entity.getWorldScale(v3_tmp);\r\n    vec3.scale(v3_tmp, vec3.mul(v3_tmp, v3_tmp, val), 0.5);\r\n    this.shape.halfExtents.set(v3_tmp.x, v3_tmp.y, v3_tmp.z);\r\n    this.shape.updateConvexPolyhedronRepresentation();\r\n    this.shape.updateBoundingSphereRadius();\r\n    this.updateBoundingRadius();\r\n    this._size = val;\r\n  }\r\n\r\n  setRadius(val) {\r\n    if (this.shapeType != 'sphere') return;\r\n    this._entity.getWorldScale(v3_tmp);\r\n    this.shape.radius = val * maxComponent(v3_tmp);\r\n    this.shape.updateBoundingSphereRadius();\r\n    this.updateBoundingRadius();\r\n  }\r\n\r\n  manualUpdate() {\r\n    this.updateIn();\r\n    this.setSize();\r\n  }\r\n\r\n  updateIn() {\r\n    this._entity._getWorldPosAndRot(v3_tmp, qt_tmp);\r\n    this.position.set(v3_tmp.x, v3_tmp.y, v3_tmp.z);\r\n    if (!this.fixedRotation)\r\n      this.quaternion.set(qt_tmp.x, qt_tmp.y, qt_tmp.z, qt_tmp.w);\r\n  }\r\n\r\n  updateOut() {\r\n    this._entity.setWorldPos(this.position);\r\n    if (!this.fixedRotation)\r\n      this._entity.setWorldRot(this.quaternion);\r\n  }\r\n}\r\n","import { Component } from '../../ecs';\r\nimport PhysicsSystem from './physics-system';\r\nimport BuiltInCollider from './built-in-collider';\r\nimport CannonCollider from './cannon-collider';\r\n\r\nexport default class ColliderComponent extends Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n  \r\n  onInit() {\r\n    switch (this._system._engine) {\r\n      case PhysicsSystem.ENGINE_BUILTIN:\r\n        this.collider = new BuiltInCollider(this);\r\n        break;\r\n      case PhysicsSystem.ENGINE_CANNON:\r\n        this.collider = new CannonCollider(this);\r\n        break;\r\n    }\r\n    /**\r\n     * **@schema** The collider type\r\n     * @type {AudioClip}\r\n     */\r\n    this.type = this._type;\r\n    this.mass = this._mass;\r\n    this.isKinematic = this._isKinematic;\r\n    this.center = this._center;\r\n    this.size = this._size;\r\n    this.radius = this._radius;\r\n\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n}\r\n\r\nColliderComponent.schema = {\r\n  type: {\r\n    type: 'string',\r\n    default: 'box'\r\n  },\r\n  isKinematic: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      this._isKinematic = val;\r\n      this.collider.setIsKinematic(val);\r\n      if (val) this._system._fullSimulation = true;\r\n    }\r\n  },\r\n  mass: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      this._mass = val;\r\n      this.collider.setMass(val);\r\n      if (val > 0) this._system._fullSimulation = true;\r\n    }\r\n  },\r\n  center: {\r\n    type: 'vec3',\r\n    default: [0, 0, 0],\r\n    set(val) {\r\n      this._center = val;\r\n      this.collider.setCenter(val);\r\n    }\r\n  },\r\n  size: {\r\n    type: 'vec3',\r\n    default: [2, 2, 2],\r\n    set(val) {\r\n      this._size = val;\r\n      this.collider.setSize(val);\r\n    }\r\n  },\r\n  radius: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._radius = val;\r\n      this.collider.setRadius(val);\r\n    }\r\n  }\r\n};","import { Component } from '../ecs';\r\nimport renderer from '../renderer';\r\nimport { box } from '../primitives';\r\nimport Material from '../assets/material';\r\nimport enums from '../renderer';\r\n\r\nexport default class SkyboxComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this._model = new renderer.Model();\r\n    this._attachedCamera = null;\r\n\r\n    /**\r\n     * **@schema** The material of the model\r\n     * @type {Material}\r\n     */\r\n    this.material = this._material;\r\n    /**\r\n     * **@schema** The material of the model\r\n     * @type {TextureCube}\r\n     */\r\n    this.cubeMap = this._cubeMap;\r\n  }\r\n  \r\n  onInit() {\r\n    this._model.setNode(this._entity);\r\n\r\n    let ia = renderer.createIA(this._app.device, box(2, 2, 2, {\r\n      widthSegments: 1,\r\n      heightSegments: 1,\r\n      lengthSegments: 1,\r\n    }));\r\n    this._model.setInputAssembler(ia);\r\n\r\n    if (this._material === null) {\r\n      this._material = new Material();\r\n      this._material.effect = this._app.assets.get('builtin-effect-skybox');\r\n    }\r\n\r\n    this._updateMaterialParams();\r\n    this._model.setEffect(this._material.effectInst);\r\n  }\r\n\r\n  onEnable() {\r\n    if (this._entity != null) {\r\n      let cameraComponent = this._entity.getComp('Camera');\r\n      if (cameraComponent != null && (cameraComponent._clearFlags & enums.CLEAR_SKYBOX)) {\r\n        this._attachedCamera = cameraComponent._camera;\r\n        this._attachedCamera._clearModel = this._model;\r\n      }\r\n    }\r\n  }\r\n\r\n  onDisable() {\r\n    if (this._attachedCamera != null) {\r\n      this._attachedCamera._clearModel = null;\r\n      this._attachedCamera = null;\r\n    }\r\n  }\r\n\r\n  _updateMaterialParams() {\r\n    if (this._material === null || this._material === undefined) {\r\n      return;\r\n    }\r\n    if (this._cubeMap !== null && this._cubeMap !== undefined) {\r\n      this._material.setProperty('cubeMap', this._cubeMap);\r\n    }\r\n  }\r\n}\r\n\r\nSkyboxComponent.schema = {\r\n  material: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      this._material = val;\r\n      if (!this._material) return;\r\n      this._updateMaterialParams();\r\n      this._model.setEffect(val.effectInst);\r\n    }\r\n  },\r\n\r\n  cubeMap: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      this._cubeMap = val;\r\n      this._updateMaterialParams();\r\n    }\r\n  }\r\n};","import { vec3, color4 } from '../../vmath';\r\n\r\nexport default class Particle {\r\n  constructor(particleSystem) {\r\n    this.particleSystem = particleSystem;\r\n    this.position = vec3.new(0, 0, 0);\r\n    this.velocity = vec3.new(0, 0, 0);\r\n    this.animatedVelocity = vec3.new(0, 0, 0);\r\n    this.ultimateVelocity = vec3.new(0, 0, 0);\r\n    this.angularVelocity = vec3.new(0, 0, 0);\r\n    this.axisOfRotation = vec3.new(0, 0, 0);\r\n    this.rotation = vec3.new(0, 0, 0);\r\n    this.startSize = vec3.new(0, 0, 0);\r\n    this.size = vec3.zero();\r\n    this.startColor = color4.new(1, 1, 1, 1);\r\n    this.color = color4.create();\r\n    this.randomSeed = 0; // uint\r\n    this.remainingLifetime = 0.0;\r\n    this.startLifetime = 0.0;\r\n    this.emitAccumulator0 = 0.0;\r\n    this.emitAccumulator1 = 0.0;\r\n    this.frameIndex = 0.0;\r\n  }\r\n}","import { color3, color4, repeat } from '../../../vmath';\r\n\r\nexport class ColorKey {\r\n\r\n}\r\n\r\nColorKey.schema = {\r\n  color: {\r\n    type: 'color3',\r\n    default: [1, 1, 1],\r\n  },\r\n\r\n  time: {\r\n    type: 'number',\r\n    default: 0.0,\r\n  }\r\n};\r\n\r\nexport class AlphaKey {\r\n\r\n}\r\n\r\nAlphaKey.schema = {\r\n  alpha: {\r\n    type: 'number',\r\n    default: 1.0,\r\n  },\r\n\r\n  time: {\r\n    type: 'number',\r\n    default: 0.0,\r\n  }\r\n};\r\n\r\nexport default class Gradient {\r\n  constructor() {\r\n    this._rgb = color3.new(1, 1, 1);\r\n    this._rgba = color4.new(1, 1, 1, 1);\r\n  }\r\n\r\n  setKeys(colorKeys, alphaKeys) {\r\n    this._colorKeys = colorKeys;\r\n    this._alphaKeys = alphaKeys;\r\n  }\r\n\r\n  sortKeys() {\r\n    if (this._colorKeys.length > 1) {\r\n      this._colorKeys.sort((a, b) => a.time - b.time);\r\n    }\r\n    if (this._alphaKeys.length > 1) {\r\n      this._alphaKeys.sort((a, b) => a.time - b.time);\r\n    }\r\n  }\r\n\r\n  getRGB(time) {\r\n    if (this._colorKeys.length > 1) {\r\n      time = repeat(time, 1);\r\n      for (let i = 1; i < this._colorKeys.length; ++i) {\r\n        let preTime = this._colorKeys[i - 1].time;\r\n        let curTime = this._colorKeys[i].time;\r\n        if (time >= preTime && time < curTime) {\r\n          if(this._mode === 'fixed') {\r\n            return this._colorKeys[i].color;\r\n          }\r\n          let factor = (time - preTime) / (curTime - preTime);\r\n          color3.lerp(this._rgb, this._colorKeys[i - 1].color, this._colorKeys[i].color, factor);\r\n          return this._rgb;\r\n        }\r\n      }\r\n      console.warn('something went wrong. can not get gradient color.');\r\n    } else if (this._colorKeys.length === 1) {\r\n      return this._colorKeys[0].color;\r\n    } else {\r\n      return color3.set(this._rgb, 1, 1, 1);\r\n    }\r\n  }\r\n\r\n  getAlpha(time) {\r\n    if (this._alphaKeys.length > 1) {\r\n      time = repeat(time, 1);\r\n      for (let i = 1; i < this._alphaKeys.length; ++i) {\r\n        let preTime = this._alphaKeys[i - 1].time;\r\n        let curTime = this._alphaKeys[i].time;\r\n        if (time >= preTime && time < curTime) {\r\n          if(this._mode === 'fixed') {\r\n            return this._alphaKeys[i].alpha;\r\n          }\r\n          let factor = (time - preTime) / (curTime - preTime);\r\n          return (this._alphaKeys[i - 1].alpha * (1 - factor) + this._alphaKeys[i].alpha * factor);\r\n        }\r\n      }\r\n      console.warn('something went wrong. can not get gradient alpha.');\r\n    } else if (this._alphaKeys.length === 1) {\r\n      return this._alphaKeys[0].alpha;\r\n    } else {\r\n      return 1.0;\r\n    }\r\n  }\r\n\r\n  evaluate(time) {\r\n    let rgb = this.getRGB(time);\r\n    color4.set(this._rgba, rgb.r, rgb.g, rgb.b, this.getAlpha(time));\r\n    return this._rgba;\r\n  }\r\n\r\n  randomColor() {\r\n    let c = this._colorKeys[Math.trunc(Math.random() * this._colorKeys.length)];\r\n    let a = this._alphaKeys[Math.trunc(Math.random() * this._alphaKeys.length)];\r\n    color4.set(this._rgba, c.r, c.g, c.b, a);\r\n    return this._rgba;\r\n  }\r\n}\r\n\r\nGradient.schema = {\r\n  colorKeys: {\r\n    type: 'ColorKey',\r\n    default: [],\r\n    array: true,\r\n  },\r\n\r\n  alphaKeys: {\r\n    type: 'AlphaKey',\r\n    default: [],\r\n    array: true,\r\n  },\r\n\r\n  mode: {\r\n    type: 'enums',\r\n    default: 'blend',\r\n    options: [\r\n      'blend',\r\n      'fixed'\r\n    ]\r\n  }\r\n};\r\n","import { lerp } from '../../../vmath';\r\n\r\nexport default class CurveRange {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  evaluate(time, rndRatio) {\r\n    switch (this._mode) {\r\n      case 'constant':\r\n        return this._constant;\r\n      case 'curve':\r\n        return this._curve.evaluate(time) * this._multiplier;\r\n      case 'twoCurves':\r\n        return lerp(this._curveMin.evaluate(time), this._curveMax.evaluate(time), rndRatio) * this._multiplier;\r\n      case 'twoConstants':\r\n        return lerp(this._constantMin, this._constantMax, rndRatio);\r\n    }\r\n  }\r\n}\r\n\r\nCurveRange.schema = {\r\n  mode: {\r\n    type: 'enums',\r\n    default: 'constant',\r\n    options: [\r\n      'constant',\r\n      'curve',\r\n      'twoCurves',\r\n      'twoConstants'\r\n    ],\r\n  },\r\n  curve: {\r\n    type: 'AnimationCurve',\r\n    default: null\r\n  },\r\n  curveMin: {\r\n    type: 'AnimationCurve',\r\n    default: null\r\n  },\r\n  curveMax: {\r\n    type: 'AnimationCurve',\r\n    default: null\r\n  },\r\n  constant: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n  constantMin: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n  constantMax: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n  multiplier: {\r\n    type: 'number',\r\n    default: 1\r\n  }\r\n};\r\n","import { color4, lerp } from '../../../vmath';\r\n\r\nexport default class GradientRange {\r\n\r\n  evaluate(time, rndRatio) {\r\n    switch (this._mode) {\r\n      case 'color':\r\n        return this._color;\r\n      case 'twoColors':\r\n        return color4.set(this._color, lerp(this._colorMin.r, this._colorMax.r, rndRatio), lerp(this._colorMin.g, this._colorMax.g, rndRatio), lerp(this._colorMin.b, this._colorMax.b, rndRatio), lerp(this._colorMin.a, this._colorMax.a, rndRatio));\r\n      case 'randomColor':\r\n        return this._gradient.randomColor();\r\n      case 'gradient':\r\n        return this._gradient.evaluate(time);\r\n      case 'twoGradients':\r\n        this._colorMin = this._gradientMin.evaluate(time);\r\n        this._colorMax = this._gradientMax.evaluate(time);\r\n        return color4.set(this._color, lerp(this._colorMin.r, this._colorMax.r, rndRatio), lerp(this._colorMin.g, this._colorMax.g, rndRatio), lerp(this._colorMin.b, this._colorMax.b, rndRatio), lerp(this._colorMin.a, this._colorMax.a, rndRatio));\r\n    }\r\n  }\r\n}\r\n\r\nGradientRange.schema = {\r\n  mode: {\r\n    type: 'enums',\r\n    default: 'color',\r\n    options: [\r\n      'color',\r\n      'gradient',\r\n      'twoColors',\r\n      'twoGradients',\r\n      'randomColor'\r\n    ]\r\n  },\r\n\r\n  color: {\r\n    type: 'color4',\r\n    default: [1, 1, 1, 1]\r\n  },\r\n\r\n  colorMin: {\r\n    type: 'color4',\r\n    default: [1, 1, 1, 1]\r\n  },\r\n\r\n  colorMax: {\r\n    type: 'color4',\r\n    default: [1, 1, 1, 1]\r\n  },\r\n\r\n  gradient: {\r\n    type: 'Gradient',\r\n    default: null\r\n  },\r\n\r\n  gradientMin: {\r\n    type: 'Gradient',\r\n    default: null\r\n  },\r\n\r\n  gradientMax: {\r\n    type: 'Gradient',\r\n    default: null\r\n  }\r\n};\r\n","import renderer from '../../../renderer';\r\nimport { vec3, vec4, vec2 } from '../../../vmath';\r\nimport gfx from '../../../gfx';\r\nimport Material from '../../../assets/material';\r\n\r\nlet _vertAttrsCache = {\r\n  position: vec3.zero(),\r\n  uv: vec4.zero(),\r\n  uv0: vec2.zero(),\r\n  color: vec4.zero(),\r\n  color0: vec4.zero(),\r\n  normal: vec3.zero(),\r\n  tangent: vec3.zero(),\r\n};\r\n\r\nlet _name2VertAttrs = {\r\n  'position': { name: gfx.ATTR_POSITION, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n  'uv': { name: gfx.ATTR_UV, type: gfx.ATTR_TYPE_FLOAT32, num: 3 },\r\n  'uv0': { name: gfx.ATTR_UV0, type: gfx.ATTR_TYPE_FLOAT32, num: 2 }, // size, rotateAngle\r\n  'color': { name: gfx.ATTR_COLOR, type: gfx.ATTR_TYPE_FLOAT32, num: 4 },\r\n  'normal': { name: gfx.ATTR_NORMAL, type: gfx.ATTR_TYPE_FLOAT32, num: 3 }, // 3D only\r\n  'tangent': { name: gfx.ATTR_TANGENT, type: gfx.ATTR_TYPE_FLOAT32, num: 3 }, // 3D only\r\n  'custom1': { name: gfx.ATTR_UV1, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\r\n  'custom2': { name: gfx.ATTR_UV2, type: gfx.ATTR_TYPE_FLOAT32, num: 2 },\r\n};\r\n\r\nlet _uvs = [\r\n  0, 0, // bottom-left\r\n  1, 0, // bottom-right\r\n  0, 1, // top-left\r\n  1, 1  // top-right\r\n];\r\n\r\nexport default class ParticleSystemRenderer {\r\n  constructor() {\r\n    this._model = null;\r\n\r\n    this._vertAttrs = [];\r\n    this._vertAttrFlags = {\r\n      position: true,\r\n      uv: true,\r\n      uv0: true,\r\n      color: true,\r\n      normal: false,\r\n      tangent: false,\r\n      custom1: false,\r\n      custom2: false,\r\n      color0: false,\r\n    };\r\n    this.frameTile = vec2.new(1, 1);\r\n  }\r\n\r\n  setVertexAtrributes(attrs) {\r\n    // clear vertex attribute flags\r\n    for (let key in this._vertAttrFlags) {\r\n      this._vertAttrFlags[key] = false;\r\n    }\r\n\r\n    for (let i = 0; i < attrs.length; ++i) {\r\n      let attr = _name2VertAttrs[attrs[i]];\r\n      if (attr !== undefined) {\r\n        this._vertAttrs.push(attr);\r\n        this._vertAttrFlags[attrs[i]] = true;\r\n      } else {\r\n        console.error('vertex attribute name wrong.');\r\n      }\r\n    }\r\n    this._model.setVertexAttributes(this._vertAttrs);\r\n  }\r\n\r\n  onInit(ps) {\r\n    this.particleSystem = ps;\r\n    if (this._material === null || this._material === undefined) {\r\n      this._material = new Material();\r\n      this._material.effect = ps._app.assets.get('builtin-effect-particle-premultiply-blend');\r\n    }\r\n    this._updateMaterialParams();\r\n    this._updateModel();\r\n  }\r\n\r\n  _updateMaterialParams() {\r\n    if (!this.particleSystem) {\r\n      return;\r\n    }\r\n    if (this.particleSystem._simulationSpace === 'world') {\r\n      this._material.define('USE_WORLD_SPACE', true);\r\n    } else {\r\n      this._material.define('USE_WORLD_SPACE', false);\r\n    }\r\n\r\n    if (this._renderMode === 'billboard') {\r\n      this._material.define('USE_BILLBOARD', true);\r\n      this._material.define('USE_STRETCHED_BILLBOARD', false);\r\n      this._material.define('USE_HORIZONTAL_BILLBOARD', false);\r\n      this._material.define('USE_VERTICAL_BILLBOARD', false);\r\n    } else if (this._renderMode === 'stretchedBillboard') {\r\n      this._material.define('USE_BILLBOARD', false);\r\n      this._material.define('USE_STRETCHED_BILLBOARD', true);\r\n      this._material.define('USE_HORIZONTAL_BILLBOARD', false);\r\n      this._material.define('USE_VERTICAL_BILLBOARD', false);\r\n      this._material.setProperty('velocityScale', this._velocityScale);\r\n      this._material.setProperty('lengthScale', this._lengthScale);\r\n    } else if (this._renderMode === 'horizontalBillboard') {\r\n      this._material.define('USE_BILLBOARD', false);\r\n      this._material.define('USE_STRETCHED_BILLBOARD', false);\r\n      this._material.define('USE_HORIZONTAL_BILLBOARD', true);\r\n      this._material.define('USE_VERTICAL_BILLBOARD', false);\r\n    } else if (this._renderMode === 'verticalBillboard') {\r\n      this._material.define('USE_BILLBOARD', false);\r\n      this._material.define('USE_STRETCHED_BILLBOARD', false);\r\n      this._material.define('USE_HORIZONTAL_BILLBOARD', false);\r\n      this._material.define('USE_VERTICAL_BILLBOARD', true);\r\n    } else {\r\n      console.warn(`particle system renderMode ${this._renderMode} not support.`);\r\n    }\r\n\r\n    if (this.particleSystem.textureAnimationModule.enable) {\r\n      this._material.setProperty('frameTile', vec2.set(this.frameTile, this.particleSystem.textureAnimationModule.numTilesX, this.particleSystem.textureAnimationModule.numTilesY));\r\n    }\r\n    else {\r\n      this._material.setProperty('frameTile', this.frameTile);\r\n    }\r\n  }\r\n\r\n  _updateModel() {\r\n    if (!this.particleSystem) {\r\n      return;\r\n    }\r\n    if (this._model === null) {\r\n      this._model = new renderer.ParticleBatchModel(this.particleSystem._app.device, this.particleSystem._capacity);\r\n      this._model.setNode(this.particleSystem._entity);\r\n    }\r\n    this._model.setEffect(this._material ? this._material.effectInst : null);\r\n    if (this._renderMode === 'stretchedBillboard') {\r\n      this._model.enableStretchedBillboard();\r\n      this._vertAttrFlags.color0 = true;\r\n    } else {\r\n      this._model.disableStretchedBillboard();\r\n      this._vertAttrFlags.color0 = false;\r\n    }\r\n  }\r\n\r\n  // internal function\r\n  _updateRenderData() {\r\n    // update vertex buffer\r\n    let idx = 0;\r\n    for (let i = 0; i < this.particleSystem._particles.length; ++i) {\r\n      let p = this.particleSystem._particles.data[i];\r\n      if (this.particleSystem.textureAnimationModule.enable) {\r\n        _vertAttrsCache.uv.z = p.frameIndex;\r\n      }\r\n      else {\r\n        _vertAttrsCache.uv.z = 0;\r\n      }\r\n      for (let j = 0; j < 4; ++j) { // four verts per particle.\r\n        let attrs = [];\r\n        if (this._vertAttrFlags.position) {\r\n          attrs.push(vec3.set(_vertAttrsCache.position, p.position.x, p.position.y, p.position.z));\r\n        }\r\n        if (this._vertAttrFlags.uv) {\r\n          _vertAttrsCache.uv.x = _uvs[2 * j];\r\n          _vertAttrsCache.uv.y = _uvs[2 * j + 1];\r\n          attrs.push(_vertAttrsCache.uv);\r\n        }\r\n        if (this._vertAttrFlags.uv0) {\r\n          attrs.push(vec2.set(_vertAttrsCache.uv0, p.size.x, p.rotation.x));\r\n        }\r\n        if (this._vertAttrFlags.color) {\r\n          attrs.push(vec4.set(_vertAttrsCache.color, p.color.r, p.color.g, p.color.b, p.color.a));\r\n        }\r\n        // TODO: other attrs.\r\n        if (this._vertAttrFlags.custom1) {\r\n          attrs.push(this._customData1);\r\n        }\r\n        if (this._vertAttrFlags.custom2) {\r\n          attrs.push(this._customData2);\r\n        }\r\n\r\n        if (this._vertAttrFlags.color0) {\r\n          attrs.push(vec3.set(_vertAttrsCache.color0, p.ultimateVelocity.x, p.ultimateVelocity.y, p.ultimateVelocity.z));\r\n        }\r\n\r\n        this._model.addParticleVertexData(idx++, attrs);\r\n      }\r\n    }\r\n\r\n    // because we use index buffer, per particle index count = 6.\r\n    this._model.updateIA(this.particleSystem._particles.length * 6);\r\n  }\r\n}\r\n\r\nParticleSystemRenderer.schema = {\r\n  material: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (this._material === val) {\r\n        return;\r\n      }\r\n\r\n      this._material = val;\r\n      this._updateMaterialParams();\r\n      this._updateModel();\r\n    },\r\n    parse(app, value) {\r\n      if (typeof value === 'string') {\r\n        let matCopy = new Material();\r\n        matCopy.copy(app.assets.get(value));\r\n        return matCopy;\r\n      }\r\n      return value;\r\n    }\r\n  },\r\n\r\n  renderMode: {\r\n    type: 'enums',\r\n    default: 'billboard',\r\n    options: [\r\n      'billboard',\r\n      'stretchedBillboard',\r\n      'horizontalBillboard',\r\n      'verticalBillboard',\r\n      'mesh', // TODO:\r\n    ],\r\n    set(val) {\r\n      if (this._renderMode === val) {\r\n        return;\r\n      }\r\n      this._renderMode = val;\r\n      this._updateMaterialParams();\r\n      this._updateModel();\r\n    }\r\n  },\r\n\r\n  velocityScale: {\r\n    type: 'number',\r\n    default: 1.0,\r\n    set(val) {\r\n      this._velocityScale = val;\r\n      this._updateMaterialParams();\r\n      this._updateModel();\r\n    }\r\n  },\r\n\r\n  lengthScale: {\r\n    type: 'number',\r\n    default: 0.4,\r\n    set(val) {\r\n      this._lengthScale = val;\r\n      this._updateMaterialParams();\r\n      this._updateModel();\r\n    }\r\n  }\r\n};\r\n","import { vec3 } from '../../../vmath';\r\nexport default class SizeOvertimeModule {\r\n\r\n  animate(particle) {\r\n    if (!this._separateAxes) {\r\n      vec3.scale(particle.size, particle.startSize, this._size.evaluate(1 - particle.remainingLifetime / particle.startLifetime, particle.randomSeed));\r\n    }\r\n  }\r\n}\r\n\r\nSizeOvertimeModule.schema = {\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  separateAxes: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  size: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  x: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  y: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  z: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  }\r\n};","import { color4 } from '../../../vmath';\r\n\r\nexport default class ColorOvertimeModule {\r\n  animate(particle) {\r\n    if (this._enable) {\r\n      color4.multiply(particle.color, particle.startColor, this._color.evaluate(1.0 - particle.remainingLifetime / particle.startLifetime, particle.randomSeed));\r\n    }\r\n  }\r\n}\r\n\r\nColorOvertimeModule.schema = {\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  color: {\r\n    type: 'GradientRange',\r\n    default: null\r\n  }\r\n};","import { mat4, quat, randomRange, vec3, random, vec2, randomRangeInt } from '../../vmath';\r\nimport { sign } from '../../vmath/bits';\r\n\r\nexport const particleEmitZAxis = vec3.new(0, 0, -1);\r\n\r\nexport function calculateTransform(systemSpace, moduleSpace, worldTransform, outQuat) {\r\n  if (moduleSpace !== systemSpace) {\r\n    if (systemSpace === 'world') {\r\n      mat4.getRotation(outQuat, worldTransform);\r\n    }\r\n    else {\r\n      mat4.invert(worldTransform, worldTransform);\r\n      mat4.getRotation(outQuat, worldTransform);\r\n    }\r\n    return true;\r\n  }\r\n  else {\r\n    quat.identity(outQuat);\r\n    return false;\r\n  }\r\n}\r\n\r\nexport function fixedAngleUnitVector2(out, theta) {\r\n  vec2.set(out, Math.cos(theta), Math.sin(theta));\r\n}\r\n\r\nexport function randomUnitVector2(out) {\r\n  let a = randomRange(0, 2 * Math.PI);\r\n  let x = Math.cos(a);\r\n  let y = Math.sin(a);\r\n  vec2.set(out, x, y);\r\n}\r\n\r\nexport function randomUnitVector(out) {\r\n  let z = randomRange(-1, 1);\r\n  let a = randomRange(0, 2 * Math.PI);\r\n  let r = Math.sqrt(1 - z * z);\r\n  let x = r * Math.cos(a);\r\n  let y = r * Math.sin(a);\r\n  vec3.set(out, x, y, z);\r\n}\r\n\r\nexport function randomPointInUnitSphere(out) {\r\n  randomUnitVector(out);\r\n  vec3.scale(out, random());\r\n}\r\n\r\nexport function randomPointBetweenSphere(out, minRadius, maxRadius) {\r\n  randomUnitVector(out);\r\n  vec3.scale(out, out, minRadius + (maxRadius - minRadius) * random());\r\n}\r\n\r\nexport function randomPointInUnitCircle(out) {\r\n  randomUnitVector2(out);\r\n  vec3.scale(out, random());\r\n}\r\n\r\nexport function randomPointBetweenCircle(out, minRadius, maxRadius) {\r\n  randomUnitVector2(out);\r\n  vec3.scale(out, out, minRadius + (maxRadius - minRadius) * random());\r\n}\r\n\r\nexport function randomPointBetweenCircleAtFixedAngle(out, minRadius, maxRadius, theta) {\r\n  fixedAngleUnitVector2(out, theta);\r\n  vec3.scale(out, out, minRadius + (maxRadius - minRadius) * random());\r\n}\r\n\r\nexport function randomPointInCube(out, extents) {\r\n  vec3.set(out,\r\n    randomRange(-extents.x, extents.x),\r\n    randomRange(-extents.y, extents.y),\r\n    randomRange(-extents.z, extents.z));\r\n}\r\n\r\nexport function randomPointBetweenCube(out, minBox, maxBox) {\r\n  const subscript = ['x', 'y', 'z'];\r\n  let edge = randomRangeInt(0, 3);\r\n  for (let i = 0; i < 3; i++) {\r\n    if (i === edge) {\r\n      out[subscript[i]] = randomRange(-maxBox[subscript[i]], maxBox[subscript[i]]);\r\n      continue;\r\n    }\r\n    let x = random() * 2 - 1;\r\n    if (x < 0) {\r\n      out[subscript[i]] = -minBox[subscript[i]] + x * (maxBox[subscript[i]] - minBox[subscript[i]]);\r\n    }\r\n    else {\r\n      out[subscript[i]] = minBox[subscript[i]] + x * (maxBox[subscript[i]] - minBox[subscript[i]]);\r\n    }\r\n  }\r\n}\r\n\r\n// Fisher–Yates shuffle\r\nexport function randomSortArray(arr) {\r\n  for (let i = 0; i < arr.length; i++) {\r\n    let transpose = i + randomRangeInt(0, arr.length - i);\r\n    let val = arr[transpose];\r\n    arr[transpose] = arr[i];\r\n    arr[i] = val;\r\n  }\r\n}\r\n\r\nexport function randomSign() {\r\n  let sgn = randomRange(-1, 1);\r\n  sgn === 0 ? sgn++ : sgn;\r\n  return sign(sgn);\r\n}","import { vec3, quat } from '../../../vmath';\r\nimport { calculateTransform } from '../particle-general-function';\r\n\r\nexport default class VelocityOvertimeModule {\r\n  constructor() {\r\n    this.rotation = quat.create();\r\n  }\r\n\r\n  update(space, worldTransform) {\r\n    this.needTransform = calculateTransform(space, this._space, worldTransform, this.rotation);\r\n  }\r\n\r\n  animate(p) {\r\n    let normalizedTime = 1 - p.remainingLifetime / p.startLifetime;\r\n    let vel = vec3.new(this._x.evaluate(normalizedTime, p.randomSeed), this._y.evaluate(normalizedTime, p.randomSeed), this._z.evaluate(normalizedTime, p.randomSeed));\r\n    if (this.needTransform) {\r\n      vec3.transformQuat(vel, vel, this.rotation);\r\n    }\r\n    vec3.add(p.animatedVelocity, p.animatedVelocity, vel);\r\n    vec3.add(p.ultimateVelocity, p.velocity, p.animatedVelocity);\r\n    vec3.scale(p.ultimateVelocity, p.ultimateVelocity, this._speedModifier.evaluate(1 - p.remainingLifetime / p.startLifetime, p.randomSeed));\r\n  }\r\n\r\n}\r\n\r\nVelocityOvertimeModule.schema = {\r\n\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  x: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  y: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  z: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  speedModifier: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  space: {\r\n    type: 'enums',\r\n    options: [\r\n      'local',\r\n      'world'\r\n    ],\r\n    default: 'local'\r\n  }\r\n};","import { vec3, quat } from '../../../vmath';\r\nimport { calculateTransform } from '../particle-general-function';\r\n\r\nexport default class ForceOvertimeModule {\r\n\r\n  constructor() {\r\n    this.rotation = quat.create();\r\n  }\r\n\r\n  update(space, worldTransform) {\r\n    this.needTransform = calculateTransform(space, this._space, worldTransform, this.rotation);\r\n  }\r\n\r\n  animate(p, dt) {\r\n    let normalizedTime = 1 - p.remainingLifetime / p.startLifetime;\r\n    let force = vec3.new(this._x.evaluate(normalizedTime, p.randomSeed), this._y.evaluate(normalizedTime, p.randomSeed), this._z.evaluate(normalizedTime, p.randomSeed));\r\n    if (this.needTransform) {\r\n      vec3.transformQuat(force, force, this.rotation);\r\n    }\r\n    vec3.scaleAndAdd(p.velocity, p.velocity, force, dt);\r\n  }\r\n}\r\n\r\nForceOvertimeModule.schema = {\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  x: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  y: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  z: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  space: {\r\n    type: 'enums',\r\n    default: 'local',\r\n    options: [\r\n      'local',\r\n      'world'\r\n    ]\r\n  },\r\n  // TODO:currently not supported\r\n  randomized: {\r\n    type: 'boolean',\r\n    default: false\r\n  }\r\n};","import { vec3, lerp } from '../../../vmath';\r\n\r\nexport default class LimitVelocityOvertimeModule {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  animate(p) {\r\n    let normalizedTime = 1 - p.remainingLifetime / p.startLifetime;\r\n    let dampedVel = vec3.zero();\r\n    if (this._separateAxes) {\r\n      vec3.set(dampedVel,\r\n        dampenBeyondLimit(p.ultimateVelocity.x, this._limitX.evaluate(normalizedTime, p.randomSeed), this._dampen),\r\n        dampenBeyondLimit(p.ultimateVelocity.y, this._limitY.evaluate(normalizedTime, p.randomSeed), this._dampen),\r\n        dampenBeyondLimit(p.ultimateVelocity.z, this._limitZ.evaluate(normalizedTime, p.randomSeed), this._dampen));\r\n    }\r\n    else {\r\n      vec3.normalize(dampedVel, p.ultimateVelocity);\r\n      vec3.scale(dampedVel, dampedVel, dampenBeyondLimit(vec3.magnitude(p.ultimateVelocity), this._limit.evaluate(normalizedTime, p.randomSeed), this._dampen));\r\n    }\r\n    vec3.copy(p.ultimateVelocity, dampedVel);\r\n  }\r\n\r\n}\r\n\r\nfunction dampenBeyondLimit(vel, limit, dampen) {\r\n  let sgn = Math.sign(vel);\r\n  let abs = Math.abs(vel);\r\n  if (abs > limit) {\r\n    abs = lerp(abs, limit, dampen);\r\n  }\r\n  return abs * sgn;\r\n}\r\n\r\nLimitVelocityOvertimeModule.schema = {\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  limitX: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  limitY: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  limitZ: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  limit: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  dampen: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  separateAxes: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  space: {\r\n    type: 'enums',\r\n    default: 'local',\r\n    options: [\r\n      'local',\r\n      'world'\r\n    ]\r\n  },\r\n\r\n  // TODO:functions related to drag are temporarily not supported\r\n  drag: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  multiplyDragByParticleSize: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  multiplyDragByParticleVelocity: {\r\n    type: 'boolean',\r\n    default: false\r\n  }\r\n};","\r\nexport default class RotationOvertimeModule {\r\n  constructor() {\r\n\r\n  }\r\n\r\n  animate(p, dt) {\r\n    let normalizedTime = 1 - p.remainingLifetime / p.startLifetime;\r\n    if (!this._separateAxes) {\r\n      p.rotation.x += this._z.evaluate(normalizedTime, p.randomSeed) * dt;\r\n    }\r\n    else {\r\n      // TODO: separateAxes is temporarily not supported!\r\n    }\r\n  }\r\n}\r\n\r\nRotationOvertimeModule.schema = {\r\n\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  separateAxes: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      if (!val) {\r\n        this._separateAxes = val;\r\n      }\r\n      else {\r\n        console.error('rotation overtime separateAxes is not supported!');\r\n      }\r\n    }\r\n  },\r\n\r\n  x: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  y: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  z: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  }\r\n};","import { repeat, lerp } from \"../../../vmath\";\r\n\r\n\r\nexport default class TextureAnimationModule {\r\n\r\n  animate(p) {\r\n    let normalizedTime = 1 - p.remainingLifetime / p.startLifetime;\r\n    let startFrame = this._startFrame.evaluate(normalizedTime, p.randomSeed) / (this._numTilesX * this._numTilesY);\r\n    if (this._animation == 'wholeSheet') {\r\n      p.frameIndex = repeat(this._cycleCount * (this._frameOverTime.evaluate(normalizedTime, p.randomSeed) + startFrame), 1);\r\n    }\r\n    else if (this._animation == 'singleRow') {\r\n      let rowLength = 1 / this._numTilesY;\r\n      if (this._randomRow) {\r\n        let f = repeat(this._cycleCount * (this._frameOverTime.evaluate(normalizedTime, p.randomSeed) + startFrame), 1);\r\n        let startRow = Math.floor(Math.random() * this._numTilesY);\r\n        let from = startRow * rowLength;\r\n        let to = from + rowLength;\r\n        p.frameIndex = lerp(from, to, f);\r\n      }\r\n      else {\r\n        let from = this._rowIndex * rowLength;\r\n        let to = from + rowLength;\r\n        p.frameIndex = lerp(from, to, repeat(this._cycleCount * (this._frameOverTime.evaluate(normalizedTime, p.randomSeed) + startFrame), 1));\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nTextureAnimationModule.schema = {\r\n\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  mode: {\r\n    type: 'enums',\r\n    options: [\r\n      'grid',\r\n      'sprites'\r\n    ],\r\n    default: 'grid',\r\n    set(val) {\r\n      if (val === 'sprites') {\r\n        console.error(\"particle texture animation's sprites is not supported!\");\r\n        return;\r\n      }\r\n    }\r\n  },\r\n\r\n  numTilesX: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  numTilesY: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  animation: {\r\n    type: 'enums',\r\n    options: [\r\n      'wholeSheet',\r\n      'singleRow'\r\n    ],\r\n    default: 'wholeSheet'\r\n  },\r\n\r\n  frameOverTime: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  startFrame: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  cycleCount: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  flipU: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      console.error(\"particle texture animation's flipU is not supported!\");\r\n    }\r\n  },\r\n\r\n  flipV: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      console.error(\"particle texture animation's flipV is not supported!\");\r\n    }\r\n  },\r\n\r\n  uvChannelMask: {\r\n    type: 'number',\r\n    default: -1,\r\n    set(val) {\r\n      console.error(\"particle texture animation's uvChannelMask is not supported!\");\r\n    }\r\n  },\r\n\r\n  randomRow: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  rowIndex: {\r\n    type: 'number',\r\n    default: 0\r\n  }\r\n};","import { randomUnitVector, particleEmitZAxis, randomSortArray, randomSign, randomPointBetweenSphere, randomPointInCube, randomPointBetweenCircleAtFixedAngle, fixedAngleUnitVector2 } from '../particle-general-function';\r\nimport { vec3, vec2, random, randomRange, mat4, quat, clamp, repeat, pingPong } from '../../../vmath';\r\n\r\nlet _intermediVec = vec3.zero();\r\nlet _intermediArr = new Array();\r\nconst _unitBoxExtent = vec3.new(0.5, 0.5, 0.5);\r\n\r\nexport default class ShapeModule {\r\n\r\n  constructor() {\r\n    this.mat = mat4.create();\r\n    this.quat = quat.create();\r\n  }\r\n\r\n  onInit(ps) {\r\n    this.constructMat();\r\n    this.particleSystem = ps;\r\n    this.lastTime = ps._time;\r\n    this.totalAngle = 0;\r\n  }\r\n\r\n  constructMat() {\r\n    quat.fromEuler(this.quat, this._rotation.x, this._rotation.y, this._rotation.z);\r\n    mat4.fromRTS(this.mat, this.quat, this._position, this._scale);\r\n  }\r\n\r\n  emit(p) {\r\n    switch (this._shapeType) {\r\n      case 'box':\r\n        boxEmit(this._emitFrom, this._boxThickness, p.position, p.velocity);\r\n        break;\r\n      case 'circle':\r\n        circleEmit(this._radius, this._radiusThickness, this.generateArcAngle(), p.position, p.velocity);\r\n        break;\r\n      case 'cone':\r\n        coneEmit(this._emitFrom, this._radius, this._radiusThickness, this.generateArcAngle(), this._angle, this._length, p.position, p.velocity);\r\n        break;\r\n      case 'sphere':\r\n        sphereEmit(this._emitFrom, this._radius, this._radiusThickness, p.position, p.velocity);\r\n        break;\r\n      case 'hemisphere':\r\n        hemisphereEmit(this._emitFrom, this._radius, this._radiusThickness, p.position, p.velocity);\r\n        break;\r\n      default:\r\n        console.warn(this._shapeType + ' shapeType is not supported by ShapeModule.');\r\n    }\r\n    if (this._randomPositionAmount > 0) {\r\n      p.position.x += randomRange(-this._randomPositionAmount, this._randomPositionAmount);\r\n      p.position.y += randomRange(-this._randomPositionAmount, this._randomPositionAmount);\r\n      p.position.z += randomRange(-this._randomPositionAmount, this._randomPositionAmount);\r\n    }\r\n    vec3.transformQuat(p.velocity, p.velocity, this.quat);\r\n    vec3.transformMat4(p.position, p.position, this.mat);\r\n    if (this._sphericalDirectionAmount > 0) {\r\n      let sphericalVel = vec3.normalize(_intermediVec, p.position);\r\n      vec3.lerp(p.velocity, p.velocity, sphericalVel, this._sphericalDirectionAmount);\r\n    }\r\n    this.lastTime = this.particleSystem._time;\r\n  }\r\n\r\n  generateArcAngle() {\r\n    if (this._arcMode === 'random') {\r\n      return randomRange(0, this._arc);\r\n    }\r\n    let angle = this.totalAngle + 2 * Math.PI * this._arcSpeed.evaluate(this.particleSystem._time) * (this.particleSystem._time - this.lastTime);\r\n    this.totalAngle = angle;\r\n    if (this._arcSpread !== 0) {\r\n      angle = Math.floor(angle / (this._arc * this._arcSpread)) * this._arc * this._arcSpread;\r\n    }\r\n    switch (this._arcMode) {\r\n      case 'loop':\r\n        return repeat(angle, this._arc);\r\n      case 'pingPong':\r\n        return pingPong(angle, this._arc);\r\n    }\r\n  }\r\n}\r\n\r\nfunction sphereEmit(emitFrom, radius, radiusThickness, pos, dir) {\r\n  switch (emitFrom) {\r\n    case 'volume':\r\n      randomPointBetweenSphere(pos, radius * (1 - radiusThickness), radius);\r\n      vec3.copy(dir, pos);\r\n      vec3.normalize(dir, dir);\r\n      break;\r\n    case 'shell':\r\n      randomUnitVector(pos);\r\n      vec3.scale(pos, radius);\r\n      vec3.copy(dir, pos);\r\n      break;\r\n    default:\r\n      console.warn(emitFrom + ' is not supported for sphere emitter.');\r\n  }\r\n}\r\n\r\nfunction hemisphereEmit(emitFrom, radius, radiusThickness, pos, dir) {\r\n  switch (emitFrom) {\r\n    case 'volume':\r\n      randomPointBetweenSphere(pos, radius * (1 - radiusThickness), radius);\r\n      if (pos.z > 0) {\r\n        pos.z *= -1;\r\n      }\r\n      vec3.copy(dir, pos);\r\n      vec3.normalize(dir, dir);\r\n      break;\r\n    case 'shell':\r\n      randomUnitVector(pos);\r\n      vec3.scale(pos, radius);\r\n      if (pos.z < 0) {\r\n        pos.z *= -1;\r\n      }\r\n      vec3.copy(dir, pos);\r\n      break;\r\n    default:\r\n      console.warn(emitFrom + ' is not supported for hemisphere emitter.');\r\n  }\r\n}\r\n\r\nfunction coneEmit(emitFrom, radius, radiusThickness, theta, angle, length, pos, dir) {\r\n  switch (emitFrom) {\r\n    case 'base':\r\n      randomPointBetweenCircleAtFixedAngle(pos, radius * (1 - radiusThickness), radius, theta);\r\n      vec2.scale(dir, pos, Math.sin(angle));\r\n      dir.z = -Math.cos(angle) * radius;\r\n      pos.z = 0;\r\n      break;\r\n    case 'shell':\r\n      fixedAngleUnitVector2(pos, theta);\r\n      vec2.scale(dir, pos, Math.sin(angle));\r\n      dir.z = -Math.cos(angle);\r\n      vec2.scale(pos, pos, radius);\r\n      pos.z = 0;\r\n      break;\r\n    case 'volume':\r\n      randomPointBetweenCircleAtFixedAngle(pos, radius * (1 - radiusThickness), radius, theta);\r\n      vec2.scale(dir, pos, Math.sin(angle));\r\n      dir.z = -Math.cos(angle) * radius;\r\n      vec3.normalize(dir, dir);\r\n      pos.z = 0;\r\n      vec3.add(pos, pos, vec3.scale(_intermediVec, dir, length * random() / -dir.z));\r\n      break;\r\n    default:\r\n      console.warn(emitFrom + ' is not supported for cone emitter.');\r\n  }\r\n}\r\n\r\nfunction boxEmit(emitFrom, boxThickness, pos, dir) {\r\n  switch (emitFrom) {\r\n    case 'volume':\r\n      randomPointInCube(pos, _unitBoxExtent);\r\n      // randomPointBetweenCube(pos, vec3.multiply(_intermediVec, _unitBoxExtent, boxThickness), _unitBoxExtent);\r\n      break;\r\n    case 'shell':\r\n      _intermediArr.splice(0, _intermediArr.length);\r\n      _intermediArr.push(randomRange(-0.5, 0.5));\r\n      _intermediArr.push(randomRange(-0.5, 0.5));\r\n      _intermediArr.push(randomSign() * 0.5);\r\n      randomSortArray(_intermediArr);\r\n      applyBoxThickness(_intermediArr, boxThickness);\r\n      vec3.set(pos, _intermediArr[0], _intermediArr[1], _intermediArr[2]);\r\n      break;\r\n    case 'edge':\r\n      _intermediArr.splice(0, _intermediArr.length);\r\n      _intermediArr.push(randomRange(-0.5, 0.5));\r\n      _intermediArr.push(randomSign() * 0.5);\r\n      _intermediArr.push(randomSign() * 0.5);\r\n      randomSortArray(_intermediArr);\r\n      applyBoxThickness(_intermediArr, boxThickness);\r\n      vec3.set(pos, _intermediArr[0], _intermediArr[1], _intermediArr[2]);\r\n      break;\r\n    default:\r\n      console.warn(emitFrom + ' is not supported for box emitter.');\r\n  }\r\n  vec3.copy(dir, particleEmitZAxis);\r\n}\r\n\r\nfunction circleEmit(radius, radiusThickness, theta, pos, dir) {\r\n  randomPointBetweenCircleAtFixedAngle(pos, radius * (1 - radiusThickness), radius, theta);\r\n  vec3.normalize(dir, pos);\r\n}\r\n\r\nfunction applyBoxThickness(pos, thickness) {\r\n  if (thickness.x > 0) {\r\n    pos[0] += 0.5 * randomRange(-thickness.x, thickness.x);\r\n    pos[0] = clamp(pos[0], -0.5, 0.5);\r\n  }\r\n  if (thickness.y > 0) {\r\n    pos[1] += 0.5 * randomRange(-thickness.y, thickness.y);\r\n    pos[1] = clamp(pos[0], -0.5, 0.5);\r\n  }\r\n  if (thickness.z > 0) {\r\n    pos[2] += 0.5 * randomRange(-thickness.z, thickness.z);\r\n    pos[2] = clamp(pos[0], -0.5, 0.5);\r\n  }\r\n}\r\n\r\n\r\n\r\nShapeModule.schema = {\r\n  enable: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  shapeType: {\r\n    type: 'enums',\r\n    options: [\r\n      'box',\r\n      'circle',\r\n      'cone',\r\n      'sphere',\r\n      'hemisphere'\r\n    ],\r\n    default: 'box'\r\n  },\r\n\r\n  emitFrom: {\r\n    type: 'enums',\r\n    options: [\r\n      'base',\r\n      'edge',\r\n      'shell',\r\n      'volume'\r\n    ],\r\n    default: 'base'\r\n  },\r\n\r\n  position: {\r\n    type: 'vec3',\r\n    default: [0, 0, 0],\r\n    set(val) {\r\n      this._position = val;\r\n      this.constructMat();\r\n    }\r\n  },\r\n\r\n  rotation: {\r\n    type: 'vec3',\r\n    default: [0, 0, 0],\r\n    set(val) {\r\n      this._rotation = val;\r\n      this.constructMat();\r\n    }\r\n  },\r\n\r\n  scale: {\r\n    type: 'vec3',\r\n    default: [1, 1, 1],\r\n    set(val) {\r\n      this._scale = val;\r\n      this.constructMat();\r\n    }\r\n  },\r\n\r\n  alignToDirection: {\r\n    type: 'boolean',\r\n    default: false\r\n  },\r\n\r\n  randomDirectionAmount: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  sphericalDirectionAmount: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  randomPositionAmount: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  radius: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  radiusThickness: {\r\n    type: 'number',\r\n    default: 1\r\n  },\r\n\r\n  arc: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  arcMode: {\r\n    type: 'enums',\r\n    options: [\r\n      'random',\r\n      'loop',\r\n      'pingPong',\r\n      // 'burstSpread' currently not supported\r\n    ],\r\n    default: 'random'\r\n  },\r\n\r\n  arcSpread: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  arcSpeed: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  },\r\n\r\n  angle: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  length: {\r\n    type: 'number',\r\n    default: 0\r\n  },\r\n\r\n  boxThickness: {\r\n    type: 'vec3',\r\n    default: [0, 0, 0]\r\n  }\r\n};","import { repeat } from '../../vmath';\r\n\r\nexport default class Burst {\r\n  constructor() {\r\n    this._remainingCount = 1;\r\n    this._curTime = 0.0;\r\n  }\r\n\r\n  update(psys, dt) {\r\n    if (psys._loop && this._remainingCount === 0) {\r\n      this._remainingCount = this._repeatCount;\r\n      this._curTime = this._time;\r\n    }\r\n    if (this._remainingCount > 0) {\r\n      let preFrameTime = repeat(psys._time - psys._startDelay.evaluate(), psys._duration) - dt;\r\n      preFrameTime = (preFrameTime > 0.0) ? preFrameTime : 0.0;\r\n      let curFrameTime = repeat(psys.time - psys._startDelay.evaluate(), psys._duration);\r\n      if (this._curTime >= preFrameTime && this._curTime < curFrameTime) {\r\n        psys.emit(this._count.evaluate(this._curTime / psys._duration));\r\n        this._curTime += this._repeatInterval;\r\n        --this._remainingCount;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nBurst.schema = {\r\n  time: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      this._time = val;\r\n      this._curTime = val;\r\n    }\r\n  },\r\n\r\n  minCount: {\r\n    type: 'int',\r\n    default: 30,\r\n  },\r\n\r\n  maxCount: {\r\n    type: 'int',\r\n    default: 30,\r\n  },\r\n\r\n  repeatCount: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      this._repeatCount = val;\r\n      this._remainingCount = val;\r\n    }\r\n  },\r\n\r\n  repeatInterval: {\r\n    type: 'number',\r\n    default: 1.0,\r\n  },\r\n\r\n  count: {\r\n    type: 'CurveRange',\r\n    default: null\r\n  }\r\n};","// Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.\r\n\r\nimport { Component } from '../../ecs';\r\nimport { RecyclePool } from '../../memop';\r\nimport Particle from './particle';\r\nimport { vec3, color4, vec2, mat4, quat, randomRangeInt, pseudoRandom } from '../../vmath';\r\nimport registry from '../../misc/registry';\r\nimport Gradient, { ColorKey, AlphaKey } from './animator/gradient';\r\nimport CurveRange from './animator/curve-range';\r\nimport GradientRange from './animator/gradient-range';\r\nimport ParticleSystemRenderer from './renderer/particle-system-renderer';\r\nimport SizeOvertimeModule from './animator/size-overtime';\r\nimport ColorOverLifetimeModule from './animator/color-overtime';\r\nimport VelocityOvertimeModule from './animator/velocity-overtime';\r\nimport ForceOvertimeModule from './animator/force-overtime';\r\nimport LimitVelocityOvertimeModule from './animator/limit-velocity-overtime';\r\nimport RotationOvertimeModule from './animator/rotation-overtime';\r\nimport TextureAnimationModule from './animator/texture-animation';\r\nimport ShapeModule from './emitter/shape-module';\r\nimport Burst from './burst';\r\nimport { particleEmitZAxis } from './particle-general-function';\r\nimport { INT_MAX } from '../../vmath/bits';\r\n\r\nregistry.registerClass('Burst', Burst);\r\nregistry.registerClass('ColorKey', ColorKey);\r\nregistry.registerClass('AlphaKey', AlphaKey);\r\nregistry.registerClass('Gradient', Gradient);\r\nregistry.registerClass('GradientRange', GradientRange);\r\nregistry.registerClass('CurveRange', CurveRange);\r\nregistry.registerClass('SizeOvertimeModule', SizeOvertimeModule);\r\nregistry.registerClass('ColorOverLifetimeModule', ColorOverLifetimeModule);\r\nregistry.registerClass('ParticleSystemRenderer', ParticleSystemRenderer);\r\nregistry.registerClass('VelocityOvertimeModule', VelocityOvertimeModule);\r\nregistry.registerClass('ForceOvertimeModule', ForceOvertimeModule);\r\nregistry.registerClass('LimitVelocityOvertimeModule', LimitVelocityOvertimeModule);\r\nregistry.registerClass('RotationOvertimeModule', RotationOvertimeModule);\r\nregistry.registerClass('TextureAnimationModule', TextureAnimationModule);\r\nregistry.registerClass('ShapeModule', ShapeModule);\r\n\r\nlet _world_mat = mat4.create();\r\n\r\nexport default class ParticleSystemComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    // internal status\r\n    this._isPlaying = false;\r\n    this._isPaused = false;\r\n    this._isStopped = true;\r\n    this._isEmitting = false;\r\n\r\n    this._time = 0.0;  // playback position in seconds.\r\n    this._emitRateTimeCounter = 0.0;\r\n    this._emitRateDistanceCounter = 0.0;\r\n    this._oldWPos = vec3.zero();\r\n    this._curWPos = vec3.zero();\r\n\r\n    this._customData1 = vec2.zero();\r\n    this._customData2 = vec2.zero();\r\n\r\n    this._subEmitters = []; // array of { emitter: ParticleSystemComponent, type: 'birth', 'collision' or 'death'}\r\n    this._vertAttrs = [];\r\n    this._vertAttrFlags = {\r\n      position: true,\r\n      uv: true,\r\n      uv0: true,\r\n      color: true,\r\n      normal: false,\r\n      tangent: false,\r\n      custom1: false,\r\n      custom2: false,\r\n      color0: false,\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    this._particles = new RecyclePool(() => {\r\n      return new Particle(this);\r\n    }, this._capacity);\r\n\r\n    // HACK, TODO\r\n    this._renderer.onInit(this);\r\n    this._shapeModule.onInit(this);\r\n\r\n    this._entity.getWorldPos(this._oldWPos);\r\n    vec3.copy(this._curWPos, this._oldWPos);\r\n\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._renderer._model.destroy();\r\n    this._system.remove(this);\r\n  }\r\n\r\n  onEnable() {\r\n    this._app.scene.addModel(this._renderer._model);\r\n    if (this._playOnAwake) {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  onDisable() {\r\n    this._app.scene.removeModel(this._renderer._model);\r\n  }\r\n\r\n  // TODO: fastforward current particle system by simulating particles over given period of time, then pause it.\r\n  // simulate(time, withChildren, restart, fixedTimeStep) {\r\n\r\n  // }\r\n\r\n  play() {\r\n    if (this._isPaused) {\r\n      this._isPaused = false;\r\n    }\r\n    if (this._isStopped) {\r\n      this._isStopped = false;\r\n    }\r\n\r\n    this._time = 0.0;\r\n    this._emitRateTimeCounter = 0.0;\r\n    this._emitRateDistanceCounter = 0.0;\r\n\r\n    this._isPlaying = true;\r\n\r\n    // prewarm\r\n    if (this._prewarm) {\r\n      this._prewarmSystem();\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this._isStopped) {\r\n      console.warn('pause(): particle system is already stopped.');\r\n      return;\r\n    }\r\n    if (this._isPlaying) {\r\n      this._isPlaying = false;\r\n    }\r\n\r\n    this._isPaused = true;\r\n  }\r\n\r\n  stop() {\r\n    if (this._isPlaying) {\r\n      this._isPlaying = false;\r\n    }\r\n    if (this._isPaused) {\r\n      this._isPaused = false;\r\n    }\r\n\r\n    this.clear();\r\n    this._time = 0.0;\r\n    this._emitRateTimeCounter = 0.0;\r\n    this._emitRateDistanceCounter = 0.0;\r\n\r\n    this._isStopped = true;\r\n  }\r\n\r\n  // remove all particles from current particle system.\r\n  clear() {\r\n    this._particles.reset();\r\n    this._renderer._model.clear();\r\n  }\r\n\r\n  emit(count, emitParams = null) {\r\n    if (emitParams !== null) {\r\n      // TODO:\r\n    }\r\n\r\n    for (let i = 0; i < count; ++i) {\r\n      if (this._particles.length >= this._capacity) {\r\n        return;\r\n      }\r\n\r\n      let particle = this._particles.add();\r\n      let rand = pseudoRandom(randomRangeInt(0, INT_MAX));\r\n\r\n      if (this._shapeModule.enable) {\r\n        this._shapeModule.emit(particle);\r\n      }\r\n      else {\r\n        vec3.set(particle.position, 0, 0, 0);\r\n        vec3.copy(particle.velocity, particleEmitZAxis);\r\n      }\r\n\r\n      vec3.scale(particle.velocity, particle.velocity, this._startSpeed.evaluate(this._time / this._duration, rand));\r\n\r\n      switch (this._simulationSpace) {\r\n        case 'local':\r\n          break;\r\n        case 'world': {\r\n          this._entity.getWorldMatrix(_world_mat);\r\n          vec3.transformMat4(particle.position, particle.position, _world_mat);\r\n          let worldRot = quat.create();\r\n          this._entity.getWorldRot(worldRot);\r\n          vec3.transformQuat(particle.velocity, particle.velocity, worldRot);\r\n        }\r\n          break;\r\n        case 'custom':\r\n          // TODO:\r\n          break;\r\n      }\r\n\r\n      // subEmitter\r\n      // if (this._subEmitters.length > 0) {\r\n      //   for (let idx = 0; idx < this._subEmitters.length; ++idx) {\r\n      //     let subEmitter = this._subEmitters[idx];\r\n      //     if (subEmitter.type === 'birth') {\r\n      //       // TODO: clone subEmitter\r\n      //       vec3.copy(subEmitter.emitter.entity.lpos, particle.position);\r\n      //       subEmitter.emitter.play();\r\n      //     }\r\n      //   }\r\n      // }\r\n\r\n      // apply startRotation. now 2D only.\r\n      vec3.set(particle.rotation, this._startRotation.evaluate(this._time / this._duration, rand), 0, 0);\r\n\r\n      // apply startSize. now 2D only.\r\n      vec3.set(particle.startSize, this._startSize.evaluate(this._time / this._duration, rand), 0, 0);\r\n      vec3.copy(particle.size, particle.startSize);\r\n\r\n      // apply startColor.\r\n      color4.copy(particle.startColor, this._startColor.evaluate(this._time / this._duration, rand));\r\n      color4.copy(particle.color, particle.startColor);\r\n\r\n      // apply startLifetime.\r\n      particle.startLifetime = this._startLifetime.evaluate(this._time / this._duration, rand);\r\n      particle.remainingLifetime = particle.startLifetime;\r\n\r\n      particle.randomSeed = pseudoRandom(randomRangeInt(0, INT_MAX));\r\n\r\n    } // end of particles forLoop.\r\n  }\r\n\r\n  // simulation, update particles.\r\n  _updateParticles(dt) {\r\n    this._entity.getWorldMatrix(_world_mat);\r\n    if (this._velocityOvertimeModule.enable) {\r\n      this._velocityOvertimeModule.update(this._simulationSpace, _world_mat);\r\n    }\r\n    if (this._forceOvertimeModule.enable) {\r\n      this._forceOvertimeModule.update(this._simulationSpace, _world_mat);\r\n    }\r\n    for (let i = 0; i < this._particles.length; ++i) {\r\n      let p = this._particles.data[i];\r\n      p.remainingLifetime -= dt;\r\n      vec3.set(p.animatedVelocity, 0, 0, 0);\r\n\r\n      if (p.remainingLifetime < 0.0) {\r\n        // subEmitter\r\n        // if (this._subEmitters.length > 0) {\r\n        //   for (let idx = 0; idx < this._subEmitters.length; ++idx) {\r\n        //     let subEmitter = this._subEmitters[idx];\r\n        //     if (subEmitter.type === 'death') {\r\n        //       vec3.copy(subEmitter.emitter.entity.lpos, p.position);\r\n        //       subEmitter.emitter.play();\r\n        //     }\r\n        //   }\r\n        // }\r\n\r\n        this._particles.remove(i);\r\n        --i;\r\n        continue;\r\n      }\r\n\r\n      p.velocity.y -= this._gravityModifier.evaluate(1 - p.remainingLifetime / p.startLifetime, p.randomSeed) * 9.8 * dt; // apply gravity.\r\n      if (this._sizeOvertimeModule.enable) {\r\n        this._sizeOvertimeModule.animate(p);\r\n      }\r\n      if (this._colorOverLifetimeModule.enable) {\r\n        this._colorOverLifetimeModule.animate(p);\r\n      }\r\n      if (this._forceOvertimeModule.enable) {\r\n        this._forceOvertimeModule.animate(p, dt);\r\n      }\r\n      if (this._velocityOvertimeModule.enable) {\r\n        this._velocityOvertimeModule.animate(p);\r\n      }\r\n      else {\r\n        vec3.copy(p.ultimateVelocity, p.velocity);\r\n      }\r\n      if (this._limitVelocityOvertimeModule.enable) {\r\n        this._limitVelocityOvertimeModule.animate(p);\r\n      }\r\n      if (this._rotationOvertimeModule.enable) {\r\n        this._rotationOvertimeModule.animate(p, dt);\r\n      }\r\n      if (this._textureAnimationModule.enable) {\r\n        this._textureAnimationModule.animate(p);\r\n      }\r\n      vec3.scaleAndAdd(p.position, p.position, p.ultimateVelocity, dt); // apply velocity.\r\n    }\r\n  }\r\n\r\n  // initialize particle system as though it had already completed a full cycle.\r\n  _prewarmSystem() {\r\n    this._startDelay.mode = 'constant'; // clear startDelay.\r\n    this._startDelay.constant = 0;\r\n    let dt = 1.0; // should use varying value?\r\n    let cnt = this._duration / dt;\r\n    for (let i = 0; i < cnt; ++i) {\r\n      this._time += dt;\r\n      this._emit(dt);\r\n      this._updateParticles(dt);\r\n    }\r\n  }\r\n\r\n  // internal function\r\n  _emit(dt) {\r\n    // emit particles.\r\n    let startDelay = this._startDelay.evaluate();\r\n    if (this._time > startDelay) {\r\n      if (!this._isStopped) {\r\n        this._isEmitting = true;\r\n      }\r\n      if (this._time > (this._duration + startDelay)) {\r\n        // this._time = startDelay; // delay will not be applied from the second loop.(Unity)\r\n        // this._emitRateTimeCounter = 0.0;\r\n        // this._emitRateDistanceCounter = 0.0;\r\n        if (!this._loop) {\r\n          this._isEmitting = false;\r\n          this._isStopped = true;\r\n        }\r\n      }\r\n\r\n      // emit by rateOverTime\r\n      this._emitRateTimeCounter += this._rateOverTime.evaluate(this._time / this._duration, 1) * dt;\r\n      if (this._emitRateTimeCounter > 1 && this._isEmitting) {\r\n        let emitNum = Math.floor(this._emitRateTimeCounter);\r\n        this._emitRateTimeCounter -= emitNum;\r\n        this.emit(emitNum);\r\n      }\r\n      // emit by rateOverDistance\r\n      this._entity.getWorldPos(this._curWPos);\r\n      let distance = vec3.distance(this._curWPos, this._oldWPos);\r\n      vec3.copy(this._oldWPos, this._curWPos);\r\n      this._emitRateDistanceCounter += distance * this._rateOverDistance.evaluate(this._time / this._duration, 1);\r\n      if (this._emitRateDistanceCounter > 1 && this._isEmitting) {\r\n        let emitNum = Math.floor(this._emitRateDistanceCounter);\r\n        this._emitRateDistanceCounter -= emitNum;\r\n        this.emit(emitNum);\r\n      }\r\n\r\n      // bursts\r\n      for (let i = 0; i < this._bursts.length; ++i) {\r\n        this._bursts[i].update(this, dt);\r\n      }\r\n    }\r\n  }\r\n\r\n  tick(dt) {\r\n    let scaledDeltaTime = dt * this._simulationSpeed;\r\n    if (this._isPlaying) {\r\n      this._time += scaledDeltaTime;\r\n\r\n      // excute emission\r\n      this._emit(scaledDeltaTime);\r\n\r\n      // simulation, update particles.\r\n      this._updateParticles(scaledDeltaTime);\r\n\r\n      // update render data\r\n      this.renderer._updateRenderData();\r\n    }\r\n  }\r\n\r\n  addSubEmitter(subEmitter) {\r\n    this._subEmitters.push(subEmitter);\r\n  }\r\n\r\n  removeSubEmitter(idx) {\r\n    this._subEmitters.remove(idx);\r\n  }\r\n\r\n  addBurst(burst) {\r\n    this._bursts.push(burst);\r\n  }\r\n\r\n  removeBurst(idx) {\r\n    this._bursts.remove(idx);\r\n  }\r\n\r\n  getParticleCount() {\r\n    return this._particles.length;\r\n  }\r\n\r\n  setCustomData1(x, y) {\r\n    vec2.set(this._customData1, x, y);\r\n  }\r\n\r\n  setCustomData2(x, y) {\r\n    vec2.set(this._customData2, x, y);\r\n  }\r\n\r\n  get isPlaying() {\r\n    return this._isPlaying;\r\n  }\r\n\r\n  get isPaused() {\r\n    return this._isPaused;\r\n  }\r\n\r\n  get isStopped() {\r\n    return this._isStopped;\r\n  }\r\n\r\n  get isEmitting() {\r\n    return this._isEmitting;\r\n  }\r\n\r\n  get time() {\r\n    return this._time;\r\n  }\r\n}\r\n\r\nParticleSystemComponent.schema = {\r\n\r\n  // main module properties\r\n  capacity: {\r\n    type: 'int',\r\n    default: 2000,\r\n  },\r\n\r\n  startColor: {\r\n    type: 'GradientRange',\r\n    default: {\r\n      'mode': 'color',\r\n      'color': [1, 1, 1, 1]\r\n    }\r\n  },\r\n\r\n  startSize: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 1.0\r\n    }\r\n  },\r\n\r\n  startSpeed: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 5.0\r\n    }\r\n  },\r\n\r\n  startRotation: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 0.0\r\n    }\r\n  },\r\n\r\n  startDelay: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 0.0\r\n    }\r\n  },\r\n\r\n  startLifetime: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 5.0\r\n    }\r\n  },\r\n\r\n  duration: {\r\n    type: 'number',\r\n    default: 5.0,\r\n  },\r\n\r\n  loop: {\r\n    type: 'boolean',\r\n    default: true,\r\n  },\r\n\r\n  prewarm: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      if (val === true && this._loop === false) {\r\n        // console.warn('prewarm only works if loop is also enabled.');\r\n      }\r\n      this._prewarm = val;\r\n    }\r\n  },\r\n\r\n  simulationSpace: {\r\n    type: 'enums',\r\n    default: 'local',\r\n    options: [\r\n      'local',\r\n      'world',\r\n      'custom'\r\n    ],\r\n    set(val) {\r\n      if (val === 'world') {\r\n        this._renderer._material.define('USE_WORLD_SPACE', true);\r\n      } else {\r\n        this._renderer._material.define('USE_WORLD_SPACE', false);\r\n      }\r\n      this._simulationSpace = val;\r\n    }\r\n  },\r\n\r\n  simulationSpeed: {\r\n    type: 'number',\r\n    default: 1.0,\r\n  },\r\n\r\n  playOnAwake: {\r\n    type: 'boolean',\r\n    default: false,\r\n  },\r\n\r\n  gravityModifier: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 0.0\r\n    }\r\n  },\r\n\r\n  // emission module\r\n  rateOverTime: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 10.0\r\n    }\r\n  },\r\n\r\n  rateOverDistance: {\r\n    type: 'CurveRange',\r\n    default: {\r\n      'mode': 'constant',\r\n      'constant': 10.0\r\n    }\r\n  },\r\n\r\n  bursts: {\r\n    type: 'Burst',\r\n    default: [],\r\n    array: true,\r\n  },\r\n\r\n  // color over lifetime module\r\n  colorOverLifetimeModule: {\r\n    type: 'ColorOverLifetimeModule',\r\n    default: null,\r\n  },\r\n\r\n  // shpae module\r\n  shapeModule: {\r\n    type: 'ShapeModule',\r\n    default: null\r\n  },\r\n\r\n  // particle system renderer\r\n  renderer: {\r\n    type: 'ParticleSystemRenderer',\r\n    default: null\r\n  },\r\n\r\n  // size over lifetime module\r\n  sizeOvertimeModule: {\r\n    type: 'SizeOvertimeModule',\r\n    default: null\r\n  },\r\n\r\n  velocityOvertimeModule: {\r\n    type: 'VelocityOvertimeModule',\r\n    default: null\r\n  },\r\n\r\n  forceOvertimeModule: {\r\n    type: 'ForceOvertimeModule',\r\n    default: null\r\n  },\r\n\r\n  limitVelocityOvertimeModule: {\r\n    type: 'LimitVelocityOvertimeModule',\r\n    default: null\r\n  },\r\n\r\n  rotationOvertimeModule: {\r\n    type: 'RotationOvertimeModule',\r\n    default: null\r\n  },\r\n\r\n  textureAnimationModule: {\r\n    type: 'TextureAnimationModule',\r\n    default: null\r\n  }\r\n};","import { vec3, mat4 } from '../../vmath';\r\nimport { Component } from '../../ecs';\r\n\r\nlet _wmat = mat4.create();\r\n\r\nexport default class WidgetComponent extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    // calculated rect\r\n    this._rect = { x: 0, y: 0, w: 0, h: 0 };\r\n  }\r\n\r\n  // override functions\r\n  _onRectChanged() {\r\n  }\r\n\r\n  /**\r\n   * @param {number} l\r\n   * @param {number} b\r\n   * @param {number} r\r\n   * @param {number} t\r\n   */\r\n  setAnchors(l, b, r, t) {\r\n    this._anchorLeft = l;\r\n    this._anchorRight = r;\r\n    this._anchorBottom = b;\r\n    this._anchorTop = t;\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   */\r\n  setOffset(x, y) {\r\n    this._offsetX = x;\r\n    this._offsetY = y;\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   */\r\n  setSize(x, y) {\r\n    this._sizeX = x;\r\n    this._sizeY = y;\r\n  }\r\n\r\n  /**\r\n   * @param {number} x\r\n   * @param {number} y\r\n   */\r\n  setPivot(x, y) {\r\n    this._pivotX = x;\r\n    this._pivotY = y;\r\n  }\r\n\r\n  getLeft() {\r\n    return this._offsetX - (this._sizeX * this._pivotX);\r\n  }\r\n\r\n  getRight() {\r\n    return -(this._offsetX + (this._sizeX * (1 - this._pivotX)));\r\n  }\r\n\r\n  getBottom() {\r\n    return this._offsetY - (this._sizeY * this._pivotY);\r\n  }\r\n\r\n  getTop() {\r\n    return -(this._offsetY + (this._sizeY * (1 - this._pivotY)));\r\n  }\r\n\r\n  setLeft(val) {\r\n    let offset = val - (this._offsetX - (this._sizeX * this._pivotX));\r\n    this._sizeX -= offset;\r\n    this._offsetX += offset * (1 - this._pivotX);\r\n  }\r\n\r\n  setRight(val) {\r\n    let offset = -val - (this._offsetX + (this._sizeX * (1 - this._pivotX)));\r\n    this._sizeX += offset;\r\n    this._offsetX += offset * this._pivotX;\r\n  }\r\n\r\n  setBottom(val) {\r\n    let offset = val - (this._offsetY - (this._sizeY * this._pivotY));\r\n    this._sizeY -= offset;\r\n    this._offsetY += offset * (1 - this._pivotY);\r\n  }\r\n\r\n  setTop(val) {\r\n    let offset = -val - (this._offsetY + (this._sizeY * (1 - this._pivotY)));\r\n    this._sizeY += offset;\r\n    this._offsetY += offset * this._pivotY;\r\n  }\r\n\r\n  // calculate\r\n  calculate(parentX, parentY, parentWidth, parentHeight) {\r\n    let refMinX = parentX + parentWidth * this._anchorLeft;\r\n    let refMinY = parentY + parentHeight * this._anchorBottom;\r\n    let refMaxX = parentX + parentWidth * this._anchorRight;\r\n    let refMaxY = parentY + parentHeight * this._anchorTop;\r\n\r\n    // let dx = refMaxX - refMinX;\r\n    // let dy = refMaxY - refMinY;\r\n\r\n    let rectX = 0.0;\r\n    let rectY = 0.0;\r\n    let rectWidth = 0.0;\r\n    let rectHeight = 0.0;\r\n\r\n    // refWidth = refMax - refMin\r\n    // rectWith = refWidth + sizeX\r\n    rectWidth = refMaxX - refMinX + this._sizeX;\r\n    rectHeight = refMaxY - refMinY + this._sizeY;\r\n\r\n    rectX = refMinX + this._offsetX - (this._sizeX * this._pivotX);\r\n    rectY = refMinY + this._offsetY - (this._sizeY * this._pivotY);\r\n\r\n    let newPosX = rectX + rectWidth * this._pivotX;\r\n    let newPosY = rectY + rectHeight * this._pivotY;\r\n\r\n    vec3.set(\r\n      this._entity.lpos,\r\n      newPosX,\r\n      newPosY,\r\n      this._entity.lpos.z\r\n    );\r\n\r\n    rectX = rectX - newPosX;\r\n    rectY = rectY - newPosY;\r\n\r\n    // update callbacks\r\n    if (\r\n      rectX !== this._rect.x ||\r\n      rectY !== this._rect.y ||\r\n      rectWidth !== this._rect.w ||\r\n      rectHeight !== this._rect.h\r\n    ) {\r\n      this._onRectChanged();\r\n    }\r\n\r\n    this._rect.x = rectX;\r\n    this._rect.y = rectY;\r\n    this._rect.w = rectWidth;\r\n    this._rect.h = rectHeight;\r\n\r\n  }\r\n\r\n  getWorldCorners(outA, outB, outC, outD) {\r\n    this._entity.getWorldMatrix(_wmat);\r\n\r\n    let x = this._rect.x;\r\n    let y = this._rect.y;\r\n    let w = this._rect.w;\r\n    let h = this._rect.h;\r\n\r\n    // a\r\n    vec3.set(outA, x, y + h, 0.0);\r\n    vec3.transformMat4(outA, outA, _wmat);\r\n\r\n    // b\r\n    vec3.set(outB, x, y, 0.0);\r\n    vec3.transformMat4(outB, outB, _wmat);\r\n\r\n    // c\r\n    vec3.set(outC, x + w, y, 0.0);\r\n    vec3.transformMat4(outC, outC, _wmat);\r\n\r\n    // d\r\n    vec3.set(outD, x + w, y + h, 0.0);\r\n    vec3.transformMat4(outD, outD, _wmat);\r\n  }\r\n}\r\n\r\nWidgetComponent.schema = {\r\n  focusable: {\r\n    type: 'boolean',\r\n    default: false,\r\n  },\r\n\r\n  pivotX: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  pivotY: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  anchorLeft: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  anchorBottom: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  anchorRight: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  anchorTop: {\r\n    type: 'number',\r\n    default: 0.5,\r\n  },\r\n\r\n  offsetX: {\r\n    type: 'number',\r\n    default: 0.0,\r\n  },\r\n\r\n  offsetY: {\r\n    type: 'number',\r\n    default: 0.0,\r\n  },\r\n\r\n  sizeX: {\r\n    type: 'number',\r\n    default: 100.0,\r\n  },\r\n\r\n  sizeY: {\r\n    type: 'number',\r\n    default: 100.0,\r\n  },\r\n};","import WidgetComponent from './widget-component';\r\nimport renderer from '../../renderer';\r\nimport { vec3 } from '../../vmath';\r\n\r\nexport default class ScreenComponent extends WidgetComponent {\r\n  constructor() {\r\n    super();\r\n\r\n    this._view = new renderer.View();\r\n  }\r\n\r\n  onInit() {\r\n    this._view._clearFlags = renderer.CLEAR_DEPTH | renderer.CLEAR_STENCIL;\r\n    this._view._cullingByID = true;\r\n    this._view._stages = ['ui'];\r\n    this._view._stencil = 0;\r\n    this._view._priority = this._priority;\r\n    this._system.addScreen(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.removeScreen(this);\r\n  }\r\n}\r\n\r\nScreenComponent.schema = {\r\n  priority: {\r\n    type: 'number',\r\n    default: 0,\r\n    set(val) {\r\n      this._priority = val;\r\n      this._view._priority = val;\r\n    }\r\n  },\r\n\r\n  width: {\r\n    type: 'number',\r\n    default: 960,\r\n    set(val) {\r\n      this._width = val;\r\n    }\r\n  },\r\n\r\n  height: {\r\n    type: 'number',\r\n    default: 640,\r\n    set(val) {\r\n      this._height = val;\r\n    }\r\n  },\r\n\r\n  scaleFactor: {\r\n    type: 'number',\r\n    default: 1.0,\r\n    set(val) {\r\n      this._scaleFactor = val;\r\n      vec3.set(this._entity.lscale, this._scaleFactor, this._scaleFactor, this._scaleFactor)\r\n    }\r\n  }\r\n};","import { Component } from '../../ecs';\r\n\r\nexport default class UIElementComponent extends Component {\r\n\r\n  onInit() {\r\n    this._system.add(this);\r\n  }\r\n\r\n  onDestroy() {\r\n    this._system.remove(this);\r\n  }\r\n}\r\n","import UIElementComponent from './ui-element-component';\r\nimport * as utils from '../../vmath';\r\n\r\nexport default class ScreenScalerComponent extends UIElementComponent {\r\n  tick() {\r\n    let screen = this._entity && this._entity.getComp('Screen');\r\n    if (!screen) {\r\n      return;\r\n    }\r\n\r\n    let canvas = this._app._canvas;\r\n    let aspect = [canvas.width / screen.width, canvas.height / screen.height];\r\n    if (this._adaptionMode === 'match-width-or-height') {\r\n      let w = Math.log2(aspect[0]);\r\n      let h = Math.log2(aspect[1]);\r\n      let p = utils.lerp(w, h, this._match);\r\n      this._scaleFactor = Math.pow(2, p);\r\n    } else if (this._adaptionMode === 'expand') {\r\n      this._scaleFactor = Math.min(aspect[0], aspect[1]);\r\n    } else if (this._adaptionMode === 'shrink') {\r\n      this._scaleFactor = Math.max(aspect[0], aspect[1]);\r\n    }\r\n\r\n    screen.scaleFactor = this._scaleFactor;\r\n  }\r\n}\r\n\r\nScreenScalerComponent.schema = {\r\n  adaptionMode: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'match-width-or-height', 'expand', 'shrink'],\r\n    set(val) {\r\n      if (this._adaptionMode === val) {\r\n        return;\r\n      }\r\n\r\n      this._adaptionMode = val;\r\n      this._adaption();\r\n    }\r\n  },\r\n\r\n  match: {\r\n    type: 'number',\r\n    default: 0.0,\r\n  },\r\n\r\n  scaleFactor: {\r\n    type: 'number',\r\n    default: 1,\r\n    set(val) {\r\n      if (this._scaleFactor === val) {\r\n        return;\r\n      }\r\n\r\n      if (this._adaptionMode !== 'none') {\r\n        return;\r\n      }\r\n\r\n      this._scaleFactor = val;\r\n    }\r\n  }\r\n}","import WidgetComponent from './widget-component';\r\nimport { vec2, vec3, mat4, color4 } from '../../vmath';\r\n\r\nlet _x_tmp = [0.0, 0.0, 0.0, 0.0];\r\nlet _y_tmp = [0.0, 0.0, 0.0, 0.0];\r\nlet _m4_tmp = mat4.create();\r\n\r\n/**\r\n * v2------v3\r\n * |       |\r\n * |       |\r\n * |       |\r\n * v0------v1\r\n */\r\nconst _simpleIndices = [\r\n  0, 1, 2, 3, 2, 1\r\n];\r\n\r\n/**\r\n * v12---v13---v14---v15\r\n * |      |     |     |\r\n * v08---v09---v10---v11\r\n * |      |     |     |\r\n * v04---v05---v06---v07\r\n * |      |     |     |\r\n * v00---v01---v02---v03\r\n */\r\nconst _slicedIndices = [\r\n  0, 1, 4, 5, 4, 1,\r\n  1, 2, 5, 6, 5, 2,\r\n  2, 3, 6, 7, 6, 3,\r\n  4, 5, 8, 9, 8, 5,\r\n  5, 6, 9, 10, 9, 6,\r\n  6, 7, 10, 11, 10, 7,\r\n  8, 9, 12, 13, 12, 9,\r\n  9, 10, 13, 14, 13, 10,\r\n  10, 11, 14, 15, 14, 11\r\n];\r\n\r\nconst _fullRadialIndices = [\r\n  0, 1, 2,\r\n  0, 3, 4,\r\n  0, 5, 6,\r\n  0, 7, 8,\r\n  0, 9, 10\r\n];\r\n\r\nfunction _reallocVertexData(type, fillType) {\r\n  let vertexCount = 4;\r\n  let indices = null;\r\n\r\n  if (type === 'simple') {\r\n    vertexCount = 4;\r\n    indices = _simpleIndices;\r\n  } else if (type === 'sliced') {\r\n    vertexCount = 16;\r\n    indices = _slicedIndices;\r\n  } else if (type === 'filled') {\r\n    if (fillType === 'radial') {\r\n      vertexCount = 11;\r\n      // do not specify it coz it may changes\r\n      // indices = _fullRadialIndices;\r\n    } else {\r\n      vertexCount = 4;\r\n      indices = _simpleIndices;\r\n    }\r\n  }\r\n\r\n  let lposList = new Array(vertexCount);\r\n  let wposList = new Array(vertexCount);\r\n  let uvs = new Array(vertexCount);\r\n  let color = color4.create();\r\n\r\n  for (let i = 0; i < vertexCount; ++i) {\r\n    wposList[i] = vec3.zero();\r\n    lposList[i] = vec3.zero();\r\n    uvs[i] = vec3.zero();\r\n  }\r\n\r\n  return {\r\n    wposList,\r\n    lposList,\r\n    uvs,\r\n    color,\r\n    indices,\r\n  };\r\n}\r\n\r\nfunction _genSimpleVerts(out, sprite, x, y, w, h) {\r\n  vec3.set(out.lposList[0], x, y, 0);\r\n  vec3.set(out.lposList[1], x + w, y, 0);\r\n  vec3.set(out.lposList[2], x, y + h, 0);\r\n  vec3.set(out.lposList[3], x + w, y + h, 0);\r\n\r\n  vec3.copy(out.uvs[0], sprite.uvs[0]);\r\n  vec3.copy(out.uvs[1], sprite.uvs[3]);\r\n  vec3.copy(out.uvs[2], sprite.uvs[12]);\r\n  vec3.copy(out.uvs[3], sprite.uvs[15]);\r\n\r\n  return out;\r\n}\r\n\r\nfunction _genSlicedVerts(out, sprite, x, y, w, h) {\r\n  // x0, x1, x2, x3\r\n  let xScale = 1.0;\r\n  let yScale = 1.0;\r\n\r\n  if (sprite._left + sprite._right > w) {\r\n    xScale = w / (sprite._left + sprite._right);\r\n  }\r\n  if (sprite._bottom + sprite._top > h) {\r\n    yScale = h / (sprite._bottom + sprite._top);\r\n  }\r\n\r\n  _x_tmp[0] = x;\r\n  _x_tmp[1] = x + sprite._left * xScale;\r\n  _x_tmp[2] = x + w - sprite._right * xScale;\r\n  _x_tmp[3] = x + w;\r\n\r\n  _y_tmp[0] = y;\r\n  _y_tmp[1] = y + sprite._bottom * yScale;\r\n  _y_tmp[2] = y + h - sprite._top * yScale;\r\n  _y_tmp[3] = y + h;\r\n\r\n  for (let row = 0; row < 4; ++row) {\r\n    for (let column = 0; column < 4; ++column) {\r\n      vec3.set(out.lposList[row * 4 + column], _x_tmp[column], _y_tmp[row], 0.0);\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < 16; ++i) {\r\n    vec3.copy(out.uvs[i], sprite.uvs[i]);\r\n  }\r\n\r\n  return out;\r\n}\r\n\r\nfunction _genFilledHorizontalVerts(out, sprite, x, y, w, h, start, range) {\r\n  start = start < 0 ? 0 : start;\r\n  start = start > 1 ? 1 : start;\r\n  range = range < 0 ? 0 : range;\r\n  let end = (range + start > 1) ? 1 : (range + start);\r\n\r\n  vec3.set(out.lposList[0], w * start + x, y, 0);\r\n  vec3.set(out.lposList[1], w * end + x, y, 0);\r\n  vec3.set(out.lposList[2], w * start + x, y + h, 0);\r\n  vec3.set(out.lposList[3], w * end + x, y + h, 0);\r\n\r\n  vec3.lerp(out.uvs[0], sprite.uvs[0], sprite.uvs[3], start);\r\n  vec3.lerp(out.uvs[1], sprite.uvs[0], sprite.uvs[3], end);\r\n  vec3.lerp(out.uvs[2], sprite.uvs[12], sprite.uvs[15], start);\r\n  vec3.lerp(out.uvs[3], sprite.uvs[12], sprite.uvs[15], end);\r\n\r\n  return out;\r\n}\r\n\r\nfunction _genFilledVerticalVerts(out, sprite, x, y, w, h, start, range) {\r\n  start = start < 0 ? 0 : start;\r\n  start = start > 1 ? 1 : start;\r\n  range = range < 0 ? 0 : range;\r\n  let end = (range + start > 1) ? 1 : (range + start);\r\n\r\n  vec3.set(out.lposList[0], x, y + h * start, 0);\r\n  vec3.set(out.lposList[1], w + x, y + h * start, 0);\r\n  vec3.set(out.lposList[2], x, y + h * end, 0);\r\n  vec3.set(out.lposList[3], w + x, y + h * end, 0);\r\n\r\n  vec3.lerp(out.uvs[0], sprite.uvs[0], sprite.uvs[12], start);\r\n  vec3.lerp(out.uvs[1], sprite.uvs[3], sprite.uvs[15], start);\r\n  vec3.lerp(out.uvs[2], sprite.uvs[0], sprite.uvs[12], end);\r\n  vec3.lerp(out.uvs[3], sprite.uvs[3], sprite.uvs[15], end);\r\n\r\n  return out;\r\n}\r\n\r\n// [0,PI * 2)\r\nfunction _getVertAngle(start, end) {\r\n  let placementX, placementY;\r\n  placementX = end.x - start.x;\r\n  placementY = end.y - start.y;\r\n\r\n  if (placementX === 0 && placementY === 0) {\r\n    return NaN;\r\n  } else if (placementX === 0) {\r\n    if (placementY > 0) {\r\n      return Math.PI * 0.5;\r\n    } else {\r\n      return Math.PI * 1.5;\r\n    }\r\n  } else {\r\n    let angle = Math.atan(placementY / placementX);\r\n    if (placementX < 0) {\r\n      angle += Math.PI;\r\n    }\r\n\r\n    return angle;\r\n  }\r\n}\r\n\r\nfunction _getInsectedPoints(quadInfo, center, angle, points, uvs) {\r\n  // left bottom, right, top\r\n  let left = quadInfo.left;\r\n  let right = quadInfo.right;\r\n  let top = quadInfo.top;\r\n  let bottom = quadInfo.bottom;\r\n  let sinAngle = Math.sin(angle);\r\n  let cosAngle = Math.cos(angle);\r\n  let tanAngle, cotAngle;\r\n  if (Math.cos(angle) !== 0) {\r\n    tanAngle = sinAngle / cosAngle;\r\n    // calculate right and left\r\n    if ((left - center.x) * cosAngle > 0) {\r\n      let yleft = center.y + tanAngle * (left - center.x);\r\n      points[3].x = left;\r\n      points[3].y = yleft;\r\n\r\n      vec3.lerp(uvs[3], quadInfo.uvbl, quadInfo.uvtl, (yleft - quadInfo.bottom) / (quadInfo.top - quadInfo.bottom));\r\n    }\r\n    if ((right - center.x) * cosAngle > 0) {\r\n      let yright = center.y + tanAngle * (right - center.x);\r\n\r\n      points[1].x = right;\r\n      points[1].y = yright;\r\n      vec3.lerp(uvs[1], quadInfo.uvbr, quadInfo.uvtr, (yright - quadInfo.bottom) / (quadInfo.top - quadInfo.bottom));\r\n    }\r\n\r\n  }\r\n\r\n  if (Math.sin(angle) !== 0) {\r\n    cotAngle = cosAngle / sinAngle;\r\n    // calculate  top and bottom\r\n    if ((top - center.y) * sinAngle > 0) {\r\n      let xtop = center.x + cotAngle * (top - center.y);\r\n      points[2].x = xtop;\r\n      points[2].y = top;\r\n\r\n      vec3.lerp(uvs[2], quadInfo.uvtl, quadInfo.uvtr, (xtop - quadInfo.left) / (quadInfo.right - quadInfo.left));\r\n    }\r\n    if ((bottom - center.y) * sinAngle > 0) {\r\n      let xbottom = center.x + cotAngle * (bottom - center.y);\r\n      points[0].x = xbottom;\r\n      points[0].y = bottom;\r\n\r\n      vec3.lerp(uvs[0], quadInfo.uvbl, quadInfo.uvbr, (xbottom - quadInfo.left) / (quadInfo.right - quadInfo.left));\r\n    }\r\n\r\n  }\r\n}\r\n\r\nconst _genFilledRadialVerts = (() => {\r\n\r\n  let intersectionPoints1 = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n  let intersectionPoints2 = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n  let intersectionUVs1 = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n  let intersectionUVs2 = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n\r\n  let center = vec3.zero();\r\n  let centerUVs = vec3.zero();\r\n  // quad vert data, in counter clockwise order\r\n  let quadVertPoses = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n  let quadVertAngles = [0, 0, 0, 0];\r\n  let uvXaxis = vec3.zero();\r\n  let uvYaxis = vec3.zero();\r\n\r\n  // proto of raw quads\r\n  let rawQuad = {\r\n    left: 0,\r\n    right: 100,\r\n    bottom: 0,\r\n    top: 100,\r\n    uvbl: vec3.new(0, 0, 0),\r\n    uvbr: vec3.new(1, 0, 0),\r\n    uvtl: vec3.new(0, 1, 0),\r\n    uvtr: vec3.new(1, 1, 0)\r\n  };\r\n\r\n  let quadUVs = new Array(4);\r\n\r\n  return (out, sprite, x, y, w, h, start, range, cx, cy) => {\r\n\r\n    vec3.sub(uvXaxis, sprite.uvs[3], sprite.uvs[0]);\r\n    vec3.sub(uvYaxis, sprite.uvs[12], sprite.uvs[0]);\r\n    quadUVs[0] = sprite.uvs[0];\r\n    quadUVs[1] = sprite.uvs[3];\r\n    quadUVs[2] = sprite.uvs[15];\r\n    quadUVs[3] = sprite.uvs[12];\r\n    // fast return ,generate simple mesh if range is bigger than 1\r\n    if (range >= 1) {\r\n      _genSimpleVerts(out, sprite, x, y, w, h);\r\n      out.indices = _simpleIndices;\r\n      return out;\r\n    }\r\n    out.indices = _fullRadialIndices;\r\n\r\n    // clamp range, center and start\r\n    range = range < 0 ? 0 : range;\r\n    while (start >= 1) {\r\n      start = start - 1;\r\n    }\r\n    while (start < 0) {\r\n      start = start + 1;\r\n    }\r\n    start = start * Math.PI * 2;\r\n    range = range * Math.PI * 2;\r\n    let end = start + range;\r\n\r\n    center.x = cx < 0 ? 0 : cx;\r\n    center.y = cy < 0 ? 0 : cy;\r\n    center.x = cx > 1 ? 1 : cx;\r\n    center.y = cy > 1 ? 1 : cy;\r\n\r\n    vec3.copy(centerUVs, sprite.uvs[0]);\r\n    centerUVs.x += uvXaxis.x * cx;\r\n    centerUVs.y += uvXaxis.y * cx;\r\n    centerUVs.x += uvYaxis.x * cy;\r\n    centerUVs.y += uvYaxis.y * cy;\r\n\r\n    center.x = center.x * w;\r\n    center.y = center.y * h;\r\n    // fill quad vertice\r\n    quadVertPoses[0].x = 0; quadVertPoses[0].y = 0;\r\n    quadVertPoses[1].x = w; quadVertPoses[1].y = 0;\r\n    quadVertPoses[2].x = w; quadVertPoses[2].y = h;\r\n    quadVertPoses[3].x = 0; quadVertPoses[3].y = h;\r\n    for (let index = 0; index < 4; ++index) {\r\n      quadVertAngles[index] = _getVertAngle(center, quadVertPoses[index]);\r\n    }\r\n    rawQuad.left = 0; rawQuad.bottom = 0;\r\n    rawQuad.right = w; rawQuad.top = h;\r\n    rawQuad.uvbl = sprite.uvs[0]; rawQuad.uvbr = sprite.uvs[3];\r\n    rawQuad.uvtl = sprite.uvs[12]; rawQuad.uvtr = sprite.uvs[15];\r\n    _getInsectedPoints(rawQuad, center, start, intersectionPoints1, intersectionUVs1);\r\n    _getInsectedPoints(rawQuad, center, end, intersectionPoints2, intersectionUVs2);\r\n    // iterate each edge\r\n    // center should be added\r\n    let vertCount = 1;\r\n    let triangleCount = 0;\r\n    vec3.copy(out.lposList[0], center);\r\n    vec3.copy(out.uvs[0], centerUVs);\r\n\r\n    for (let index = 0; index < 4; ++index) {\r\n      let startAngle = quadVertAngles[index];\r\n      let endAngle = quadVertAngles[(index + 1) % 4];\r\n      if (endAngle < startAngle) endAngle += Math.PI * 2;\r\n      startAngle -= Math.PI * 2;\r\n      endAngle -= Math.PI * 2;\r\n\r\n      for (let testIndex = 0; testIndex < 3; ++testIndex) {\r\n        if (startAngle >= end) {\r\n          // all out\r\n        } else if (startAngle >= start) {\r\n          if (endAngle >= end) {\r\n            // startAngle to fillEnd\r\n            vec3.copy(out.lposList[vertCount], quadVertPoses[index]);\r\n            vec3.copy(out.lposList[vertCount + 1], intersectionPoints2[index]);\r\n\r\n            vec3.copy(out.uvs[vertCount], quadUVs[index]);\r\n            vec3.copy(out.uvs[vertCount + 1], intersectionUVs2[index]);\r\n\r\n            vertCount += 2;\r\n            triangleCount += 1;\r\n          } else {\r\n\r\n            vec3.copy(out.lposList[vertCount], quadVertPoses[index]);\r\n            vec3.copy(out.lposList[vertCount + 1], quadVertPoses[(index + 1) % 4]);\r\n\r\n            vec3.copy(out.uvs[vertCount], quadUVs[index]);\r\n            vec3.copy(out.uvs[vertCount + 1], quadUVs[(index + 1) % 4]);\r\n\r\n            vertCount += 2;\r\n            triangleCount += 1;\r\n          }\r\n        } else {\r\n          // startAngle < fillStarts\r\n          if (endAngle <= start) {\r\n            // all out\r\n          } else if (endAngle <= end) {\r\n            // fillStart to endAngle\r\n            vec3.copy(out.lposList[vertCount], intersectionPoints1[index]);\r\n            vec3.copy(out.lposList[vertCount + 1], quadVertPoses[(index + 1) % 4]);\r\n\r\n            vec3.copy(out.uvs[vertCount], intersectionUVs1[index]);\r\n            vec3.copy(out.uvs[vertCount + 1], quadUVs[(index + 1) % 4]);\r\n\r\n            vertCount += 2;\r\n            triangleCount += 1;\r\n          } else {\r\n            // fillStart to fillEnd\r\n            vec3.copy(out.lposList[vertCount], intersectionPoints1[index]);\r\n            vec3.copy(out.lposList[vertCount + 1], intersectionPoints2[index]);\r\n\r\n            vec3.copy(out.uvs[vertCount], intersectionUVs1[index]);\r\n            vec3.copy(out.uvs[vertCount + 1], intersectionUVs2[index]);\r\n\r\n            vertCount += 2;\r\n            triangleCount += 1;\r\n          }\r\n        }\r\n        // add 2 * PI\r\n        startAngle += Math.PI * 2;\r\n        endAngle += Math.PI * 2;\r\n      }\r\n    }\r\n\r\n    for (let index = 0; index < vertCount; ++index) {\r\n      out.lposList[index].x += x;\r\n      out.lposList[index].y += y;\r\n    }\r\n\r\n    // fill empty verts to generate degraded triangles\r\n    for (let index = vertCount; index < out.lposList.length; ++index) {\r\n      vec3.copy(out.lposList[index], out.lposList[0]);\r\n    }\r\n\r\n    return out;\r\n  };\r\n})();\r\n\r\nexport default class ImageComponent extends WidgetComponent {\r\n  onInit() {\r\n    this._cachedVertexData = _reallocVertexData(this._type, this._fillType);\r\n    this._vertexDataDirty = true;\r\n\r\n    if (this._material === null) {\r\n      this._material = this._app.assets.get('builtin-material-sprite');\r\n    }\r\n  }\r\n\r\n  _onRectChanged() {\r\n    this._vertexDataDirty = true;\r\n  }\r\n\r\n  calcVertexData(x, y, w, h) {\r\n    if (this._vertexDataDirty) {\r\n      this._vertexDataDirty = false;\r\n      let sprite = this._sprite;\r\n      if (sprite === null) {\r\n        sprite = this._app.assets.get('default-sprite');\r\n      }\r\n      color4.copy(this._cachedVertexData.color, this._color);\r\n      if (this._type === 'simple') {\r\n        _genSimpleVerts(this._cachedVertexData, sprite, x, y, w, h);\r\n      } else if (this._type == 'sliced') {\r\n        _genSlicedVerts(this._cachedVertexData, sprite, x, y, w, h);\r\n      } else if (this._type === 'filled') {\r\n        if (this._fillType === 'radial') {\r\n          _genFilledRadialVerts(this._cachedVertexData, sprite, x, y, w, h, this._fillStart, this._fillRange, this._fillCenter.x, this._fillCenter.y);\r\n        } else if (this._fillType === 'vertical') {\r\n          _genFilledVerticalVerts(this._cachedVertexData, sprite, x, y, w, h, this._fillStart, this._fillRange);\r\n        } else {\r\n          _genFilledHorizontalVerts(this._cachedVertexData, sprite, x, y, w, h, this._fillStart, this._fillRange);\r\n        }\r\n      }\r\n    }\r\n\r\n    this._entity.getWorldMatrix(_m4_tmp);\r\n\r\n    for (let i = 0; i < this._cachedVertexData.lposList.length; ++i) {\r\n      let lpos = this._cachedVertexData.lposList[i];\r\n      let wpos = this._cachedVertexData.wposList[i];\r\n\r\n      vec3.transformMat4(wpos, lpos, _m4_tmp);\r\n    }\r\n\r\n    return this._cachedVertexData;\r\n  }\r\n}\r\n\r\nImageComponent.schema = {\r\n  material: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val === this._material) {\r\n        return;\r\n      }\r\n\r\n      this._material = val;\r\n    }\r\n  },\r\n\r\n  type: {\r\n    type: 'enums',\r\n    default: 'simple',\r\n    options: ['simple', 'sliced', 'filled'],\r\n    set(val) {\r\n      if (val === this._type) {\r\n        return;\r\n      }\r\n\r\n      this._type = val;\r\n      this._cachedVertexData = _reallocVertexData(this._type, this._fillType);\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  fillType: {\r\n    type: 'enums',\r\n    default: 'horizontal',\r\n    options: ['horizontal', 'vertical', 'radial'],\r\n    set(val) {\r\n      if (val === this._fillType) {\r\n        return;\r\n      }\r\n\r\n      this._fillType = val;\r\n      if (this._type === 'filled') {\r\n        this._cachedVertexData = _reallocVertexData(this._type, this._fillType);\r\n        this._vertexDataDirty = true;\r\n      }\r\n    }\r\n  },\r\n\r\n  fillStart: {\r\n    type: 'number',\r\n    default: 0.2,\r\n    set(val) {\r\n      if (val === this._fillStart) {\r\n        return;\r\n      }\r\n\r\n      this._fillStart = val;\r\n      if (this._type === 'filled') {\r\n        this._vertexDataDirty = true;\r\n      }\r\n    }\r\n  },\r\n\r\n  fillRange: {\r\n    type: 'number',\r\n    default: 0.8,\r\n    set(val) {\r\n      if (val === this._fillRange) {\r\n        return;\r\n      }\r\n\r\n      this._fillRange = val;\r\n      if (this._type === 'filled') {\r\n        this._vertexDataDirty = true;\r\n      }\r\n    }\r\n  },\r\n\r\n  fillCenter: {\r\n    type: 'vec2',\r\n    default: [0.5, 0.5],\r\n    set(val) {\r\n      if (vec2.equals(this._fillCenter, val)) {\r\n        return;\r\n      }\r\n\r\n      this._fillCenter = val;\r\n      if (this._type === 'filled' && this._fillType === 'radial') {\r\n        this._vertexDataDirty = true;\r\n      }\r\n    }\r\n  },\r\n\r\n  sprite: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val === this._sprite) {\r\n        return;\r\n      }\r\n\r\n      this._sprite = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  color: {\r\n    type: 'color4',\r\n    default: [1, 1, 1, 1],\r\n    set(val) {\r\n      if (color4.equals(this._color, val)) {\r\n        return;\r\n      }\r\n\r\n      color4.copy(this._color, val);\r\n      this._vertexDataDirty = true;\r\n    },\r\n  }\r\n};","import WidgetComponent from './widget-component';\r\nimport { vec2, vec3, color4, mat4 } from '../../vmath';\r\nimport Texture2D from '../../assets/texture-2d';\r\n\r\nlet _m4_tmp = mat4.create();\r\nlet _tmpCanvas = document.createElement('canvas'); // tmp canvas for measure text\r\n_tmpCanvas.width = _tmpCanvas.height = 1;\r\n\r\nfunction _reallocVertexData(textCount) {\r\n  let vertexCount = 4 * textCount;\r\n  let indexCount = 6 * textCount;\r\n\r\n  let indices = new Array(indexCount);\r\n  let lposList = new Array(vertexCount);\r\n  let wposList = new Array(vertexCount);\r\n  let uvs = new Array(vertexCount);\r\n  let color = color4.new();\r\n\r\n  for (let i = 0; i < vertexCount; ++i) {\r\n    wposList[i] = vec3.zero();\r\n    lposList[i] = vec3.zero();\r\n    uvs[i] = vec2.zero();\r\n  }\r\n\r\n  for (let i = 0; i < textCount; ++i) {\r\n    indices[6 * i + 0] = 4 * i + 0;\r\n    indices[6 * i + 1] = 4 * i + 1;\r\n    indices[6 * i + 2] = 4 * i + 2;\r\n    indices[6 * i + 3] = 4 * i + 3;\r\n    indices[6 * i + 4] = 4 * i + 2;\r\n    indices[6 * i + 5] = 4 * i + 1;\r\n  }\r\n\r\n  return {\r\n    wposList,\r\n    lposList,\r\n    uvs,\r\n    color,\r\n    indices,\r\n  };\r\n}\r\n\r\n\r\n// get width of single line text\r\nfunction _getTextWidth(textComp, ctx, text) {\r\n  let result = 0;\r\n  if (textComp._font === null) { // system font\r\n    result = ctx.measureText(text).width;\r\n  } else {\r\n    let fontScale = textComp._fontSize / textComp._font._size;\r\n    for (let i = 0; i < text.length; ++i) {\r\n      let charCode = text.charCodeAt(i);\r\n      let glyph = textComp._font._glyphs[charCode] || textComp._font._defaultGlyph;\r\n      result += glyph.xadvance * fontScale;\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction _getWrappedInfos(textComp, text, width) {\r\n  let results = [];\r\n  let words = text.split(textComp._regWordSep);\r\n  let lastIndex = 0;\r\n  let index = 0;\r\n  let accWordsWidth = 0;\r\n\r\n  let ctx = _tmpCanvas.getContext('2d');\r\n  if (textComp._font === null) { // system font\r\n    let fontItalic = textComp._italic ? 'italic' : '';\r\n    let fontBold = textComp._bold ? 'bold' : '';\r\n    let fontStyle = `${fontItalic} ${fontBold} ${textComp._fontSize}px ${textComp._fontFamily}`;\r\n    ctx.font = fontStyle;\r\n  }\r\n\r\n  // sep + word pair\r\n  for (let i = 0; i + 1 < words.length;) {\r\n    let sepWidth = _getTextWidth(textComp, ctx, words[i]);\r\n    let wordWidth = _getTextWidth(textComp, ctx, words[i + 1]);\r\n    if (accWordsWidth + sepWidth + wordWidth < width) {\r\n      if (i !== 0 && accWordsWidth === 0) {\r\n        accWordsWidth += wordWidth;\r\n        lastIndex = lastIndex + words[i].length;\r\n        index += words[i].length + words[i + 1].length;\r\n        // test succeed, increment word index\r\n        i += 2;\r\n      } else {\r\n        accWordsWidth += sepWidth + wordWidth;\r\n        index += words[i].length + words[i + 1].length;\r\n        // test succeed, increment word index\r\n        i += 2;\r\n      }\r\n    } else if (accWordsWidth === 0) {\r\n      // force add one word to line to avoid infinite loop\r\n      results.push({\r\n        start: lastIndex + words[i].length,\r\n        end: lastIndex + words[i].length + words[i + 1].length,\r\n        width: wordWidth\r\n      });\r\n      lastIndex = lastIndex + words[i].length + words[i + 1].length;\r\n      index = lastIndex;\r\n      accWordsWidth = 0;\r\n      // test failed, force add one, increment word index\r\n      i += 2;\r\n    } else {\r\n      // test failed, add wrapped info\r\n      results.push({\r\n        start: lastIndex,\r\n        end: index,\r\n        width: accWordsWidth\r\n      });\r\n\r\n      lastIndex = index;\r\n      accWordsWidth = 0;\r\n    }\r\n  }\r\n\r\n  // add the last line, do not add the last sep\r\n  if (accWordsWidth > 0) {\r\n    results.push({\r\n      start: lastIndex,\r\n      end: index,\r\n      width: accWordsWidth\r\n    });\r\n  }\r\n\r\n  return results;\r\n}\r\n\r\nfunction _genSysFontVertsAndUpdateTexture(textComp, x, y, w, h) {\r\n  function _fillLine(cmd) {\r\n    const curText = cmd.text.slice(cmd.start, cmd.end);\r\n    const curWidth = tmpCtx.measureText(curText).width;\r\n    let cursorX = (w - curWidth) * textComp._alignH;\r\n    fontCtx.fillText(curText, cursorX, cmd.y);\r\n  }\r\n\r\n  // set verts\r\n  let out = textComp._cachedVertexData;\r\n  vec3.set(out.lposList[0], x, y, 0);\r\n  vec3.set(out.lposList[1], x + w, y, 0);\r\n  vec3.set(out.lposList[2], x, y + h, 0);\r\n  vec3.set(out.lposList[3], x + w, y + h, 0);\r\n  vec2.set(out.uvs[0], 0, 0);\r\n  vec2.set(out.uvs[1], 1, 0);\r\n  vec2.set(out.uvs[2], 0, 1);\r\n  vec2.set(out.uvs[3], 1, 1);\r\n\r\n  // prepare font canvas\r\n  textComp._fontCanvas.width = w;\r\n  textComp._fontCanvas.height = h;\r\n  let fontCtx = textComp._fontCanvas.getContext('2d');\r\n  fontCtx.clearRect(0, 0, w, h);\r\n  fontCtx.fillStyle = '#FFFFFF';\r\n\r\n  // apply font style\r\n  let fontItalic = textComp._italic ? 'italic' : '';\r\n  let fontBold = textComp._bold ? 'bold' : '';\r\n  let fontStyle = `${fontItalic} ${fontBold} ${textComp._fontSize}px ${textComp._fontFamily}`;\r\n  fontCtx.font = fontStyle;\r\n\r\n  // HACK: no good idea to figure out glyph's ascend.\r\n  let startY = textComp._lineHeight * textComp._fontSize * -0.15;\r\n  let cursorY = startY;\r\n  let paragraphs = textComp._text.split('\\n');\r\n\r\n  const tmpCtx = _tmpCanvas.getContext('2d');\r\n  tmpCtx.font = fontStyle;\r\n\r\n  let drawCmd = []; // cache draw command for apply alignV after\r\n  if (textComp._wrap) {\r\n    for (let i = 0; i < paragraphs.length; ++i) {\r\n      let wrapInfos = _getWrappedInfos(textComp, paragraphs[i], w);\r\n      if (wrapInfos.length === 0) { // should not ignore empty line\r\n        cursorY += textComp._lineHeight * textComp._fontSize;\r\n        drawCmd.push({\r\n          text: '',\r\n          start: 0,\r\n          end: 0,\r\n          y: cursorY\r\n        });\r\n      } else {\r\n        for (let j = 0; j < wrapInfos.length; ++j) {\r\n          cursorY += textComp._lineHeight * textComp._fontSize;\r\n          drawCmd.push({\r\n            text: paragraphs[i],\r\n            start: wrapInfos[j].start,\r\n            end: wrapInfos[j].end,\r\n            y: cursorY\r\n          });\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    for (let i = 0; i < paragraphs.length; ++i) {\r\n      cursorY += textComp._lineHeight * textComp._fontSize;\r\n      drawCmd.push({\r\n        text: paragraphs[i],\r\n        start: 0,\r\n        end: paragraphs[i].length,\r\n        y: cursorY\r\n      });\r\n    }\r\n  }\r\n\r\n  let textH = drawCmd[drawCmd.length - 1].y - startY;\r\n  for (let i = 0; i < drawCmd.length; ++i) {\r\n    drawCmd[i].y += (h - textH) * textComp._alignV;\r\n    _fillLine(drawCmd[i]);\r\n  }\r\n\r\n  textComp._fontTexture.setImages([textComp._fontCanvas]);\r\n  textComp._fontTexture.commit();\r\n}\r\n\r\nfunction _genFontVerts(textComp, x, y, w, h) {\r\n  let cursorY = 0;\r\n  let paragraphs = textComp._text.split('\\n');\r\n  let font = textComp._font;\r\n  let fontScale = textComp._fontSize / font._size;\r\n  let out = textComp._cachedVertexData;\r\n  let totalLines = 0;\r\n  let totalChars = 0;\r\n\r\n  function _fillLine(para, start, end) {\r\n    let cursorX = 0;\r\n    for (let i = 0; i < end - start; ++i) {\r\n      let charCode = para.charCodeAt(i + start);\r\n      let glyph = font._glyphs[charCode] || font._defaultGlyph;\r\n      let x0 = cursorX + glyph.xoffset * fontScale;\r\n      let x1 = cursorX + (glyph.width + glyph.xoffset) * fontScale;\r\n      let y0 = cursorY - (glyph.height + glyph.yoffset) * fontScale;\r\n      let y1 = cursorY - glyph.yoffset * fontScale;\r\n\r\n      let idx = totalChars + i;\r\n\r\n      vec3.set(out.lposList[4 * idx + 0], x0, y0, 0);\r\n      vec3.set(out.lposList[4 * idx + 1], x1, y0, 0);\r\n      vec3.set(out.lposList[4 * idx + 2], x0, y1, 0);\r\n      vec3.set(out.lposList[4 * idx + 3], x1, y1, 0);\r\n\r\n      vec2.copy(out.uvs[4 * idx + 0], glyph.uvs[0]);\r\n      vec2.copy(out.uvs[4 * idx + 1], glyph.uvs[1]);\r\n      vec2.copy(out.uvs[4 * idx + 2], glyph.uvs[2]);\r\n      vec2.copy(out.uvs[4 * idx + 3], glyph.uvs[3]);\r\n\r\n      cursorX += glyph.xadvance * fontScale;\r\n    }\r\n\r\n    // process alignH\r\n    if (cursorX < w) {\r\n      for (let i = 0; i < end - start; ++i) {\r\n        let offsetX = (w - cursorX) * textComp._alignH;\r\n        let idx = totalChars + i;\r\n\r\n        out.lposList[4 * idx + 0].x += offsetX;\r\n        out.lposList[4 * idx + 1].x += offsetX;\r\n        out.lposList[4 * idx + 2].x += offsetX;\r\n        out.lposList[4 * idx + 3].x += offsetX;\r\n      }\r\n    }\r\n\r\n    totalChars += end - start;\r\n    ++totalLines;\r\n    cursorY -= textComp._lineHeight * font._lineHeight * fontScale;\r\n  }\r\n\r\n  if (textComp._wrap) {\r\n    for (let i = 0; i < paragraphs.length; ++i) {\r\n      let wrapInfos = _getWrappedInfos(textComp, paragraphs[i], w);\r\n      if (wrapInfos.length === 0 && textComp._text.length !== 0) { // should not ignore empty line when wrapped, draw a space\r\n        _fillLine(' ', 0, 1);\r\n      } else {\r\n        for (let j = 0; j < wrapInfos.length; ++j) {\r\n          _fillLine(paragraphs[i], wrapInfos[j].start, wrapInfos[j].end);\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    for (let i = 0; i < paragraphs.length; ++i) {\r\n      _fillLine(paragraphs[i], 0, paragraphs[i].length);\r\n    }\r\n  }\r\n\r\n  // process alignV and move it to [0,0, width, height] rect\r\n  let labelHeight = totalLines * textComp._lineHeight * font._lineHeight * fontScale;\r\n  let alignVOffset = labelHeight < h ? (h - labelHeight) * -textComp._alignV : 0.0;\r\n  let offsetY = y + h + alignVOffset;\r\n\r\n  for (let i = 0; i < totalChars; ++i) {\r\n    out.lposList[4 * i + 0].x += x;\r\n    out.lposList[4 * i + 1].x += x;\r\n    out.lposList[4 * i + 2].x += x;\r\n    out.lposList[4 * i + 3].x += x;\r\n\r\n    out.lposList[4 * i + 0].y += offsetY;\r\n    out.lposList[4 * i + 1].y += offsetY;\r\n    out.lposList[4 * i + 2].y += offsetY;\r\n    out.lposList[4 * i + 3].y += offsetY;\r\n  }\r\n  return totalChars;\r\n}\r\n\r\nexport default class TextComponent extends WidgetComponent {\r\n  onInit() {\r\n    this._alignH = 0.0;\r\n    this._alignV = 0.0;\r\n    this._regWordSep = new RegExp(this._wordSep);\r\n\r\n    // system font properties\r\n    this._fontCanvas = document.createElement('canvas');\r\n\r\n    if (this._material === null) {\r\n      this._material = this._app.assets.get('builtin-material-font');\r\n    }\r\n\r\n    if (this._font === null && this._fontTexture === null) {\r\n      this._fontTexture = new Texture2D(this._app.device);\r\n      this._fontTexture.mipmap = false; // TODO: should support mipmap?\r\n      this._fontTexture.wrapS = 'clamp';\r\n      this._fontTexture.wrapT = 'clamp';\r\n      this._fontTexture.premultiplyAlpha = true;\r\n    }\r\n\r\n    this._updateFont();\r\n    this._updateAlignHV();\r\n  }\r\n\r\n  _onRectChanged() {\r\n    this._vertexDataDirty = true;\r\n  }\r\n\r\n  _updateFont() {\r\n    if (this._font === null) { // system font\r\n      this._cachedVertexData = _reallocVertexData(1);\r\n      this._vertexDataDirty = true;\r\n      return;\r\n    }\r\n\r\n    if (this._font.type === 'opentype') {\r\n      this._font.addText(this._text);\r\n    } else if (this._font.type === 'bitmap') {\r\n      this._material = this._app.assets.get('builtin-material-sprite');\r\n    }\r\n\r\n    this._cachedVertexData = _reallocVertexData(this._text.length);\r\n    this._vertexDataDirty = true;\r\n  }\r\n\r\n  _updateAlignHV() {\r\n    if (this._align === 'top-left') {\r\n      this._alignH = 0.0;\r\n      this._alignV = 0.0;\r\n    } else if (this._align === 'top-center') {\r\n      this._alignH = 0.5;\r\n      this._alignV = 0.0;\r\n    } else if (this._align === 'top-right') {\r\n      this._alignH = 1.0;\r\n      this._alignV = 0.0;\r\n    } else if (this._align === 'middle-left') {\r\n      this._alignH = 0.0;\r\n      this._alignV = 0.5;\r\n    } else if (this._align === 'middle-center') {\r\n      this._alignH = 0.5;\r\n      this._alignV = 0.5;\r\n    } else if (this._align === 'middle-right') {\r\n      this._alignH = 1.0;\r\n      this._alignV = 0.5;\r\n    } else if (this._align === 'bottom-left') {\r\n      this._alignH = 0.0;\r\n      this._alignV = 1.0;\r\n    } else if (this._align === 'bottom-center') {\r\n      this._alignH = 0.5;\r\n      this._alignV = 1.0;\r\n    } else if (this._align === 'bottom-right') {\r\n      this._alignH = 1.0;\r\n      this._alignV = 1.0;\r\n    }\r\n  }\r\n\r\n  calcVertexData(x, y, w, h) {\r\n    if (this._vertexDataDirty) {\r\n      this._vertexDataDirty = false;\r\n\r\n      color4.copy(this._cachedVertexData.color, this._color);\r\n\r\n      if (this._font === null) { // system font\r\n        _genSysFontVertsAndUpdateTexture(this, x, y, w, h);\r\n      } else {\r\n        _genFontVerts(this, x, y, w, h);\r\n      }\r\n    }\r\n\r\n    this._entity.getWorldMatrix(_m4_tmp);\r\n\r\n    for (let i = 0; i < this._cachedVertexData.lposList.length; ++i) {\r\n      let lpos = this._cachedVertexData.lposList[i];\r\n      let wpos = this._cachedVertexData.wposList[i];\r\n\r\n      vec3.transformMat4(wpos, lpos, _m4_tmp);\r\n    }\r\n\r\n    return this._cachedVertexData;\r\n  }\r\n}\r\n\r\nTextComponent.schema = {\r\n  material: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val === this._material) {\r\n        return;\r\n      }\r\n\r\n      this._material = val;\r\n    }\r\n  },\r\n\r\n  font: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val === this._font) {\r\n        return;\r\n      }\r\n\r\n      this._font = val;\r\n      this._updateFont();\r\n    }\r\n  },\r\n\r\n  text: {\r\n    type: 'string',\r\n    default: '',\r\n    set(val) {\r\n      if (this._text === val) {\r\n        return;\r\n      }\r\n\r\n      this._text = val;\r\n      this._updateFont();\r\n    }\r\n  },\r\n\r\n  align: {\r\n    type: 'enums',\r\n    default: 'top-left',\r\n    options: [\r\n      'top-left',\r\n      'top-center',\r\n      'top-right',\r\n      'middle-left',\r\n      'middle-center',\r\n      'middle-right',\r\n      'bottom-left',\r\n      'bottom-center',\r\n      'bottom-right'\r\n    ],\r\n    set(val) {\r\n      if (this._align === val) {\r\n        return;\r\n      }\r\n\r\n      this._align = val;\r\n      this._vertexDataDirty = true;\r\n      this._updateAlignHV();\r\n    }\r\n  },\r\n\r\n  wrap: {\r\n    type: 'boolean',\r\n    default: true,\r\n    set(val) {\r\n      if (this._wrap === val) {\r\n        return;\r\n      }\r\n\r\n      this._wrap = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  fontSize: {\r\n    type: 'int',\r\n    default: 32,\r\n    set(val) {\r\n      if (this._fontSize === val) {\r\n        return;\r\n      }\r\n\r\n      this._fontSize = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  lineHeight: {\r\n    type: 'number',\r\n    default: 1.0,\r\n    set(val) {\r\n      if (this._lineHeight === val) {\r\n        return;\r\n      }\r\n\r\n      this._lineHeight = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  color: {\r\n    type: 'color4',\r\n    default: [1, 1, 1, 1],\r\n    set(val) {\r\n      if (color4.equals(this._color, val)) {\r\n        return;\r\n      }\r\n\r\n      this._color = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  wordSep: {\r\n    type: 'string',\r\n    default: /([a-zA-Z0-9ÄÖÜäöüßéèçàùêâîôûа-яА-ЯЁё]+|\\S)/,\r\n    set(val) {\r\n      if (this._wordSep === val) {\r\n        return;\r\n      }\r\n\r\n      this._wordSep = val;\r\n      this._regWordSep = new RegExp(val);\r\n    }\r\n  },\r\n\r\n  fontFamily: {\r\n    type: 'string',\r\n    default: 'Arial',\r\n    set(val) {\r\n      if (this._fontFamily === val) {\r\n        return;\r\n      }\r\n\r\n      this._fontFamily = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  // only for system font\r\n  italic: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      if (this._italic === val) {\r\n        return;\r\n      }\r\n\r\n      this._italic = val;\r\n      this._vertexDataDirty = true;\r\n    }\r\n  },\r\n\r\n  // only for system font\r\n  bold: {\r\n    type: 'boolean',\r\n    default: false,\r\n    set(val) {\r\n      if (this._bold === val) {\r\n        return;\r\n      }\r\n\r\n      this._bold = val;\r\n      this._vertexDataDirty = true;\r\n    },\r\n  },\r\n\r\n  // only for system font\r\n  fontTexture: {\r\n    type: 'asset',\r\n    default: null,\r\n  }\r\n};","import WidgetComponent from './widget-component';\r\nimport { vec2, vec3, mat4, color4 } from '../../vmath';\r\n\r\nlet _m4_tmp = mat4.create();\r\n\r\nfunction _reallocVertexData() {\r\n  let vertexCount = 4;\r\n  let indices = [\r\n    0, 1, 2, 3, 2, 1\r\n  ];\r\n\r\n  let lposList = new Array(vertexCount);\r\n  let wposList = new Array(vertexCount);\r\n  let uvs = new Array(vertexCount);\r\n  let color = color4.new(1, 1, 1, 1);\r\n\r\n  uvs[0] = vec2.new(0, 0);\r\n  uvs[1] = vec2.new(1, 0);\r\n  uvs[2] = vec2.new(0, 1);\r\n  uvs[3] = vec2.new(1, 1);\r\n\r\n  for (let i = 0; i < vertexCount; ++i) {\r\n    wposList[i] = vec3.zero();\r\n    lposList[i] = vec3.zero();\r\n  }\r\n\r\n  return {\r\n    wposList,\r\n    lposList,\r\n    uvs,\r\n    color,\r\n    indices,\r\n  };\r\n}\r\n\r\nexport default class MaskComponent extends WidgetComponent {\r\n  onInit() {\r\n    this._cachedVertexData = _reallocVertexData();\r\n    this._vertexDataDirty = true;\r\n\r\n    if (this._material === null) {\r\n      this._material = this._app.assets.get('builtin-material-sprite');\r\n    }\r\n  }\r\n\r\n  _onRectChanged() {\r\n    this._vertexDataDirty = true;\r\n  }\r\n\r\n  calcVertexData(x, y, w, h) {\r\n    if (this._vertexDataDirty) {\r\n      this._vertexDataDirty = false;\r\n\r\n      vec3.set(this._cachedVertexData.lposList[0], x, y, 0);\r\n      vec3.set(this._cachedVertexData.lposList[1], x + w, y, 0);\r\n      vec3.set(this._cachedVertexData.lposList[2], x, y + h, 0);\r\n      vec3.set(this._cachedVertexData.lposList[3], x + w, y + h, 0);\r\n    }\r\n\r\n    this._entity.getWorldMatrix(_m4_tmp);\r\n\r\n    for (let i = 0; i < this._cachedVertexData.lposList.length; ++i) {\r\n      let lpos = this._cachedVertexData.lposList[i];\r\n      let wpos = this._cachedVertexData.wposList[i];\r\n\r\n      vec3.transformMat4(wpos, lpos, _m4_tmp);\r\n    }\r\n\r\n    return this._cachedVertexData;\r\n  }\r\n}\r\n\r\nMaskComponent.schema = {\r\n  material: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val === this._material) {\r\n        return;\r\n      }\r\n\r\n      this._material = val;\r\n    }\r\n  },\r\n\r\n  sprite: {\r\n    type: 'asset',\r\n    default: null,\r\n    set(val) {\r\n      if (val !== this._sprite) {\r\n        return;\r\n      }\r\n\r\n      this._sprite = val;\r\n    }\r\n  }\r\n};","import { System } from '../../ecs';\r\nimport { FixedArray } from '../../memop';\r\n\r\nexport default class UIElementSystem extends System {\r\n  constructor() {\r\n    super();\r\n    this._uiElements = new FixedArray(200);\r\n  }\r\n\r\n  add(comp) {\r\n    this._uiElements.push(comp);\r\n  }\r\n\r\n  remove(comp) {\r\n    for (let i = 0; i < this._uiElements.length; ++i) {\r\n      let c = this._uiElements.data[i];\r\n      if (c === comp) {\r\n        this._uiElements.fastRemove(i);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    for (let i = 0; i < this._uiElements.length; ++i) {\r\n      let uiElement = this._uiElements.data[i];\r\n      if (uiElement && uiElement.tick) {\r\n        uiElement.tick();\r\n      }\r\n    }\r\n  }\r\n\r\n  postTick() {\r\n    for (let i = 0; i < this._uiElements.length; ++i) {\r\n      let uiElement = this._uiElements.data[i];\r\n      if (uiElement && uiElement.postTick) {\r\n        uiElement.postTick();\r\n      }\r\n    }\r\n  }\r\n}","import UIElementComponent from './ui-element-component';\r\nimport { color4 } from '../../vmath';\r\nimport { Entity } from '../../ecs';\r\n\r\nexport default class ButtonComponent extends UIElementComponent{\r\n  constructor() {\r\n    super();\r\n    // private\r\n    this._highlighting = false;\r\n    this._pressing = false;\r\n    this._widget = null;\r\n    this._bgImage = null;\r\n\r\n    // properties\r\n    this._state = 'none';\r\n    // only support first finger\r\n    this._fingerId = -1;\r\n  }\r\n\r\n  onInit() {\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._widget.focusable = true;\r\n\r\n    this._bgImage = this._background && this._background.getComp('Image');\r\n    if (!this._bgImage) {\r\n      this._bgImage = this._entity.getComp('Image');\r\n    }\r\n  }\r\n\r\n  onDestroy() {\r\n    this._widget.focusable = false;\r\n  }\r\n\r\n  _updateState() {\r\n    let state = 'normal';\r\n\r\n    if (this._pressing) {\r\n      state = 'pressed';\r\n    } else if (this._highlighting) {\r\n      state = 'highlight';\r\n    }\r\n\r\n    if (this._state === state) {\r\n      return;\r\n    }\r\n\r\n    let oldState = this._state;\r\n    this._state = state;\r\n\r\n    this.dispatch('transition', {\r\n      detail: {\r\n        oldState,\r\n        newState: this._state\r\n      }\r\n    });\r\n\r\n    if (this._bgImage === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'none') {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'color') {\r\n      this._bgImage.color = this._transitionColors[state];\r\n    } else if (this._transition === 'sprite') {\r\n      this._bgImage.sprite = this._transitionSprites[state];\r\n    } else {\r\n      // todo: not implemented\r\n      console.warn('Button transition animation is not implemented');\r\n    }\r\n  }\r\n\r\n  _onMouseEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n    this._highlighting = true;\r\n\r\n    if (\r\n      widgetSys.focusedEntity === this._entity &&\r\n      e.buttons & 1 !== 0\r\n    ) {\r\n      this._pressing = true;\r\n    }\r\n\r\n    this._updateState();\r\n  }\r\n\r\n  _onMouseLeave() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n\r\n    this._pressing = false;\r\n    if (\r\n      widgetSys.focusedEntity &&\r\n      widgetSys.focusedEntity === this._entity\r\n    ) {\r\n      this._highlighting = true;\r\n    } else {\r\n      this._highlighting = false;\r\n    }\r\n\r\n    this._updateState();\r\n  }\r\n\r\n  _onMouseDown(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n    if (e.button === 'left') {\r\n      e.stop();\r\n\r\n      if (widgetSys.focusedEntity !== this._entity) {\r\n        return;\r\n      }\r\n\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onMouseUp(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (e.button === 'left') {\r\n      e.stop();\r\n\r\n      this._pressing = false;\r\n      this._updateState();\r\n\r\n      this.dispatch('clicked');\r\n    }\r\n  }\r\n\r\n  _onFocus() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._highlighting = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onBlur() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._fingerId = -1;\r\n    this._highlighting = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onTouchLeave(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n    this._pressing = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchStart(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n\r\n    this._fingerId = e.id;\r\n    this._pressing = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnd(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n\r\n    this._fingerId = -1;\r\n    this._pressing = false;\r\n    this._updateState();\r\n\r\n    this.dispatch('clicked');\r\n  }\r\n}\r\n\r\nButtonComponent.events = {\r\n  'mouseenter': '_onMouseEnter',\r\n  'mouseleave': '_onMouseLeave',\r\n  'mousedown': '_onMouseDown',\r\n  'mouseup': '_onMouseUp',\r\n  'focus': '_onFocus',\r\n  'blur': '_onBlur',\r\n  'touchenter': '_onTouchEnter',\r\n  'touchleave': '_onTouchLeave',\r\n  'touchstart': '_onTouchStart',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nButtonComponent.schema = {\r\n  transitionColors: {\r\n    type: 'object',\r\n    default: {\r\n      normal: color4.create(),\r\n      highlight: color4.create(),\r\n      pressed: color4.create(),\r\n      disabled: color4.create()\r\n    }\r\n  },\r\n\r\n  transitionSprites: {\r\n    type: 'object',\r\n    parse(app, value, propInfo, entities) {\r\n      if (value) {\r\n        let cPropInfo = { normal: null, highlight: null, pressed: null, disabled: null };\r\n        if (value.normal && typeof value.normal === 'string') {\r\n          cPropInfo.normal = app.assets.get(value.normal);\r\n        }\r\n\r\n        if (value.highlight && typeof value.highlight === 'string') {\r\n          cPropInfo.highlight = app.assets.get(value.highlight);\r\n        }\r\n\r\n        if (value.pressed && typeof value.pressed === 'string') {\r\n          cPropInfo.pressed = app.assets.get(value.pressed);\r\n        }\r\n\r\n        if (value.disabled && typeof value.disabled === 'string') {\r\n          cPropInfo.disabled = app.assets.get(value.disabled);\r\n        }\r\n\r\n        return cPropInfo;\r\n      }\r\n    },\r\n    default: {\r\n      normal: null,\r\n      highlight: null,\r\n      pressed: null,\r\n      disabled: null\r\n    }\r\n  },\r\n\r\n  background: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      this._background = val;\r\n      if (this._background) {\r\n        this._bgImage = this._background.getComp('Image');\r\n      }\r\n    }\r\n  },\r\n\r\n  transition: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'color', 'sprite']\r\n  }\r\n};\r\n","import UIElementComponent from './ui-element-component';\r\nimport { color4 } from '../../vmath';\r\nimport { Entity } from '../../ecs';\r\n\r\nexport default class ToggleComponent extends UIElementComponent {\r\n  constructor() {\r\n    super();\r\n    this._state = 'none';\r\n    this._highlighting = false;\r\n    this._pressing = false;\r\n    this._widget = null;\r\n    this._bgImage = null;\r\n    this._toggleGroupComp = null;\r\n    this._checkerImage = null;\r\n    // only support first finger\r\n    this._fingerId = -1;\r\n  }\r\n\r\n  onInit() {\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._widget.focusable = true;\r\n    this._bgImage = this._background && this._background.getComp('Image');\r\n    if (!this._bgImage) {\r\n      this._bgImage = this._entity.getComp('Image');\r\n    }\r\n\r\n    this._toggleGroupComp = this._toggleGroup && this._toggleGroup.getComp('ToggleGroup');\r\n    if (this._toggleGroupComp) {\r\n      this._toggleGroupComp._addItem(this);\r\n    }\r\n\r\n    this._checkerImage = this._checker && this._checker.getComp('Image');\r\n    if (this._checkerImage) {\r\n      this._checkerImage.enabled = this._checked;\r\n    }\r\n  }\r\n\r\n  onDestroy() {\r\n    this._widget.focusable = false;\r\n  }\r\n\r\n  _updateState() {\r\n    let state = 'normal';\r\n\r\n    if (this._pressing) {\r\n      state = 'pressed';\r\n    } else if (this._highlighting) {\r\n      state = 'highlight';\r\n    }\r\n\r\n    if (this._state === state) {\r\n      return;\r\n    }\r\n\r\n    let oldState = this._state;\r\n    this._state = state;\r\n\r\n    this.dispatch('transition', {\r\n      detail: {\r\n        oldState,\r\n        newState: this._state\r\n      }\r\n    });\r\n\r\n    if (this._bgImage === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'none') {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'color') {\r\n      this._bgImage.color = this._transitionColors[state];\r\n    } else if (this._transition === 'sprite') {\r\n      this._bgImage.sprite = this._transitionSprites[state];\r\n    } else {\r\n      // todo: not implemented\r\n      console.warn('Button transition animation is not implemented');\r\n    }\r\n  }\r\n\r\n  _onMouseEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n    this._highlighting = true;\r\n\r\n    if (\r\n      widgetSys.focusedEntity === this._entity &&\r\n      e.buttons & 1 !== 0\r\n    ) {\r\n      this._pressing = true;\r\n    }\r\n\r\n    this._updateState();\r\n  }\r\n\r\n  _onMouseLeave() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n\r\n    this._pressing = false;\r\n    if (\r\n      widgetSys.focusedEntity &&\r\n      widgetSys.focusedEntity === this._entity\r\n    ) {\r\n      this._highlighting = true;\r\n    } else {\r\n      this._highlighting = false;\r\n    }\r\n\r\n    this._updateState();\r\n  }\r\n\r\n  _onMouseDown(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n    if (e.button === 'left') {\r\n      e.stop();\r\n\r\n      if (widgetSys.focusedEntity !== this._entity) {\r\n        return;\r\n      }\r\n\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onMouseUp(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    let widgetSys = this._widget.system;\r\n    if (e.button === 'left') {\r\n      e.stop();\r\n\r\n      if (widgetSys.focusedEntity !== this._entity) {\r\n        return;\r\n      }\r\n\r\n      this.checked = !this.checked;\r\n      this.dispatch('change');\r\n      if (this._toggleGroupComp) {\r\n        this._toggleGroupComp._updateCheck(this);\r\n      }\r\n\r\n      this._pressing = false;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onFocus() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._highlighting = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onBlur() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._fingerId = -1;\r\n    this._highlighting = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onTouchLeave(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n    this._pressing = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchStart(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n\r\n    this._fingerId = e.id;\r\n    this._pressing = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnd(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n\r\n    this._fingerId = -1;\r\n    this._pressing = false;\r\n    this._updateState();\r\n\r\n    this.checked = !this.checked;\r\n    this.dispatch('change');\r\n    if (this._toggleGroupComp) {\r\n      this._toggleGroupComp._updateCheck(this);\r\n    }\r\n  }\r\n}\r\n\r\nToggleComponent.events = {\r\n  'mouseenter': '_onMouseEnter',\r\n  'mouseleave': '_onMouseLeave',\r\n  'mousedown': '_onMouseDown',\r\n  'mouseup': '_onMouseUp',\r\n  'focus': '_onFocus',\r\n  'blur': '_onBlur',\r\n  'touchenter': '_onTouchEnter',\r\n  'touchleave': '_onTouchLeave',\r\n  'touchstart': '_onTouchStart',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nToggleComponent.schema = {\r\n  checker: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._checker === val) {\r\n        return;\r\n      }\r\n\r\n      this._checker = val;\r\n      if (this._checker) {\r\n        this._checkerImage = this._checker.getComp('Image');\r\n        this._checkerImage.enabled = this._checked;\r\n      }\r\n    }\r\n  },\r\n\r\n  checked: {\r\n    type: 'boolean',\r\n    default: true,\r\n    set(val) {\r\n      if (this._checked === val) {\r\n        return;\r\n      }\r\n\r\n      this._checked = val;\r\n      if (this._checkerImage) {\r\n        this._checkerImage.enabled = this._checked;\r\n      }\r\n    }\r\n  },\r\n\r\n  toggleGroup: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n       }\r\n\r\n      if (this._toggleGroup === val) {\r\n        return;\r\n      }\r\n\r\n      this._toggleGroup = val;\r\n      if (this._toggleGroupComp) {\r\n        this._toggleGroupComp._removeItem(this);\r\n        this._toggleGroupComp = null;\r\n      }\r\n\r\n      if (this._toggleGroup) {\r\n        this._toggleGroupComp = this._toggleGroup.getComp('ToggleGroup');\r\n        if (this._toggleGroupComp) {\r\n          this._toggleGroupComp._addItem(this);\r\n         }\r\n      }\r\n    }\r\n  },\r\n\r\n  transitionColors: {\r\n    type: 'object',\r\n    default: {\r\n      normal: color4.create(),\r\n      highlight: color4.create(),\r\n      pressed: color4.create(),\r\n      disabled: color4.create(),\r\n    },\r\n  },\r\n\r\n  transitionSprites: {\r\n    type: 'object',\r\n    parse(app, value, propInfo, entities) {\r\n      if (value) {\r\n        let cPropInfo = { normal: null, highlight: null, pressed: null, disabled: null };\r\n        if (value.normal && typeof value.normal === 'string') {\r\n          cPropInfo.normal = app.assets.get(value.normal);\r\n        }\r\n\r\n        if (value.highlight && typeof value.highlight === 'string') {\r\n          cPropInfo.highlight = app.assets.get(value.highlight);\r\n        }\r\n\r\n        if (value.pressed && typeof value.pressed === 'string') {\r\n          cPropInfo.pressed = app.assets.get(value.pressed);\r\n        }\r\n\r\n        if (value.disabled && typeof value.disabled === 'string') {\r\n          cPropInfo.disabled = app.assets.get(value.disabled);\r\n        }\r\n\r\n        return cPropInfo;\r\n      }\r\n    },\r\n    default: {\r\n      normal: null,\r\n      highlight: null,\r\n      pressed: null,\r\n      disabled: null\r\n    },\r\n  },\r\n\r\n  background: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._background === val) {\r\n        return;\r\n      }\r\n\r\n      this._background = val;\r\n      if (this._background) {\r\n        this._bgImage = this._background.getComp('Image');\r\n      }\r\n    },\r\n  },\r\n\r\n  transition: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'color', 'sprite'],\r\n  }\r\n};","import UIElementComponent from './ui-element-component';\r\n\r\nexport default class ToggleGroupComponent extends UIElementComponent {\r\n  constructor() {\r\n    super();\r\n\r\n    this._toggleItems = [];\r\n    // only one toggled item is allowed\r\n    this._activeItem = null;\r\n  }\r\n\r\n  _addItem(item) {\r\n    if (this._toggleItems.indexOf(item) === -1) {\r\n      this._toggleItems.push(item);\r\n      if (this._activeItem === null) {\r\n        if (item.checked) {\r\n          this._activeItem = item;\r\n        }\r\n      } else {\r\n        item.checked = false;\r\n      }\r\n    } else {\r\n      console.warn('toggle item already added into toggle groups');\r\n    }\r\n  }\r\n\r\n  _removeItem(item) {\r\n    let pos = this._toggleItems.indexOf(item);\r\n    if (pos === -1) {\r\n      console.warn('toggle item not exists in toggle groups');\r\n    } else {\r\n      if (this._activeItem === item) {\r\n        this._activeItem = null;\r\n      }\r\n      this._toggleItems.splice(pos, 1);\r\n    }\r\n  }\r\n\r\n  _updateCheck(item) {\r\n    let pos = this._toggleItems.indexOf(item);\r\n    if (pos === -1) {\r\n      console.warn('toggle item not exists in toggle groups');\r\n      return true;\r\n    } else {\r\n      if (this._activeItem !== item) {\r\n        if (this._activeItem) {\r\n          this._activeItem.checked = false;\r\n        }\r\n        this._activeItem = item;\r\n      } else {\r\n        if (!this._allowSwitchOff) {\r\n          if (this._activeItem && !this._activeItem.checked) {\r\n            this._activeItem.checked = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nToggleGroupComponent.schema = {\r\n  allowSwitchOff: {\r\n    type: 'boolean',\r\n    default: false,\r\n  }\r\n};","import UIElementComponent from './ui-element-component';\r\nimport { vec3, color4 } from '../../vmath';\r\nimport * as utils from '../../vmath';\r\nimport { Entity } from '../../ecs';\r\n\r\nexport default class SliderComponent extends UIElementComponent {\r\n  constructor() {\r\n    super();\r\n    this._state = 'none';\r\n    this._calMinValue = 0.0;\r\n    this._calMaxValue = 1.0;\r\n    this._highlighting = false;\r\n    this._pressing = false;\r\n    this._widget = null;\r\n    this._dragging = false;\r\n    this._bgImage = null;\r\n    this._handleWidget = null;\r\n    this._fillWidget = null;\r\n    this._lastAxis = 'horizontal';\r\n    this._normalizedValue = 0.0;// range[0,1]\r\n    this._reverse = false;\r\n    this._fingerId = -1;\r\n\r\n    // mouse events\r\n    this._onMouseEnter = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      this._highlighting = true;\r\n\r\n      if (\r\n        widgetSys.focusedEntity === this._entity &&\r\n        e.buttons & 1 !== 0\r\n      ) {\r\n        this._pressing = true;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseLeave = () => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n\r\n      this._pressing = false;\r\n      if (\r\n        widgetSys.focusedEntity &&\r\n        widgetSys.focusedEntity === this._entity\r\n      ) {\r\n        this._highlighting = true;\r\n      } else {\r\n        this._highlighting = false;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseDown = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        if (widgetSys.focusedEntity !== this._entity) {\r\n          return;\r\n        }\r\n\r\n        this._pressing = true;\r\n        this._updateState();\r\n        // handle only drag move\r\n        if (!this._handle || e.target !== this._handle) {\r\n          this._updateDrag(vec3.new(e.mouseX, e.mouseY, 0));\r\n        }\r\n\r\n        this._dragging = true;\r\n      }\r\n    };\r\n\r\n    this._onMouseMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      if (e.button === 0) {\r\n        e.stop();\r\n\r\n        if (this._dragging) {\r\n          this._updateDrag(vec3.new(e.mouseX, e.mouseY, 0));\r\n        }\r\n      }\r\n    };\r\n\r\n    this._onMouseUp = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        this._dragging = false;\r\n        this._pressing = false;\r\n        this._updateState();\r\n      }\r\n    };\r\n\r\n    // touch events\r\n    this._onTouchMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (e.id === this._fingerId) {\r\n        if (this._dragging) {\r\n          this._updateDrag(vec3.new(e.x, e.y, 0));\r\n        }\r\n      }\r\n    };\r\n\r\n    this._onTouchStart = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (this._fingerId !== -1) {\r\n        return;\r\n      }\r\n\r\n      this._fingerId = e.id;\r\n      this._pressing = true;\r\n      this._updateState();\r\n      if (!this._handle || e.target !== this._handle) {\r\n        this._updateDrag(vec3.new(e.x, e.y, 0));\r\n      }\r\n\r\n      this._dragging = true;\r\n    }\r\n\r\n    this._onTouchEnd = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (e.id !== this._fingerId) {\r\n        return;\r\n      }\r\n\r\n      this._dragging = false;\r\n      this._fingerId = -1;\r\n      this._pressing = false;\r\n      this._updateState();\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    super.onInit();\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._widget.focusable = true;\r\n\r\n    this._bgImage = this._background && this._background.getComp('Image');\r\n    if (!this._bgImage) {\r\n      this._bgImage = this._entity.getComp('Image');\r\n    }\r\n\r\n    this._fillWidget = this._fill && this._fill.getComp('Widget');\r\n    this._handleWidget = this._handle && this._handle.getComp('Widget');\r\n    let relativeValue = 0.0;\r\n    if (this._value > 0) {\r\n      relativeValue = (this._value - this._calMinValue) / (this._calMaxValue - this._calMinValue);\r\n      relativeValue = Math.round(relativeValue * 100) / 100;\r\n    }\r\n\r\n    this._normalizedValue = this._reverse ? 1 - relativeValue : relativeValue;\r\n    this._updateVisuals();\r\n  }\r\n\r\n  onDestroy() {\r\n    this._widget.focusable = false;\r\n    super.onDestroy();\r\n  }\r\n\r\n  _updateState() {\r\n    let state = 'normal';\r\n\r\n    if (this._pressing) {\r\n      state = 'pressed';\r\n    } else if (this._highlighting) {\r\n      state = 'highlight';\r\n    }\r\n\r\n    if (this._state === state) {\r\n      return;\r\n    }\r\n\r\n    let oldState = this._state;\r\n    this._state = state;\r\n\r\n    this.dispatch('transition', {\r\n      detail: {\r\n        oldState,\r\n        newState: this._state\r\n      }\r\n    });\r\n\r\n    if (this._bgImage === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'none') {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'color') {\r\n      this._bgImage.color = this._transitionColors[state];\r\n    } else if (this._transition === 'sprite') {\r\n      this._bgImage.sprite = this._transitionSprites[state];\r\n    } else {\r\n      // todo: not implemented\r\n      console.warn('Button transition animation is not implemented');\r\n    }\r\n  }\r\n\r\n  _set(value) {\r\n    let num = utils.clamp(value, this._calMinValue, this._calMaxValue);\r\n    if (this._value != num) {\r\n      this._value = num;\r\n      this._updateVisuals();\r\n      this._emitValueChangedEvents();\r\n    }\r\n  }\r\n\r\n  _getReverseValue() {\r\n    return this._maxValue < this._minValue;\r\n  }\r\n\r\n  _updateDrag(mousePos) {\r\n    let widget = this._handle ? this._handleWidget : this._fillWidget;\r\n    let containerWidget = widget._entity.parent.getComp('Widget');\r\n    if (containerWidget) {\r\n      let corner = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n      containerWidget.getWorldCorners(corner[0], corner[1], corner[2], corner[3]);\r\n      let position = corner[1];\r\n      let containerVec = vec3.zero(), offsetVec = vec3.zero();\r\n      let width = 0.0, value = 0.0;\r\n      if (this._direction === 'horizontal') {\r\n        vec3.subtract(containerVec, corner[2], position);\r\n        vec3.subtract(offsetVec, mousePos, position);\r\n        // ??? widget-component need open width and height\r\n        width = vec3.distance(corner[2], position);\r\n        this._normalizedValue = utils.clamp01(value / width);\r\n      } else {\r\n        vec3.subtract(containerVec, corner[0], position);\r\n        vec3.subtract(offsetVec, mousePos, position);\r\n        // ??? widget-component need open width and height\r\n        width = vec3.distance(corner[0], position);\r\n      }\r\n      value = vec3.dot(containerVec, offsetVec) / width;\r\n      this._normalizedValue = utils.clamp01(value / width);\r\n      this._clampValue();\r\n    }\r\n  }\r\n\r\n  _updateVisuals() {\r\n    let min = [0, 0];\r\n    let max = [1, 1];\r\n    let dirValue = this._direction === 'horizontal' ? 0 : 1;\r\n    if (this._fillWidget) {\r\n      let sprite = this._fill.getComp('Image');\r\n      // NOTE:need to verify\r\n      if (sprite) {\r\n        if (sprite.type === 'filled') {\r\n          sprite.filledStart = this._normalizedValue;\r\n        } else if (this._reverse) {\r\n          min[dirValue] = this._normalizedValue;\r\n        } else {\r\n          max[dirValue] = this._normalizedValue;\r\n        }\r\n      }\r\n\r\n      this._fillWidget.setAnchors(min[0], min[1], max[0], max[1]);\r\n    }\r\n\r\n    if (this._handleWidget) {\r\n      min = [0, 0];\r\n      max = [1, 1];\r\n      min[dirValue] = this._normalizedValue;\r\n      max[dirValue] = this._normalizedValue;\r\n      this._handleWidget.setAnchors(min[0], min[1], max[0], max[1]);\r\n    }\r\n  }\r\n\r\n  _clampValue() {\r\n    this.value = (this._reverse ? (1 - this._normalizedValue) : this._normalizedValue) * (this._calMaxValue - this._calMinValue);\r\n  }\r\n\r\n  _getCalculateWidget() {\r\n    return this._handle.parent.getComp('Widget');\r\n  }\r\n\r\n  _onFocus() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._highlighting = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onBlur() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._fingerId = -1;\r\n    this._highlighting = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId !== -1 && this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onTouchLeave(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId !== -1 && this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = false;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _emitValueChangedEvents() {\r\n    this.dispatch('Slider.onValueChanged');\r\n  }\r\n}\r\n\r\nSliderComponent.events = {\r\n  'mouseenter': '_onMouseEnter',\r\n  'mouseleave': '_onMouseLeave',\r\n  'mousemove': '_onMouseMove',\r\n  'mousedown': '_onMouseDown',\r\n  'mouseup': '_onMouseUp',\r\n  'focus': '_onFocus',\r\n  'blur': '_onBlur',\r\n  'touchenter': '_onTouchEnter',\r\n  'touchleave': '_onTouchLeave',\r\n  'touchstart': '_onTouchStart',\r\n  'touchmove': '_onTouchMove',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nSliderComponent.schema = {\r\n  handle: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._handle === val) {\r\n        return;\r\n      }\r\n\r\n      this._handle = val;\r\n      if (this._handle) {\r\n        this._handleWidget = this._handle.getComp('Widget');\r\n      }\r\n\r\n      this._updateVisuals();\r\n    }\r\n  },\r\n\r\n  fill: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._fill === val) {\r\n        return;\r\n      }\r\n\r\n      this._fill = val;\r\n      if (this._fill) {\r\n        this._fillWidget = this._fill.getComp('Widget');\r\n      }\r\n\r\n      this._updateVisuals();\r\n    }\r\n  },\r\n\r\n  direction: {\r\n    type: 'enums',\r\n    default: 'horizontal',\r\n    options: ['horizontal', 'vertical'],\r\n    set(val) {\r\n      if (this._direction === val) {\r\n        return;\r\n      }\r\n\r\n      this._direction = val;\r\n      this._lastAxis = this._direction;\r\n    }\r\n  },\r\n\r\n  minValue: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._minValue === val) {\r\n        return;\r\n      }\r\n\r\n      this._minValue = val;\r\n      this._calMinValue = val;\r\n      if (this._minValue > this._maxValue) {\r\n        this._calMinValue = this._maxValue;\r\n        this._calMaxValue = this._minValue;\r\n      }\r\n    }\r\n  },\r\n\r\n  maxValue: {\r\n    type: 'number',\r\n    default: 1.0,\r\n    set(val) {\r\n      if (this._maxValue === val) {\r\n        return;\r\n      }\r\n\r\n      this._maxValue = val;\r\n      this._calMaxValue = val;\r\n      if (this._minValue > this._maxValue) {\r\n        this._calMinValue = this._maxValue;\r\n        this._calMaxValue = this._minValue;\r\n      }\r\n    }\r\n  },\r\n\r\n  value: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._value === val) {\r\n        return;\r\n      }\r\n\r\n      this._set(val, false);\r\n    }\r\n  },\r\n\r\n  transitionColors: {\r\n    type: 'object',\r\n    default: {\r\n      normal: color4.create(),\r\n      highlight: color4.create(),\r\n      pressed: color4.create(),\r\n      disabled: color4.create(),\r\n    }\r\n  },\r\n\r\n  transitionSprites: {\r\n    type: 'object',\r\n    parse(app, value, propInfo, entities) {\r\n      if (value) {\r\n        let cPropInfo = { normal: null, highlight: null, pressed: null, disabled: null };\r\n        if (value.normal && typeof value.normal === 'string') {\r\n          cPropInfo.normal = app.assets.get(value.normal);\r\n        }\r\n\r\n        if (value.highlight && typeof value.highlight === 'string') {\r\n          cPropInfo.highlight = app.assets.get(value.highlight);\r\n        }\r\n\r\n        if (value.pressed && typeof value.pressed === 'string') {\r\n          cPropInfo.pressed = app.assets.get(value.pressed);\r\n        }\r\n\r\n        if (value.disabled && typeof value.disabled === 'string') {\r\n          cPropInfo.disabled = app.assets.get(value.disabled);\r\n        }\r\n\r\n        return cPropInfo;\r\n      }\r\n    },\r\n    default: {\r\n      normal: null,\r\n      highlight: null,\r\n      pressed: null,\r\n      disabled: null\r\n    }\r\n  },\r\n\r\n  background: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._background === val) {\r\n        return;\r\n      }\r\n\r\n      this._background = val;\r\n      if (this._background) {\r\n        this._bgImage = this._background.getComp('Image');\r\n      }\r\n    }\r\n  },\r\n\r\n  transition: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'color', 'sprite'],\r\n  },\r\n};","import UIElementComponent from './ui-element-component';\r\nimport { color4, vec3 } from '../../vmath';\r\nimport { Entity } from '../../ecs';\r\n\r\nexport default class EditBoxComponent extends  UIElementComponent{\r\n  constructor() {\r\n    super();\r\n    this._state = 'none';\r\n    this._highlighting = false;\r\n    this._pressing = false;\r\n    this._widget = null;\r\n    this._bgImage = null;\r\n    this._textComp = null;\r\n    this._activeDom = null;\r\n    this._inputText = '';\r\n    this._editMode = false;\r\n\r\n    // mouse events\r\n    this._onMouseMove = () => {\r\n      if (this._pressing) {\r\n        this._flushDom();\r\n      }\r\n    };\r\n\r\n    this._onMouseEnter = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      this._highlighting = true;\r\n\r\n      if (\r\n        widgetSys.focusedEntity === this._entity &&\r\n        e.buttons & 1 !== 0\r\n      ) {\r\n        this._pressing = true;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseLeave = () => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n\r\n      this._pressing = false;\r\n      if (\r\n        widgetSys.focusedEntity &&\r\n        widgetSys.focusedEntity === this._entity\r\n      ) {\r\n        this._highlighting = true;\r\n      } else {\r\n        this._highlighting = false;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseDown = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        if (widgetSys.focusedEntity !== this._entity) {\r\n          return;\r\n        }\r\n\r\n        this._pressing = true;\r\n        this._updateState();\r\n      }\r\n    };\r\n\r\n    this._onMouseUp = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        this._pressing = false;\r\n        this._updateState();\r\n        this._onClk();\r\n      }\r\n    };\r\n\r\n    this._onInput = () => {\r\n      this._text = this._activeDom.value;\r\n      this._emitValueChangedEvents();\r\n    };\r\n\r\n    this._onReturnKey = (e) => {\r\n      if (this._textComp === null) {\r\n        return;\r\n      }\r\n\r\n      if (e.keyCode === 13) {\r\n        if (this._returnKeyType === 'new-line') {\r\n          if (this._lineType === 'multi-line') {\r\n            this._text += '\\n';\r\n          }\r\n        } else {\r\n          this._endInput();\r\n          if (this._returnKeyType === 'submit') {\r\n            this._emitSubmitEvents();\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    // touch events\r\n    this._onTouchEnd = (e)=> {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n\r\n      this._pressing = false;\r\n      this._updateState();\r\n\r\n      this._onClk();\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    super.onInit();\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._widget.focusable = true;\r\n\r\n    this._bgImage = this._background && this._background.getComp('Image');\r\n    if (!this._bgImage) {\r\n      this._bgImage = this._entity.getComp('Image');\r\n    }\r\n\r\n    this._textComp = this._textEnt && this._textEnt.getComp('Text');\r\n    if (this._textComp) {\r\n      let textAlign = this._textComp.align;\r\n      let a = textAlign.split('-');\r\n      if (a.indexOf('middle') === -1) {\r\n        this._textComp.align = 'middle-' + a[1];\r\n      }\r\n    }\r\n\r\n    this._dealText(this._text);\r\n    if (this._lineType === 'multi-line') {\r\n      this._createDom('textarea');\r\n    } else {\r\n      this._createDom('input');\r\n    }\r\n  }\r\n\r\n  onDisable() {\r\n    this._endInput();\r\n  }\r\n\r\n  onDestroy() {\r\n    this._widget.focusable = false;\r\n    this._endInput();\r\n    super.onDestroy();\r\n  }\r\n\r\n  _updateState() {\r\n    let state = 'normal';\r\n\r\n    if (this._pressing) {\r\n      state = 'pressed';\r\n    } else if (this._highlighting) {\r\n      state = 'highlight';\r\n    }\r\n\r\n    if (this._state === state) {\r\n      return;\r\n    }\r\n\r\n    let oldState = this._state;\r\n    this._state = state;\r\n\r\n    this.dispatch('transition', {\r\n      detail: {\r\n        oldState,\r\n        newState: this._state\r\n      }\r\n    });\r\n\r\n    if (this._bgImage === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'none') {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'color') {\r\n      this._bgImage.color = this._transitionColors[state];\r\n    } else if (this._transition === 'sprite') {\r\n      this._bgImage.sprite = this._transitionSprites[state];\r\n    } else {\r\n      // todo: not implemented\r\n      console.warn('Button transition animation is not implemented');\r\n    }\r\n  }\r\n\r\n  _registerEvent() {\r\n    this._activeDom.addEventListener('input', this._onInput);\r\n    this._activeDom.addEventListener('keypress', this._onReturnKey);\r\n  }\r\n\r\n  _unregisterEvent() {\r\n    this._activeDom.removeEventListener('input', this._onInput);\r\n    this._activeDom.removeEventListener('keypress', this._onReturnKey);\r\n  }\r\n\r\n  _onClk() {\r\n    if (this._textComp === null) {\r\n      return;\r\n    }\r\n\r\n    if (!this._editMode) {\r\n      this._editMode = true;\r\n      this._activeDom.style.display = 'block';\r\n      this._activeDom.value = this._text;\r\n      this._textComp.enabled = false;\r\n      // TODO:settimeout to auto active keyboard failed,need to active manual operation\r\n      this._startFocus();\r\n    }\r\n  }\r\n\r\n  _startFocus() {\r\n    this._activeDom.focus();\r\n    this._flushDom();\r\n  }\r\n\r\n  _dealText(val) {\r\n    if (this._textComp === null) {\r\n      return;\r\n    }\r\n\r\n    this._text = '';\r\n    if (this._lineType === 'single-line') {\r\n      val = val.replace('\\n', '');\r\n    }\r\n\r\n    let num = Math.min(val.length, this._maxLength);\r\n    for (let i = 0; i < num; ++i) {\r\n      let result = this._checkChar(val[i], this._text.length, this._text);\r\n      if (result.length > 0) {\r\n        this._text += result;\r\n      }\r\n    }\r\n\r\n    this._switchTextState();\r\n    let text = this._text;\r\n    if (this._contentType === 'password') {\r\n      text = this._text.replace(new RegExp('.+?', 'g'), 'V');\r\n    }\r\n\r\n    this._textComp.text = text.length > 0 ? text : this.defaultText;\r\n  }\r\n\r\n  _switchTextState() {\r\n    // the prompt is translucent when there is no text.\r\n    let textCompColor = this._textComp.color;\r\n    if (this._text.length <= 0) {\r\n      this._textComp.color = color4.new(textCompColor.r, textCompColor.g, textCompColor.b, 0.5);\r\n    } else {\r\n      this._textComp.color = color4.new(textCompColor.r, textCompColor.g, textCompColor.b, 1);\r\n    }\r\n  }\r\n\r\n  _checkChar(c, index, text) {\r\n    let isMatch = false;\r\n\r\n    if (this._contentType === 'standard') {\r\n      return c;\r\n    }\r\n\r\n    if (this._contentType === 'int-number' || this._contentType === 'decimal-number') {\r\n      isMatch = new RegExp('[0-9]').test(c);\r\n      if (isMatch) {\r\n        return c;\r\n      }\r\n\r\n      if (c === '-') {\r\n        if (index === 0) {\r\n          return c;\r\n        }\r\n      }\r\n\r\n      if (c === '.' && this._contentType === 'decimal-number' && this._text.indexOf('.') < 0) {\r\n        return c;\r\n      }\r\n    } else if (this._contentType === 'alpha-number') {\r\n      isMatch = new RegExp('[0-9a-zA-Z]').test(c);\r\n      if (isMatch) {\r\n        return c;\r\n      }\r\n    } else if (this._contentType === 'caps-all') {\r\n      return c.toUpperCase();\r\n    } else if (this._contentType === 'name') {\r\n      isMatch = new RegExp('[a-zA-Z]').test(c);\r\n      if (isMatch) {\r\n        isMatch = new RegExp('[a-z]').test(c);\r\n        if (isMatch) {\r\n          if (index === 0 || text[index - 1] === ' ') {\r\n            return c.toUpperCase();\r\n          }\r\n        } else {\r\n          if (index > 0 && text[index - 1] !== ' ') {\r\n            return c.toLowerCase();\r\n          }\r\n        }\r\n        return c;\r\n      } else {\r\n        if (c === ' ' && index > 0) {\r\n          if (text[index - 1] !== ' ') {\r\n            return c;\r\n          }\r\n        }\r\n      }\r\n    } else if (this._contentType === 'email') {\r\n      isMatch = new RegExp('[0-9a-zA-Z]').test(c);\r\n      if (isMatch) {\r\n        return c;\r\n      }\r\n\r\n      if (c === '@' && this._text.indexOf('@') === -1) {\r\n        return c;\r\n      }\r\n\r\n      let str = '!#$%&\\'*+-/=?^_`{}|~';\r\n      if (str.indexOf(c) !== -1) {\r\n        return c;\r\n      }\r\n\r\n      if (c === '.') {\r\n        if (index > 0 && text[index - 1] !== '.') {\r\n          return c;\r\n        }\r\n      }\r\n    } else {\r\n      return c;\r\n    }\r\n\r\n    return '';\r\n  }\r\n\r\n  _endInput() {\r\n    if (this._textComp === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._editMode) {\r\n      this._editMode = false;\r\n      this._activeDom.style.display = 'none';\r\n      this._dealText(this._text);\r\n      this._textComp.enabled = true;\r\n      if (this._text.length <= 0) {\r\n        this._textComp.text = this.defaultText;\r\n      }\r\n      this._switchTextState();\r\n      this._activeDom.blur();\r\n    }\r\n  }\r\n\r\n  _createDom(type) {\r\n    if (this._activeDom) {\r\n      this._unregisterEvent();\r\n      document.body.removeChild(this._activeDom);\r\n    }\r\n\r\n    this._activeDom = document.createElement(type);\r\n    document.body.appendChild(this._activeDom);\r\n    if (this._activeDom.type !== 'textarea') {\r\n      this._activeDom.type = this._contentType === 'password' ? 'password' : 'text';\r\n    }\r\n    this._activeDom.style.background = 'transparent';\r\n    this._activeDom.style.position = 'absolute';\r\n    this._activeDom.style.padding = '2px';\r\n    this._activeDom.style.fontSize = this._textComp !== null ? this._textComp.fontSize + 'px' : '10px';\r\n    this._activeDom.style.display = 'none';\r\n    if (this._activeDom.type === 'textarea') {\r\n      this._activeDom.style.active = 0;\r\n      this._activeDom.style.overflowY = 'scroll';\r\n      this._activeDom.style.resize = 'none';\r\n    }\r\n\r\n    this._activeDom.maxLength = this._maxLength;\r\n    this._registerEvent();\r\n  }\r\n\r\n  _flushDom() {\r\n    if (this._textComp === null || this._activeDom.style.display === 'none') {\r\n      return;\r\n    }\r\n\r\n    let canvas = this._app._canvas;\r\n    let widget = this._textComp.entity.getComp('Widget');\r\n    let corner = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    widget.getWorldCorners(corner[0], corner[1], corner[2], corner[3]);\r\n    let padding = 4;\r\n    let left = corner[0].x + padding;\r\n    let top = canvas.height - corner[0].y + padding;\r\n    let align = this._textComp.align;\r\n    this._activeDom.type === 'textarea' ? 'textarea' : 'input';\r\n    align = align.indexOf('left') !== -1 ? 'left' : align.indexOf('center') !== -1 ? 'center' : 'right';\r\n    this._activeDom.style.textAlign = align;\r\n    this._activeDom.maxLength = this._maxLength;\r\n    this._activeDom.style.width = (widget._rect.w - padding - 2) + 'px';\r\n    this._activeDom.style.height = (widget._rect.h - padding - 2) + 'px';\r\n    this._activeDom.style.top = top + 'px';\r\n    this._activeDom.style.left = left + 'px';\r\n  }\r\n\r\n  _onFocus() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._highlighting = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onBlur() {\r\n    if (this._entity.enabledInHierarchy === false) {\r\n      return;\r\n    }\r\n\r\n    this._fingerId = -1;\r\n    this._highlighting = false;\r\n    this._updateState();\r\n    this._endInput();\r\n  }\r\n\r\n  _onTouchEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onTouchLeave(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n    this._pressing = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchStart(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    e.stop();\r\n\r\n    this._fingerId = e.id;\r\n    this._pressing = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _emitValueChangedEvents() {\r\n    this.dispatch('EditBox.onValueChanged');\r\n  }\r\n\r\n  _emitSubmitEvents() {\r\n    this.dispatch('EditBox.onSubmit');\r\n  }\r\n}\r\n\r\nEditBoxComponent.events = {\r\n  'mouseenter': '_onMouseEnter',\r\n  'mouseleave': '_onMouseLeave',\r\n  'mousedown': '_onMouseDown',\r\n  'mousemove': '_onMouseMove',\r\n  'mouseup': '_onMouseUp',\r\n  'focus': '_onFocus',\r\n  'blur': '_onBlur',\r\n  'touchenter': '_onTouchEnter',\r\n  'touchleave': '_onTouchLeave',\r\n  'touchstart': '_onTouchStart',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nEditBoxComponent.schema = {\r\n  defaultText: {\r\n    type: 'string',\r\n    default: ''\r\n  },\r\n\r\n  textEnt: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._textEnt === val) {\r\n        return;\r\n      }\r\n\r\n      this._textEnt = val;\r\n      if (!this._textEnt) {\r\n        console.warn('Text component cannot be null');\r\n      }\r\n\r\n      if (this._textEnt) {\r\n        this._textComp = this._textEnt.getComp('Text');\r\n        if (this._textComp) {\r\n          this._activeDom.style.fontSize = this._textComp.fontSize + 'px';\r\n          this._textComp.text = this._defaultText;\r\n          let textAlign = this._textComp.align;\r\n          let a = textAlign.split('-');\r\n          if (a.indexOf('middle') === -1) {\r\n            this._textComp.align = 'middle-' + a[1];\r\n          }\r\n        }\r\n        this._switchTextState();\r\n      }\r\n    }\r\n  },\r\n\r\n  text: {\r\n    type: 'string',\r\n    default: '',\r\n    set(val) {\r\n      val = !val ? '' : val;\r\n      if (this._text === val) {\r\n        return;\r\n      }\r\n\r\n      this._dealText(val);\r\n    }\r\n  },\r\n\r\n  contentType: {\r\n    type: 'enums',\r\n    default: 'standard',\r\n    options: ['standard', 'int-number', 'decimal-number', 'alpha-number', 'caps-all', 'name', 'email', 'password'],\r\n    set(val) {\r\n      if (this._contentType === val) {\r\n        return;\r\n      }\r\n\r\n      this._contentType = val;\r\n      if (this._contentType === 'password') {\r\n        this._activeDom.type = 'password';\r\n        this.lineType = 'single-line';\r\n      } else if (this._contentType === 'email') {\r\n        this._activeDom.type = 'email';\r\n        this.lineType = 'single-line';\r\n      } else {\r\n        this._activeDom.type = 'text';\r\n        this.lineType = this._lineType;\r\n      }\r\n\r\n      this._dealText(this._text);\r\n    }\r\n  },\r\n\r\n  lineType: {\r\n    type: 'enums',\r\n    default: 'single-line',\r\n    options: ['single-line', 'multi-line'],\r\n    set(val) {\r\n      if (this._lineType === val) {\r\n        return;\r\n      }\r\n\r\n      if (this._contentType === 'standard') {\r\n        this._lineType = val;\r\n      } else {\r\n        this._lineType = 'single-line';\r\n      }\r\n\r\n      if (this._lineType === 'multi-line') {\r\n        this._createDom('textarea');\r\n      } else {\r\n        this._createDom('input');\r\n      }\r\n    }\r\n  },\r\n\r\n  returnKeyType: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'submit', 'new-line']\r\n  },\r\n\r\n  maxLength: {\r\n    type: 'int',\r\n    default: 2147483647,\r\n    set(val) {\r\n      if (this._maxLength === val) {\r\n        return;\r\n      }\r\n\r\n      this._maxLength = val;\r\n      if (this._maxLength <= 0) {\r\n        this._maxLength = 2147483647;\r\n      }\r\n\r\n      this._activeDom.maxLength = this._maxLength;\r\n      this._dealText(this._text);\r\n    }\r\n  },\r\n\r\n  transitionColors: {\r\n    type: 'object',\r\n    default: {\r\n      normal: color4.create(),\r\n      highlight: color4.create(),\r\n      pressed: color4.create(),\r\n      disabled: color4.create(),\r\n    },\r\n  },\r\n\r\n  transitionSprites: {\r\n    type: 'object',\r\n    parse(app, value, propInfo, entities) {\r\n      if (value) {\r\n        let cPropInfo = { normal: null, highlight: null, pressed: null, disabled: null };\r\n        if (value.normal && typeof value.normal === 'string') {\r\n          cPropInfo.normal = app.assets.get(value.normal);\r\n        }\r\n\r\n        if (value.highlight && typeof value.highlight === 'string') {\r\n          cPropInfo.highlight = app.assets.get(value.highlight);\r\n        }\r\n\r\n        if (value.pressed && typeof value.pressed === 'string') {\r\n          cPropInfo.pressed = app.assets.get(value.pressed);\r\n        }\r\n\r\n        if (value.disabled && typeof value.disabled === 'string') {\r\n          cPropInfo.disabled = app.assets.get(value.disabled);\r\n        }\r\n\r\n        return cPropInfo;\r\n      }\r\n    },\r\n    default: {\r\n      normal: null,\r\n      highlight: null,\r\n      pressed: null,\r\n      disabled: null\r\n    },\r\n  },\r\n\r\n  background: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._background === val) {\r\n        return;\r\n      }\r\n\r\n      this._background = val;\r\n      if (this._background) {\r\n        this._bgImage = this._background.getComp('Image');\r\n      }\r\n    }\r\n  },\r\n\r\n  transition: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'color', 'sprite'],\r\n    set(val) {\r\n      if (this._transition !== val) {\r\n        this._transition = val;\r\n      }\r\n    },\r\n  },\r\n};","import UIElementComponent from './ui-element-component';\r\nimport { vec3, color4, vec2 } from '../../vmath';\r\nimport { Entity } from '../../ecs';\r\nimport * as mathUtils from '../../vmath';\r\n\r\nexport default class ScrollBarComponent extends  UIElementComponent{\r\n  constructor() {\r\n    super();\r\n    this._state = 'none';\r\n    this._highlighting = false;\r\n    this._pressing = false;\r\n    this._widget = null;\r\n\r\n    this._dragging = false;\r\n    this._handleWidget = null;\r\n    this._startDistance = 0.0;\r\n    this._fingerId = -1;\r\n\r\n    this._onMouseEnter = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      this._highlighting = true;\r\n\r\n      if (\r\n        widgetSys.focusedEntity === this._entity &&\r\n        e.buttons & 1 !== 0\r\n      ) {\r\n        this._pressing = true;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseLeave = () => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n\r\n      this._pressing = false;\r\n      if (\r\n        widgetSys.focusedEntity &&\r\n        widgetSys.focusedEntity === this._entity\r\n      ) {\r\n        this._highlighting = true;\r\n      } else {\r\n        this._highlighting = false;\r\n      }\r\n\r\n      this._updateState();\r\n    };\r\n\r\n    this._onMouseDown = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      let widgetSys = this._widget.system;\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        if (widgetSys.focusedEntity !== this._entity) {\r\n          return;\r\n        }\r\n\r\n        this._pressing = true;\r\n        this._updateState();\r\n        if (e.target !== this._handle) {\r\n          if (!this._dragging) {\r\n            this._dragging = true;\r\n            this._updateValue(vec2.new(e.mouseX, e.mouseY), true);\r\n          }\r\n        } else {\r\n          this._dragging = true;\r\n          this._startOffset(vec2.new(e.mouseX, e.mouseY));\r\n        }\r\n      }\r\n    }\r\n\r\n    this._onMouseMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      if (e.button === 0) {\r\n        e.stop();\r\n\r\n        if (this._dragging) {\r\n          this._updateValue(vec3.new(e.mouseX, e.mouseY, 0));\r\n        }\r\n      }\r\n    };\r\n\r\n    this._onMouseUp = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      if (e.button === 'left') {\r\n        e.stop();\r\n\r\n        this._dragging = false;\r\n        this._pressing = false;\r\n        this._updateState();\r\n      }\r\n    };\r\n\r\n    // touch events\r\n    this._onTouchStart = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (this._fingerId !== -1) {\r\n        return;\r\n      }\r\n\r\n      this._fingerId = e.id;\r\n      this._pressing = true;\r\n      this._updateState();\r\n      this._startPos = vec3.new(e.x, e.y, 0);\r\n      this._offsetValue = 0.0;\r\n      if (e.target !== this._handle) {\r\n        if (!this._dragging) {\r\n          this._dragging = true;\r\n          this._clkBar(vec3.new(e.x, e.y, 0), true);\r\n        }\r\n      } else {\r\n        this._dragging = true;\r\n        this._startOffset(vec2.new(e.x, e.y));\r\n      }\r\n    }\r\n\r\n    this._onTouchMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (e.id === this._fingerId) {\r\n        if (this._dragging) {\r\n          this._updateValue(vec3.new(e.x, e.y, 0));\r\n        }\r\n      }\r\n    };\r\n\r\n    this._onTouchEnd = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (e.id !== this._fingerId) {\r\n        return;\r\n      }\r\n\r\n      this._dragging = false;\r\n      this._fingerId = -1;\r\n      this._pressing = false;\r\n      this._updateState();\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._widget.focusable = true;\r\n\r\n    this._bgImage = this._background && this._background.getComp('Image');\r\n    if (!this._bgImage) {\r\n      this._bgImage = this._entity.getComp('Image');\r\n    }\r\n\r\n    this._handleWidget = this._handle && this._handle.getComp('Widget');\r\n\r\n    super.onInit();\r\n  }\r\n\r\n  onEnable() {\r\n    this._updateHandle();\r\n  }\r\n\r\n  onDestroy() {\r\n    this._widget.focusable = false;\r\n    super.onDestroy();\r\n  }\r\n\r\n  _updateState() {\r\n    let state = 'normal';\r\n\r\n    if (this._pressing) {\r\n      state = 'pressed';\r\n    } else if (this._highlighting) {\r\n      state = 'highlight';\r\n    }\r\n\r\n    if (this._state === state) {\r\n      return;\r\n    }\r\n\r\n    let oldState = this._state;\r\n    this._state = state;\r\n\r\n    this.dispatch('transition', {\r\n      detail: {\r\n        oldState,\r\n        newState: this._state\r\n      }\r\n    });\r\n\r\n    if (this._background === null) {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'none') {\r\n      return;\r\n    }\r\n\r\n    if (this._transition === 'color') {\r\n      this._background.color = this._transitionColors[state];\r\n    } else if (this._transition === 'sprite') {\r\n      this._background.sprite = this._transitionSprites[state];\r\n    } else {\r\n      // todo: not implemented\r\n      console.warn('Button transition animation is not implemented');\r\n    }\r\n  }\r\n\r\n  _set(val) {\r\n    let value = this._value;\r\n    if (val === value) {\r\n      return;\r\n    }\r\n\r\n    this._value = mathUtils.clamp01(val);\r\n    this._emitValueChangedEvents();\r\n  }\r\n\r\n  _updateValue(mouse, isClk = false) {\r\n    if (!this._handle || !this._handle) {\r\n      return;\r\n    }\r\n\r\n    let calWidget = this._getCalculateWidget();\r\n    let corners = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    calWidget.getWorldCorners(corners[0], corners[1], corners[2], corners[3]);\r\n    let position = vec2.new(corners[1].x, corners[1].y);\r\n    let calVec = vec2.zero(), mouseVec = vec2.zero();\r\n    let calPos = this._direction === 'horizontal' ? vec2.new(corners[2].x, corners[2].y) : vec2.new(corners[0].x, corners[0].y);\r\n    vec2.subtract(calVec, calPos, position);\r\n    vec2.subtract(mouseVec, mouse, position);\r\n    // ditance current center to origin center\r\n    let offset = [calWidget._rect.w * this._size / 2, calWidget._rect.h * this._size / 2];\r\n    let value = vec2.dot(calVec, mouseVec) / (this._direction === 'horizontal' ? calWidget._rect.w : calWidget._rect.h);\r\n    if (this._direction === 'horizontal') {\r\n      value -= (offset[0] + (isClk ? 0 : this._startDistance));\r\n      value = mathUtils.clamp01(value / (calWidget._rect.w * (1 - this._size)));\r\n    } else {\r\n      value -= (offset[1] + (isClk ? 0 : this._startDistance));\r\n      value = mathUtils.clamp01(value / (calWidget._rect.h * (1 - this._size)));\r\n    }\r\n\r\n    this.value = this._reverse ? 1 - value : value;\r\n  }\r\n\r\n  _startOffset(mouse) {\r\n    let parentCorners = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    let calWidget = this._getCalculateWidget();\r\n    calWidget.getWorldCorners(parentCorners[0], parentCorners[1], parentCorners[2], parentCorners[3]);\r\n    let calVec = vec3.zero();\r\n    if (this._direction === 'horizontal') {\r\n      vec3.subtract(calVec, parentCorners[2], parentCorners[1]);\r\n    } else {\r\n      vec3.subtract(calVec, parentCorners[3], parentCorners[2]);\r\n    }\r\n\r\n    let corners = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    this._handleWidget.getWorldCorners(corners[0], corners[1], corners[2], corners[3]);\r\n    // get handle center\r\n    let center = vec3.zero(), delta = vec2.zero();\r\n    vec3.add(center, corners[3], corners[1]);\r\n    vec3.divide(center, center, vec3.new(2, 2, 2));\r\n    // get distance from mouse to center\r\n    vec2.subtract(delta, mouse, vec2.new(center.x, center.y));\r\n    let distance = vec2.dot(delta, vec2.new(calVec.x, calVec.y)) / (this._direction === 'horizontal' ? calWidget._rect.w : calWidget._rect.h);\r\n    return distance;\r\n  }\r\n\r\n  _updateHandle() {\r\n    if (!this._handle || !this._handle) {\r\n      return;\r\n    }\r\n\r\n    let min = { 0: 0, 1: 0 };\r\n    let max = { 0: 1, 1: 1 };\r\n    let num = this._value * (1 - this._size);\r\n    num = Math.round(parseFloat(num) * 100) / 100;\r\n    let dirValue = this._direction === 'horizontal' ? 0 : 1;\r\n    if (this._reverse) {\r\n      min[dirValue] = 1.0 - num - this._size;\r\n      max[dirValue] = 1.0 - num;\r\n    } else {\r\n      min[dirValue] = num;\r\n      max[dirValue] = num + this._size;\r\n    }\r\n\r\n    this._handleWidget.setAnchors(min[0], min[1], max[0], max[1]);\r\n  }\r\n\r\n  _getCalculateWidget() {\r\n    if (!this._handle || !this._handle) {\r\n      return null;\r\n    }\r\n\r\n    let container = this._handle.parent.getComp('Widget');\r\n    return container;\r\n  }\r\n\r\n  _onFocus() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._highlighting = true;\r\n    this._updateState();\r\n  }\r\n\r\n  _onBlur() {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    this._fingerId = -1;\r\n    this._highlighting = false;\r\n    this._updateState();\r\n  }\r\n\r\n  _onTouchEnter(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId !== -1 && this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = true;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _onTouchLeave(e) {\r\n    if (this.enabled === false) {\r\n      return;\r\n    }\r\n\r\n    if (this._fingerId !== -1 && this._fingerId === e.id) {\r\n      e.stop();\r\n      this._pressing = false;\r\n      this._updateState();\r\n    }\r\n  }\r\n\r\n  _emitValueChangedEvents() {\r\n    this.dispatch('ScrollBar.onValueChanged');\r\n  }\r\n}\r\n\r\nScrollBarComponent.events = {\r\n  'mouseenter': '_onMouseEnter',\r\n  'mouseleave': '_onMouseLeave',\r\n  'mousedown': '_onMouseDown',\r\n  'mousemove': '_onMouseMove',\r\n  'mouseup': '_onMouseUp',\r\n  'focus': '_onFocus',\r\n  'blur': '_onBlur',\r\n  'touchenter': '_onTouchEnter',\r\n  'touchleave': '_onTouchLeave',\r\n  'touchstart': '_onTouchStart',\r\n  'touchmove': '_onTouchMove',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nScrollBarComponent.schema = {\r\n  direction: {\r\n    type: 'enums',\r\n    default: 'horizontal',\r\n    options: ['horizontal', 'vertical'],\r\n    set(val) {\r\n      if (val === this._direction) {\r\n        return;\r\n      }\r\n\r\n      this._direction = val;\r\n    }\r\n  },\r\n\r\n  size: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._size === val) {\r\n        return;\r\n      }\r\n\r\n      this._size = mathUtils.clamp01(val);\r\n      this._updateHandle();\r\n    },\r\n    get() {\r\n      this._size = Math.round(parseFloat(this._size) * 100) / 100;\r\n      return this._size;\r\n    }\r\n  },\r\n\r\n  value: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._value === val) {\r\n        return;\r\n      }\r\n\r\n      this._set(val);\r\n      this._updateHandle();\r\n    },\r\n    get() {\r\n      this._value = Math.round(parseFloat(this._value) * 100) / 100;\r\n      return this._value;\r\n    }\r\n  },\r\n\r\n  reverse: {\r\n    type: 'boolean',\r\n    default: false,\r\n  },\r\n\r\n  handle: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._handle === val) {\r\n        return;\r\n      }\r\n\r\n      this._handle = val;\r\n      if (this._handle) {\r\n        this._handleWidget = this._handle.getComp('Widget');\r\n      }\r\n    }\r\n  },\r\n\r\n  transitionColors: {\r\n    type: 'object',\r\n    default: {\r\n      normal: color4.create(),\r\n      highlight: color4.create(),\r\n      pressed: color4.create(),\r\n      disabled: color4.create(),\r\n    }\r\n  },\r\n\r\n  transitionSprites: {\r\n    type: 'object',\r\n    parse(app, value, propInfo, entities) {\r\n      if (value) {\r\n        let cPropInfo = { normal: null, highlight: null, pressed: null, disabled: null };\r\n        if (value.normal && typeof value.normal === 'string') {\r\n          cPropInfo.normal = app.assets.get(value.normal);\r\n        }\r\n\r\n        if (value.highlight && typeof value.highlight === 'string') {\r\n          cPropInfo.highlight = app.assets.get(value.highlight);\r\n        }\r\n\r\n        if (value.pressed && typeof value.pressed === 'string') {\r\n          cPropInfo.pressed = app.assets.get(value.pressed);\r\n        }\r\n\r\n        if (value.disabled && typeof value.disabled === 'string') {\r\n          cPropInfo.disabled = app.assets.get(value.disabled);\r\n        }\r\n\r\n        return cPropInfo;\r\n      }\r\n    },\r\n    default: {\r\n      normal: null,\r\n      highlight: null,\r\n      pressed: null,\r\n      disabled: null\r\n    }\r\n  },\r\n\r\n  background: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._background === val) {\r\n        return;\r\n      }\r\n\r\n      this._background = val;\r\n      if (this._background) {\r\n        this._bgImage = this._background.getComp('Image');\r\n      }\r\n    }\r\n  },\r\n\r\n  transition: {\r\n    type: 'enums',\r\n    default: 'none',\r\n    options: ['none', 'color', 'sprite']\r\n  },\r\n};\r\n","import { vec3 } from '../../vmath';\r\n\r\nexport default class Bounds {\r\n  constructor(center, size) {\r\n    this._center = vec3.zero();\r\n    vec3.copy(this._center, center);\r\n    this._extents = vec3.zero();\r\n    vec3.mul(this._extents,size, vec3.new(0.5, 0.5, 0.5));\r\n    this._size = vec3.zero();\r\n    this._min = vec3.zero();\r\n    this._max = vec3.zero();\r\n  }\r\n\r\n  set center(val) {\r\n    this._center = val;\r\n  }\r\n\r\n  get center() {\r\n    return this._center;\r\n  }\r\n\r\n  set size(val) {\r\n    vec3.mul(this._extents, val, vec3.new(0.5, 0.5, 0.5));\r\n  }\r\n\r\n  get size() {\r\n    let value = vec3.zero();\r\n    vec3.mul(value, this._extents, vec3.new(2, 2, 2));\r\n    return value;\r\n  }\r\n\r\n  set min(val) {\r\n    this.setMinMax(val, this._max);\r\n  }\r\n\r\n  get min() {\r\n    let value = vec3.zero();\r\n    vec3.subtract(value, this._center, this._extents);\r\n    return value;\r\n  }\r\n\r\n  set max(val) {\r\n    this.setMinMax(this._min, val);\r\n  }\r\n\r\n  get max() {\r\n    let value = vec3.zero();\r\n    vec3.add(value, this._center, this._extents);\r\n    return value;\r\n  }\r\n\r\n  setMinMax(min, max) {\r\n    let value = vec3.zero();\r\n    vec3.subtract(value, max, min);\r\n    vec3.mul(value, value, vec3.new(0.5, 0.5, 0.5));\r\n    vec3.set(this._extents, value.x, value.y, value.z);\r\n    vec3.add(this._center, min, this._extents);\r\n  }\r\n\r\n  encapsulate(point) {\r\n    let min = vec3.zero(), max = vec3.zero();\r\n    vec3.min(min, this.min, point);\r\n    vec3.max(max, this.max, point);\r\n    this.setMinMax(min, max);\r\n  }\r\n}\r\n","import Bounds from './bound-component';\r\nimport { vec2, vec3 } from '../../vmath';\r\nimport UIElementComponent from './ui-element-component';\r\nimport { Entity } from '../../ecs';\r\nimport { INT_MAX } from '../../vmath/bits';\r\nimport * as mathUtils from '../../vmath';\r\n\r\nexport default class ScrollViewComponent extends UIElementComponent {\r\n  constructor() {\r\n    super();\r\n    this._widget = null;\r\n    this._viewBound = null;\r\n    this._contentBound = null;\r\n    this._contentWidget = null;\r\n    this._viewPortWidget = null;\r\n    this._hScrollBarComp = null;\r\n    this._vScrollBarComp = null;\r\n    this._dragging = false;\r\n    this._velocity = vec2.zero();\r\n    this._startPos = vec2.zero();\r\n    this._startPoint = vec2.zero();\r\n    this._fingerId = -1;\r\n    this._correctInited = false;\r\n    this._prevContentBound = null;\r\n    this._prevViewBound = null;\r\n    this._prevPosition = vec2.zero();\r\n\r\n    this._onMouseDown = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      this._dragging = true;\r\n      this._startPos = vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY);\r\n      this._startPoint = vec2.new(e.mouseX, e.mouseY);\r\n    };\r\n\r\n    this._onMouseUp = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      this._dragging = false;\r\n    };\r\n\r\n    this._onMouseMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (this._dragging) {\r\n        this._onDrag(vec2.new(e.mouseX, e.mouseY));\r\n      }\r\n    };\r\n\r\n    // touch events\r\n    this._onTouchStart = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (this._fingerId !== -1) {\r\n        return;\r\n      }\r\n\r\n      this._fingerId = e.id;\r\n      this._dragging = true;\r\n      this._startPos = vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY);\r\n      this._startPoint = vec2.new(e.x, e.y);\r\n    };\r\n\r\n    this._onTouchMove = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n      if (e.id === this._fingerId) {\r\n        if (this._dragging) {\r\n          this._onDrag(vec2.new(e.x, e.y));\r\n        }\r\n      }\r\n    };\r\n\r\n    this._onTouchEnd = (e) => {\r\n      if (this.enabled === false) {\r\n        return;\r\n      }\r\n\r\n      e.stop();\r\n\r\n      if (e.id !== this._fingerId) {\r\n        return;\r\n      }\r\n\r\n      this._fingerId = -1;\r\n      this._dragging = false;\r\n    };\r\n\r\n    this._updateScrollView = (e) => {\r\n      if (e.component._dragging === false) {\r\n        return;\r\n      }\r\n\r\n      this._updateBound();\r\n      let calculateValue = e.component.reverse ? 1 - e.component.value : e.component.value;\r\n      if (e.component.direction === 'horizontal') {\r\n        let sizeDelta = this._contentBound.size.x - this._viewBound.size.x;\r\n        let realMove = sizeDelta * calculateValue;\r\n        let currentPos = this._viewBound.min.x - this._contentBound.min.x;\r\n        this._contentWidget.offsetX += currentPos - realMove;\r\n      } else {\r\n        let sizeDelta = this._contentBound.size.y - this._viewBound.size.y;\r\n        let realMove = sizeDelta * calculateValue;\r\n        let currentPos = this._viewBound.min.y - this._contentBound.min.y;\r\n        this._contentWidget.offsetY += currentPos - realMove;\r\n      }\r\n\r\n      this._updateBound();\r\n    };\r\n  }\r\n\r\n  onInit() {\r\n    super.onInit();\r\n    this._widget = this._entity.getComp('Widget');\r\n    this._viewPortWidget = this._viewPort && this._viewPort.getComp('Widget');\r\n    this._contentWidget = this._content && this._content.getComp('Widget');\r\n\r\n    if (this._vScrollBarComp) {\r\n      this._vScrollBar.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n    }\r\n\r\n    this._vScrollBarComp = this._vScrollBar && this._vScrollBar.getComp('ScrollBar');\r\n    if (this._vScrollBarComp) {\r\n      this._vScrollBar._reverse = true;\r\n      this._vScrollBar.on('ScrollBar.onValueChanged', this._updateScrollView);\r\n    }\r\n\r\n    if (this._hScrollBarComp) {\r\n      this._hScrollBar.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n    }\r\n\r\n    this._hScrollBarComp = this._hScrollBar && this._hScrollBar.getComp('ScrollBar');\r\n    if (this._hScrollBarComp) {\r\n      this._hScrollBar.on('ScrollBar.onValueChanged', this._updateScrollView);\r\n    }\r\n  }\r\n\r\n  onDestroy() {\r\n    this._vScrollBar._entity.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n    this._hScrollBar._entity.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n\r\n    super.onDestroy();\r\n  }\r\n\r\n  tick() {\r\n    // maybe let the editor do it\r\n    if (this._viewPortWidget) {\r\n      if (this._viewPortWidget.anchorLeft !== 0 ||\r\n        this._viewPortWidget.anchorRight !== 1 ||\r\n        this._viewPortWidget.anchorBottom !== 0 ||\r\n        this._viewPortWidget.anchorTop !== 1\r\n      ) {\r\n        this._viewPortWidget.setAnchors(0, 0, 1, 1);\r\n      }\r\n    }\r\n\r\n    if (this._correctInited === false) {\r\n      this._correctVisual();\r\n     }\r\n  }\r\n\r\n  _correctVisual() {\r\n    this._getBound();\r\n    if (\r\n      this._viewBound && !vec3.equals(this._viewBound.size, vec3.zero()) &&\r\n      this._contentBound && !vec3.equals(this._contentBound.size, vec3.zero())\r\n    ) {\r\n      this._correctInited = true;\r\n      if (this._viewBound.size.x >= this._contentBound.size.x) {\r\n        if (this._hScrollBar && this._hScrollBar.active) {\r\n          this._hScrollBar.active = false;\r\n        }\r\n\r\n        if (this._viewPortWidget) {\r\n          this._viewPortWidget.offsetY = 0;\r\n          this._viewPortWidget.sizeY = 0;\r\n        }\r\n      } else {\r\n        if (this._hScrollBar) {\r\n          if (this._hScrollBar.active === false) {\r\n            this._hScrollBar.active = true;\r\n          }\r\n          let hWidget = this._hScrollBar.getComp('Widget');\r\n          if (this._viewPortWidget) {\r\n            this._viewPortWidget.offsetY = hWidget._rect.h * (1 - this._viewPortWidget.pivotY);\r\n            this._viewPortWidget.sizeY = -hWidget._rect.h;\r\n          }\r\n          hWidget.setAnchors(0, 0, 1, 0);\r\n          if (this._vScrollBar) {\r\n            if (this._vScrollBar.active) {\r\n              let vWidget = this._vScrollBar.getComp('Widget');\r\n              hWidget.sizeX = -vWidget._rect.w;\r\n              hWidget.offsetX = -vWidget._rect.w * hWidget.pivotX;\r\n            } else {\r\n              hWidget.sizeX = 0;\r\n              hWidget.offsetX = 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (this._viewBound.size.y >= this._contentBound.size.y) {\r\n        if (this._vScrollBar && this._vScrollBar.active) {\r\n          this._vScrollBar.active = false;\r\n        }\r\n\r\n        if (this._viewPortWidget) {\r\n          this._viewPortWidget.offsetX = 0;\r\n          this._viewPortWidget.sizeX = 0;\r\n        }\r\n      } else {\r\n        if (this._vScrollBar) {\r\n          if (this._vScrollBar.active === false) {\r\n            this._vScrollBar.active = true;\r\n          }\r\n\r\n          let vWdiget = this._vScrollBar.getComp('Widget');\r\n          if (this._viewPortWidget) {\r\n            this._viewPortWidget.offsetX = -vWdiget._rect.w * this._viewPortWidget.pivotX;\r\n            this._viewPortWidget.sizeX = -vWdiget._rect.w;\r\n          }\r\n\r\n          vWdiget.setAnchors(1, 0, 1, 1);\r\n          if (this._hScrollBar) {\r\n            if (this._hScrollBar.active) {\r\n              let hWidget = this._hScrollBar.getComp('Widget');\r\n              vWdiget.sizeY = -hWidget._rect.h;\r\n              vWdiget.offsetY = hWidget._rect.h * (1 - vWdiget.pivotY);\r\n            } else {\r\n              vWdiget.sizeY = 0;\r\n              vWdiget.offsetY = 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  postTick() {\r\n    this._lateUpdate();\r\n  }\r\n\r\n  _onDrag(mouse) {\r\n    if (!this._contentWidget) {\r\n      return;\r\n    }\r\n\r\n    this._updateBound();\r\n    let delta = vec2.zero(), currentPos = vec2.zero();\r\n    // get delta from calculate content offset to content offset\r\n    vec2.subtract(delta, mouse, this._startPoint);\r\n    vec2.add(currentPos, delta, this._startPos);\r\n    vec2.subtract(delta, currentPos, vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY));\r\n    let offset = this._calculateOffset(delta);\r\n    vec2.add(currentPos, currentPos, offset);\r\n\r\n    let contentOffset = [currentPos.x, currentPos.y];\r\n    if (this._movementType == 'elastic') {\r\n      let viewBoundSize = this._viewBound.size;\r\n      // higher offset ，higher rubber\r\n      if (offset.x !== 0) {\r\n        contentOffset[0] -= (1.0 - 1.0 / (Math.abs(offset.x) * 0.5 / viewBoundSize.x + 1.0)) * viewBoundSize.x * this._sign(offset.x);\r\n      }\r\n\r\n      if (offset.y !== 0) {\r\n        contentOffset[1] -= (1.0 - 1.0 / (Math.abs(offset.y) * 0.5 / viewBoundSize.y + 1.0)) * viewBoundSize.y * this._sign(offset.y);\r\n      }\r\n    }\r\n\r\n    this._setContentOffset(vec2.new(contentOffset[0], contentOffset[1]));\r\n  }\r\n\r\n  _sign(value) {\r\n    if (value >= 0) {\r\n      return 1;\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  _getBound() {\r\n    if (!this._contentWidget) {\r\n      return new Bounds(vec3.zero(), vec3.zero());\r\n    }\r\n\r\n    // get parent bound\r\n    let pCorners = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    this._viewPortWidget.getWorldCorners(pCorners[0], pCorners[1], pCorners[2], pCorners[3]);\r\n    let center = vec3.zero();\r\n    vec3.add(center, pCorners[0], pCorners[2]);\r\n    vec3.divide(center, center, vec3.new(2, 2, 2));\r\n    let viewRect = this._viewPortWidget._rect;\r\n    this._viewBound = new Bounds(center, vec3.new(viewRect.w, viewRect.h, 0));\r\n\r\n    // get content bound\r\n    let corners = [vec3.zero(), vec3.zero(), vec3.zero(), vec3.zero()];\r\n    this._contentWidget.getWorldCorners(corners[0], corners[1], corners[2], corners[3]);\r\n\r\n    let min = vec3.new(3.40E+38, 3.40E+38, 3.40E+38);\r\n    let max = vec3.new(-3.40E+38, -3.40E+38, -3.40E+38);\r\n    for (let i = 0; i < 4; i++) {\r\n      vec3.min(min, min, corners[i]);\r\n      vec3.max(max, max, corners[i]);\r\n    }\r\n\r\n    this._contentBound = new Bounds(min, vec3.zero());\r\n    this._contentBound.encapsulate(max);\r\n  }\r\n\r\n  _adjustBound(contentBoundSize, contentBoundCenter) {\r\n    let size = [contentBoundSize.x, contentBoundSize.y];\r\n    let center = [contentBoundCenter.x, contentBoundCenter.y];\r\n    let offset = vec3.zero();\r\n    vec3.subtract(offset, this._viewBound.size, this._contentBound.size);\r\n    if (offset.x > 0) {\r\n      center[0] -= offset.x * (this._contentWidget.pivotX - 0.5);\r\n      size[0] = this._viewBound.size.x;\r\n    }\r\n\r\n    if (offset.y > 0) {\r\n      center[1] -= offset.y * (this._contentWidget.pivotY - 0.5);\r\n      size[1] = this._viewBound.size.y;\r\n    }\r\n\r\n    return {\r\n      'size': vec3.new(size[0], size[1], 0),\r\n      'center': vec3.new(center[0], center[1], 0),\r\n    };\r\n  }\r\n\r\n  _updateBound() {\r\n    this._getBound();\r\n    if (!this._contentWidget) {\r\n      return;\r\n    }\r\n\r\n    let size = this._contentBound.size;\r\n    let center = this._contentBound.center;\r\n    let offset = this._adjustBound(size, center);\r\n    this._contentBound.size = offset.size;\r\n    this._contentBound.center = offset.center;\r\n    if (this._movementType === 'clamp') {\r\n      let zero = [0, 0];\r\n      if (this._viewBound.max.x > this._contentBound.max.y) {\r\n        zero[0] = Math.min(this._viewBound.max.x - this._contentBound.max.x, this._viewBound.min.x - this._contentBound.min.x);\r\n      } else if (this._viewBound.min.x < this._contentBound.min.x) {\r\n        zero[0] = Math.max(this._viewBound.max.x - this._contentBound.max.x, this._viewBound.min.x - this._contentBound.min.x);\r\n      }\r\n\r\n      if (this._viewBound.max.y > this._contentBound.max.y) {\r\n        zero[1] = Math.min(this._viewBound.max.y - this._contentBound.max.y, this._viewBound.min.y - this._contentBound.min.y);\r\n      } else if (this._viewBound.min.y < this._contentBound.min.y) {\r\n        zero[1] = Math.max(this._viewBound.max.y - this._contentBound.max.y, this._viewBound.min.y - this._contentBound.min.y);\r\n      }\r\n\r\n      if (!vec2.equals(vec2.new(zero.x, zero.y), vec2.zero())) {\r\n        center = [];\r\n        center[0] = this._contentWidget.offsetX + zero[0];\r\n        center[1] = this._contentWidget.offsetY + zero[1];\r\n\r\n        if (!this._horizontal) {\r\n          center[0] = this._contentWidget.offsetX;\r\n        }\r\n\r\n        if (!this._vertical) {\r\n          center[1] = this._contentWidget.offsetX;;\r\n        }\r\n\r\n        // this._adjustBound(size, center);\r\n        this._setContentOffset(vec2.new(center[0], center[1]));\r\n      }\r\n    }\r\n  }\r\n\r\n  _calculateOffset(val) {\r\n    let offset = [0, 0];\r\n    if (this._movementType === 'unrestricted') {\r\n      return vec2.zero();\r\n    } else {\r\n      let min = [this._contentBound.min.x, this._contentBound.min.y];\r\n      let max = [this._contentBound.max.x, this._contentBound.max.y];\r\n      if (this._horizontal) {\r\n        min[0] += val.x;\r\n        max[0] += val.x;\r\n        if (min[0] > this._viewBound.min.x) {\r\n          offset[0] = this._viewBound.min.x - min[0];\r\n        } else if (max[0] < this._viewBound.max.x) {\r\n          offset[0] = this._viewBound.max.x - max[0];\r\n        }\r\n      }\r\n\r\n      if (this._vertical) {\r\n        min[1] += val.y;\r\n        max[1] += val.y;\r\n        if (min[1] > this._viewBound.min.y) {\r\n          offset[1] = this._viewBound.min.y - min[1];\r\n        } else if (max[1] < this._viewBound.max.y) {\r\n          offset[1] = this._viewBound.max.y - max[1];\r\n        }\r\n      }\r\n    }\r\n\r\n    return vec2.new(offset[0], offset[1]);\r\n  }\r\n\r\n  _lateUpdate() {\r\n    if (!this._contentWidget) {\r\n      return;\r\n    }\r\n\r\n    this._getBound();\r\n    let outOffset = this._calculateOffset(vec2.zero());\r\n    let isOut = !vec2.equals(outOffset, vec2.zero());\r\n    let isAdd = !vec2.equals(this._velocity, vec2.zero());\r\n    if (!this._dragging && (isOut || isAdd)) {\r\n      let pos = [this._contentWidget.offsetX, this._contentWidget.offsetY];\r\n      let offset = [outOffset.x, outOffset.y];\r\n      let num = [this._velocity.x, this._velocity.y];\r\n      for (let i = 0; i < 2; i++) {\r\n        if (this._movementType === 'elastic' && offset[i] !== 0) {\r\n          let backValue = this._smoothBack(pos[i], pos[i] + offset[i], num[i])\r\n          pos[i] = backValue.value;\r\n          num[i] = backValue.velocity;\r\n          if (Math.abs(num[i]) < 1) {\r\n            num[i] = 0;\r\n          }\r\n        } else if (this._inertia) {\r\n          num[i] = num[i] * Math.pow(this._brake, this._app.deltaTime);\r\n          if (Math.abs(num[i]) < 1) {\r\n            num[i] = 0;\r\n          }\r\n\r\n          pos[i] += num[i] * this._app.deltaTime;\r\n        } else {\r\n          num[i] = 0;\r\n        }\r\n      }\r\n\r\n      this._velocity = vec2.new(num[0], num[1]);\r\n      if (!vec2.equals(this._velocity, vec2.zero())) {\r\n        if (this._movementType === 'clamped') {\r\n          let delta = vec2.zero();\r\n          vec2.subtract(delta, vec2.new(pos.x, pos.y), vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY));\r\n          outOffset = this._calculateOffset(delta);\r\n          pos[0] += outOffset.x;\r\n          pos[1] += outOffset.y;\r\n        }\r\n\r\n        this._setContentOffset(vec2.new(pos[0], pos[1]));\r\n      } else if (!vec2.equals(outOffset, vec2.zero())) {\r\n        this._setContentOffset(vec2.new(pos[0] + outOffset.x, pos[1] + outOffset.y));\r\n      }\r\n    }\r\n\r\n    let anchorOffset = vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY);\r\n    if (this._dragging && this._inertia) {\r\n      let b = vec2.zero();\r\n      vec2.subtract(b, anchorOffset, this._prevPosition);\r\n      vec2.divide(b, b, vec2.new(this._app.deltaTime, this._app.deltaTime));\r\n      vec2.lerp(this._velocity, this._velocity, b, this._app.deltaTime * 10);\r\n    }\r\n\r\n    if ((this._prevPosition.x - anchorOffset.x) > 0.01 ||\r\n      (this._prevPosition.y > anchorOffset.y) > 0.01 ||\r\n      this._viewBound !== this._prevViewBound ||\r\n      this._contentBound !== this._prevContentBound) {\r\n      this._updateScrollBar();\r\n      this._emitValueChangedEvents();\r\n      this._updatePrevData();\r\n    }\r\n  }\r\n\r\n  _smoothBack(current, target, currentVelocity) {\r\n    let deltaTime = this._app.deltaTime;\r\n    this._elasticityDuration = Math.max(0.0001, this._elasticityDuration);\r\n    let num = 2 / this._elasticityDuration;\r\n    let num2 = num * deltaTime;\r\n    let num3 = 1 / (1 + num2 + 0.48 * Math.pow(num2, 2) + 0.235 * Math.pow(num2, 3));\r\n    let num4 = current - target;\r\n    let num5 = target;\r\n    let num6 = INT_MAX * this._elasticityDuration;\r\n    num4 = mathUtils.clamp(num4, -num6, num6);\r\n    target = current - num4;\r\n    let num7 = (currentVelocity + num * num4) * deltaTime;\r\n    currentVelocity = (currentVelocity - num * num7) * num3;\r\n    let num8 = target + (num4 + num7) * num3;\r\n    if (num5 - current > 0 === num8 > num5) {\r\n      num8 = num5;\r\n      currentVelocity = (num8 - num5) / deltaTime;\r\n    }\r\n\r\n    return { 'value': num8, 'velocity': currentVelocity };\r\n  }\r\n\r\n  _setContentOffset(val) {\r\n    let position = [val.x, val.y];\r\n    if (!this._contentWidget) {\r\n      return;\r\n    }\r\n\r\n    if (!this._horizontal) {\r\n      position[0] = this._contentWidget.offsetX;\r\n    }\r\n\r\n    if (!this._vertical) {\r\n      position[1] = this._contentWidget.offsetY;\r\n    }\r\n\r\n    if (!vec2.equals(val, vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY))) {\r\n      this._contentWidget.setOffset(position[0], position[1]);\r\n      this._updateBound();\r\n    }\r\n  }\r\n\r\n  _updatePrevData() {\r\n    this._prevPosition = vec2.new(this._contentWidget.offsetX, this._contentWidget.offsetY);\r\n    this._prevContentBound = this._contentBound;\r\n    this._prevViewBound = this._viewBound;\r\n  }\r\n\r\n  _updateScrollBar() {\r\n    let outOffset = this._calculateOffset(vec2.zero());\r\n    if (this._hScrollBarComp && this._hScrollBar.active && this._hScrollBarComp.handle) {\r\n      this._hScrollBarComp.size = mathUtils.clamp01(this._viewBound.size.x / (this._contentBound.size.x + Math.abs(outOffset.x)));\r\n      if (this._contentBound.size.x <= this._viewBound.size.x) {\r\n        this._hScrollBarComp.value = this._viewBound.min.x <= this._contentBound.min.x ? 0 : 1;\r\n      } else {\r\n        let scrollAnchor = (this._viewBound.min.x - this._contentBound.min.x) / (this._contentBound.size.x - this._viewBound.size.x);\r\n        this._hScrollBarComp.value = this._hScrollBarComp.reverse ? 1 - mathUtils.clamp01(scrollAnchor, 0, 1) : mathUtils.clamp01(scrollAnchor, 0, 1);\r\n      }\r\n    }\r\n\r\n    if (this._vScrollBarComp && this._vScrollBar.active && this._vScrollBarComp.handle) {\r\n      this._vScrollBarComp.size = mathUtils.clamp01(this._viewBound.size.y / (this._contentBound.size.y + Math.abs(outOffset.y)));\r\n      if (this._contentBound.size.y <= this._viewBound.size.y) {\r\n        this._vScrollBarComp.value = this._viewBound.min.x <= this._contentBound.min.x ? 0 : 1;\r\n      } else {\r\n        let scrollAnchor = (this._viewBound.min.y - this._contentBound.min.y) / (this._contentBound.size.y - this._viewBound.size.y);\r\n        this._vScrollBarComp.value = this._vScrollBarComp.reverse ? 1 - mathUtils.clamp01(scrollAnchor, 0, 1) : mathUtils.clamp01(scrollAnchor, 0, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  _emitValueChangedEvents() {\r\n    this.dispatch('ScrollView.onValueChanged');\r\n  }\r\n}\r\n\r\nScrollViewComponent.events = {\r\n  'mousedown': '_onMouseDown',\r\n  'mousemove': '_onMouseMove',\r\n  'mouseup': '_onMouseUp',\r\n  'touchstart': '_onTouchStart',\r\n  'touchmove': '_onTouchMove',\r\n  'touchend': '_onTouchEnd'\r\n};\r\n\r\nScrollViewComponent.schema = {\r\n  horizontal: {\r\n    type: 'boolean',\r\n    default: true,\r\n  },\r\n\r\n  vertical: {\r\n    type: 'boolean',\r\n    default: true,\r\n  },\r\n\r\n  viewPort: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._viewPort === val) {\r\n        return;\r\n      }\r\n\r\n      this._viewPort = val;\r\n      if (!this._viewPort) {\r\n        console.warn('ViewPort cannot be null');\r\n      }\r\n\r\n      if (this._viewPort) {\r\n        this._viewPortWidget = this._viewPort.getComp('Widget');\r\n      }\r\n    }\r\n  },\r\n\r\n  content: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._content === val) {\r\n        return;\r\n      }\r\n\r\n      this._content = val;\r\n      if (!this._content) {\r\n        console.warn('Content cannot be null');\r\n        return;\r\n      }\r\n\r\n      if (this._content) {\r\n        this._contentWidget = this._content.getComp('Widget');\r\n      }\r\n    }\r\n  },\r\n\r\n  movementType: {\r\n    type: 'enums',\r\n    default: 'clamped',\r\n    options: ['unrestricted', 'elastic', 'clamped'],\r\n  },\r\n\r\n  elasticityDuration: {\r\n    type: 'number',\r\n    default: 0.1,\r\n  },\r\n\r\n  inertia: {\r\n    type: 'boolean',\r\n    default: true,\r\n  },\r\n\r\n  brake: {\r\n    type: 'number',\r\n    default: 0.135,\r\n  },\r\n\r\n  vScrollBar: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._vScrollBar === val) {\r\n        return;\r\n      }\r\n\r\n      if (this._vScrollBarComp) {\r\n        this._vScrollBar.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n      }\r\n\r\n      this._vScrollBar = val;\r\n      if (this._vScrollBar) {\r\n        this._vScrollBar.on('ScrollBar.onValueChanged', this._updateScrollView);\r\n        this._vScrollBarComp = this._vScrollBar.getComp('ScrollBar');\r\n        this._vScrollBarComp.reverse = true;\r\n        this._correctVisual();\r\n      }\r\n    }\r\n  },\r\n\r\n  hScrollBar: {\r\n    type: 'entity',\r\n    default: null,\r\n    set(val) {\r\n      if (!(val instanceof Entity)) {\r\n        return;\r\n      }\r\n\r\n      if (this._hScrollBar === val) {\r\n        return;\r\n      }\r\n\r\n      if (this._hScrollBarComp) {\r\n        this._hScrollBar.off('ScrollBar.onValueChanged', this._updateScrollView);\r\n      }\r\n\r\n      this._hScrollBar = val;\r\n      if (this._hScrollBar) {\r\n        this._hScrollBar.on('ScrollBar.onValueChanged', this._updateScrollView);\r\n        this._hScrollBarComp = this._hScrollBar.getComp('ScrollBar');\r\n        this._correctVisual();\r\n      }\r\n    }\r\n  },\r\n};","import UIElementComponent from './ui-element-component';\r\nimport * as mathUtils from '../../vmath';\r\nimport { vec2 } from '../../vmath';\r\n\r\nexport default class GridLayoutComponent extends UIElementComponent {\r\n  constructor() {\r\n    super();\r\n\r\n    this._childManager = [];\r\n    this._childAlignEnum = 0;\r\n    this._cornerEnum = 0;\r\n    this._lastSize = vec2.zero();\r\n\r\n    this._dirty = false;\r\n  }\r\n\r\n  onInit() {\r\n    super.onInit();\r\n    this._widget = this._entity.getComp('Widget');\r\n    let options = ['upper-left', 'upper-center', 'upper-right', 'middle-left', 'middle-center', 'middle-right', 'lower-left', 'lower-center', 'lower-right'];\r\n    this._childAlignEnum = options.indexOf(this._childAlign);\r\n    if (this._childAlignEnum === -1) {\r\n      this._childAlignEnum = 0;\r\n    }\r\n\r\n    options = ['upper-left', 'upper-right', 'lower-left', 'lower-right'];\r\n    this._cornerEnum = options.indexOf(this._corner);\r\n    if (this._cornerEnum === -1) {\r\n      this._cornerEnum = 0;\r\n    }\r\n\r\n    this._lastSize = vec2.new(this._widget._rect.w, this._widget._rect.h);\r\n  }\r\n\r\n  tick() {\r\n    if (!vec2.equals(this._lastSize, vec2.new(this._widget._rect.w, this._widget._rect.h))) {\r\n      this._lastSize = vec2.new(this._widget._rect.w, this._widget._rect.h);\r\n      this._dirty = true;\r\n    }\r\n\r\n    if (!this._dirty) {\r\n      if (this._childManager.length !== this._entity.children.length) {\r\n        this._dirty = true;\r\n      } else {\r\n        for (let i = 0; i < this._entity.children.length; ++i) {\r\n          let child = this._entity.children[i];\r\n          if (child.enabled !== this._childManager[i].enabled) {\r\n            this._dirty = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this._dirty) {\r\n      this._calculate();\r\n      this._dirty = false;\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this._setSpacing(0, 0);\r\n    this._setPadding(0, 0, 0, 0);\r\n    this._setCellSize(100, 100);\r\n    this._axisDirection = 'horizontal';\r\n    let options = ['upper-left', 'upper-right', 'lower-left', 'lower-right'];\r\n    this._corner = 'upper-left';\r\n    this._cornerEnum = options.indexOf(this._corner);\r\n    options = ['upper-left', 'upper-center', 'upper-right', 'middle-left', 'middle-center', 'middle-right', 'lower-left', 'lower-center', 'lower-right'];\r\n    this._childAlign = 'upper-left';\r\n    this._childAlignEnum = options.indexOf(this._childAlign);\r\n    this._constraint = 'flexible';\r\n    this._constraintCount = 2;\r\n    this._dirty = true;\r\n  }\r\n\r\n  _calculate() {\r\n    if (!this._widget) {\r\n      return;\r\n    }\r\n\r\n    this._childManager = [];\r\n    let width = this._widget._rect.w, height = this._widget._rect.h;\r\n    let childCount = this._entity.children.length;\r\n\r\n    let row, col;\r\n    if (this._constraint === 'fixed-row') {\r\n      row = mathUtils.clamp(this._constraintCount, 1, childCount);\r\n      col = Math.max(1, Math.ceil(childCount / (1.0 * row)));\r\n    } else if (this._constraint === 'fixed-col') {\r\n      col = mathUtils.clamp(this._constraintCount, 1, childCount);\r\n      row = Math.max(1, Math.ceil(childCount / (1.0 * col)));\r\n    } else {\r\n      if (this._cellWidth + this._spacingX <= 0) {\r\n        col = 65535;\r\n      } else {\r\n        col = Math.floor((width - this._getPaddingHorizontal() + this._spacingX) / (this._cellWidth + this._spacingX));\r\n        col = Math.max(1, col);\r\n      }\r\n\r\n      if (this._cellHeight + this._spacingY <= 0) {\r\n        row = 65535;\r\n      } else {\r\n        row = Math.floor((height - this._getPaddingVertical() + this._spacingY) / (this._cellHeight + this._spacingY));\r\n        row = Math.max(1, row);\r\n      }\r\n    }\r\n\r\n    let actualX, actualY, contentCount;\r\n    if (this._axisDirection === 'horizontal') {\r\n      contentCount = col;\r\n      actualX = mathUtils.clamp(col, 1, childCount);\r\n      actualY = mathUtils.clamp(row, 1, Math.ceil(childCount / (1.0 * contentCount)));\r\n    } else {\r\n      contentCount = row;\r\n      actualY = mathUtils.clamp(row, 1, childCount);\r\n      actualX = mathUtils.clamp(col, 1, Math.ceil(childCount / (1.0 * contentCount)));\r\n    }\r\n\r\n    let contentSize = vec2.new(\r\n      this._cellWidth * actualX + this._spacingX * (actualX - 1),\r\n      this._cellHeight * actualY + this._spacingY * (actualY - 1)\r\n    );\r\n    let starOffset = vec2.new(this._getStartOffset('horizontal', contentSize.x), this._getStartOffset('vertical', contentSize.y));\r\n    let cornerX = this._cornerEnum % 2, cornerY = parseInt(this._cornerEnum / 2);\r\n\r\n    let index = 0;\r\n    for (let i = 0; i < childCount; ++i) {\r\n      let child = this._entity.children[i];\r\n      if (child.enabled === false) {\r\n        continue;\r\n      }\r\n\r\n      let widget = child.getComp('Widget');\r\n      widget.setSize(this._cellWidth, this._cellHeight);\r\n      widget.setAnchors(0, 1, 0, 1);\r\n\r\n      let x, y;\r\n      if (this._axisDirection === 'horizontal') {\r\n        x = index % contentCount;\r\n        y = parseInt(index / contentCount);\r\n      } else {\r\n        x = parseInt(index / contentCount);\r\n        y = index % contentCount;\r\n      }\r\n\r\n      let xpos, ypos;\r\n      if (cornerX === 1) {\r\n        x = actualX - x - 1;\r\n      }\r\n\r\n      if (cornerY === 1) {\r\n        y = actualY - y - 1;\r\n      }\r\n\r\n      xpos = starOffset.x + (this._cellWidth + this._spacingX) * x + widget.pivotX * this._cellWidth;\r\n      ypos = starOffset.y + (this._cellHeight + this._spacingY) * y + (1 - widget.pivotY) * this._cellHeight;\r\n      widget.setOffset(xpos, -ypos);\r\n      this._childManager.push(child);\r\n      index++;\r\n    }\r\n  }\r\n\r\n  _getStartOffset(axis, contentSpace) {\r\n    let addPaddingContentSpace = contentSpace + (axis === 'horizontal' ? this._getPaddingHorizontal() : this._getPaddingVertical());\r\n    let offset = (axis === 'horizontal' ? this._widget._rect.w : this._widget._rect.h) - addPaddingContentSpace;\r\n    let align = axis === 'horizontal' ? (this._childAlignEnum % 3) * 0.5 : parseInt(this._childAlignEnum / 3) * 0.5;\r\n    return (axis === 'horizontal' ? this._paddingLeft : this._paddingTop) + offset * align;\r\n  }\r\n\r\n  _getPaddingHorizontal() {\r\n    return this._paddingLeft + this._paddingRight;\r\n  }\r\n\r\n  _getPaddingVertical() {\r\n    return this._paddingTop + this._paddingBottom;\r\n  }\r\n\r\n  _setPadding(l, b, r, t) {\r\n    this._paddingLeft = l;\r\n    this._paddingRight = r;\r\n    this._paddingBottom = b;\r\n    this._paddingTop = t;\r\n  }\r\n\r\n  _setSpacing(x, y) {\r\n    this._spacingX = x;\r\n    this._spacingY = y;\r\n  }\r\n\r\n  _setCellSize(w, h) {\r\n    this._cellWidth = w;\r\n    this._cellHeight = h;\r\n  }\r\n\r\n  getItems() {\r\n    return this._childManager;\r\n  }\r\n}\r\n\r\nGridLayoutComponent.schema = {\r\n  axisDirection: {\r\n    type: 'enums',\r\n    default: 'horizontal',\r\n    options: ['horizontal', 'vertical'],\r\n    set(val) {\r\n      if (this._axisDirection === val) {\r\n        return;\r\n      }\r\n\r\n      this._axisDirection = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  paddingLeft: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._paddingLeft === val) {\r\n        return;\r\n      }\r\n\r\n      this._paddingLeft = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  paddingRight: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._paddingRight === val) {\r\n        return;\r\n      }\r\n\r\n      this._paddingRight = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  paddingBottom: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._paddingBottom === val) {\r\n        return;\r\n      }\r\n\r\n      this._paddingBottom = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  paddingTop: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._paddingTop === val) {\r\n        return;\r\n      }\r\n\r\n      this._paddingTop = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  cellWidth: {\r\n    type: 'number',\r\n    default: 100.0,\r\n    set(val) {\r\n      if (this._cellWidth === val) {\r\n        return;\r\n      }\r\n\r\n      this._cellWidth = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  cellHeight: {\r\n    type: 'number',\r\n    default: 100.0,\r\n    set(val) {\r\n      if (this._cellHeight === val) {\r\n        return;\r\n      }\r\n\r\n      this._cellHeight = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  spacingX: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._spacingX === val) {\r\n        return;\r\n      }\r\n\r\n      this._spacingX = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  spacingY: {\r\n    type: 'number',\r\n    default: 0.0,\r\n    set(val) {\r\n      if (this._spacingY === val) {\r\n        return;\r\n      }\r\n\r\n      this._spacingY = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  corner: {\r\n    // arrange towards\r\n    type: 'enums',\r\n    default: 'upper-left',\r\n    options: ['upper-left', 'upper-right', 'lower-left', 'lower-right'],\r\n    set(val) {\r\n      if (this._corner === val) {\r\n        return;\r\n      }\r\n\r\n      let options = ['upper-left', 'upper-right', 'lower-left', 'lower-right'];\r\n      this._cornerEnum = options.indexOf(val);\r\n      if (this._cornerEnum !== -1) {\r\n        this._corner = val;\r\n        this._dirty = true;\r\n      } else {\r\n        this._cornerEnum = 0;\r\n      }\r\n    },\r\n  },\r\n\r\n  childAlign: {\r\n    // distribution of the rest of the content\r\n    type: 'enums',\r\n    default: 'upper-left',\r\n    options: ['upper-left', 'upper-center', 'upper-right', 'middle-left', 'middle-center', 'middle-right', 'lower-left', 'lower-center', 'lower-right'],\r\n    set(val) {\r\n      if (this._childAlign === val) {\r\n        return;\r\n      }\r\n\r\n      let options = ['upper-left', 'upper-center', 'upper-right', 'middle-left', 'middle-center', 'middle-right', 'lower-left', 'lower-center', 'lower-right'];\r\n      this._childAlignEnum = options.indexOf(val);\r\n      if (this._childAlignEnum !== -1) {\r\n        this._childAlign = val;\r\n        this._dirty = true;\r\n      } else {\r\n        this._childAlignEnum = 0;\r\n      }\r\n    },\r\n  },\r\n\r\n  constraint: {\r\n    type: 'enums',\r\n    default: 'flexible',\r\n    options: ['flexible', 'fixed-row', 'fixed-col'],\r\n    set(val) {\r\n      if (this._constraint === val) {\r\n        return;\r\n      }\r\n\r\n      this._constraint = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n\r\n  constraintCount: {\r\n    type: 'int',\r\n    default: 2,\r\n    set(val) {\r\n      if (this._constraintCount === val) {\r\n        return;\r\n      }\r\n\r\n      this._constraintCount = val;\r\n      this._dirty = true;\r\n    },\r\n  },\r\n}","import { System } from '../ecs';\r\nimport { FixedArray } from '../memop';\r\n\r\nexport default class ScriptSystem extends System {\r\n  constructor() {\r\n    super();\r\n\r\n    this._scripts = new FixedArray(200);\r\n  }\r\n\r\n  add(comp) {\r\n    this._scripts.push(comp);\r\n    comp.awake();\r\n\r\n    // TODO: sort script by priority\r\n  }\r\n\r\n  remove(comp) {\r\n    for (let i = 0; i < this._scripts.length; ++i) {\r\n      let c = this._scripts.data[i];\r\n      if (c === comp) {\r\n        this._scripts.fastRemove(i);\r\n        comp.end();\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    for (let i = 0; i < this._scripts.length; ++i) {\r\n      let script = this._scripts.data[i];\r\n\r\n      // skip if entity is not ready, or the component is destroyed, or is disabled\r\n      if (script.destroyed || !script.enabled) {\r\n        continue;\r\n      }\r\n\r\n      // start script\r\n      if (script._startedFlag === 0) {\r\n        script._startedFlag = 1;\r\n        script.start();\r\n        continue;\r\n      }\r\n\r\n      script.tick();\r\n    }\r\n  }\r\n\r\n  postTick() {\r\n    for (let i = 0; i < this._scripts.length; ++i) {\r\n      let script = this._scripts.data[i];\r\n\r\n      if (script._startedFlag === 1) {\r\n        script._startedFlag = 2;\r\n        continue;\r\n      }\r\n\r\n      // skip if entity is not ready, or the component is destroyed, or is disabled\r\n      if (script.destroyed || !script.enabled) {\r\n        continue;\r\n      }\r\n\r\n      script.postTick();\r\n    }\r\n  }\r\n}","import { System } from '../ecs';\r\nimport { FixedArray } from '../memop';\r\n\r\nexport default class SkinningModelSystem extends System {\r\n  constructor() {\r\n    super();\r\n\r\n    this._comps = new FixedArray(200);\r\n  }\r\n\r\n  add(comp) {\r\n    this._comps.push(comp);\r\n  }\r\n\r\n  remove(comp) {\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let c = this._comps.data[i];\r\n      if (c === comp) {\r\n        this._comps.fastRemove(i);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    for (let i = 0; i < this._comps.length; ++i) {\r\n      let comp = this._comps.data[i];\r\n      if (comp.enabled === false) {\r\n        continue;\r\n      }\r\n\r\n      comp._updateMatrices();\r\n    }\r\n  }\r\n}","import { System } from '../ecs';\r\nimport { FixedArray } from '../memop';\r\n\r\nexport default class AnimationSystem extends System {\r\n  constructor() {\r\n    super();\r\n\r\n    this._anims = new FixedArray(200);\r\n  }\r\n\r\n  add(comp) {\r\n    this._anims.push(comp);\r\n  }\r\n\r\n  remove(comp) {\r\n    for (let i = 0; i < this._anims.length; ++i) {\r\n      let c = this._anims.data[i];\r\n      if (c === comp) {\r\n        this._anims.fastRemove(i);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    for (let i = 0; i < this._anims.length; ++i) {\r\n      let anim = this._anims.data[i];\r\n      anim._animCtrl.tick(this._app.deltaTime);\r\n    }\r\n  }\r\n}","import { System } from '../ecs';\r\nimport { FixedArray } from '../memop';\r\n\r\n/**\r\n * The audio system, handling audio-relevant low-level initiations,\r\n * resource management and other global tasks\r\n */\r\nexport default class AudioSystem extends System {\r\n  /**\r\n   * Init the Web Audio API context and list all the supported audio format\r\n   * @protected\r\n   */\r\n  constructor() {\r\n    super();\r\n    /**\r\n     * @private\r\n     */\r\n    this.instanceID = 0;\r\n    /**\r\n     * @private\r\n     */\r\n    this.id2audio = {};\r\n    /**\r\n     * @private\r\n     */\r\n    this.url2id = {};\r\n\r\n    let sys = {};\r\n    let DEBUG = false;\r\n\r\n    let version = sys.browserVersion;\r\n\r\n    // check if browser supports Web Audio\r\n    // check Web Audio's context\r\n    let supportWebAudio = !!(window.AudioContext || window.webkitAudioContext || window.mozAudioContext);\r\n\r\n    let __audioSupport = { ONLY_ONE: false, WEB_AUDIO: supportWebAudio, DELAY_CREATE_CTX: false };\r\n\r\n    if (sys.os === sys.OS_IOS) {\r\n      // IOS no event that used to parse completed callback\r\n      // this time is not complete, can not play\r\n      //\r\n      __audioSupport.USE_LOADER_EVENT = 'loadedmetadata';\r\n    }\r\n\r\n    if (sys.browserType === sys.BROWSER_TYPE_FIREFOX) {\r\n      __audioSupport.DELAY_CREATE_CTX = true;\r\n      __audioSupport.USE_LOADER_EVENT = 'canplay';\r\n    }\r\n\r\n    if (sys.os === sys.OS_ANDROID) {\r\n      if (sys.browserType === sys.BROWSER_TYPE_UC) {\r\n        __audioSupport.ONE_SOURCE = true;\r\n      }\r\n    }\r\n\r\n    if(DEBUG){\r\n      setTimeout(function(){\r\n        console.log('browse type: ' + sys.browserType);\r\n        console.log('browse version: ' + version);\r\n        console.log('MULTI_CHANNEL: ' + __audioSupport.MULTI_CHANNEL);\r\n        console.log('WEB_AUDIO: ' + __audioSupport.WEB_AUDIO);\r\n        console.log('AUTOPLAY: ' + __audioSupport.AUTOPLAY);\r\n      }, 0);\r\n    }\r\n\r\n    try {\r\n      if (__audioSupport.WEB_AUDIO) {\r\n        __audioSupport.context = new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext)();\r\n        if(__audioSupport.DELAY_CREATE_CTX) {\r\n          setTimeout(function(){ __audioSupport.context = new (window.AudioContext || window.webkitAudioContext || window.mozAudioContext)(); }, 0);\r\n        }\r\n      }\r\n    } catch(error) {\r\n      __audioSupport.WEB_AUDIO = false;\r\n      console.log(error);\r\n    }\r\n\r\n    function detectAudioFormat () {\r\n      let formatSupport = [];\r\n      let audio = document.createElement('audio');\r\n      if(audio.canPlayType) {\r\n        let ogg = audio.canPlayType('audio/ogg; codecs=\"vorbis\"');\r\n        if (ogg) formatSupport.push('.ogg');\r\n        let mp3 = audio.canPlayType('audio/mpeg');\r\n        if (mp3) formatSupport.push('.mp3');\r\n        let wav = audio.canPlayType('audio/wav; codecs=\"1\"');\r\n        if (wav) formatSupport.push('.wav');\r\n        let mp4 = audio.canPlayType('audio/mp4');\r\n        if (mp4) formatSupport.push('.mp4');\r\n        let m4a = audio.canPlayType('audio/x-m4a');\r\n        if (m4a) formatSupport.push('.m4a');\r\n      }\r\n      return formatSupport;\r\n    }\r\n    __audioSupport.format = detectAudioFormat();\r\n    this.__audioSupport = __audioSupport;\r\n    this._audios = new FixedArray(200);\r\n  }\r\n\r\n  /**\r\n   * Register a new {@link AudioSourceComponent}\r\n   * @param {AudioSourceComponent} comp the new component\r\n   */\r\n  add(comp) {\r\n    this._audios.push(comp);\r\n  }\r\n\r\n  /**\r\n   * Remove the {@link AudioSourceComponent}\r\n   * @param {AudioSourceComponent} comp the cmponent to remove\r\n   */\r\n  remove(comp) {\r\n    for (let i = 0; i < this._audios.length; ++i) {\r\n      let c = this._audios.data[i];\r\n      if (c === comp) {\r\n        this._audios.fastRemove(i);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Register a new {@link AudioClip}\r\n   * @param {string} url audio clip URL\r\n   * @param {AudioClip} clip the new clip\r\n   */\r\n  addClip(url, clip) {\r\n    this.instanceID++;\r\n    this.url2id[url] = this.instanceID;\r\n    this.id2audio[this.instanceID] = clip;\r\n    return this.instanceID;\r\n  }\r\n\r\n  /**\r\n   * Get the ID of a clip by URL\r\n   * @param {string} url audio clip url\r\n   */\r\n  getIDByURL(url) {\r\n    return this.url2id[url];\r\n  }\r\n\r\n  /**\r\n   * Remove a clip by URL\r\n   * @param {string|{url:string}} clip url of the clip to be removed\r\n   */\r\n  removeClip(clip) {\r\n    let url = null;\r\n    if (!clip) {\r\n      return;\r\n    }\r\n    else if (typeof clip === 'string') {\r\n      url = clip;\r\n    }\r\n    else {\r\n      url = clip.url;\r\n    }\r\n    let id = this.url2id[url];\r\n    delete this.url2id[url];\r\n    let audio = this.id2audio[id];\r\n    if (audio) {\r\n      audio.stop();\r\n      audio.destroy();\r\n      delete this.id2audio[id];\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set volume for all the registered clip\r\n   * @param {number} volume the new volume\r\n   */\r\n  setVolumeForAll(volume) {\r\n    for (let i = 0; i < this._audios.length; i++) {\r\n      this._audios.data[i].setVolume(volume);\r\n    }\r\n  }\r\n \r\n  /**\r\n   * Pause all the registered clip\r\n   */\r\n  pauseAll() {\r\n    for (let i = 0; i < this._audios.length; i++) {\r\n      this._audios.data[i].pause();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Stop all the registered clip\r\n   */\r\n  stopAll() {\r\n    for (let i = 0; i < this._audios.length; i++) {\r\n      this._audios.data[i].stop();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Resume all the registered clip\r\n   */\r\n  resumeAll() {\r\n    for (let i = 0; i < this._audios.length; i++) {\r\n      this._audios.data[i].resume();\r\n    }\r\n  }\r\n\r\n  _getClipByURL(url) {\r\n    return this.id2audio[this.url2id[url]];\r\n  }\r\n\r\n  _getClipByID(clipID) {\r\n    return this.id2audio[clipID];\r\n  }\r\n}","import { Event } from '../event-sys';\r\n\r\nexport default class MouseEvent extends Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts) {\r\n    super(name, opts);\r\n    this.reset();\r\n  }\r\n\r\n  /**\r\n   * @method reset\r\n   *\r\n   * reset mouse value\r\n   */\r\n  reset() {\r\n    this._stopped = false;\r\n    this.target = null;\r\n    this.bubbles = false;\r\n\r\n    this.dx = 0.0;\r\n    this.dy = 0.0;\r\n    this.mouseX = 0.0;\r\n    this.mouseY = 0.0;\r\n    this.button = 0;\r\n    this.buttons = 0;\r\n  }\r\n}","import { Event } from '../event-sys';\r\n\r\nexport default class KeyboardEvent extends Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts) {\r\n    super(name, opts);\r\n    this.reset();\r\n  }\r\n\r\n  /**\r\n   * @method reset\r\n   *\r\n   * reset mouse value\r\n   */\r\n  reset() {\r\n    this._stopped = false;\r\n    this.target = null;\r\n    this.bubbles = false;\r\n\r\n    this.key = '';\r\n  }\r\n}","import { Event } from '../event-sys';\r\n\r\nexport default class TouchEvent extends Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts) {\r\n    super(name, opts);\r\n    this.reset();\r\n  }\r\n\r\n  /**\r\n   * @method reset\r\n   *\r\n   * reset mouse value\r\n   */\r\n  reset() {\r\n    this._stopped = false;\r\n    this.target = null;\r\n    this.bubbles = false;\r\n\r\n    this.dx = 0.0;\r\n    this.dy = 0.0;\r\n    this.x = 0.0;\r\n    this.y = 0.0;\r\n  }\r\n}","import { Event } from '../event-sys';\r\n\r\nexport default class FocusEvent extends Event {\r\n  /**\r\n   * @param {string} name\r\n   * @param {object} opts\r\n   * @param {object} [opts.detail]\r\n   * @param {boolean} [opts.bubbles]\r\n   */\r\n  constructor(name, opts) {\r\n    super(name, opts);\r\n    this.reset();\r\n  }\r\n\r\n  /**\r\n   * @method reset\r\n   *\r\n   * reset mouse value\r\n   */\r\n  reset() {\r\n    this._stopped = false;\r\n    this.target = null;\r\n    this.bubbles = false;\r\n\r\n    this.relatedTarget = null;\r\n  }\r\n}","import gfx from '../../gfx';\r\nimport renderer from '../../renderer';\r\nimport { Node } from '../../scene-graph';\r\nimport { RecyclePool } from '../../memop';\r\nimport Material from '../../assets/material';\r\n\r\nconst MAX_STENCIL_LEVEL = 8;\r\n\r\nfunction _setStencil(mat, enabled, func, ref, mask, failOp, zFailOp, zPassOp, writeMask) {\r\n  let tech = mat.effectInst.getTechnique('ui');\r\n  for (let i = 0; i < tech.passes.length; ++i) {\r\n    let pass = tech.passes[i];\r\n    pass.setStencilFront(\r\n      enabled, func, ref, mask, failOp, zFailOp, zPassOp, writeMask\r\n    );\r\n    pass.setStencilBack(\r\n      enabled, func, ref, mask, failOp, zFailOp, zPassOp, writeMask\r\n    );\r\n  }\r\n}\r\n\r\nexport default class ScreenRenderHelper {\r\n  constructor(app) {\r\n    // internal states\r\n    this._app = app;\r\n    this._screen = null;\r\n    this._curMaterail = null;\r\n    this._curTexture = null;\r\n    this._curSpriteBatch = null;\r\n    this._curStencilLevel = 0;\r\n    this._curUserKey = 0;\r\n    this._dummyNode = new Node();\r\n\r\n    // pools\r\n    this._materialPool = new RecyclePool(() => {\r\n      return new Material();\r\n    }, 100);\r\n    this._spriteBatchModelPool = new RecyclePool(() => {\r\n      return new renderer.SpriteBatchModel();\r\n    }, 100);\r\n  }\r\n\r\n  reset() {\r\n    for (let i = 0; i < this._spriteBatchModelPool.length; ++i) {\r\n      let spriteBatch = this._spriteBatchModelPool.data[i];\r\n      spriteBatch.clear();\r\n      this._app.scene.removeModel(spriteBatch);\r\n    }\r\n\r\n    this._materialPool.reset();\r\n    this._spriteBatchModelPool.reset();\r\n  }\r\n\r\n  resetScreen(screen) {\r\n    this._screen = screen;\r\n    this._curMaterail = null;\r\n    this._curTexture = null;\r\n    this._curSpriteBatch = null;\r\n    this._curStencilLevel = 0;\r\n    this._curUserKey = 0;\r\n  }\r\n\r\n  _stencilWriteMask() {\r\n    return 0x01 << (this._curStencilLevel - 1);\r\n  }\r\n\r\n  _stencilRef() {\r\n    let result = 0;\r\n    for (let i = 0; i < this._curStencilLevel; ++i) {\r\n      result += (0x01 << i);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  _cloneMaterial(rawMaterial) {\r\n    let mat = this._materialPool.add();\r\n    mat.copy(rawMaterial);\r\n\r\n    return mat;\r\n  }\r\n\r\n  _getSpriteBatchModel(material, texture) {\r\n    if (\r\n      this._curSpriteBatch !== null &&\r\n      this._curMaterail === material &&\r\n      this._curTexture === texture\r\n    ) {\r\n      return this._curSpriteBatch;\r\n    }\r\n\r\n    let mat = this._cloneMaterial(material);\r\n    mat.setProperty('mainTexture', texture);\r\n\r\n    if (this._curStencilLevel !== 0) {\r\n      let stencilRef = this._stencilRef();\r\n      _setStencil(\r\n        mat,\r\n        true,\r\n        gfx.DS_FUNC_EQUAL,\r\n        stencilRef,\r\n        stencilRef,\r\n        gfx.STENCIL_OP_KEEP,\r\n        gfx.STENCIL_OP_KEEP,\r\n        gfx.STENCIL_OP_KEEP,\r\n        0\r\n      );\r\n    } else {\r\n      _setStencil(\r\n        mat,\r\n        false,\r\n        gfx.DS_FUNC_ALWAYS,\r\n        0,\r\n        0,\r\n        gfx.STENCIL_OP_KEEP,\r\n        gfx.STENCIL_OP_KEEP,\r\n        gfx.STENCIL_OP_KEEP,\r\n        0\r\n      );\r\n    }\r\n\r\n    let spriteBatch = this._spriteBatchModelPool.add();\r\n    spriteBatch.setNode(this._dummyNode);\r\n    spriteBatch.setEffect(mat.effectInst);\r\n    spriteBatch._viewID = this._screen._view._id;\r\n    spriteBatch.setUserKey(this._curUserKey++);\r\n\r\n    this._app.scene.addModel(spriteBatch);\r\n\r\n    //\r\n    this._curMaterail = material;\r\n    this._curTexture = texture;\r\n    this._curSpriteBatch = spriteBatch;\r\n\r\n    return spriteBatch;\r\n  }\r\n\r\n  addImage(image) {\r\n    let vdata = image.calcVertexData(\r\n      image._rect.x,\r\n      image._rect.y,\r\n      image._rect.w,\r\n      image._rect.h\r\n    );\r\n\r\n    let sprite = image.sprite;\r\n    if (image.sprite === null) {\r\n      sprite = this._app.assets.get('default-sprite');\r\n    }\r\n\r\n    let spriteBatch = this._getSpriteBatchModel(image.material, sprite.texture);\r\n    spriteBatch.addSprite(\r\n      vdata.wposList,\r\n      vdata.uvs,\r\n      vdata.color,\r\n      vdata.indices\r\n    );\r\n  }\r\n\r\n  addText(text) {\r\n    let vdata = text.calcVertexData(\r\n      text._rect.x,\r\n      text._rect.y,\r\n      text._rect.w,\r\n      text._rect.h\r\n    );\r\n\r\n    let fontTexture = (text.font === null) ? text.fontTexture : text.font.texture;\r\n    let spriteBatch = this._getSpriteBatchModel(text.material, fontTexture);\r\n    spriteBatch.addSprite(\r\n      vdata.wposList,\r\n      vdata.uvs,\r\n      vdata.color,\r\n      vdata.indices\r\n    );\r\n  }\r\n\r\n  pushMask(mask) {\r\n    if (this._curStencilLevel + 1 > MAX_STENCIL_LEVEL) {\r\n      console.error(`Stencil level exceeed, we only support ${MAX_STENCIL_LEVEL} level in this device.`);\r\n      return;\r\n    }\r\n    this._curStencilLevel++;\r\n\r\n    let vdata = mask.calcVertexData(\r\n      mask._rect.x,\r\n      mask._rect.y,\r\n      mask._rect.w,\r\n      mask._rect.h\r\n    );\r\n\r\n    // break batch\r\n    this._curSpriteBatch = null;\r\n\r\n    // setup mask material\r\n    let sprite = mask.sprite;\r\n    if (mask.sprite === null) {\r\n      sprite = this._app.assets.get('default-sprite');\r\n    }\r\n\r\n    let mat = this._cloneMaterial(mask.material);\r\n    mat.setProperty('mainTexture', sprite.texture);\r\n    let stencilRef = this._stencilRef();\r\n    let stencilWriteMask = this._stencilWriteMask();\r\n    _setStencil(\r\n      mat,\r\n      true,\r\n      gfx.DS_FUNC_NEVER,\r\n      stencilRef,\r\n      stencilWriteMask,\r\n      gfx.STENCIL_OP_REPLACE,\r\n      gfx.STENCIL_OP_KEEP,\r\n      gfx.STENCIL_OP_KEEP,\r\n      stencilWriteMask\r\n    );\r\n\r\n    // setup mask model\r\n    let spriteBatch = this._spriteBatchModelPool.add();\r\n    spriteBatch.setNode(this._dummyNode);\r\n    spriteBatch.setEffect(mat.effectInst);\r\n    spriteBatch._viewID = this._screen._view._id;\r\n    spriteBatch.setUserKey(this._curUserKey++);\r\n\r\n    spriteBatch.addSprite(\r\n      vdata.wposList,\r\n      vdata.uvs,\r\n      vdata.color,\r\n      vdata.indices\r\n    );\r\n\r\n    this._app.scene.addModel(spriteBatch);\r\n  }\r\n\r\n  popMask(mask) {\r\n    if (this._curStencilLevel - 1 < 0) {\r\n      console.error('popMask being called more than once');\r\n      return;\r\n    }\r\n\r\n    // break batch\r\n    this._curSpriteBatch = null;\r\n\r\n    let vdata = mask.calcVertexData(\r\n      mask._rect.x,\r\n      mask._rect.y,\r\n      mask._rect.w,\r\n      mask._rect.h\r\n    );\r\n\r\n    // setup mask material\r\n    let sprite = mask.sprite;\r\n    if (mask.sprite === null) {\r\n      sprite = this._app.assets.get('default-sprite');\r\n    }\r\n\r\n    let mat = this._cloneMaterial(mask.material);\r\n    mat.setProperty('mainTexture', sprite.texture);\r\n    let stencilWriteMask = this._stencilWriteMask();\r\n    _setStencil(\r\n      mat,\r\n      true,\r\n      gfx.DS_FUNC_NEVER,\r\n      0,\r\n      stencilWriteMask,\r\n      gfx.STENCIL_OP_REPLACE,\r\n      gfx.STENCIL_OP_KEEP,\r\n      gfx.STENCIL_OP_KEEP,\r\n      stencilWriteMask\r\n    );\r\n\r\n    // setup mask model\r\n    let spriteBatch = this._spriteBatchModelPool.add();\r\n    spriteBatch.setNode(this._dummyNode);\r\n    spriteBatch.setEffect(mat.effectInst);\r\n    spriteBatch._viewID = this._screen._view._id;\r\n    spriteBatch.setUserKey(this._curUserKey++);\r\n\r\n    spriteBatch.addSprite(\r\n      vdata.wposList,\r\n      vdata.uvs,\r\n      vdata.color,\r\n      vdata.indices\r\n    );\r\n\r\n    this._app.scene.addModel(spriteBatch);\r\n\r\n    this._curStencilLevel--;\r\n  }\r\n}","import { System } from '../../ecs';\r\nimport { utils } from '../../scene-graph';\r\nimport { vec3, mat4 } from '../../vmath';\r\nimport { RecyclePool, FixedArray } from '../../memop';\r\nimport { intersect } from '../../geom-utils';\r\nimport MouseEvent from '../../events/mouse-event';\r\nimport KeyboardEvent from '../../events/keyboard-event';\r\nimport TouchEvent from '../../events/touch-event';\r\nimport FocusEvent from '../../events/focus-event';\r\nimport ScreenRenderHelper from './screen-render-helper';\r\n\r\nlet _entities = new FixedArray(100);\r\nlet _mouseBtns = ['left', 'middle', 'right'];\r\n\r\nlet _getWidgetAt = (function () {\r\n  let p = vec3.zero();\r\n  let q = vec3.zero();\r\n  let a = vec3.zero();\r\n  let b = vec3.zero();\r\n  let c = vec3.zero();\r\n  let d = vec3.zero();\r\n\r\n  return function (screen, entities, x, y) {\r\n    // TEMP DISABLE:\r\n    // let view = screen._view;\r\n    // let cx = view._rect.x;\r\n    // let cy = view._rect.y;\r\n    // let cw = view._rect.w;\r\n    // let ch = view._rect.h;\r\n\r\n    // // calculate screen pos in far clip plane\r\n    // let wx = (x - cx) * 2.0 / cw - 1.0;\r\n    // let wy = (y - cy) * 2.0 / ch - 1.0;\r\n    // vec3.set(_v3_tmp, wx, wy, 0);\r\n\r\n    // // transform to world\r\n    // vec3.transformMat4(_v3_tmp, _v3_tmp, view._matInvViewProj);\r\n\r\n    vec3.set(p, x, y, 1);\r\n    vec3.set(q, x, y, -1);\r\n\r\n    //\r\n    for (let i = entities.length - 1; i >= 0; --i) {\r\n      let ent = entities.data[i];\r\n      let widget = ent.getComp('Widget');\r\n      widget.getWorldCorners(a, b, c, d);\r\n\r\n      if (intersect.line_quad(p, q, a, b, c, d)) {\r\n        // check if we have mask, and if mask contains the intersect entity\r\n        let parent = ent.parent;\r\n        let parentWidget = parent.getComp('Widget');\r\n        let skip = false;\r\n\r\n        // NOTE: we must test all masks\r\n        while (parentWidget) {\r\n          if (parent.getComp('Mask')) {\r\n            parentWidget.getWorldCorners(a, b, c, d);\r\n            if (intersect.line_quad(p, q, a, b, c, d) === false) {\r\n              skip = true;\r\n            }\r\n          }\r\n\r\n          parent = parent.parent;\r\n          parentWidget = parent.getComp('Widget');\r\n        }\r\n\r\n        if (skip) {\r\n          continue;\r\n        }\r\n\r\n        return ent;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n})();\r\n\r\nexport default class WidgetSystem extends System {\r\n  constructor() {\r\n    super();\r\n\r\n    this._screens = [];\r\n    this._screenRenderHelper = null;\r\n\r\n    this._hoveringEntity = null;\r\n    this._focusedEntity = null;\r\n    this._capturingEntities = [];\r\n    this._mouseEventPool = new RecyclePool(() => {\r\n      return new MouseEvent('unknown');\r\n    }, 8);\r\n    this._keyboardEventPool = new RecyclePool(() => {\r\n      return new KeyboardEvent('unknown');\r\n    }, 8);\r\n    this._touchEventPool = new RecyclePool(() => {\r\n      return new TouchEvent('unknown');\r\n    }, 8);\r\n    this._focusEventPool = new RecyclePool(() => {\r\n      return new FocusEvent('unknown');\r\n    }, 8);\r\n  }\r\n\r\n  get hoveringEntity() {\r\n    return this._hoveringEntity;\r\n  }\r\n\r\n  get focusedEntity() {\r\n    return this._focusedEntity;\r\n  }\r\n\r\n  init() {\r\n    this._screenRenderHelper = new ScreenRenderHelper(this._app);\r\n  }\r\n\r\n  addScreen(comp) {\r\n    this._screens.push(comp);\r\n    this._app.scene.addView(comp._view);\r\n  }\r\n\r\n  removeScreen(comp) {\r\n    let idx = this._screens.indexOf(comp);\r\n    if (idx !== -1) {\r\n      this._screens.splice(idx, 1);\r\n      this._app.scene.removeView(comp._view);\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    this._mouseEventPool.reset();\r\n    this._keyboardEventPool.reset();\r\n    this._touchEventPool.reset();\r\n    this._focusEventPool.reset();\r\n    this._screenRenderHelper.reset();\r\n\r\n    // collect all entities (used in input & layout)\r\n    _entities.reset();\r\n    for (let index = 0; index < this._screens.length; ++index) {\r\n      let screen = this._screens[index];\r\n\r\n      if (!screen.enabled) {\r\n        continue;\r\n      }\r\n\r\n      // skipt nested screen\r\n      let nested = false;\r\n      let parent = screen._entity.parent;\r\n      while (parent) {\r\n        if (parent.getComp('Screen')) {\r\n          nested = true;\r\n          break;\r\n        }\r\n        parent = parent.parent;\r\n      }\r\n      if (nested) {\r\n        continue;\r\n      }\r\n\r\n      _entities.push(screen._entity);\r\n      utils.walkSibling(screen._entity, ent => {\r\n        if (ent.active === true) {\r\n          _entities.push(ent);\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n    // // process inputs\r\n    this._processInputs(_entities);\r\n\r\n    // // process layout\r\n    this._processLayout(_entities);\r\n\r\n    // render screen elements (in the order of hierarchy)\r\n    this._renderScreens();\r\n  }\r\n\r\n  _processInputs(entities) {\r\n    const input = this._app.input;\r\n    let targetEnt = null;\r\n    let originTargetEnt = null;\r\n\r\n    // ==========================\r\n    // handle touches\r\n    // ==========================\r\n\r\n    if (input.hasTouch) {\r\n      for (let i = 0; i < input.touchCount; ++i) {\r\n        let touchInfo = input.getTouchInfo(i);\r\n        originTargetEnt = _getWidgetAt(screen, entities, touchInfo.x, touchInfo.y);\r\n        targetEnt = this._capturingEntities[i] ? this._capturingEntities[i] : originTargetEnt;\r\n\r\n        if (targetEnt === null) {\r\n          continue;\r\n        }\r\n\r\n        let touchEvent = this._touchEventPool.add();\r\n        touchEvent.reset();\r\n        touchEvent.id = touchInfo.id;\r\n        touchEvent.dx = touchInfo.dx;\r\n        touchEvent.dy = touchInfo.dy;\r\n        touchEvent.x = touchInfo.x;\r\n        touchEvent.y = touchInfo.y;\r\n        touchEvent.target = targetEnt;\r\n\r\n        if (touchInfo.phase === 'start') {\r\n          // NOTE: only first element can focus\r\n          if (i === 0) {\r\n            this._focus(targetEnt);\r\n          }\r\n\r\n          touchEvent.name = 'touchstart';\r\n          touchEvent.bubbles = true;\r\n          targetEnt.dispatch(touchEvent);\r\n          this._capturingEntities[i] = targetEnt;\r\n          // NOTE: only first element can hover\r\n          if (i === 0) {\r\n            this._hover(originTargetEnt, true);\r\n          }\r\n        } else if (touchInfo.phase === 'pressing') {\r\n          if (touchInfo.dx !== 0 || touchInfo.dy !== 0) {\r\n            if (i === 0) {\r\n              this._hover(originTargetEnt, true);\r\n            }\r\n\r\n            touchEvent.name = 'touchmove';\r\n            touchEvent.bubbles = true;\r\n            targetEnt.dispatch(touchEvent);\r\n          }\r\n        } else if (touchInfo.phase === 'end') {\r\n          if (i === 0) {\r\n            this._hover(null, true);\r\n          }\r\n\r\n          touchEvent.name = 'touchend';\r\n          touchEvent.bubbles = true;\r\n          targetEnt.dispatch(touchEvent);\r\n          this._capturingEntities[i] = null;\r\n        } else if (touchInfo.phase === 'cancel') {\r\n          if (i === 0) {\r\n            this._hover(null, true);\r\n          }\r\n\r\n          touchEvent.name = 'touchcancel';\r\n          touchEvent.bubbles = true;\r\n          targetEnt.dispatch(touchEvent);\r\n          this._capturingEntities[i] = null;\r\n        }\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // ==========================\r\n    // handle mouse input\r\n    // ==========================\r\n\r\n    let mousedown = input.hasMouseDown;\r\n    let mouseup = input.hasMouseUp;\r\n    let mousemoved = input.mouseDeltaX !== 0 || input.mouseDeltaY !== 0;\r\n\r\n    if (\r\n      mousemoved || mousedown || mouseup\r\n    ) {\r\n      originTargetEnt = _getWidgetAt(screen, entities, input.mouseX, input.mouseY);\r\n      targetEnt = this._capturingEntities[0] ? this._capturingEntities[0] : originTargetEnt;\r\n    }\r\n\r\n    // ==========================\r\n    // handle focus\r\n    // ==========================\r\n\r\n    if (mousedown) {\r\n      this._focus(targetEnt);\r\n      this._capturingEntities[0] = targetEnt;\r\n    }\r\n\r\n    if (targetEnt) {\r\n      // emit mousedown\r\n      if (mousedown) {\r\n        for (let i = 0; i < _mouseBtns.length; ++i) {\r\n          let btn = _mouseBtns[i];\r\n          if (input.mousedown(btn)) {\r\n            let mouseEvent = this._mouseEventPool.add();\r\n            mouseEvent.reset();\r\n            mouseEvent.name = 'mousedown';\r\n            mouseEvent.bubbles = true;\r\n            mouseEvent.dx = input.mouseDeltaX;\r\n            mouseEvent.dy = input.mouseDeltaY;\r\n            mouseEvent.mouseX = input.mouseX;\r\n            mouseEvent.mouseY = input.mouseY;\r\n            mouseEvent.target = targetEnt;\r\n            mouseEvent.button = btn;\r\n            mouseEvent.buttons = input.mouseButtons;\r\n\r\n            targetEnt.dispatch(mouseEvent);\r\n          }\r\n        }\r\n      }\r\n\r\n      // emit mouseup\r\n      if (mouseup) {\r\n        for (let i = 0; i < _mouseBtns.length; ++i) {\r\n          let btn = _mouseBtns[i];\r\n          if (input.mouseup(btn)) {\r\n            let mouseEvent = this._mouseEventPool.add();\r\n            mouseEvent.reset();\r\n            mouseEvent.name = 'mouseup';\r\n            mouseEvent.bubbles = true;\r\n            mouseEvent.dx = input.mouseDeltaX;\r\n            mouseEvent.dy = input.mouseDeltaY;\r\n            mouseEvent.mouseX = input.mouseX;\r\n            mouseEvent.mouseY = input.mouseY;\r\n            mouseEvent.target = targetEnt;\r\n            mouseEvent.button = btn;\r\n            mouseEvent.buttons = input.mouseButtons;\r\n\r\n            targetEnt.dispatch(mouseEvent);\r\n          }\r\n        }\r\n        this._capturingEntities[0] = null;\r\n      }\r\n    }\r\n\r\n    if (mousemoved) {\r\n      this._hover(originTargetEnt, false);\r\n\r\n      // emit mousemove\r\n      if (targetEnt) {\r\n        let mouseEvent = this._mouseEventPool.add();\r\n        mouseEvent.reset();\r\n        mouseEvent.name = 'mousemove';\r\n        mouseEvent.bubbles = true;\r\n        mouseEvent.dx = input.mouseDeltaX;\r\n        mouseEvent.dy = input.mouseDeltaY;\r\n        mouseEvent.mouseX = input.mouseX;\r\n        mouseEvent.mouseY = input.mouseY;\r\n        mouseEvent.target = targetEnt;\r\n        mouseEvent.button = 0;\r\n        mouseEvent.buttons = input.mouseButtons;\r\n\r\n        targetEnt.dispatch(mouseEvent);\r\n      }\r\n    }\r\n\r\n    // ==========================\r\n    // handle keyboard input\r\n    // ==========================\r\n\r\n    if (this._focusedEntity) {\r\n      input._keys.forEach(keyInfo => {\r\n        if (keyInfo.state === 'down') {\r\n          let keyboardEvent = this._keyboardEventPool.add();\r\n          keyboardEvent.reset();\r\n          keyboardEvent.name = 'keydown';\r\n          keyboardEvent.bubbles = true;\r\n          keyboardEvent.key = keyInfo.key;\r\n          keyboardEvent.target = this._focusedEntity;\r\n\r\n          this._focusedEntity.dispatch(keyboardEvent);\r\n        }\r\n\r\n        if (keyInfo.state === 'up') {\r\n          let keyboardEvent = this._keyboardEventPool.add();\r\n          keyboardEvent.reset();\r\n          keyboardEvent.name = 'keyup';\r\n          keyboardEvent.bubbles = true;\r\n          keyboardEvent.key = keyInfo.key;\r\n          keyboardEvent.target = this._focusedEntity;\r\n\r\n          this._focusedEntity.dispatch(keyboardEvent);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  _focus(ent) {\r\n    // get focusable entity\r\n    let focusableEnt = ent;\r\n    if (focusableEnt && focusableEnt._destroyed) {\r\n      focusableEnt = null;\r\n    }\r\n    let focusableWidget = focusableEnt ? focusableEnt.getComp('Widget') : null;\r\n    while (focusableWidget) {\r\n      if (focusableWidget.focusable) {\r\n        break;\r\n      }\r\n\r\n      focusableEnt = focusableEnt.parent;\r\n      focusableWidget = focusableEnt.getComp('Widget');\r\n    }\r\n\r\n    if (this._focusedEntity === focusableEnt) {\r\n      return;\r\n    }\r\n\r\n    let lastFocused = this._focusedEntity;\r\n    this._focusedEntity = focusableEnt;\r\n\r\n    // blur\r\n    if (lastFocused) {\r\n      let focusEvent = this._focusEventPool.add();\r\n      focusEvent.reset();\r\n      focusEvent.name = 'blur';\r\n      focusEvent.bubbles = false;\r\n      focusEvent.target = lastFocused;\r\n      focusEvent.relatedTarget = focusableEnt;\r\n\r\n      lastFocused.dispatch(focusEvent);\r\n    }\r\n\r\n    // focus\r\n    if (focusableEnt) {\r\n      let focusEvent = this._focusEventPool.add();\r\n      focusEvent.reset();\r\n      focusEvent.name = 'focus';\r\n      focusEvent.bubbles = false;\r\n      focusEvent.target = focusableEnt;\r\n      focusEvent.relatedTarget = lastFocused;\r\n\r\n      focusableEnt.dispatch(focusEvent);\r\n    }\r\n  }\r\n\r\n  _hover(targetEnt, isTouch) {\r\n    if (this._hoveringEntity === targetEnt) {\r\n      return;\r\n    }\r\n\r\n    const input = this._app.input;\r\n    let lastHovering = this._hoveringEntity;\r\n    this._hoveringEntity = targetEnt;\r\n\r\n    let leaves = [];\r\n    let enters = [];\r\n\r\n    // get leaves\r\n    let ent = lastHovering;\r\n    if (ent && ent._destroyed) {\r\n      ent = null;\r\n    }\r\n    let widget = ent ? ent.getComp('Widget') : null;\r\n    while (widget) {\r\n      leaves.push(ent);\r\n      ent = ent.parent;\r\n      widget = ent.getComp('Widget');\r\n    }\r\n\r\n    // get enters\r\n    ent = targetEnt;\r\n    widget = ent ? ent.getComp('Widget') : null;\r\n    while (widget) {\r\n      enters.push(ent);\r\n      ent = ent.parent;\r\n      widget = ent.getComp('Widget');\r\n    }\r\n\r\n    let lcnt = leaves.length;\r\n    let ecnt = enters.length;\r\n    let stop = false;\r\n\r\n    for (let i = 0; i < leaves.length; ++i) {\r\n      let leave = leaves[i];\r\n\r\n      for (let j = 0; j < enters.length; ++j) {\r\n        let enter = enters[i];\r\n        if (enter === leave) {\r\n          lcnt = i;\r\n          ecnt = j;\r\n          stop = true;\r\n        }\r\n      }\r\n\r\n      if (stop) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!isTouch) {\r\n      // emit mouseleave\r\n      for (let i = 0; i < lcnt; ++i) {\r\n        let ent = leaves[i];\r\n        let mouseEvent = this._mouseEventPool.add();\r\n        mouseEvent.reset();\r\n        mouseEvent.name = 'mouseleave';\r\n        mouseEvent.bubbles = false;\r\n        mouseEvent.dx = input.mouseDeltaX;\r\n        mouseEvent.dy = input.mouseDeltaY;\r\n        mouseEvent.mouseX = input.mouseX;\r\n        mouseEvent.mouseY = input.mouseY;\r\n        mouseEvent.target = ent;\r\n        mouseEvent.button = 0;\r\n        mouseEvent.buttons = input.mouseButtons;\r\n\r\n        ent.emit('mouseleave', mouseEvent);\r\n      }\r\n\r\n      // emit mouseenter\r\n      for (let i = ecnt - 1; i >= 0; --i) {\r\n        let ent = enters[i];\r\n        let mouseEvent = this._mouseEventPool.add();\r\n        mouseEvent.reset();\r\n        mouseEvent.name = 'mouseenter';\r\n        mouseEvent.bubbles = false;\r\n        mouseEvent.dx = input.mouseDeltaX;\r\n        mouseEvent.dy = input.mouseDeltaY;\r\n        mouseEvent.mouseX = input.mouseX;\r\n        mouseEvent.mouseY = input.mouseY;\r\n        mouseEvent.target = ent;\r\n        mouseEvent.button = 0;\r\n        mouseEvent.buttons = input.mouseButtons;\r\n\r\n        ent.emit('mouseenter', mouseEvent);\r\n      }\r\n    } else {\r\n      let touchInfo = input.getTouchInfo(0);\r\n\r\n      // emit touchleave\r\n      for (let i = 0; i < lcnt; ++i) {\r\n        let ent = leaves[i];\r\n        let touchEvent = this._touchEventPool.add();\r\n        touchEvent.reset();\r\n        touchEvent.name = 'touchleave';\r\n        touchEvent.bubbles = false;\r\n        touchEvent.id = touchInfo.id;\r\n        touchEvent.dx = touchInfo.dx;\r\n        touchEvent.dy = touchInfo.dy;\r\n        touchEvent.x = touchInfo.x;\r\n        touchEvent.y = touchInfo.y;\r\n        touchEvent.target = ent;\r\n\r\n        ent.emit('touchleave', touchEvent);\r\n      }\r\n\r\n      // emit touchenter\r\n      for (let i = ecnt - 1; i >= 0; --i) {\r\n        let ent = enters[i];\r\n        let touchEvent = this._touchEventPool.add();\r\n        touchEvent.reset();\r\n        touchEvent.name = 'touchenter';\r\n        touchEvent.bubbles = false;\r\n        touchEvent.id = touchInfo.id;\r\n        touchEvent.dx = touchInfo.dx;\r\n        touchEvent.dy = touchInfo.dy;\r\n        touchEvent.x = touchInfo.x;\r\n        touchEvent.y = touchInfo.y;\r\n        touchEvent.target = ent;\r\n\r\n        ent.emit('touchenter', touchEvent);\r\n      }\r\n    }\r\n  }\r\n\r\n  _processLayout(entities) {\r\n    for (let i = 0; i < entities.length; ++i) {\r\n      let entity = entities.data[i];\r\n      let widget = entity.getComp('Widget');\r\n      let parent = entity.parent;\r\n      let parentWidget = parent.getComp('Widget');\r\n      let parentX = 0, parentY = 0;\r\n      let parentWidth = 0, parentHeight = 0;\r\n\r\n      // we are at root\r\n      if (parentWidget === null) {\r\n        // TODO:\r\n        // let screen = parent.getComp('Screen');\r\n        // width = screen.width;\r\n        // height = screen.height;\r\n\r\n        parentX = 0.0;\r\n        parentY = 0.0;\r\n        // the widget is the screen if parent widget is null\r\n        parentWidth = this._app._canvas.width / widget.scaleFactor;\r\n        parentHeight = this._app._canvas.height / widget.scaleFactor;\r\n        widget.setOffset(0, 0);\r\n        widget.setAnchors(0, 0, 0, 0);\r\n        widget.setSize(parentWidth, parentHeight);\r\n        widget.setPivot(0, 0);\r\n      } else {\r\n        parentX = parentWidget._rect.x;\r\n        parentY = parentWidget._rect.y;\r\n        parentWidth = parentWidget._rect.w;\r\n        parentHeight = parentWidget._rect.h;\r\n      }\r\n\r\n      //\r\n      widget.calculate(parentX, parentY, parentWidth, parentHeight);\r\n    }\r\n  }\r\n\r\n  _renderScreens() {\r\n    for (let index = 0; index < this._screens.length; ++index) {\r\n      let screen = this._screens[index];\r\n\r\n      if (!screen.enabled) {\r\n        continue;\r\n      }\r\n\r\n      // TODO: we don't need to do this all the time. Just do it when canvas resized.\r\n      // reset view matrix\r\n      let view = screen._view;\r\n      let canvasWidth = this._app._canvas.width;\r\n      let canvasHeight = this._app._canvas.height;\r\n      mat4.ortho(view._matProj, 0, canvasWidth, 0, canvasHeight, -100, 100);\r\n      mat4.copy(view._matViewProj, view._matProj);\r\n      mat4.invert(view._matInvViewProj, view._matProj);\r\n      view._rect.x = view._rect.y = 0;\r\n      view._rect.w = canvasWidth;\r\n      view._rect.h = canvasHeight;\r\n\r\n      // reset screen states in renderer helper\r\n      this._screenRenderHelper.resetScreen(screen);\r\n\r\n      // render screen elements\r\n      utils.walk2(screen._entity, entity => {\r\n        let mask = entity.getComp('Mask');\r\n        if (mask && mask.enabled) {\r\n          this._screenRenderHelper.pushMask(mask);\r\n        }\r\n\r\n        let image = entity.getComp('Image');\r\n        if (image && image.enabled) {\r\n          this._screenRenderHelper.addImage(image);\r\n        }\r\n\r\n        let text = entity.getComp('Text');\r\n        if (text && text.enabled) {\r\n          this._screenRenderHelper.addText(text);\r\n        }\r\n\r\n      }, entity => {\r\n        let mask = entity.getComp('Mask');\r\n        if (mask && mask.enabled) {\r\n          this._screenRenderHelper.popMask(mask);\r\n        }\r\n      });\r\n    }\r\n  }\r\n}","import { System } from '../../ecs';\r\nimport { FixedArray } from '../../memop';\r\n\r\nexport default class ParticleSystemManager extends System {\r\n  constructor() {\r\n    super();\r\n\r\n    this._particleSystems = new FixedArray(10);\r\n  }\r\n\r\n  add(comp) {\r\n    this._particleSystems.push(comp);\r\n  }\r\n\r\n  remove(comp) {\r\n    for (let i = 0; i < this._particleSystems.length; ++i) {\r\n      let c = this._particleSystems.data[i];\r\n      if (c === comp) {\r\n        this._particleSystems.fastRemove(i);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  tick() {\r\n    for (let i = 0; i < this._particleSystems.length; ++i) {\r\n      let particleSystem = this._particleSystems.data[i];\r\n      particleSystem.tick(this._app.deltaTime);\r\n    }\r\n  }\r\n}","function _normalize (url) {\r\n  return url\r\n  .replace(/\\\\/g, '/')\r\n  .replace(/[\\/]+/g, '/')\r\n  .replace(/\\/\\?/g, '?')\r\n  .replace(/\\/\\#/g, '#')\r\n  .replace(/\\:\\//g, '://');\r\n}\r\n\r\nexport default {\r\n  /**\r\n   * @method normalize\r\n   * @param {string} url\r\n   */\r\n  normalize(url) {\r\n    return _normalize(url);\r\n  },\r\n\r\n  /**\r\n   * @method join\r\n   */\r\n  join() {\r\n    let joined = [].slice.call(arguments, 0).join('/');\r\n    return _normalize(joined);\r\n  },\r\n};","import gfx from './gfx';\r\nimport renderer from './renderer';\r\nimport Input from './input';\r\nimport { App as AppBase } from './ecs';\r\nimport { EventEmitter } from './event-sys';\r\nimport { utils as sceneUtils } from './scene-graph';\r\n\r\nimport registry from './misc/registry';\r\nimport AssetMng from './assets/asset-mng';\r\nimport Debugger from './debugger';\r\n\r\n// TODO: chunks and templates should move to renderer\r\nimport initBuiltins from './builtin/init';\r\nimport types from './builtin/types';\r\n\r\n// loader\r\nimport meshLoader from './loaders/mesh-loader';\r\nimport materialLoader from './loaders/material-loader';\r\nimport textureLoader from './loaders/texture-loader';\r\nimport prefabLoader from './loaders/prefab-loader';\r\nimport gltfLoader from './loaders/gltf-loader';\r\nimport animationLoader from './loaders/animation-loader';\r\nimport audioLoader from './loaders/audio-loader';\r\nimport bmfontLoader from './loaders/bmfont-loader';\r\nimport otfontLoader from './loaders/otfont-loader';\r\nimport effectLoader from './loaders/effect-loader';\r\nimport programLoader from './loaders/program-loader';\r\n\r\n// builtin components & systems\r\nimport ScriptComponent from './framework/script-component';\r\nimport CameraComponent from './framework/camera-component';\r\nimport LightComponent from './framework/light-component';\r\nimport ModelComponent from './framework/model-component';\r\nimport SkinningModelComponent from './framework/skinning-model-component';\r\nimport AnimationComponent from './framework/animation-component';\r\nimport AudioSourceComponent from './framework/audio-source-component';\r\nimport ColliderComponent from './framework/physics/collider-component';\r\nimport SkyboxComponent from './framework/skybox-component';\r\nimport ParticleSystemComponent from './framework/particle/particle-system-component';\r\n\r\nimport ScreenComponent from './framework/ui/screen-component';\r\nimport ScreenScalerComponent from './framework/ui/screen-scaler-component';\r\nimport WidgetComponent from './framework/ui/widget-component';\r\nimport ImageComponent from './framework/ui/image-component';\r\nimport TextComponent from './framework/ui/text-component';\r\nimport MaskComponent from './framework/ui/mask-component';\r\nimport UIElementComponent from './framework/ui/ui-element-component';\r\nimport UIElementSystem from './framework/ui/ui-element-system';\r\nimport ButtonComponent from './framework/ui/button-component';\r\nimport ToggleComponent from './framework/ui/toggle-component';\r\nimport ToggleGroupComponent from './framework/ui/toggle-group-component';\r\nimport SliderComponent from './framework/ui/slider-component';\r\nimport EditBoxComponent from './framework/ui/edit-box-component';\r\nimport ScrollBarComponent from './framework/ui/scroll-bar-component';\r\nimport ScrollViewComponent from './framework/ui/scroll-view-component';\r\nimport GridLayoutComponent from './framework/ui/grid-layout-component';\r\n\r\nimport ScriptSystem from './framework/script-system';\r\nimport SkinningModelSystem from './framework/skinning-model-system';\r\nimport AnimationSystem from './framework/animation-system';\r\nimport AudioSystem from './framework/audio-system';\r\nimport PhysicsSystem from './framework/physics/physics-system';\r\nimport WidgetSystem from './framework/ui/widget-system';\r\nimport ParticleSystemManager from './framework/particle/particle-system-manager';\r\n\r\n// other classes\r\nimport { Keyframe, AnimationCurve } from './geom-utils/curve';\r\nimport path from './misc/path';\r\n\r\n// register builtin asset loader\r\nregistry.registerLoader('mesh', meshLoader);\r\nregistry.registerLoader('material', materialLoader);\r\nregistry.registerLoader('texture', textureLoader);\r\nregistry.registerLoader('prefab', prefabLoader);\r\nregistry.registerLoader('gltf', gltfLoader);\r\nregistry.registerLoader('animation', animationLoader);\r\nregistry.registerLoader('audio', audioLoader);\r\nregistry.registerLoader('bmfont', bmfontLoader);\r\nregistry.registerLoader('otfont', otfontLoader);\r\nregistry.registerLoader('effect', effectLoader);\r\nregistry.registerLoader('program', programLoader);\r\n\r\n// register builtin types\r\nfor (let name in types) {\r\n  registry.registerType(name, types[name]);\r\n}\r\n\r\n// register builtin components\r\nregistry.registerClass('Script', ScriptComponent);\r\nregistry.registerClass('Camera', CameraComponent);\r\nregistry.registerClass('Light', LightComponent);\r\nregistry.registerClass('Model', ModelComponent);\r\nregistry.registerClass('SkinningModel', SkinningModelComponent);\r\nregistry.registerClass('Animation', AnimationComponent);\r\nregistry.registerClass('AudioSource', AudioSourceComponent);\r\nregistry.registerClass('Collider', ColliderComponent);\r\nregistry.registerClass('Skybox', SkyboxComponent);\r\nregistry.registerClass('Screen', ScreenComponent);\r\nregistry.registerClass('ScreenScaler', ScreenScalerComponent);\r\nregistry.registerClass('Widget', WidgetComponent);\r\nregistry.registerClass('Mask', MaskComponent);\r\nregistry.registerClass('Image', ImageComponent);\r\nregistry.registerClass('Text', TextComponent);\r\nregistry.registerClass('UIElement', UIElementComponent);\r\nregistry.registerClass('Button', ButtonComponent);\r\nregistry.registerClass('Toggle', ToggleComponent);\r\nregistry.registerClass('ToggleGroup', ToggleGroupComponent);\r\nregistry.registerClass('Slider', SliderComponent);\r\nregistry.registerClass('EditBox', EditBoxComponent);\r\nregistry.registerClass('ScrollBar', ScrollBarComponent);\r\nregistry.registerClass('ScrollView', ScrollViewComponent);\r\nregistry.registerClass('GridLayout', GridLayoutComponent);\r\nregistry.registerClass('ParticleSystem', ParticleSystemComponent);\r\n\r\n// register builtin systems\r\nregistry.registerSystem('script', ScriptSystem, 'Script', 0);\r\nregistry.registerSystem('skinning-model', SkinningModelSystem, 'SkinningModel', 100);\r\nregistry.registerSystem('animation', AnimationSystem, 'Animation', 200);\r\nregistry.registerSystem('audio', AudioSystem, 'AudioSource', 200);\r\nregistry.registerSystem('physics', PhysicsSystem, 'Collider', 200);\r\nregistry.registerSystem('widget', WidgetSystem, 'Widget', 100);\r\nregistry.registerSystem('ui-element', UIElementSystem, 'UIElement', 101);\r\nregistry.registerSystem('particle-system', ParticleSystemManager, 'ParticleSystem', 100);\r\n\r\n// register other classes\r\nregistry.registerClass('Keyframe', Keyframe);\r\nregistry.registerClass('AnimationCurve', AnimationCurve);\r\n\r\nfunction _makeTick(app_) {\r\n  const app = app_;\r\n\r\n  return function (timestamp) {\r\n    app._tickID = requestAnimationFrame(app._tick);\r\n\r\n    // update timer\r\n    if (timestamp === undefined) {\r\n      timestamp = 0;\r\n    }\r\n    app.deltaTime = (timestamp - app._lasttime) / 1000;\r\n    app.totalTime = timestamp / 1000;\r\n    app._lasttime = timestamp;\r\n\r\n    // tick debugger\r\n    app._debugger.tick();\r\n\r\n    // emit tick event\r\n    app.emit('tick');\r\n\r\n    // tick systems\r\n    app.tick();\r\n\r\n    // commit debugger commands\r\n    app._debugger.postTick();\r\n\r\n    // render the scene\r\n    app._forward.render(app.scene);\r\n\r\n    // TODO\r\n    // app.lstats.tick();\r\n\r\n    // reset internal states\r\n    app._input.reset();\r\n    app._scene.reset();\r\n  };\r\n}\r\n\r\nexport default class App extends AppBase {\r\n  constructor(canvas, opts = {}) {\r\n    super({\r\n      poolSize: opts.poolSize || 100,\r\n    });\r\n    this.__initEventEmitter();\r\n\r\n    // sub-modules (canvas)\r\n    this._canvas = canvas;\r\n    this._input = new Input(canvas, {\r\n      lock: false,\r\n      invertY: true,\r\n    });\r\n    this._device = new gfx.Device(canvas, opts);\r\n    let builtins = initBuiltins(this._device);\r\n\r\n    // sub-modules (renderer)\r\n    renderer.addStage('opaque');\r\n    renderer.addStage('transparent');\r\n    renderer.addStage('ui');\r\n    renderer.addStage('shadowcast');\r\n\r\n    this._forward = new renderer.ForwardRenderer(this._device, {\r\n      defaultTexture: builtins['default-texture']._texture,\r\n      defaultTextureCube: builtins['default-texture-cube']._texture,\r\n    });\r\n    this._scene = new renderer.Scene();\r\n\r\n    // sub-modules (engine)\r\n    this._assetMng = new AssetMng(this);\r\n    this._debugger = new Debugger(this);\r\n\r\n    // register builtin assets\r\n    for (let name in builtins) {\r\n      let asset = builtins[name];\r\n      this._assetMng.add(asset._uuid, asset);\r\n    }\r\n\r\n    // register extensions\r\n    registry._init(this);\r\n\r\n    // sort systems\r\n    this._sortSystems();\r\n\r\n    // life callback\r\n    this._tick = _makeTick(this);\r\n\r\n    // public\r\n    this.deltaTime = 0;\r\n    this.totalTime = 0;\r\n\r\n    // internal\r\n    this._tickID = null;\r\n    this._lasttime = 0;\r\n    this._activeCamera = null;\r\n\r\n    window.addEventListener('resize', () => {\r\n      this.resize();\r\n    });\r\n  }\r\n\r\n  get device() {\r\n    return this._device;\r\n  }\r\n\r\n  get scene() {\r\n    return this._scene;\r\n  }\r\n\r\n  get input() {\r\n    return this._input;\r\n  }\r\n\r\n  get assets() {\r\n    return this._assetMng;\r\n  }\r\n\r\n  get debugger() {\r\n    return this._debugger;\r\n  }\r\n\r\n  run() {\r\n    if (!this._activeLevel) {\r\n      console.warn('There is no level to run, please load it first');\r\n      return;\r\n    }\r\n\r\n    this._tickID = requestAnimationFrame(this._tick);\r\n  }\r\n\r\n  resize() {\r\n    if (!this._canvas) {\r\n      return;\r\n    }\r\n\r\n    let bcr = this._canvas.parentElement.getBoundingClientRect();\r\n    this._canvas.width = bcr.width;\r\n    this._canvas.height = bcr.height;\r\n\r\n    this._input.resize();\r\n  }\r\n\r\n  destroy() {\r\n    this._canvas = null;\r\n    this._input.destroy();\r\n    this._activeLevel.destroy();\r\n    this._activeLevel = null;\r\n    if (this._tickID) {\r\n      cancelAnimationFrame(this._tickID);\r\n    }\r\n  }\r\n\r\n  find(path, refNode) {\r\n    if (!path) {\r\n      return null;\r\n    }\r\n\r\n    refNode = refNode || this._activeLevel;\r\n    return sceneUtils.find(refNode, path);\r\n  }\r\n\r\n  loadGameConfig(baseUrl, gameConfig) {\r\n    const assetInfos = gameConfig.assets;\r\n    const scenes = gameConfig.scenes;\r\n    // todo loadEntryScene\r\n    const entryName = gameConfig.entry;\r\n\r\n    for (let uuid in assetInfos) {\r\n      let info = assetInfos[uuid];\r\n      for (let item in info.urls) {\r\n        info.urls[item] = path.join(baseUrl, info.urls[item]);\r\n      }\r\n\r\n      this.assets.registerAsset(uuid, info);\r\n    }\r\n\r\n    for (let sceneName in scenes) {\r\n      this.assets.registerLevel(sceneName, path.join(baseUrl, scenes[sceneName]));\r\n    }\r\n  }\r\n\r\n}\r\nEventEmitter.mixin(App);","import App from './lib/app';\r\n\r\n// misc\r\nimport resl from './lib/misc/resl';\r\nimport path from './lib/misc/path';\r\nimport async from './lib/misc/async';\r\nimport utils from './lib/misc/utils';\r\nimport registry from './lib/misc/registry';\r\n\r\n// components\r\nimport ScriptComponent from './lib/framework/script-component';\r\nimport CameraComponent from './lib/framework/camera-component';\r\nimport LightComponent from './lib/framework/light-component';\r\nimport ModelComponent from './lib/framework/model-component';\r\nimport SkinningModelComponent from './lib/framework/skinning-model-component';\r\nimport AnimationComponent from './lib/framework/animation-component';\r\nimport AudioSourceComponent from './lib/framework/audio-source-component';\r\nimport SkyboxComponent from './lib/framework/skybox-component';\r\nimport ParticleSystemComponent from './lib/framework/particle/particle-system-component';\r\n\r\n// ui-widget components\r\nimport ScreenComponent from './lib/framework/ui/screen-component';\r\nimport ScreenScalerComponent from './lib/framework/ui/screen-scaler-component';\r\nimport WidgetComponent from './lib/framework/ui/widget-component';\r\nimport ImageComponent from './lib/framework/ui/image-component';\r\nimport TextComponent from './lib/framework/ui/text-component';\r\nimport MaskComponent from './lib/framework/ui/mask-component';\r\nimport UIElementComponent from './lib/framework/ui/ui-element-component';\r\nimport ButtonComponent from './lib/framework/ui/button-component';\r\nimport ToggleComponent from './lib/framework/ui/toggle-component';\r\nimport ToggleGroupComponent from './lib/framework/ui/toggle-group-component';\r\nimport SliderComponent from './lib/framework/ui/slider-component';\r\nimport EditBoxComponent from './lib/framework/ui/edit-box-component';\r\nimport ScrollBarComponent from './lib/framework/ui/scroll-bar-component';\r\nimport BoundComponent from './lib/framework/ui/bound-component';\r\nimport ScrollViewComponent from './lib/framework/ui/scroll-view-component';\r\nimport GridLayoutComponent from './lib/framework/ui/grid-layout-component';\r\n\r\n// assets\r\nimport Asset from './lib/assets/asset';\r\nimport Mesh from './lib/assets/mesh';\r\nimport Joints from './lib/assets/joints';\r\nimport Material from './lib/assets/material';\r\nimport Prefab from './lib/assets/prefab';\r\nimport AnimationClip from './lib/assets/animation-clip';\r\nimport AudioClip from './lib/assets/audio-clip';\r\nimport Gltf from './lib/assets/gltf';\r\nimport Texture from './lib/assets/texture';\r\nimport Texture2D from './lib/assets/texture-2d';\r\nimport TextureCube from './lib/assets/texture-cube';\r\nimport Sprite from './lib/assets/sprite';\r\n\r\n// deps\r\nimport { Node } from './lib/scene-graph';\r\nimport { Component, System, Level } from './lib/ecs';\r\nimport * as math from './lib/vmath';\r\nimport * as geometry from './lib/geom-utils';\r\nimport * as primitives from './lib/primitives';\r\nimport renderer from './lib/renderer';\r\nimport gfx from './lib/gfx';\r\nimport * as memop from './lib/memop';\r\nimport input from './lib/input';\r\nimport * as physics from './lib/framework/physics';\r\n\r\nexport default {\r\n  // registry\r\n  registerLoader: registry.registerLoader,\r\n  registerClass: registry.registerClass,\r\n  registerSystem: registry.registerSystem,\r\n\r\n  // ecs.js\r\n  Node,\r\n\r\n  // assets\r\n  Asset,\r\n  Mesh,\r\n  Joints,\r\n  Material,\r\n  Prefab,\r\n  AnimationClip,\r\n  AudioClip,\r\n  Gltf,\r\n  Texture,\r\n  Texture2D,\r\n  TextureCube,\r\n  Sprite,\r\n\r\n  // framework\r\n  App,\r\n  Level,\r\n  System,\r\n  Component,\r\n\r\n  // components\r\n  ScriptComponent,\r\n  CameraComponent,\r\n  LightComponent,\r\n  ModelComponent,\r\n  SkinningModelComponent,\r\n  AnimationComponent,\r\n  AudioSourceComponent,\r\n  SkyboxComponent,\r\n  ParticleSystemComponent,\r\n\r\n  // ui-widget components\r\n  ScreenComponent,\r\n  ScreenScalerComponent,\r\n  WidgetComponent,\r\n  ImageComponent,\r\n  TextComponent,\r\n  MaskComponent,\r\n  UIElementComponent,\r\n  ButtonComponent,\r\n  ToggleComponent,\r\n  ToggleGroupComponent,\r\n  SliderComponent,\r\n  EditBoxComponent,\r\n  ScrollBarComponent,\r\n  BoundComponent,\r\n  ScrollViewComponent,\r\n  GridLayoutComponent,\r\n\r\n  // modules\r\n  math,\r\n  geometry,\r\n  memop,\r\n  primitives,\r\n  renderer,\r\n  gfx,\r\n\r\n  // misc\r\n  utils,\r\n  resl,\r\n  path,\r\n  input,\r\n  physics,\r\n  async,\r\n};"],"names":["const","let","i","len","el","this","prototypeAccessors","info","location","super","GL_FLOAT","_genID","isPow2","nextPow2","s","u","w","denom","distance","dist","enums","_m4_tmp","log10","def","_m3_tmp","drawItem","view","index","light","item","ia","j","idx","arguments","sys","Texture","Texture2D","comp","sceneUtils","_createTable","utils","dx","dy","touch0","temp1","temp2","y","x","temp3","r","normals","_forward","_v3_tmp","_v3_tmp2","sphere","k","_opts","_updateOpts","TextureCube","Effect","primitives.box","primitives.sphere","primitives.cylinder","primitives.plane","primitives.capsule","jointFrames","joint","a","b","gltfNode","node","createMesh","acc","cnt","tasks","l","ii","parse","line","equals","log2","State","Font","HintingTrueType","inflate","ShelfPack","model","t0","require","CannonWorld","CANNON","fixedTimeStep","maxSubSteps","BuiltInWorld","box","from","to","ColorOverLifetimeModule","emitNum","utils.lerp","_reallocVertexData","utils.clamp","utils.clamp01","mathUtils.clamp01","sizeDelta","realMove","currentPos","hWidget","min","max","mathUtils.clamp","scrollAnchor","btn","mouseEvent","keyboardEvent","focusEvent","ent","touchEvent","App","path","AppBase","BoundComponent","input"],"mappings":"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AAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;EAC7E,IAAM,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;EAC7E;IACE,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG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ACtD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG;IACpD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG;IACpD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;;EAEvD,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAClC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;;;EAGlC,IAAM,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;;EAElF,IAAM,CAAC,GAAG,EAAE;IACV,OAAS,IAAI,CAAC;GACb;EACH,GAAK,GAAG,GAAG,GAAG,GAAG,CAAC;;EAElB,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,GAAG,CAAC;;EAEtD,OAAS,GAAG,CAAC;EACZ;;;;;;;;;AASH,KAAS,4BAAQ,GAAG,EAAE,CAAC,EAAE;EACvB,IAAM,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG;IACtD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG;IACpD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG;IACpD,GAAK,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;;EAEvD,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC5G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;EAC7G,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG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EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;;EAEtD,EAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;EACjD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;;EAEtD,EAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;EACjD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,GAAK,CAAC,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;EACtD,OAAS,GAAG,CAAC;EACZ;;;;;AAKH,KAAS,oBAAI,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE;EACtB,OAAS,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EACjC;;;;;;;;;;AAUH,KAAS,gCAAU,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE;EAC5B,IAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7B,GAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IACpB,GAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IACpB,GAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;;EAEvB,IAAM,CAAC,KAAK,GAAG,EAAE;IACf,GAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACtD,GAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACtD,GAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACtD,GAAK,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;GACrD,MAAM;IACP,GAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;IACrD,GAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;IACrD,GAAK,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;;IAErD,GAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;IAC7D,GAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;IAC7D,GAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;;IAE7D,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAChD,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAChD,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAChD,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAA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GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACxE,GAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACxE,GAAK,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;;;EAGxE,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,CAAC;EAC9C,GAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAA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,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC1E,IAAM,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CA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C;;EAE/C,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EACnF,IAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;;EAE/C,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EACnF,IAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;;EAE/C,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EACnF,IAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;;EAE/C,IAAM,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;EACnF,IAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,C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AAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,OAAO;IACX,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,SAAS;IACb,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,EAAE,EAAE,IAAI;IACR,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,YAAY;IACjB,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;IACT,GAAG,EAAE,IAAI;CACZ,CAAC;;;;;;;;;;;;;;AAcFA,IAAM,mBAAmB,GAAG;IACxB,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,CAAC,EAAE,CAAC;IACJ,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,CAAC;IACL,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IACN,EAAE,EAAE,EAAE;IAC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AE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;IAC9B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC;IAC5B,CAAC,KAAK,EAAE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AAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;eACxC,SAAS,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,C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GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;;KAExC,MAAM,KAAK,KAAK,KAAK,KAAK,GAAG;;QAE1B,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;;KAExC,MAAM,KAAK,KAAK,KAAK,KAAK,GAAG;;QAE1B,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;;KAExC,MAAM,KAAK,KAAK,KAAK,KAAK,GAAG;;QAE1B,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACrC,IAAI,CAAC,CAA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"}