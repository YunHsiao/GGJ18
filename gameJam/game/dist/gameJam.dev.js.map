{"version":3,"file":"gameJam.dev.js","sources":["../../src/enterGame.js","../../src/rotateBox.js","../../src/addBoxPrefab.js","../../src/game.js"],"sourcesContent":["export default class EnterGame extends cc.ScriptComponent {\n  constructor() {\n    super();\n  }\n\n  start() {\n    // todo: register button event\n    console.log(`test for EnterGame ${this.test}`);\n    this.btn.on('clicked', () => {\n      this._enterGame();\n    });\n  }\n\n  _enterGame() {\n    cc.game.loadScene('game');\n  }\n}\n\nEnterGame.schema = {\n  test: {\n    type: 'number'\n  },\n\n  btn: {\n    type: 'entity'\n  }\n};","export default class RotateBox extends cc.ScriptComponent {\n  constructor() {\n    super();\n  }\n\n  start() {\n    console.log(`Rotation speed is ${this.speed}`);\n  }\n\n  tick() {\n    cc.math.quat.rotateY(this._entity.lrot,this._entity.lrot, this.speed * this._app.deltaTime);\n  }\n}\n\nRotateBox.schema = {\n  speed: {\n    type: 'number',\n    default: 1\n  }\n};","export default class AddBoxPrefab extends cc.ScriptComponent {\n  constructor() {\n    super();\n  }\n\n  start() {\n    this.btn.once('clicked', () => {\n      let en = this.box.instantiate(null, null);\n      en.setParent(this.parent);\n      en.active = false;\n      en.active = true;\n    });\n    // console.log('aaa');\n  }\n\n}\n\nAddBoxPrefab.schema = {\n  box: {\n    type: 'asset',\n    default: null\n  },\n  parent: {\n    type: 'entity',\n    default: null\n  },\n  btn: {\n    type: 'entity',\n    default: null\n  },\n};","import EnterGame from './enterGame';\nimport RotateBox from './rotateBox';\nimport AddBoxPrefab from './addBoxPrefab';\nconst { resl } = cc;\n// 'EnterGame' should match to script Comp name\nlet _componentRegitstry = {\n  'game.EnterGame': EnterGame,\n  'game.RotateBox': RotateBox,\n  'game.AddBoxPrefab': AddBoxPrefab\n};\n\nlet _gameInstance = null;\nclass Game extends cc.App {\n  constructor(canvas, opts) {\n    super(canvas, opts);\n    _gameInstance = this;\n  }\n\n  init() {\n    for (let key in _componentRegitstry) {\n      this.registerClass(key, _componentRegitstry[key]);\n    }\n  }\n\n  loadScene(name) {\n    this.assets.loadLevel(name, (err, level) => {\n      if (err) {\n        console.error(err);\n      } else {\n        this.loadLevel(level);\n      }\n    });\n  }\n}\n\nexport default { Game };"],"names":["super","this","let"],"mappings":"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"}